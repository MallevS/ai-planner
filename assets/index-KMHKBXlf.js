function bX(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function tM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cC={exports:{}},hb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function _X(){if(D2)return hb;D2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return hb.Fragment=e,hb.jsx=t,hb.jsxs=t,hb}var O2;function xX(){return O2||(O2=1,cC.exports=_X()),cC.exports}var U=xX(),uC={exports:{}},Hn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function SX(){if(N2)return Hn;N2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function v(Z){return Z===null||typeof Z!="object"?null:(Z=p&&Z[p]||Z["@@iterator"],typeof Z=="function"?Z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function S(Z,le,Ae){this.props=Z,this.context=le,this.refs=w,this.updater=Ae||y}S.prototype.isReactComponent={},S.prototype.setState=function(Z,le){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,le,"setState")},S.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function E(){}E.prototype=S.prototype;function A(Z,le,Ae){this.props=Z,this.context=le,this.refs=w,this.updater=Ae||y}var R=A.prototype=new E;R.constructor=A,_(R,S.prototype),R.isPureReactComponent=!0;var D=Array.isArray,k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function z(Z,le,Ae,De,oe,Oe){return Ae=Oe.ref,{$$typeof:n,type:Z,key:le,ref:Ae!==void 0?Ae:null,props:Oe}}function V(Z,le){return z(Z.type,le,void 0,void 0,void 0,Z.props)}function I(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function L(Z){var le={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Ae){return le[Ae]})}var j=/\/+/g;function X(Z,le){return typeof Z=="object"&&Z!==null&&Z.key!=null?L(""+Z.key):le.toString(36)}function G(){}function re(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(G,G):(Z.status="pending",Z.then(function(le){Z.status==="pending"&&(Z.status="fulfilled",Z.value=le)},function(le){Z.status==="pending"&&(Z.status="rejected",Z.reason=le)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function de(Z,le,Ae,De,oe){var Oe=typeof Z;(Oe==="undefined"||Oe==="boolean")&&(Z=null);var Ie=!1;if(Z===null)Ie=!0;else switch(Oe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(Z.$$typeof){case n:case e:Ie=!0;break;case d:return Ie=Z._init,de(Ie(Z._payload),le,Ae,De,oe)}}if(Ie)return oe=oe(Z),Ie=De===""?"."+X(Z,0):De,D(oe)?(Ae="",Ie!=null&&(Ae=Ie.replace(j,"$&/")+"/"),de(oe,le,Ae,"",function(wt){return wt})):oe!=null&&(I(oe)&&(oe=V(oe,Ae+(oe.key==null||Z&&Z.key===oe.key?"":(""+oe.key).replace(j,"$&/")+"/")+Ie)),le.push(oe)),1;Ie=0;var je=De===""?".":De+":";if(D(Z))for(var tt=0;tt<Z.length;tt++)De=Z[tt],Oe=je+X(De,tt),Ie+=de(De,le,Ae,Oe,oe);else if(tt=v(Z),typeof tt=="function")for(Z=tt.call(Z),tt=0;!(De=Z.next()).done;)De=De.value,Oe=je+X(De,tt++),Ie+=de(De,le,Ae,Oe,oe);else if(Oe==="object"){if(typeof Z.then=="function")return de(re(Z),le,Ae,De,oe);throw le=String(Z),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function K(Z,le,Ae){if(Z==null)return Z;var De=[],oe=0;return de(Z,De,"","",function(Oe){return le.call(Ae,Oe,oe++)}),De}function ue(Z){if(Z._status===-1){var le=Z._result;le=le(),le.then(function(Ae){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Ae)},function(Ae){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Ae)}),Z._status===-1&&(Z._status=0,Z._result=le)}if(Z._status===1)return Z._result.default;throw Z._result}var ne=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function ve(){}return Hn.Children={map:K,forEach:function(Z,le,Ae){K(Z,function(){le.apply(this,arguments)},Ae)},count:function(Z){var le=0;return K(Z,function(){le++}),le},toArray:function(Z){return K(Z,function(le){return le})||[]},only:function(Z){if(!I(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Hn.Component=S,Hn.Fragment=t,Hn.Profiler=r,Hn.PureComponent=A,Hn.StrictMode=i,Hn.Suspense=c,Hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Hn.act=function(){throw Error("act(...) is not supported in production builds of React.")},Hn.cache=function(Z){return function(){return Z.apply(null,arguments)}},Hn.cloneElement=function(Z,le,Ae){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var De=_({},Z.props),oe=Z.key,Oe=void 0;if(le!=null)for(Ie in le.ref!==void 0&&(Oe=void 0),le.key!==void 0&&(oe=""+le.key),le)!N.call(le,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&le.ref===void 0||(De[Ie]=le[Ie]);var Ie=arguments.length-2;if(Ie===1)De.children=Ae;else if(1<Ie){for(var je=Array(Ie),tt=0;tt<Ie;tt++)je[tt]=arguments[tt+2];De.children=je}return z(Z.type,oe,void 0,void 0,Oe,De)},Hn.createContext=function(Z){return Z={$$typeof:a,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},Hn.createElement=function(Z,le,Ae){var De,oe={},Oe=null;if(le!=null)for(De in le.key!==void 0&&(Oe=""+le.key),le)N.call(le,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(oe[De]=le[De]);var Ie=arguments.length-2;if(Ie===1)oe.children=Ae;else if(1<Ie){for(var je=Array(Ie),tt=0;tt<Ie;tt++)je[tt]=arguments[tt+2];oe.children=je}if(Z&&Z.defaultProps)for(De in Ie=Z.defaultProps,Ie)oe[De]===void 0&&(oe[De]=Ie[De]);return z(Z,Oe,void 0,void 0,null,oe)},Hn.createRef=function(){return{current:null}},Hn.forwardRef=function(Z){return{$$typeof:o,render:Z}},Hn.isValidElement=I,Hn.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:ue}},Hn.memo=function(Z,le){return{$$typeof:u,type:Z,compare:le===void 0?null:le}},Hn.startTransition=function(Z){var le=k.T,Ae={};k.T=Ae;try{var De=Z(),oe=k.S;oe!==null&&oe(Ae,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(ve,ne)}catch(Oe){ne(Oe)}finally{k.T=le}},Hn.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Hn.use=function(Z){return k.H.use(Z)},Hn.useActionState=function(Z,le,Ae){return k.H.useActionState(Z,le,Ae)},Hn.useCallback=function(Z,le){return k.H.useCallback(Z,le)},Hn.useContext=function(Z){return k.H.useContext(Z)},Hn.useDebugValue=function(){},Hn.useDeferredValue=function(Z,le){return k.H.useDeferredValue(Z,le)},Hn.useEffect=function(Z,le){return k.H.useEffect(Z,le)},Hn.useId=function(){return k.H.useId()},Hn.useImperativeHandle=function(Z,le,Ae){return k.H.useImperativeHandle(Z,le,Ae)},Hn.useInsertionEffect=function(Z,le){return k.H.useInsertionEffect(Z,le)},Hn.useLayoutEffect=function(Z,le){return k.H.useLayoutEffect(Z,le)},Hn.useMemo=function(Z,le){return k.H.useMemo(Z,le)},Hn.useOptimistic=function(Z,le){return k.H.useOptimistic(Z,le)},Hn.useReducer=function(Z,le,Ae){return k.H.useReducer(Z,le,Ae)},Hn.useRef=function(Z){return k.H.useRef(Z)},Hn.useState=function(Z){return k.H.useState(Z)},Hn.useSyncExternalStore=function(Z,le,Ae){return k.H.useSyncExternalStore(Z,le,Ae)},Hn.useTransition=function(){return k.H.useTransition()},Hn.version="19.0.0",Hn}var P2;function Hy(){return P2||(P2=1,uC.exports=SX()),uC.exports}var B=Hy();const Mt=tM(B),EX=bX({__proto__:null,default:Mt},[B]);function I2(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function j6(...n){return e=>{let t=!1;const i=n.map(r=>{const s=I2(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():I2(n[r],null)}}}}function Bc(...n){return B.useCallback(j6(...n),n)}var lx=B.forwardRef((n,e)=>{const{children:t,...i}=n,r=B.Children.toArray(t),s=r.find(TX);if(s){const a=s.props.children,o=r.map(c=>c===s?B.Children.count(a)>1?B.Children.only(null):B.isValidElement(a)?a.props.children:null:c);return U.jsx(ID,{...i,ref:e,children:B.isValidElement(a)?B.cloneElement(a,void 0,o):null})}return U.jsx(ID,{...i,ref:e,children:t})});lx.displayName="Slot";var ID=B.forwardRef((n,e)=>{const{children:t,...i}=n;if(B.isValidElement(t)){const r=AX(t),s=MX(i,t.props);return t.type!==B.Fragment&&(s.ref=e?j6(e,r):r),B.cloneElement(t,s)}return B.Children.count(t)>1?B.Children.only(null):null});ID.displayName="SlotClone";var wX=({children:n})=>U.jsx(U.Fragment,{children:n});function TX(n){return B.isValidElement(n)&&n.type===wX}function MX(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...o)=>{s(...o),r(...o)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function AX(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function G6(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=G6(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function q6(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=G6(n))&&(i&&(i+=" "),i+=e);return i}const L2=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,U2=q6,CX=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return U2(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(u=>{const d=t==null?void 0:t[u],p=s==null?void 0:s[u];if(d===null)return null;const v=L2(d)||L2(p);return r[u][v]}),o=t&&Object.entries(t).reduce((u,d)=>{let[p,v]=d;return v===void 0||(u[p]=v),u},{}),c=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((u,d)=>{let{class:p,className:v,...y}=d;return Object.entries(y).every(_=>{let[w,S]=_;return Array.isArray(S)?S.includes({...s,...o}[w]):{...s,...o}[w]===S})?[...u,p,v]:u},[]);return U2(n,a,c,t==null?void 0:t.class,t==null?void 0:t.className)},LO="-",RX=n=>{const e=OX(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:a=>{const o=a.split(LO);return o[0]===""&&o.length!==1&&o.shift(),W6(o,e)||DX(a)},getConflictingClassGroupIds:(a,o)=>{const c=t[a]||[];return o&&i[a]?[...c,...i[a]]:c}}},W6=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?W6(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(LO);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},z2=/^\[(.+)\]$/,DX=n=>{if(z2.test(n)){const e=z2.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},OX=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const r in t)LD(t[r],i,r,e);return i},LD=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:V2(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(NX(r)){LD(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,a])=>{LD(a,V2(e,s),t,i)})})},V2=(n,e)=>{let t=n;return e.split(LO).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},NX=n=>n.isThemeGetter,PX=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){t.has(s)?t.set(s,a):r(s,a)}}},UD="!",zD=":",IX=zD.length,LX=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=r=>{const s=[];let a=0,o=0,c=0,u;for(let _=0;_<r.length;_++){let w=r[_];if(a===0&&o===0){if(w===zD){s.push(r.slice(c,_)),c=_+IX;continue}if(w==="/"){u=_;continue}}w==="["?a++:w==="]"?a--:w==="("?o++:w===")"&&o--}const d=s.length===0?r:r.substring(c),p=UX(d),v=p!==d,y=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:y}};if(e){const r=e+zD,s=i;i=a=>a.startsWith(r)?s(a.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const r=i;i=s=>t({className:s,parseClassName:r})}return i},UX=n=>n.endsWith(UD)?n.substring(0,n.length-1):n.startsWith(UD)?n.substring(1):n,zX=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(a=>{a[0]==="["||e[a]?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r}},VX=n=>({cache:PX(n.cacheSize),parseClassName:LX(n),sortModifiers:zX(n),...RX(n)}),BX=/\s+/,kX=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,a=[],o=n.trim().split(BX);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:p,modifiers:v,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:w}=t(d);if(p){c=d+(c.length>0?" "+c:c);continue}let S=!!w,E=i(S?_.substring(0,w):_);if(!E){if(!S){c=d+(c.length>0?" "+c:c);continue}if(E=i(_),!E){c=d+(c.length>0?" "+c:c);continue}S=!1}const A=s(v).join(":"),R=y?A+UD:A,D=R+E;if(a.includes(D))continue;a.push(D);const k=r(E,S);for(let N=0;N<k.length;++N){const z=k[N];a.push(R+z)}c=d+(c.length>0?" "+c:c)}return c};function FX(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=X6(e))&&(i&&(i+=" "),i+=t);return i}const X6=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=X6(n[i]))&&(t&&(t+=" "),t+=e);return t};function HX(n,...e){let t,i,r,s=a;function a(c){const u=e.reduce((d,p)=>p(d),n());return t=VX(u),i=t.cache.get,r=t.cache.set,s=o,o(c)}function o(c){const u=i(c);if(u)return u;const d=kX(c,t);return r(c,d),d}return function(){return s(FX.apply(null,arguments))}}const Ts=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Y6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,K6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jX=/^\d+\/\d+$/,GX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uv=n=>jX.test(n),ni=n=>!!n&&!Number.isNaN(Number(n)),Hp=n=>!!n&&Number.isInteger(Number(n)),B2=n=>n.endsWith("%")&&ni(n.slice(0,-1)),od=n=>GX.test(n),KX=()=>!0,$X=n=>qX.test(n)&&!WX.test(n),UO=()=>!1,ZX=n=>XX.test(n),QX=n=>YX.test(n),JX=n=>!tn(n)&&!nn(n),eY=n=>jy(n,Q6,UO),tn=n=>Y6.test(n),jp=n=>jy(n,J6,$X),hC=n=>jy(n,hY,ni),tY=n=>jy(n,$6,UO),nY=n=>jy(n,Z6,QX),iY=n=>jy(n,UO,ZX),nn=n=>K6.test(n),tS=n=>Gy(n,J6),rY=n=>Gy(n,fY),sY=n=>Gy(n,$6),aY=n=>Gy(n,Q6),oY=n=>Gy(n,Z6),lY=n=>Gy(n,dY,!0),jy=(n,e,t)=>{const i=Y6.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Gy=(n,e,t=!1)=>{const i=K6.exec(n);return i?i[1]?e(i[1]):t:!1},$6=n=>n==="position",cY=new Set(["image","url"]),Z6=n=>cY.has(n),uY=new Set(["length","size","percentage"]),Q6=n=>uY.has(n),J6=n=>n==="length",hY=n=>n==="number",fY=n=>n==="family-name",dY=n=>n==="shadow",pY=()=>{const n=Ts("color"),e=Ts("font"),t=Ts("text"),i=Ts("font-weight"),r=Ts("tracking"),s=Ts("leading"),a=Ts("breakpoint"),o=Ts("container"),c=Ts("spacing"),u=Ts("radius"),d=Ts("shadow"),p=Ts("inset-shadow"),v=Ts("drop-shadow"),y=Ts("blur"),_=Ts("perspective"),w=Ts("aspect"),S=Ts("ease"),E=Ts("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],N=()=>[nn,tn,c],z=()=>[uv,"full","auto",...N()],V=()=>[Hp,"none","subgrid",nn,tn],I=()=>["auto",{span:["full",Hp,nn,tn]},nn,tn],L=()=>[Hp,"auto",nn,tn],j=()=>["auto","min","max","fr",nn,tn],X=()=>["start","end","center","between","around","evenly","stretch","baseline"],G=()=>["start","end","center","stretch"],re=()=>["auto",...N()],de=()=>[uv,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],K=()=>[n,nn,tn],ue=()=>[B2,jp],ne=()=>["","none","full",u,nn,tn],ve=()=>["",ni,tS,jp],Z=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>["","none",y,nn,tn],De=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nn,tn],oe=()=>["none",ni,nn,tn],Oe=()=>["none",ni,nn,tn],Ie=()=>[ni,nn,tn],je=()=>[uv,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[od],breakpoint:[od],color:[KX],container:[od],"drop-shadow":[od],ease:["in","out","in-out"],font:[JX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[od],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[od],shadow:[od],spacing:["px",ni],text:[od],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uv,tn,nn,w]}],container:["container"],columns:[{columns:[ni,tn,nn,o]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),tn,nn]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Hp,"auto",nn,tn]}],basis:[{basis:[uv,"full","auto",o,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ni,uv,"auto","initial","none",tn]}],grow:[{grow:["",ni,nn,tn]}],shrink:[{shrink:["",ni,nn,tn]}],order:[{order:[Hp,"first","last","none",nn,tn]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...G(),"baseline"]}],"align-self":[{self:["auto",...G(),"baseline"]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[o,"screen",...de()]}],"min-w":[{"min-w":[o,"screen","none",...de()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...de()]}],h:[{h:["screen",...de()]}],"min-h":[{"min-h":["screen","none",...de()]}],"max-h":[{"max-h":["screen",...de()]}],"font-size":[{text:["base",t,tS,jp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,nn,hC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",B2,tn]}],"font-family":[{font:[rY,tn,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,nn,tn]}],"line-clamp":[{"line-clamp":[ni,"none",nn,hC]}],leading:[{leading:[s,...N()]}],"list-image":[{"list-image":["none",nn,tn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nn,tn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[ni,"from-font","auto",nn,jp]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[ni,"auto",nn,tn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nn,tn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nn,tn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),sY,tY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",aY,eY]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hp,nn,tn],radial:["",nn,tn],conic:[Hp,nn,tn]},oY,nY]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ni,nn,tn]}],"outline-w":[{outline:["",ni,tS,jp]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",d,lY,iY]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",nn,tn,p]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[ni,jp]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":K()}],opacity:[{opacity:[ni,nn,tn]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none",nn,tn]}],blur:[{blur:Ae()}],brightness:[{brightness:[ni,nn,tn]}],contrast:[{contrast:[ni,nn,tn]}],"drop-shadow":[{"drop-shadow":["","none",v,nn,tn]}],grayscale:[{grayscale:["",ni,nn,tn]}],"hue-rotate":[{"hue-rotate":[ni,nn,tn]}],invert:[{invert:["",ni,nn,tn]}],saturate:[{saturate:[ni,nn,tn]}],sepia:[{sepia:["",ni,nn,tn]}],"backdrop-filter":[{"backdrop-filter":["","none",nn,tn]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[ni,nn,tn]}],"backdrop-contrast":[{"backdrop-contrast":[ni,nn,tn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ni,nn,tn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ni,nn,tn]}],"backdrop-invert":[{"backdrop-invert":["",ni,nn,tn]}],"backdrop-opacity":[{"backdrop-opacity":[ni,nn,tn]}],"backdrop-saturate":[{"backdrop-saturate":[ni,nn,tn]}],"backdrop-sepia":[{"backdrop-sepia":["",ni,nn,tn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nn,tn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ni,"initial",nn,tn]}],ease:[{ease:["linear","initial",S,nn,tn]}],delay:[{delay:[ni,nn,tn]}],animate:[{animate:["none",E,nn,tn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,nn,tn]}],"perspective-origin":[{"perspective-origin":De()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Ie()}],"skew-x":[{"skew-x":Ie()}],"skew-y":[{"skew-y":Ie()}],transform:[{transform:[nn,tn,"","none","gpu","cpu"]}],"transform-origin":[{origin:De()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nn,tn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nn,tn]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[ni,tS,jp,hC]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},mY=HX(pY);function lg(...n){return mY(q6(n))}const gY=CX("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Tc({className:n,variant:e,size:t,href:i,asChild:r=!1,...s}){const a=i?"a":r?lx:"button";return U.jsx(a,{"data-slot":"button",className:lg(gY({variant:e,size:t,className:n})),...i?{href:i}:{},...s})}var fb={},k2;function vY(){if(k2)return fb;k2=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.parse=a,fb.serialize=u;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,y){const _=new s,w=v.length;if(w<2)return _;const S=(y==null?void 0:y.decode)||d;let E=0;do{const A=v.indexOf("=",E);if(A===-1)break;const R=v.indexOf(";",E),D=R===-1?w:R;if(A>D){E=v.lastIndexOf(";",A-1)+1;continue}const k=o(v,E,A),N=c(v,A,k),z=v.slice(k,N);if(_[z]===void 0){let V=o(v,A+1,D),I=c(v,D,V);const L=S(v.slice(V,I));_[z]=L}E=D+1}while(E<w);return _}function o(v,y,_){do{const w=v.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<_);return _}function c(v,y,_){for(;y>_;){const w=v.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return _}function u(v,y,_){const w=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=w(y);if(!e.test(S))throw new TypeError(`argument val is invalid: ${y}`);let E=v+"="+S;if(!_)return E;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);E+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);E+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);E+="; Path="+_.path}if(_.expires){if(!p(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);E+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(E+="; HttpOnly"),_.secure&&(E+="; Secure"),_.partitioned&&(E+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return E}function d(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function p(v){return r.call(v)==="[object Date]"}return fb}vY();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F2="popstate";function yY(n={}){function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return g_("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Id(r)}return _Y(e,t,null,n)}function hi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bY(){return Math.random().toString(36).substring(2,10)}function H2(n,e){return{usr:n.state,key:n.key,idx:e}}function g_(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$d(e):e,state:t,key:e&&e.key||i||bY()}}function Id({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $d(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _Y(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function p(){o="POP";let S=d(),E=S==null?null:S-u;u=S,c&&c({action:o,location:w.location,delta:E})}function v(S,E){o="PUSH";let A=g_(w.location,S,E);u=d()+1;let R=H2(A,u),D=w.createHref(A);try{a.pushState(R,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(D)}s&&c&&c({action:o,location:w.location,delta:1})}function y(S,E){o="REPLACE";let A=g_(w.location,S,E);u=d();let R=H2(A,u),D=w.createHref(A);a.replaceState(R,"",D),s&&c&&c({action:o,location:w.location,delta:0})}function _(S){let E=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof S=="string"?S:Id(S);return A=A.replace(/ $/,"%20"),hi(E,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,E)}let w={get action(){return o},get location(){return n(r,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(F2,p),c=S,()=>{r.removeEventListener(F2,p),c=null}},createHref(S){return e(r,S)},createURL:_,encodeLocation(S){let E=_(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:y,go(S){return a.go(S)}};return w}var xY=new Set(["lazy","caseSensitive","path","id","index","children"]);function SY(n){return n.index===!0}function xw(n,e,t=[],i={}){return n.map((r,s)=>{let a=[...t,String(s)],o=typeof r.id=="string"?r.id:a.join("-");if(hi(r.index!==!0||!r.children,"Cannot specify children on an index route"),hi(!i[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),SY(r)){let c={...r,...e(r),id:o};return i[o]=c,c}else{let c={...r,...e(r),id:o,children:void 0};return i[o]=c,r.children&&(c.children=xw(r.children,e,a,i)),c}})}function _d(n,e,t="/"){return OE(n,e,t,!1)}function OE(n,e,t,i){let r=typeof e=="string"?$d(e):e,s=Dc(r.pathname||"/",t);if(s==null)return null;let a=ek(n);wY(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=LY(s);o=PY(a[c],u,i)}return o}function EY(n,e){let{route:t,pathname:i,params:r}=n;return{id:t.id,pathname:i,params:r,data:e[t.id],handle:t.handle}}function ek(n,e=[],t=[],i=""){let r=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(hi(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let u=qu([i,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(hi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ek(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:OY(u,s.index),routesMeta:d})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let c of tk(s.path))r(s,a,c)}),e}function tk(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=tk(i.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...a),o.map(c=>n.startsWith("/")&&c===""?"/":c)}function wY(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NY(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var TY=/^:[\w-]+$/,MY=3,AY=2,CY=1,RY=10,DY=-2,j2=n=>n==="*";function OY(n,e){let t=n.split("/"),i=t.length;return t.some(j2)&&(i+=DY),e&&(i+=AY),t.filter(r=>!j2(r)).reduce((r,s)=>r+(TY.test(s)?MY:s===""?CY:RY),i)}function NY(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function PY(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let c=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Sw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),v=c.route;if(!p&&u&&t&&!i[i.length-1].route.index&&(p=Sw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:qu([s,p.pathname]),pathnameBase:VY(qu([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=qu([s,p.pathnameBase]))}return a}function Sw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=IY(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:p},v)=>{if(d==="*"){let _=o[v]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=o[v];return p&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function IY(n,e=!1,t=!0){Gs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function LY(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UY(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?$d(n):n;return{pathname:t?t.startsWith("/")?t:zY(t,e):e,search:BY(i),hash:kY(r)}}function zY(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function fC(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zO(n){let e=nk(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function VO(n,e,t,i=!1){let r;typeof n=="string"?r=$d(n):(r={...n},hi(!r.pathname||!r.pathname.includes("?"),fC("?","pathname","search",r)),hi(!r.pathname||!r.pathname.includes("#"),fC("#","pathname","hash",r)),hi(!r.search||!r.search.includes("#"),fC("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;r.pathname=v.join("/")}o=p>=0?e[p]:"/"}let c=UY(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var qu=n=>n.join("/").replace(/\/\/+/g,"/"),VY=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BY=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kY=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Ew=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function v_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ik=["POST","PUT","PATCH","DELETE"],FY=new Set(ik),HY=["GET",...ik],jY=new Set(HY),GY=new Set([301,302,303,307,308]),qY=new Set([307,308]),dC={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WY={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},db={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XY=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),rk="remix-router-transitions",sk=Symbol("ResetLoaderData");function YY(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";hi(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||XY,r={},s=xw(n.routes,i,void 0,r),a,o=n.basename||"/",c=n.dataStrategy||JY,u=n.patchRoutesOnNavigation,d={...n.future},p=null,v=new Set,y=null,_=null,w=null,S=n.hydrationData!=null,E=_d(s,n.history.location,o),A=!1,R=null;if(E==null&&!u){let ae=Nl(404,{pathname:n.history.location.pathname}),{matches:ge,route:Ee}=eL(s);E=ge,R={[Ee.id]:ae}}E&&!n.hydrationData&&rt(E,s,n.history.location.pathname).active&&(E=null);let D;if(E)if(E.some(ae=>ae.route.lazy))D=!1;else if(!E.some(ae=>ae.route.loader))D=!0;else{let ae=n.hydrationData?n.hydrationData.loaderData:null,ge=n.hydrationData?n.hydrationData.errors:null;if(ge){let Ee=E.findIndex(et=>ge[et.route.id]!==void 0);D=E.slice(0,Ee+1).every(et=>!BD(et.route,ae,ge))}else D=E.every(Ee=>!BD(Ee.route,ae,ge))}else{D=!1,E=[];let ae=rt(null,s,n.history.location.pathname);ae.active&&ae.matches&&(A=!0,E=ae.matches)}let k,N={historyAction:n.history.action,location:n.history.location,matches:E,initialized:D,navigation:dC,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||R,fetchers:new Map,blockers:new Map},z="POP",V=!1,I,L=!1,j=new Map,X=null,G=!1,re=!1,de=new Set,K=new Map,ue=0,ne=-1,ve=new Map,Z=new Set,le=new Map,Ae=new Map,De=new Set,oe=new Map,Oe,Ie=null;function je(){if(p=n.history.listen(({action:ae,location:ge,delta:Ee})=>{if(Oe){Oe(),Oe=void 0;return}Gs(oe.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=Tt({currentLocation:N.location,nextLocation:ge,historyAction:ae});if(et&&Ee!=null){let xt=new Promise(Bt=>{Oe=Bt});n.history.go(Ee*-1),Be(et,{state:"blocked",location:ge,proceed(){Be(et,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),xt.then(()=>n.history.go(Ee))},reset(){let Bt=new Map(N.blockers);Bt.set(et,db),Qe({blockers:Bt})}});return}return se(ae,ge)}),t){uK(e,j);let ae=()=>hK(e,j);e.addEventListener("pagehide",ae),X=()=>e.removeEventListener("pagehide",ae)}return N.initialized||se("POP",N.location,{initialHydration:!0}),k}function tt(){p&&p(),X&&X(),v.clear(),I&&I.abort(),N.fetchers.forEach((ae,ge)=>Nt(ge)),N.blockers.forEach((ae,ge)=>pe(ge))}function wt(ae){return v.add(ae),()=>v.delete(ae)}function Qe(ae,ge={}){N={...N,...ae};let Ee=[],et=[];N.fetchers.forEach((xt,Bt)=>{xt.state==="idle"&&(De.has(Bt)?Ee.push(Bt):et.push(Bt))}),De.forEach(xt=>{!N.fetchers.has(xt)&&!K.has(xt)&&Ee.push(xt)}),[...v].forEach(xt=>xt(N,{deletedFetchers:Ee,viewTransitionOpts:ge.viewTransitionOpts,flushSync:ge.flushSync===!0})),Ee.forEach(xt=>Nt(xt)),et.forEach(xt=>N.fetchers.delete(xt))}function qt(ae,ge,{flushSync:Ee}={}){var gt,Kt;let et=N.actionData!=null&&N.navigation.formMethod!=null&&Sc(N.navigation.formMethod)&&N.navigation.state==="loading"&&((gt=ae.state)==null?void 0:gt._isRedirect)!==!0,xt;ge.actionData?Object.keys(ge.actionData).length>0?xt=ge.actionData:xt=null:et?xt=N.actionData:xt=null;let Bt=ge.loaderData?Q2(N.loaderData,ge.loaderData,ge.matches||[],ge.errors):N.loaderData,Yt=N.blockers;Yt.size>0&&(Yt=new Map(Yt),Yt.forEach((Ot,zn)=>Yt.set(zn,db)));let Gt=V===!0||N.navigation.formMethod!=null&&Sc(N.navigation.formMethod)&&((Kt=ae.state)==null?void 0:Kt._isRedirect)!==!0;a&&(s=a,a=void 0),G||z==="POP"||(z==="PUSH"?n.history.push(ae,ae.state):z==="REPLACE"&&n.history.replace(ae,ae.state));let kt;if(z==="POP"){let Ot=j.get(N.location.pathname);Ot&&Ot.has(ae.pathname)?kt={currentLocation:N.location,nextLocation:ae}:j.has(ae.pathname)&&(kt={currentLocation:ae,nextLocation:N.location})}else if(L){let Ot=j.get(N.location.pathname);Ot?Ot.add(ae.pathname):(Ot=new Set([ae.pathname]),j.set(N.location.pathname,Ot)),kt={currentLocation:N.location,nextLocation:ae}}Qe({...ge,actionData:xt,loaderData:Bt,historyAction:z,location:ae,initialized:!0,navigation:dC,revalidation:"idle",restoreScrollPosition:Xe(ae,ge.matches||N.matches),preventScrollReset:Gt,blockers:Yt},{viewTransitionOpts:kt,flushSync:Ee===!0}),z="POP",V=!1,L=!1,G=!1,re=!1,Ie==null||Ie.resolve(),Ie=null}async function Ge(ae,ge){if(typeof ae=="number"){n.history.go(ae);return}let Ee=VD(N.location,N.matches,o,ae,ge==null?void 0:ge.fromRouteId,ge==null?void 0:ge.relative),{path:et,submission:xt,error:Bt}=G2(!1,Ee,ge),Yt=N.location,Gt=g_(N.location,et,ge&&ge.state);Gt={...Gt,...n.history.encodeLocation(Gt)};let kt=ge&&ge.replace!=null?ge.replace:void 0,gt="PUSH";kt===!0?gt="REPLACE":kt===!1||xt!=null&&Sc(xt.formMethod)&&xt.formAction===N.location.pathname+N.location.search&&(gt="REPLACE");let Kt=ge&&"preventScrollReset"in ge?ge.preventScrollReset===!0:void 0,Ot=(ge&&ge.flushSync)===!0,zn=Tt({currentLocation:Yt,nextLocation:Gt,historyAction:gt});if(zn){Be(zn,{state:"blocked",location:Gt,proceed(){Be(zn,{state:"proceeding",proceed:void 0,reset:void 0,location:Gt}),Ge(ae,ge)},reset(){let _i=new Map(N.blockers);_i.set(zn,db),Qe({blockers:_i})}});return}await se(gt,Gt,{submission:xt,pendingError:Bt,preventScrollReset:Kt,replace:ge&&ge.replace,enableViewTransition:ge&&ge.viewTransition,flushSync:Ot})}function Ye(){Ie||(Ie=fK()),it(),Qe({revalidation:"loading"});let ae=Ie.promise;return N.navigation.state==="submitting"?ae:N.navigation.state==="idle"?(se(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),ae):(se(z||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:L===!0}),ae)}async function se(ae,ge,Ee){I&&I.abort(),I=null,z=ae,G=(Ee&&Ee.startUninterruptedRevalidation)===!0,We(N.location,N.matches),V=(Ee&&Ee.preventScrollReset)===!0,L=(Ee&&Ee.enableViewTransition)===!0;let et=a||s,xt=Ee&&Ee.overrideNavigation,Bt=Ee!=null&&Ee.initialHydration&&N.matches&&N.matches.length>0&&!A?N.matches:_d(et,ge,o),Yt=(Ee&&Ee.flushSync)===!0;if(Bt&&N.initialized&&!re&&sK(N.location,ge)&&!(Ee&&Ee.submission&&Sc(Ee.submission.formMethod))){qt(ge,{matches:Bt},{flushSync:Yt});return}let Gt=rt(Bt,et,ge.pathname);if(Gt.active&&Gt.matches&&(Bt=Gt.matches),!Bt){let{error:ai,notFoundMatches:Vn,route:Ui}=he(ge.pathname);qt(ge,{matches:Vn,loaderData:{},errors:{[Ui.id]:ai}},{flushSync:Yt});return}I=new AbortController;let kt=hv(n.history,ge,I.signal,Ee&&Ee.submission),gt;if(Ee&&Ee.pendingError)gt=[mm(Bt).route.id,{type:"error",error:Ee.pendingError}];else if(Ee&&Ee.submission&&Sc(Ee.submission.formMethod)){let ai=await bt(kt,ge,Ee.submission,Bt,Gt.active,{replace:Ee.replace,flushSync:Yt});if(ai.shortCircuited)return;if(ai.pendingActionResult){let[Vn,Ui]=ai.pendingActionResult;if(Zo(Ui)&&v_(Ui.error)&&Ui.error.status===404){I=null,qt(ge,{matches:ai.matches,loaderData:{},errors:{[Vn]:Ui.error}});return}}Bt=ai.matches||Bt,gt=ai.pendingActionResult,xt=pC(ge,Ee.submission),Yt=!1,Gt.active=!1,kt=hv(n.history,kt.url,kt.signal)}let{shortCircuited:Kt,matches:Ot,loaderData:zn,errors:_i}=await Je(kt,ge,Bt,Gt.active,xt,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,Yt,gt);Kt||(I=null,qt(ge,{matches:Ot||Bt,...J2(gt),loaderData:zn,errors:_i}))}async function bt(ae,ge,Ee,et,xt,Bt={}){it();let Yt=lK(ge,Ee);if(Qe({navigation:Yt},{flushSync:Bt.flushSync===!0}),xt){let gt=await Dt(et,ge.pathname,ae.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){let Kt=mm(gt.partialMatches).route.id;return{matches:gt.partialMatches,pendingActionResult:[Kt,{type:"error",error:gt.error}]}}else if(gt.matches)et=gt.matches;else{let{notFoundMatches:Kt,error:Ot,route:zn}=he(ge.pathname);return{matches:Kt,pendingActionResult:[zn.id,{type:"error",error:Ot}]}}}let Gt,kt=Lb(et,ge);if(!kt.route.action&&!kt.route.lazy)Gt={type:"error",error:Nl(405,{method:ae.method,pathname:ge.pathname,routeId:kt.route.id})};else if(Gt=(await we("action",N,ae,[kt],et,null))[kt.route.id],ae.signal.aborted)return{shortCircuited:!0};if(bm(Gt)){let gt;return Bt&&Bt.replace!=null?gt=Bt.replace:gt=K2(Gt.response.headers.get("Location"),new URL(ae.url),o)===N.location.pathname+N.location.search,await Y(ae,Gt,!0,{submission:Ee,replace:gt}),{shortCircuited:!0}}if(Zo(Gt)){let gt=mm(et,kt.route.id);return(Bt&&Bt.replace)!==!0&&(z="PUSH"),{matches:et,pendingActionResult:[gt.route.id,Gt]}}return{matches:et,pendingActionResult:[kt.route.id,Gt]}}async function Je(ae,ge,Ee,et,xt,Bt,Yt,Gt,kt,gt,Kt){let Ot=xt||pC(ge,Bt),zn=Bt||Yt||nL(Ot),_i=!G&&!kt;if(et){if(_i){let Ft=dt(Kt);Qe({navigation:Ot,...Ft!==void 0?{actionData:Ft}:{}},{flushSync:gt})}let At=await Dt(Ee,ge.pathname,ae.signal);if(At.type==="aborted")return{shortCircuited:!0};if(At.type==="error"){let Ft=mm(At.partialMatches).route.id;return{matches:At.partialMatches,loaderData:{},errors:{[Ft]:At.error}}}else if(At.matches)Ee=At.matches;else{let{error:Ft,notFoundMatches:Ut,route:Cn}=he(ge.pathname);return{matches:Ut,loaderData:{},errors:{[Cn.id]:Ft}}}}let ai=a||s,[Vn,Ui]=W2(n.history,N,Ee,zn,ge,kt===!0,re,de,De,le,Z,ai,o,Kt);if(ne=++ue,Vn.length===0&&Ui.length===0){let At=Wt();return qt(ge,{matches:Ee,loaderData:{},errors:Kt&&Zo(Kt[1])?{[Kt[0]]:Kt[1].error}:null,...J2(Kt),...At?{fetchers:new Map(N.fetchers)}:{}},{flushSync:gt}),{shortCircuited:!0}}if(_i){let At={};if(!et){At.navigation=Ot;let Ft=dt(Kt);Ft!==void 0&&(At.actionData=Ft)}Ui.length>0&&(At.fetchers=pt(Ui)),Qe(At,{flushSync:gt})}Ui.forEach(At=>{st(At.key),At.controller&&K.set(At.key,At.controller)});let $=()=>Ui.forEach(At=>st(At.key));I&&I.signal.addEventListener("abort",$);let{loaderResults:be,fetcherResults:Ne}=await Fe(N,Ee,Vn,Ui,ae);if(ae.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",$),Ui.forEach(At=>K.delete(At.key));let Te=nS(be);if(Te)return await Y(ae,Te.result,!0,{replace:Gt}),{shortCircuited:!0};if(Te=nS(Ne),Te)return Z.add(Te.key),await Y(ae,Te.result,!0,{replace:Gt}),{shortCircuited:!0};let{loaderData:me,errors:ut}=Z2(N,Ee,be,Kt,Ui,Ne);kt&&N.errors&&(ut={...N.errors,...ut});let ct=Wt(),Xt=Vt(ne),zt=ct||Xt||Ui.length>0;return{matches:Ee,loaderData:me,errors:ut,...zt?{fetchers:new Map(N.fetchers)}:{}}}function dt(ae){if(ae&&!Zo(ae[1]))return{[ae[0]]:ae[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function pt(ae){return ae.forEach(ge=>{let Ee=N.fetchers.get(ge.key),et=pb(void 0,Ee?Ee.data:void 0);N.fetchers.set(ge.key,et)}),new Map(N.fetchers)}async function It(ae,ge,Ee,et){st(ae);let xt=(et&&et.flushSync)===!0,Bt=a||s,Yt=VD(N.location,N.matches,o,Ee,ge,et==null?void 0:et.relative),Gt=_d(Bt,Yt,o),kt=rt(Gt,Bt,Yt);if(kt.active&&kt.matches&&(Gt=kt.matches),!Gt){yt(ae,ge,Nl(404,{pathname:Yt}),{flushSync:xt});return}let{path:gt,submission:Kt,error:Ot}=G2(!0,Yt,et);if(Ot){yt(ae,ge,Ot,{flushSync:xt});return}let zn=Lb(Gt,gt),_i=(et&&et.preventScrollReset)===!0;if(Kt&&Sc(Kt.formMethod)){await Et(ae,ge,gt,zn,Gt,kt.active,xt,_i,Kt);return}le.set(ae,{routeId:ge,path:gt}),await te(ae,ge,gt,zn,Gt,kt.active,xt,_i,Kt)}async function Et(ae,ge,Ee,et,xt,Bt,Yt,Gt,kt){it(),le.delete(ae);function gt(ln){if(!ln.route.action&&!ln.route.lazy){let Bn=Nl(405,{method:kt.formMethod,pathname:Ee,routeId:ge});return yt(ae,ge,Bn,{flushSync:Yt}),!0}return!1}if(!Bt&&gt(et))return;let Kt=N.fetchers.get(ae);ze(ae,cK(kt,Kt),{flushSync:Yt});let Ot=new AbortController,zn=hv(n.history,Ee,Ot.signal,kt);if(Bt){let ln=await Dt(xt,Ee,zn.signal);if(ln.type==="aborted")return;if(ln.type==="error"){yt(ae,ge,ln.error,{flushSync:Yt});return}else if(ln.matches){if(xt=ln.matches,et=Lb(xt,Ee),gt(et))return}else{yt(ae,ge,Nl(404,{pathname:Ee}),{flushSync:Yt});return}}K.set(ae,Ot);let _i=ue,Vn=(await we("action",N,zn,[et],xt,ae))[et.route.id];if(zn.signal.aborted){K.get(ae)===Ot&&K.delete(ae);return}if(De.has(ae)){if(bm(Vn)||Zo(Vn)){ze(ae,md(void 0));return}}else{if(bm(Vn))if(K.delete(ae),ne>_i){ze(ae,md(void 0));return}else return Z.add(ae),ze(ae,pb(kt)),Y(zn,Vn,!1,{fetcherSubmission:kt,preventScrollReset:Gt});if(Zo(Vn)){yt(ae,ge,Vn.error);return}}let Ui=N.navigation.location||N.location,$=hv(n.history,Ui,Ot.signal),be=a||s,Ne=N.navigation.state!=="idle"?_d(be,N.navigation.location,o):N.matches;hi(Ne,"Didn't find any matches after fetcher action");let Te=++ue;ve.set(ae,Te);let me=pb(kt,Vn.data);N.fetchers.set(ae,me);let[ut,ct]=W2(n.history,N,Ne,kt,Ui,!1,re,de,De,le,Z,be,o,[et.route.id,Vn]);ct.filter(ln=>ln.key!==ae).forEach(ln=>{let Bn=ln.key,Ji=N.fetchers.get(Bn),Dn=pb(void 0,Ji?Ji.data:void 0);N.fetchers.set(Bn,Dn),st(Bn),ln.controller&&K.set(Bn,ln.controller)}),Qe({fetchers:new Map(N.fetchers)});let Xt=()=>ct.forEach(ln=>st(ln.key));Ot.signal.addEventListener("abort",Xt);let{loaderResults:zt,fetcherResults:At}=await Fe(N,Ne,ut,ct,$);if(Ot.signal.aborted)return;Ot.signal.removeEventListener("abort",Xt),ve.delete(ae),K.delete(ae),ct.forEach(ln=>K.delete(ln.key));let Ft=nS(zt);if(Ft)return Y($,Ft.result,!1,{preventScrollReset:Gt});if(Ft=nS(At),Ft)return Z.add(Ft.key),Y($,Ft.result,!1,{preventScrollReset:Gt});let{loaderData:Ut,errors:Cn}=Z2(N,Ne,zt,void 0,ct,At);if(N.fetchers.has(ae)){let ln=md(Vn.data);N.fetchers.set(ae,ln)}Vt(Te),N.navigation.state==="loading"&&Te>ne?(hi(z,"Expected pending action"),I&&I.abort(),qt(N.navigation.location,{matches:Ne,loaderData:Ut,errors:Cn,fetchers:new Map(N.fetchers)})):(Qe({errors:Cn,loaderData:Q2(N.loaderData,Ut,Ne,Cn),fetchers:new Map(N.fetchers)}),re=!1)}async function te(ae,ge,Ee,et,xt,Bt,Yt,Gt,kt){let gt=N.fetchers.get(ae);ze(ae,pb(kt,gt?gt.data:void 0),{flushSync:Yt});let Kt=new AbortController,Ot=hv(n.history,Ee,Kt.signal);if(Bt){let Vn=await Dt(xt,Ee,Ot.signal);if(Vn.type==="aborted")return;if(Vn.type==="error"){yt(ae,ge,Vn.error,{flushSync:Yt});return}else if(Vn.matches)xt=Vn.matches,et=Lb(xt,Ee);else{yt(ae,ge,Nl(404,{pathname:Ee}),{flushSync:Yt});return}}K.set(ae,Kt);let zn=ue,ai=(await we("loader",N,Ot,[et],xt,ae))[et.route.id];if(K.get(ae)===Kt&&K.delete(ae),!Ot.signal.aborted){if(De.has(ae)){ze(ae,md(void 0));return}if(bm(ai))if(ne>zn){ze(ae,md(void 0));return}else{Z.add(ae),await Y(Ot,ai,!1,{preventScrollReset:Gt});return}if(Zo(ai)){yt(ae,ge,ai.error);return}ze(ae,md(ai.data))}}async function Y(ae,ge,Ee,{submission:et,fetcherSubmission:xt,preventScrollReset:Bt,replace:Yt}={}){ge.response.headers.has("X-Remix-Revalidate")&&(re=!0);let Gt=ge.response.headers.get("Location");hi(Gt,"Expected a Location header on the redirect Response"),Gt=K2(Gt,new URL(ae.url),o);let kt=g_(N.location,Gt,{_isRedirect:!0});if(t){let ai=!1;if(ge.response.headers.has("X-Remix-Reload-Document"))ai=!0;else if(BO.test(Gt)){const Vn=n.history.createURL(Gt);ai=Vn.origin!==e.location.origin||Dc(Vn.pathname,o)==null}if(ai){Yt?e.location.replace(Gt):e.location.assign(Gt);return}}I=null;let gt=Yt===!0||ge.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Kt,formAction:Ot,formEncType:zn}=N.navigation;!et&&!xt&&Kt&&Ot&&zn&&(et=nL(N.navigation));let _i=et||xt;if(qY.has(ge.response.status)&&_i&&Sc(_i.formMethod))await se(gt,kt,{submission:{..._i,formAction:Gt},preventScrollReset:Bt||V,enableViewTransition:Ee?L:void 0});else{let ai=pC(kt,et);await se(gt,kt,{overrideNavigation:ai,fetcherSubmission:xt,preventScrollReset:Bt||V,enableViewTransition:Ee?L:void 0})}}async function we(ae,ge,Ee,et,xt,Bt){let Yt,Gt={};try{Yt=await eK(c,ae,ge,Ee,et,xt,Bt,r,i)}catch(kt){return et.forEach(gt=>{Gt[gt.route.id]={type:"error",error:kt}}),Gt}for(let[kt,gt]of Object.entries(Yt))if(aK(gt)){let Kt=gt.result;Gt[kt]={type:"redirect",response:iK(Kt,Ee,kt,xt,o)}}else Gt[kt]=await nK(gt);return Gt}async function Fe(ae,ge,Ee,et,xt){let Bt=we("loader",ae,xt,Ee,ge,null),Yt=Promise.all(et.map(async gt=>{if(gt.matches&&gt.match&&gt.controller){let Ot=(await we("loader",ae,hv(n.history,gt.path,gt.controller.signal),[gt.match],gt.matches,gt.key))[gt.match.route.id];return{[gt.key]:Ot}}else return Promise.resolve({[gt.key]:{type:"error",error:Nl(404,{pathname:gt.path})}})})),Gt=await Bt,kt=(await Yt).reduce((gt,Kt)=>Object.assign(gt,Kt),{});return{loaderResults:Gt,fetcherResults:kt}}function it(){re=!0,le.forEach((ae,ge)=>{K.has(ge)&&de.add(ge),st(ge)})}function ze(ae,ge,Ee={}){N.fetchers.set(ae,ge),Qe({fetchers:new Map(N.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function yt(ae,ge,Ee,et={}){let xt=mm(N.matches,ge);Nt(ae),Qe({errors:{[xt.route.id]:Ee},fetchers:new Map(N.fetchers)},{flushSync:(et&&et.flushSync)===!0})}function _t(ae){return Ae.set(ae,(Ae.get(ae)||0)+1),De.has(ae)&&De.delete(ae),N.fetchers.get(ae)||WY}function Nt(ae){let ge=N.fetchers.get(ae);K.has(ae)&&!(ge&&ge.state==="loading"&&ve.has(ae))&&st(ae),le.delete(ae),ve.delete(ae),Z.delete(ae),De.delete(ae),de.delete(ae),N.fetchers.delete(ae)}function hn(ae){let ge=(Ae.get(ae)||0)-1;ge<=0?(Ae.delete(ae),De.add(ae)):Ae.set(ae,ge),Qe({fetchers:new Map(N.fetchers)})}function st(ae){let ge=K.get(ae);ge&&(ge.abort(),K.delete(ae))}function Ct(ae){for(let ge of ae){let Ee=_t(ge),et=md(Ee.data);N.fetchers.set(ge,et)}}function Wt(){let ae=[],ge=!1;for(let Ee of Z){let et=N.fetchers.get(Ee);hi(et,`Expected fetcher: ${Ee}`),et.state==="loading"&&(Z.delete(Ee),ae.push(Ee),ge=!0)}return Ct(ae),ge}function Vt(ae){let ge=[];for(let[Ee,et]of ve)if(et<ae){let xt=N.fetchers.get(Ee);hi(xt,`Expected fetcher: ${Ee}`),xt.state==="loading"&&(st(Ee),ve.delete(Ee),ge.push(Ee))}return Ct(ge),ge.length>0}function Pt(ae,ge){let Ee=N.blockers.get(ae)||db;return oe.get(ae)!==ge&&oe.set(ae,ge),Ee}function pe(ae){N.blockers.delete(ae),oe.delete(ae)}function Be(ae,ge){let Ee=N.blockers.get(ae)||db;hi(Ee.state==="unblocked"&&ge.state==="blocked"||Ee.state==="blocked"&&ge.state==="blocked"||Ee.state==="blocked"&&ge.state==="proceeding"||Ee.state==="blocked"&&ge.state==="unblocked"||Ee.state==="proceeding"&&ge.state==="unblocked",`Invalid blocker state transition: ${Ee.state} -> ${ge.state}`);let et=new Map(N.blockers);et.set(ae,ge),Qe({blockers:et})}function Tt({currentLocation:ae,nextLocation:ge,historyAction:Ee}){if(oe.size===0)return;oe.size>1&&Gs(!1,"A router only supports one blocker at a time");let et=Array.from(oe.entries()),[xt,Bt]=et[et.length-1],Yt=N.blockers.get(xt);if(!(Yt&&Yt.state==="proceeding")&&Bt({currentLocation:ae,nextLocation:ge,historyAction:Ee}))return xt}function he(ae){let ge=Nl(404,{pathname:ae}),Ee=a||s,{matches:et,route:xt}=eL(Ee);return{notFoundMatches:et,route:xt,error:ge}}function ht(ae,ge,Ee){if(y=ae,w=ge,_=Ee||null,!S&&N.navigation===dC){S=!0;let et=Xe(N.location,N.matches);et!=null&&Qe({restoreScrollPosition:et})}return()=>{y=null,w=null,_=null}}function Le(ae,ge){return _&&_(ae,ge.map(et=>EY(et,N.loaderData)))||ae.key}function We(ae,ge){if(y&&w){let Ee=Le(ae,ge);y[Ee]=w()}}function Xe(ae,ge){if(y){let Ee=Le(ae,ge),et=y[Ee];if(typeof et=="number")return et}return null}function rt(ae,ge,Ee){if(u)if(ae){if(Object.keys(ae[0].params).length>0)return{active:!0,matches:OE(ge,Ee,o,!0)}}else return{active:!0,matches:OE(ge,Ee,o,!0)||[]};return{active:!1,matches:null}}async function Dt(ae,ge,Ee){if(!u)return{type:"success",matches:ae};let et=ae;for(;;){let xt=a==null,Bt=a||s,Yt=r;try{await u({signal:Ee,path:ge,matches:et,patch:(gt,Kt)=>{Ee.aborted||Y2(gt,Kt,Bt,Yt,i)}})}catch(gt){return{type:"error",error:gt,partialMatches:et}}finally{xt&&!Ee.aborted&&(s=[...s])}if(Ee.aborted)return{type:"aborted"};let Gt=_d(Bt,ge,o);if(Gt)return{type:"success",matches:Gt};let kt=OE(Bt,ge,o,!0);if(!kt||et.length===kt.length&&et.every((gt,Kt)=>gt.route.id===kt[Kt].route.id))return{type:"success",matches:null};et=kt}}function sn(ae){r={},a=xw(ae,i,void 0,r)}function Un(ae,ge){let Ee=a==null;Y2(ae,ge,a||s,r,i),Ee&&(s=[...s],Qe({}))}return k={get basename(){return o},get future(){return d},get state(){return N},get routes(){return s},get window(){return e},initialize:je,subscribe:wt,enableScrollRestoration:ht,navigate:Ge,fetch:It,revalidate:Ye,createHref:ae=>n.history.createHref(ae),encodeLocation:ae=>n.history.encodeLocation(ae),getFetcher:_t,deleteFetcher:hn,dispose:tt,getBlocker:Pt,deleteBlocker:pe,patchRoutes:Un,_internalFetchControllers:K,_internalSetRoutes:sn},k}function KY(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function VD(n,e,t,i,r,s){let a,o;if(r){a=[];for(let u of e)if(a.push(u),u.route.id===r){o=u;break}}else a=e,o=e[e.length-1];let c=VO(i||".",zO(a),Dc(n.pathname,t)||n.pathname,s==="path");if(i==null&&(c.search=n.search,c.hash=n.hash),(i==null||i===""||i===".")&&o){let u=kO(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),p=d.getAll("index");d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();c.search=v?`?${v}`:""}}return t!=="/"&&(c.pathname=c.pathname==="/"?t:qu([t,c.pathname])),Id(c)}function G2(n,e,t){if(!t||!KY(t))return{path:e};if(t.formMethod&&!oK(t.formMethod))return{path:e,error:Nl(405,{method:t.formMethod})};let i=()=>({path:e,error:Nl(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),a=ok(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Sc(s))return i();let p=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((v,[y,_])=>`${v}${y}=${_}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:t.formEncType,formData:void 0,json:void 0,text:p}}}else if(t.formEncType==="application/json"){if(!Sc(s))return i();try{let p=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:t.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}hi(typeof FormData=="function","FormData is not available in this environment");let o,c;if(t.formData)o=kD(t.formData),c=t.formData;else if(t.body instanceof FormData)o=kD(t.body),c=t.body;else if(t.body instanceof URLSearchParams)o=t.body,c=$2(o);else if(t.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(t.body),c=$2(o)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Sc(u.formMethod))return{path:e,submission:u};let d=$d(e);return n&&d.search&&kO(d.search)&&o.append("index",""),d.search=`?${o}`,{path:Id(d),submission:u}}function q2(n,e,t=!1){let i=n.findIndex(r=>r.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function W2(n,e,t,i,r,s,a,o,c,u,d,p,v,y){let _=y?Zo(y[1])?y[1].error:y[1].data:void 0,w=n.createURL(e.location),S=n.createURL(r),E=t;s&&e.errors?E=q2(t,Object.keys(e.errors)[0],!0):y&&Zo(y[1])&&(E=q2(t,y[0]));let A=y?y[1].statusCode:void 0,R=A&&A>=400,D=E.filter((N,z)=>{let{route:V}=N;if(V.lazy)return!0;if(V.loader==null)return!1;if(s)return BD(V,e.loaderData,e.errors);if($Y(e.loaderData,e.matches[z],N))return!0;let I=e.matches[z],L=N;return X2(N,{currentUrl:w,currentParams:I.params,nextUrl:S,nextParams:L.params,...i,actionResult:_,actionStatus:A,defaultShouldRevalidate:R?!1:a||w.pathname+w.search===S.pathname+S.search||w.search!==S.search||ZY(I,L)})}),k=[];return u.forEach((N,z)=>{if(s||!t.some(X=>X.route.id===N.routeId)||c.has(z))return;let V=_d(p,N.path,v);if(!V){k.push({key:z,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(z),L=Lb(V,N.path),j=!1;d.has(z)?j=!1:o.has(z)?(o.delete(z),j=!0):I&&I.state!=="idle"&&I.data===void 0?j=a:j=X2(L,{currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:t[t.length-1].params,...i,actionResult:_,actionStatus:A,defaultShouldRevalidate:R?!1:a}),j&&k.push({key:z,routeId:N.routeId,path:N.path,matches:V,match:L,controller:new AbortController})}),[D,k]}function BD(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,r=t!=null&&t[n.id]!==void 0;return!i&&r?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!r}function $Y(n,e,t){let i=!e||t.route.id!==e.route.id,r=!n.hasOwnProperty(t.route.id);return i||r}function ZY(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function X2(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Y2(n,e,t,i,r){let s;if(n){let c=i[n];hi(c,`No route found to patch children into: routeId = ${n}`),c.children||(c.children=[]),s=c.children}else s=t;let a=e.filter(c=>!s.some(u=>ak(c,u))),o=xw(a,r,[n||"_","patch",String((s==null?void 0:s.length)||"0")],i);s.push(...o)}function ak(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>ak(t,s))}):!1}async function QY(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let r=t[n.id];hi(r,"No route found in manifest");let s={};for(let a in i){let c=r[a]!==void 0&&a!=="hasErrorBoundary";Gs(!c,`Route "${r.id}" has a static property "${a}" defined but its lazy function is also returning a value for this property. The lazy route property "${a}" will be ignored.`),!c&&!xY.has(a)&&(s[a]=i[a])}Object.assign(r,s),Object.assign(r,{...e(r),lazy:void 0})}async function JY({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,r,s)=>Object.assign(i,{[e[s].route.id]:r}),{})}async function eK(n,e,t,i,r,s,a,o,c,u){let d=s.map(y=>y.route.lazy?QY(y.route,c,o):void 0),p=s.map((y,_)=>{let w=d[_],S=r.some(A=>A.route.id===y.route.id);return{...y,shouldLoad:S,resolve:async A=>(A&&i.method==="GET"&&(y.route.lazy||y.route.loader)&&(S=!0),S?tK(e,i,y,w,A,u):Promise.resolve({type:"data",result:void 0}))}}),v=await n({matches:p,request:i,params:s[0].params,fetcherKey:a,context:u});try{await Promise.all(d)}catch{}return v}async function tK(n,e,t,i,r,s){let a,o,c=u=>{let d,p=new Promise((_,w)=>d=w);o=()=>d(),e.signal.addEventListener("abort",o);let v=_=>typeof u!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):u({request:e,params:t.params,context:s},..._!==void 0?[_]:[]),y=(async()=>{try{return{type:"data",result:await(r?r(w=>v(w)):v())}}catch(_){return{type:"error",result:_}}})();return Promise.race([y,p])};try{let u=t.route[n];if(i)if(u){let d,[p]=await Promise.all([c(u).catch(v=>{d=v}),i]);if(d!==void 0)throw d;a=p}else if(await i,u=t.route[n],u)a=await c(u);else if(n==="action"){let d=new URL(e.url),p=d.pathname+d.search;throw Nl(405,{method:e.method,pathname:p,routeId:t.route.id})}else return{type:"data",result:void 0};else if(u)a=await c(u);else{let d=new URL(e.url),p=d.pathname+d.search;throw Nl(404,{pathname:p})}}catch(u){return{type:"error",result:u}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function nK(n){var i,r,s,a,o,c;let{result:e,type:t}=n;if(lk(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:"error",error:d}}return t==="error"?{type:"error",error:new Ew(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return t==="error"?tL(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(r=e.init)!=null&&r.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ew(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:v_(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:v_(e)?e.status:void 0}:tL(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function iK(n,e,t,i,r){let s=n.headers.get("Location");if(hi(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!BO.test(s)){let a=i.slice(0,i.findIndex(o=>o.route.id===t)+1);s=VD(new URL(e.url),a,r,s),n.headers.set("Location",s)}return n}function K2(n,e,t){if(BO.test(n)){let i=n,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Dc(r.pathname,t)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return n}function hv(n,e,t,i){let r=n.createURL(ok(e)).toString(),s={signal:t};if(i&&Sc(i.formMethod)){let{formMethod:a,formEncType:o}=i;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(i.json)):o==="text/plain"?s.body=i.text:o==="application/x-www-form-urlencoded"&&i.formData?s.body=kD(i.formData):s.body=i.formData}return new Request(r,s)}function kD(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function $2(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function rK(n,e,t,i=!1,r=!1){let s={},a=null,o,c=!1,u={},d=t&&Zo(t[1])?t[1].error:void 0;return n.forEach(p=>{if(!(p.route.id in e))return;let v=p.route.id,y=e[v];if(hi(!bm(y),"Cannot handle redirect results in processLoaderData"),Zo(y)){let _=y.error;if(d!==void 0&&(_=d,d=void 0),a=a||{},r)a[v]=_;else{let w=mm(n,v);a[w.route.id]==null&&(a[w.route.id]=_)}i||(s[v]=sk),c||(c=!0,o=v_(y.error)?y.error.status:500),y.headers&&(u[v]=y.headers)}else s[v]=y.data,y.statusCode&&y.statusCode!==200&&!c&&(o=y.statusCode),y.headers&&(u[v]=y.headers)}),d!==void 0&&t&&(a={[t[0]]:d},s[t[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}function Z2(n,e,t,i,r,s){let{loaderData:a,errors:o}=rK(e,t,i);return r.forEach(c=>{let{key:u,match:d,controller:p}=c,v=s[u];if(hi(v,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Zo(v)){let y=mm(n.matches,d==null?void 0:d.route.id);o&&o[y.route.id]||(o={...o,[y.route.id]:v.error}),n.fetchers.delete(u)}else if(bm(v))hi(!1,"Unhandled fetcher revalidation redirect");else{let y=md(v.data);n.fetchers.set(u,y)}}),{loaderData:a,errors:o}}function Q2(n,e,t,i){let r=Object.entries(e).filter(([,s])=>s!==sk).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of t){let a=s.route.id;if(!e.hasOwnProperty(a)&&n.hasOwnProperty(a)&&s.route.loader&&(r[a]=n[a]),i&&i.hasOwnProperty(a))break}return r}function J2(n){return n?Zo(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function mm(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function eL(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Nl(n,{pathname:e,routeId:t,method:i,type:r,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return n===400?(a="Bad Request",i&&e&&t?o=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:r==="invalid-body"&&(o="Unable to encode submission body")):n===403?(a="Forbidden",o=`Route "${t}" does not match URL "${e}"`):n===404?(a="Not Found",o=`No route matches URL "${e}"`):n===405&&(a="Method Not Allowed",i&&e&&t?o=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(o=`Invalid request method "${i.toUpperCase()}"`)),new Ew(n||500,a,new Error(o),!0)}function nS(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,r]=e[t];if(bm(r))return{key:i,result:r}}}function ok(n){let e=typeof n=="string"?$d(n):n;return Id({...e,hash:""})}function sK(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function aK(n){return lk(n.result)&&GY.has(n.result.status)}function Zo(n){return n.type==="error"}function bm(n){return(n&&n.type)==="redirect"}function tL(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function lk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function oK(n){return jY.has(n.toUpperCase())}function Sc(n){return FY.has(n.toUpperCase())}function kO(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Lb(n,e){let t=typeof e=="string"?$d(e).search:e.search;if(n[n.length-1].route.index&&kO(t||""))return n[n.length-1];let i=nk(n);return i[i.length-1]}function nL(n){let{formMethod:e,formAction:t,formEncType:i,text:r,formData:s,json:a}=n;if(!(!e||!t||!i)){if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:a,text:void 0}}}function pC(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function lK(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pb(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function cK(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function md(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function uK(n,e){try{let t=n.sessionStorage.getItem(rk);if(t){let i=JSON.parse(t);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function hK(n,e){if(e.size>0){let t={};for(let[i,r]of e)t[i]=[...r];try{n.sessionStorage.setItem(rk,JSON.stringify(t))}catch(i){Gs(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function fK(){let n,e,t=new Promise((i,r)=>{n=async s=>{i(s);try{await t}catch{}},e=async s=>{r(s);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var cg=B.createContext(null);cg.displayName="DataRouter";var cx=B.createContext(null);cx.displayName="DataRouterState";var FO=B.createContext({isTransitioning:!1});FO.displayName="ViewTransition";var ck=B.createContext(new Map);ck.displayName="Fetchers";var dK=B.createContext(null);dK.displayName="Await";var rh=B.createContext(null);rh.displayName="Navigation";var nM=B.createContext(null);nM.displayName="Location";var sh=B.createContext({outlet:null,matches:[],isDataRoute:!1});sh.displayName="Route";var HO=B.createContext(null);HO.displayName="RouteError";function pK(n,{relative:e}={}){hi(ux(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(rh),{hash:r,pathname:s,search:a}=hx(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:qu([t,s])),i.createHref({pathname:o,search:a,hash:r})}function ux(){return B.useContext(nM)!=null}function ug(){return hi(ux(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(nM).location}var uk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hk(n){B.useContext(rh).static||B.useLayoutEffect(n)}function fk(){let{isDataRoute:n}=B.useContext(sh);return n?CK():mK()}function mK(){hi(ux(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(cg),{basename:e,navigator:t}=B.useContext(rh),{matches:i}=B.useContext(sh),{pathname:r}=ug(),s=JSON.stringify(zO(i)),a=B.useRef(!1);return hk(()=>{a.current=!0}),B.useCallback((c,u={})=>{if(Gs(a.current,uk),!a.current)return;if(typeof c=="number"){t.go(c);return}let d=VO(c,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:qu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}B.createContext(null);function gK(){let{matches:n}=B.useContext(sh),e=n[n.length-1];return e?e.params:{}}function hx(n,{relative:e}={}){let{matches:t}=B.useContext(sh),{pathname:i}=ug(),r=JSON.stringify(zO(t));return B.useMemo(()=>VO(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function vK(n,e,t,i){hi(ux(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=B.useContext(rh),{matches:a}=B.useContext(sh),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let A=p&&p.path||"";pk(u,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=ug(),y;y=v;let _=y.pathname||"/",w=_;if(d!=="/"){let A=d.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=!s&&t&&t.matches&&t.matches.length>0?t.matches:_d(n,{pathname:w});return Gs(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Gs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),SK(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:qu([d,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:qu([d,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,i)}function yK(){let n=AK(),e=v_(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:s},"ErrorBoundary")," or"," ",B.createElement("code",{style:s},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:r},t):null,a)}var bK=B.createElement(yK,null),_K=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(sh.Provider,{value:this.props.routeContext},B.createElement(HO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xK({routeContext:n,match:e,children:t}){let i=B.useContext(cg);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(sh.Provider,{value:n},t)}function SK(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let c=r.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);hi(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let a=!1,o=-1;if(t)for(let c=0;c<r.length;c++){let u=r[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=c),u.route.id){let{loaderData:d,errors:p}=t,v=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||v){a=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((c,u,d)=>{let p,v=!1,y=null,_=null;t&&(p=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||bK,a&&(o<0&&d===0?(pk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):o===d&&(v=!0,_=u.route.hydrateFallbackElement||null)));let w=e.concat(r.slice(0,d+1)),S=()=>{let E;return p?E=y:v?E=_:u.route.Component?E=B.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=c,B.createElement(xK,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:t!=null},children:E})};return t&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?B.createElement(_K,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function jO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EK(n){let e=B.useContext(cg);return hi(e,jO(n)),e}function dk(n){let e=B.useContext(cx);return hi(e,jO(n)),e}function wK(n){let e=B.useContext(sh);return hi(e,jO(n)),e}function GO(n){let e=wK(n),t=e.matches[e.matches.length-1];return hi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function TK(){return GO("useRouteId")}function MK(){return dk("useNavigation").navigation}function AK(){var i;let n=B.useContext(HO),e=dk("useRouteError"),t=GO("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function CK(){let{router:n}=EK("useNavigate"),e=GO("useNavigate"),t=B.useRef(!1);return hk(()=>{t.current=!0}),B.useCallback(async(r,s={})=>{Gs(t.current,uk),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var iL={};function pk(n,e,t){!e&&!iL[n]&&(iL[n]=!0,Gs(!1,t))}var rL={};function sL(n,e){!n&&!rL[e]&&(rL[e]=!0,console.warn(e))}function RK(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Gs(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Gs(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Gs(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var DK=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function OK({router:n,flushSync:e}){let[t,i]=B.useState(n.state),[r,s]=B.useState(),[a,o]=B.useState({isTransitioning:!1}),[c,u]=B.useState(),[d,p]=B.useState(),[v,y]=B.useState(),_=B.useRef(new Map),w=B.useCallback((R,{deletedFetchers:D,flushSync:k,viewTransitionOpts:N})=>{R.fetchers.forEach((V,I)=>{V.data!==void 0&&_.current.set(I,V.data)}),D.forEach(V=>_.current.delete(V)),sL(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(sL(N==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!z){e&&k?e(()=>i(R)):B.startTransition(()=>i(R));return}if(e&&k){e(()=>{d&&(c&&c.resolve(),d.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let V=n.window.document.startViewTransition(()=>{e(()=>i(R))});V.finished.finally(()=>{e(()=>{u(void 0),p(void 0),s(void 0),o({isTransitioning:!1})})}),e(()=>p(V));return}d?(c&&c.resolve(),d.skipTransition(),y({state:R,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(s(R),o({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,e,d,c]);B.useLayoutEffect(()=>n.subscribe(w),[n,w]),B.useEffect(()=>{a.isTransitioning&&!a.flushSync&&u(new DK)},[a]),B.useEffect(()=>{if(c&&r&&n.window){let R=r,D=c.promise,k=n.window.document.startViewTransition(async()=>{B.startTransition(()=>i(R)),await D});k.finished.finally(()=>{u(void 0),p(void 0),s(void 0),o({isTransitioning:!1})}),p(k)}},[r,c,n.window]),B.useEffect(()=>{c&&r&&t.location.key===r.location.key&&c.resolve()},[c,d,t.location,r]),B.useEffect(()=>{!a.isTransitioning&&v&&(s(v.state),o({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[a.isTransitioning,v]);let S=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,D,k)=>n.navigate(R,{state:D,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(R,D,k)=>n.navigate(R,{replace:!0,state:D,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),E=n.basename||"/",A=B.useMemo(()=>({router:n,navigator:S,static:!1,basename:E}),[n,S,E]);return B.createElement(B.Fragment,null,B.createElement(cg.Provider,{value:A},B.createElement(cx.Provider,{value:t},B.createElement(ck.Provider,{value:_.current},B.createElement(FO.Provider,{value:a},B.createElement(IK,{basename:E,location:t.location,navigationType:t.historyAction,navigator:S},B.createElement(NK,{routes:n.routes,future:n.future,state:t})))))),null)}var NK=B.memo(PK);function PK({routes:n,future:e,state:t}){return vK(n,void 0,t,e)}function IK({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){hi(!ux(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),o=B.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof t=="string"&&(t=$d(t));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:v="default"}=t,y=B.useMemo(()=>{let _=Dc(c,a);return _==null?null:{location:{pathname:_,search:u,hash:d,state:p,key:v},navigationType:i}},[a,c,u,d,p,v,i]);return Gs(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:B.createElement(rh.Provider,{value:o},B.createElement(nM.Provider,{children:e,value:y}))}var NE="get",PE="application/x-www-form-urlencoded";function iM(n){return n!=null&&typeof n.tagName=="string"}function LK(n){return iM(n)&&n.tagName.toLowerCase()==="button"}function UK(n){return iM(n)&&n.tagName.toLowerCase()==="form"}function zK(n){return iM(n)&&n.tagName.toLowerCase()==="input"}function VK(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BK(n,e){return n.button===0&&(!e||e==="_self")&&!VK(n)}var iS=null;function kK(){if(iS===null)try{new FormData(document.createElement("form"),0),iS=!1}catch{iS=!0}return iS}var FK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mC(n){return n!=null&&!FK.has(n)?(Gs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${PE}"`),null):n}function HK(n,e){let t,i,r,s,a;if(UK(n)){let o=n.getAttribute("action");i=o?Dc(o,e):null,t=n.getAttribute("method")||NE,r=mC(n.getAttribute("enctype"))||PE,s=new FormData(n)}else if(LK(n)||zK(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||o.getAttribute("action");if(i=c?Dc(c,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||NE,r=mC(n.getAttribute("formenctype"))||mC(o.getAttribute("enctype"))||PE,s=new FormData(o,n),!kK()){let{name:u,type:d,value:p}=n;if(d==="image"){let v=u?`${u}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else u&&s.append(u,p)}}else{if(iM(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=NE,i=null,r=PE,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}function qO(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function jK(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GK(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qK(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await jK(s,t);return a.links?a.links():[]}return[]}));return KK(i.flat(1).filter(GK).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function aL(n,e,t,i,r,s){let a=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,o=(c,u)=>{var d;return t[u].pathname!==c.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>a(c,u)||o(c,u)):s==="data"?e.filter((c,u)=>{var p;let d=i.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function WK(n,e,{includeHydrateFallback:t}={}){return XK(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function XK(n){return[...new Set(n)]}function YK(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function KK(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(YK(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function $K(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ZK(){let n=B.useContext(cg);return qO(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function QK(){let n=B.useContext(cx);return qO(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var WO=B.createContext(void 0);WO.displayName="FrameworkContext";function mk(){let n=B.useContext(WO);return qO(n,"You must render this element inside a <HydratedRouter> element"),n}function JK(n,e){let t=B.useContext(WO),[i,r]=B.useState(!1),[s,a]=B.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=e,v=B.useRef(null);B.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let w=E=>{E.forEach(A=>{a(A.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[n]),B.useEffect(()=>{if(i){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[i]);let y=()=>{r(!0)},_=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:mb(o,y),onBlur:mb(c,_),onMouseEnter:mb(u,y),onMouseLeave:mb(d,_),onTouchStart:mb(p,y)}]:[!1,v,{}]}function mb(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function e$({page:n,...e}){let{router:t}=ZK(),i=B.useMemo(()=>_d(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(n$,{page:n,matches:i,...e}):null}function t$(n){let{manifest:e,routeModules:t}=mk(),[i,r]=B.useState([]);return B.useEffect(()=>{let s=!1;return qK(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function n$({page:n,matches:e,...t}){let i=ug(),{manifest:r,routeModules:s}=mk(),{loaderData:a,matches:o}=QK(),c=B.useMemo(()=>aL(n,e,o,r,i,"data"),[n,e,o,r,i]),u=B.useMemo(()=>aL(n,e,o,r,i,"assets"),[n,e,o,r,i]),d=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let y=new Set,_=!1;if(e.forEach(S=>{var A;let E=r.routes[S.route.id];!E||!E.hasLoader||(!c.some(R=>R.route.id===S.route.id)&&S.route.id in a&&((A=s[S.route.id])!=null&&A.shouldRevalidate)||E.hasClientLoader?_=!0:y.add(S.route.id))}),y.size===0)return[];let w=$K(n);return _&&y.size>0&&w.searchParams.set("_routes",e.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[a,i,r,c,e,n,s]),p=B.useMemo(()=>WK(u,r),[u,r]),v=t$(u);return B.createElement(B.Fragment,null,d.map(y=>B.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),p.map(y=>B.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),v.map(({key:y,link:_})=>B.createElement("link",{key:y,..._})))}function i$(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gk&&(window.__reactRouterVersion="7.2.0")}catch{}function r$(n,e){return YY({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:yY({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||s$(),routes:n,mapRouteProperties:RK,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function s$(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:a$(n.errors)}),n}function a$(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")t[i]=new Ew(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let a=new s(r.message);a.stack="",t[i]=a}catch{}}if(t[i]==null){let s=new Error(r.message);s.stack="",t[i]=s}}else t[i]=r;return t}var vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qy=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:p,...v},y){let{basename:_}=B.useContext(rh),w=typeof u=="string"&&vk.test(u),S,E=!1;if(typeof u=="string"&&w&&(S=u,gk))try{let I=new URL(window.location.href),L=u.startsWith("//")?new URL(I.protocol+u):new URL(u),j=Dc(L.pathname,_);L.origin===I.origin&&j!=null?u=j+L.search+L.hash:E=!0}catch{Gs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=pK(u,{relative:r}),[R,D,k]=JK(i,v),N=u$(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:r,viewTransition:p});function z(I){e&&e(I),I.defaultPrevented||N(I)}let V=B.createElement("a",{...v,...k,href:S||A,onClick:E||s?e:z,ref:i$(y,D),target:c,"data-discover":!w&&t==="render"?"true":void 0});return R&&!w?B.createElement(B.Fragment,null,V,B.createElement(e$,{page:A})):V});qy.displayName="Link";var o$=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:c,...u},d){let p=hx(a,{relative:u.relative}),v=ug(),y=B.useContext(cx),{navigator:_,basename:w}=B.useContext(rh),S=y!=null&&m$(p)&&o===!0,E=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,A=v.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(A=A.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&w&&(R=Dc(R,w)||R);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=A===E||!r&&A.startsWith(E)&&A.charAt(D)==="/",N=R!=null&&(R===E||!r&&R.startsWith(E)&&R.charAt(E.length)==="/"),z={isActive:k,isPending:N,isTransitioning:S},V=k?e:void 0,I;typeof i=="function"?I=i(z):I=[i,k?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(z):s;return B.createElement(qy,{...u,"aria-current":V,className:I,ref:d,style:L,to:a,viewTransition:o},typeof c=="function"?c(z):c)});o$.displayName="NavLink";var l$=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=NE,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:p,...v},y)=>{let _=d$(),w=p$(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&vk.test(o),A=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let D=R.nativeEvent.submitter,k=(D==null?void 0:D.getAttribute("formmethod"))||a;_(D||R.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:p})};return B.createElement("form",{ref:y,method:S,action:w,onSubmit:i?c:A,...v,"data-discover":!E&&n==="render"?"true":void 0})});l$.displayName="Form";function c$(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yk(n){let e=B.useContext(cg);return hi(e,c$(n)),e}function u$(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let o=fk(),c=ug(),u=hx(n,{relative:s});return B.useCallback(d=>{if(BK(d,e)){d.preventDefault();let p=t!==void 0?t:Id(c)===Id(u);o(n,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[c,o,u,t,i,e,n,r,s,a])}var h$=0,f$=()=>`__${String(++h$)}__`;function d$(){let{router:n}=yk("useSubmit"),{basename:e}=B.useContext(rh),t=TK();return B.useCallback(async(i,r={})=>{let{action:s,method:a,encType:o,formData:c,body:u}=HK(i,e);if(r.navigate===!1){let d=r.fetcherKey||f$();await n.fetch(d,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||o,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||a,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function p$(n,{relative:e}={}){let{basename:t}=B.useContext(rh),i=B.useContext(sh);hi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...hx(n||".",{relative:e})},a=ug();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:qu([t,s.pathname])),Id(s)}function m$(n,e={}){let t=B.useContext(FO);hi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yk("useViewTransitionState"),r=hx(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Dc(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Dc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sw(r.pathname,a)!=null||Sw(r.pathname,s)!=null}new TextEncoder;var gC={exports:{}},ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL;function g$(){if(oL)return ra;oL=1;var n=Hy();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:c,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ra.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,d)},ra.flushSync=function(c){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,c)return c()}finally{a.T=u,i.p=d,i.d.f()}},ra.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(c,u))},ra.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},ra.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin),v=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):d==="script"&&i.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ra.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(c)},ra.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin);i.d.L(c,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ra.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(c)},ra.requestFormReset=function(c){i.d.r(c)},ra.unstable_batchedUpdates=function(c,u){return c(u)},ra.useFormState=function(c,u,d){return a.H.useFormState(c,u,d)},ra.useFormStatus=function(){return a.H.useHostTransitionStatus()},ra.version="19.0.0",ra}var lL;function bk(){if(lL)return gC.exports;lL=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gC.exports=g$(),gC.exports}var fx=bk();const _k=tM(fx);/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v$(n){return B.createElement(OK,{flushSync:fx.flushSync,...n})}const XO=B.createContext({});function hg(n){const e=B.useRef(null);return e.current===null&&(e.current=n()),e.current}const YO=typeof window<"u",dx=YO?B.useLayoutEffect:B.useEffect,rM=B.createContext(null),sM=B.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class y$ extends B.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b$({children:n,isPresent:e,anchorX:t}){const i=B.useId(),r=B.useRef(null),s=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=B.useContext(sM);return B.useInsertionEffect(()=>{const{width:o,height:c,top:u,left:d,right:p}=s.current;if(e||!r.current||!o||!c)return;const v=t==="left"?`left: ${d}`:`right: ${p}`;r.current.dataset.motionPopId=i;const y=document.createElement("style");return a&&(y.nonce=a),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            ${v}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),U.jsx(y$,{isPresent:e,childRef:r,sizeRef:s,children:B.cloneElement(n,{ref:r})})}const _$=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:a,anchorX:o})=>{const c=hg(x$),u=B.useId(),d=B.useCallback(v=>{c.set(v,!0);for(const y of c.values())if(!y)return;i&&i()},[c,i]),p=B.useMemo(()=>({id:u,initial:e,isPresent:t,custom:r,onExitComplete:d,register:v=>(c.set(v,!1),()=>c.delete(v))}),s?[Math.random(),d]:[t,d]);return B.useMemo(()=>{c.forEach((v,y)=>c.set(y,!1))},[t]),B.useEffect(()=>{!t&&!c.size&&i&&i()},[t]),a==="popLayout"&&(n=U.jsx(b$,{isPresent:t,anchorX:o,children:n})),U.jsx(rM.Provider,{value:p,children:n})};function x$(){return new Map}function xk(n=!0){const e=B.useContext(rM);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=B.useId();B.useEffect(()=>{if(n)return r(s)},[n]);const a=B.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,a]:[!0]}const rS=n=>n.key||"";function cL(n){const e=[];return B.Children.forEach(n,t=>{B.isValidElement(t)&&e.push(t)}),e}const Ub=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:a=!1,anchorX:o="left"})=>{const[c,u]=xk(a),d=B.useMemo(()=>cL(n),[n]),p=a&&!c?[]:d.map(rS),v=B.useRef(!0),y=B.useRef(d),_=hg(()=>new Map),[w,S]=B.useState(d),[E,A]=B.useState(d);dx(()=>{v.current=!1,y.current=d;for(let k=0;k<E.length;k++){const N=rS(E[k]);p.includes(N)?_.delete(N):_.get(N)!==!0&&_.set(N,!1)}},[E,p.length,p.join("-")]);const R=[];if(d!==w){let k=[...d];for(let N=0;N<E.length;N++){const z=E[N],V=rS(z);p.includes(V)||(k.splice(N,0,z),R.push(z))}return s==="wait"&&R.length&&(k=R),A(cL(k)),S(d),null}const{forceRender:D}=B.useContext(XO);return U.jsx(U.Fragment,{children:E.map(k=>{const N=rS(k),z=a&&!c?!1:d===E||p.includes(N),V=()=>{if(_.has(N))_.set(N,!0);else return;let I=!0;_.forEach(L=>{L||(I=!1)}),I&&(D==null||D(),A(y.current),a&&(u==null||u()),i&&i())};return U.jsx(_$,{isPresent:z,initial:!v.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,onExitComplete:z?void 0:V,anchorX:o,children:k},N)})})};function KO(n,e){n.indexOf(e)===-1&&n.push(e)}function $O(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ga=n=>n;let S$=Ga,Sk=Ga;const E$={useManualTiming:!1};function ZO(n){let e;return()=>(e===void 0&&(e=n()),e)}const jm=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class QO{constructor(){this.subscriptions=[]}add(e){return KO(this.subscriptions,e),()=>$O(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rf=n=>n*1e3,sf=n=>n/1e3;function JO(n,e){return e?n*(1e3/e):0}const Ek=ZO(()=>window.ScrollTimeline!==void 0);class w${constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(Ek()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class T$ extends w${then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function eN(n,e){return n?n[e]||n.default||n:void 0}const FD=2e4;function wk(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<FD;)e+=t,i=n.next(e);return e>=FD?1/0:e}function tN(n){return typeof n=="function"}function uL(n,e){n.timeline=e,n.onfinish=null}const nN=n=>Array.isArray(n)&&typeof n[0]=="number",M$={linearEasing:void 0};function A$(n,e){const t=ZO(n);return()=>{var i;return(i=M$[e])!==null&&i!==void 0?i:t()}}const ww=A$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tk=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=n(jm(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function Mk(n){return!!(typeof n=="function"&&ww()||!n||typeof n=="string"&&(n in HD||ww())||nN(n)||Array.isArray(n)&&n.every(Mk))}const zb=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,HD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zb([0,.65,.55,1]),circOut:zb([.55,0,1,.45]),backIn:zb([.31,.01,.66,-.59]),backOut:zb([.33,1.53,.69,.99])};function Ak(n,e){if(n)return typeof n=="function"&&ww()?Tk(n,e):nN(n)?zb(n):Array.isArray(n)?n.map(t=>Ak(t,e)||HD.easeOut):HD[n]}const sS=["read","resolveKeyframes","update","preRender","render","postRender"];function C$(n,e){let t=new Set,i=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),n()),d(o)}const u={schedule:(d,p=!1,v=!1)=>{const _=v&&r?t:i;return p&&a.add(d),_.has(d)||_.add(d),d},cancel:d=>{i.delete(d),a.delete(d)},process:d=>{if(o=d,r){s=!0;return}r=!0,[t,i]=[i,t],t.forEach(c),t.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const R$=40;function Ck(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=sS.reduce((E,A)=>(E[A]=C$(s),E),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:p,postRender:v}=a,y=()=>{const E=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(E-r.timestamp,R$),1),r.timestamp=E,r.isProcessing=!0,o.process(r),c.process(r),u.process(r),d.process(r),p.process(r),v.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(y))},_=()=>{t=!0,i=!0,r.isProcessing||n(y)};return{schedule:sS.reduce((E,A)=>{const R=a[A];return E[A]=(D,k=!1,N=!1)=>(t||_(),R.schedule(D,k,N)),E},{}),cancel:E=>{for(let A=0;A<sS.length;A++)a[sS[A]].cancel(E)},state:r,steps:a}}const{schedule:Ei,cancel:Oc,state:Cs,steps:vC}=Ck(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ga,!0),{schedule:iN}=Ck(queueMicrotask,!1);let IE;function D$(){IE=void 0}const Wu={now:()=>(IE===void 0&&Wu.set(Cs.isProcessing||E$.useManualTiming?Cs.timestamp:performance.now()),IE),set:n=>{IE=n,queueMicrotask(D$)}},bc={x:!1,y:!1};function Rk(){return bc.x||bc.y}function O$(n){return n==="x"||n==="y"?bc[n]?null:(bc[n]=!0,()=>{bc[n]=!1}):bc.x||bc.y?null:(bc.x=bc.y=!0,()=>{bc.x=bc.y=!1})}function rN(n,e,t){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function Dk(n,e){const t=rN(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function hL(n){return!(n.pointerType==="touch"||Rk())}function N$(n,e,t={}){const[i,r,s]=Dk(n,t),a=o=>{if(!hL(o))return;const{target:c}=o,u=e(c,o);if(typeof u!="function"||!c)return;const d=p=>{hL(p)&&(u(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}function fL(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const Ok=(n,e)=>e?n===e?!0:Ok(n,e.parentElement):!1,sN=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,P$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I$(n){return P$.has(n.tagName)||n.tabIndex!==-1}const Vb=new WeakSet;function dL(n){return e=>{e.key==="Enter"&&n(e)}}function yC(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const L$=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=dL(()=>{if(Vb.has(t))return;yC(t,"down");const r=dL(()=>{yC(t,"up")}),s=()=>yC(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function pL(n){return sN(n)&&!Rk()}function U$(n,e,t={}){const[i,r,s]=Dk(n,t),a=o=>{const c=o.currentTarget;if(!c||!pL(o)||Vb.has(c))return;Vb.add(c),fL(o,"set");const u=e(c,o),d=(y,_)=>{c.removeEventListener("pointerup",p),c.removeEventListener("pointercancel",v),fL(y,"release"),!(!pL(y)||!Vb.has(c))&&(Vb.delete(c),typeof u=="function"&&u(y,{success:_}))},p=y=>{(y.isTrusted?z$(y,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(y,!1):d(y,!(c instanceof Element)||Ok(c,y.target))},v=y=>{d(y,!1)};c.addEventListener("pointerup",p,r),c.addEventListener("pointercancel",v,r),c.addEventListener("lostpointercapture",v,r)};return i.forEach(o=>{o=t.useGlobalTarget?window:o;let c=!1;o instanceof HTMLElement&&(c=!0,!I$(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0)),o.addEventListener("pointerdown",a,r),c&&o.addEventListener("focus",u=>L$(u,r),r)}),s}function z$(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}const mL=30,V$=n=>!isNaN(parseFloat(n)),Wb={current:void 0};class B${constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Wu.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Wu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=V$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new QO);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ei.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Wb.current&&Wb.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Wu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mL)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,mL);return JO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fu(n,e){return new B$(n,e)}const Nk=B.createContext({strict:!1}),gL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vy={};for(const n in gL)vy[n]={isEnabled:e=>gL[n].some(t=>!!e[t])};function k$(n){for(const e in n)vy[e]={...vy[e],...n[e]}}const F$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||F$.has(n)}let Pk=n=>!Tw(n);function H$(n){n&&(Pk=e=>e.startsWith("on")?!Tw(e):n(e))}try{H$(require("@emotion/is-prop-valid").default)}catch{}function j$(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(Pk(r)||t===!0&&Tw(r)||!e&&!Tw(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function G$(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const aM=B.createContext({});function oM(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function y_(n){return typeof n=="string"||Array.isArray(n)}const aN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oN=["initial",...aN];function lM(n){return oM(n.animate)||oN.some(e=>y_(n[e]))}function Ik(n){return!!(lM(n)||n.variants)}function q$(n,e){if(lM(n)){const{initial:t,animate:i}=n;return{initial:t===!1||y_(t)?t:void 0,animate:y_(i)?i:void 0}}return n.inherit!==!1?e:{}}function W$(n){const{initial:e,animate:t}=q$(n,B.useContext(aM));return B.useMemo(()=>({initial:e,animate:t}),[vL(e),vL(t)])}function vL(n){return Array.isArray(n)?n.join(" "):n}const X$=Symbol.for("motionComponentSymbol");function qv(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Y$(n,e,t){return B.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):qv(t)&&(t.current=i))},[e])}const lN=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K$="framerAppearId",Lk="data-"+lN(K$),Uk=B.createContext({});function $$(n,e,t,i,r){var s,a;const{visualElement:o}=B.useContext(aM),c=B.useContext(Nk),u=B.useContext(rM),d=B.useContext(sM).reducedMotion,p=B.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:o,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const v=p.current,y=B.useContext(Uk);v&&!v.projection&&r&&(v.type==="html"||v.type==="svg")&&Z$(p.current,t,r,y);const _=B.useRef(!1);B.useInsertionEffect(()=>{v&&_.current&&v.update(t,u)});const w=t[Lk],S=B.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,w)));return dx(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),iN.render(v.render),S.current&&v.animationState&&v.animationState.animateChanges())}),B.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,w)}),S.current=!1))}),v}function Z$(n,e,t,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:zk(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&qv(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:c,layoutRoot:u})}function zk(n){if(n)return n.options.allowProjection!==!1?n.projection:zk(n.parent)}function Q$({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){var s,a;n&&k$(n);function o(u,d){let p;const v={...B.useContext(sM),...u,layoutId:J$(u)},{isStatic:y}=v,_=W$(u),w=i(u,y);if(!y&&YO){eZ();const S=tZ(v);p=S.MeasureLayout,_.visualElement=$$(r,w,v,e,S.ProjectionNode)}return U.jsxs(aM.Provider,{value:_,children:[p&&_.visualElement?U.jsx(p,{visualElement:_.visualElement,...v}):null,t(r,u,Y$(w,_.visualElement,d),w,y,_.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${(a=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&a!==void 0?a:""})`}`;const c=B.forwardRef(o);return c[X$]=r,c}function J$({layoutId:n}){const e=B.useContext(XO).id;return e&&n!==void 0?e+"-"+n:n}function eZ(n,e){B.useContext(Nk).strict}function tZ(n){const{drag:e,layout:t}=vy;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Vk=n=>e=>typeof e=="string"&&e.startsWith(n),cN=Vk("--"),nZ=Vk("var(--"),uN=n=>nZ(n)?iZ.test(n.split("/*")[0].trim()):!1,iZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,b_={};function rZ(n){for(const e in n)b_[e]=n[e],cN(e)&&(b_[e].isCSSVariable=!0)}const Wy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fg=new Set(Wy);function Bk(n,{layout:e,layoutId:t}){return fg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!b_[n]||n==="opacity")}const ga=n=>!!(n&&n.getVelocity),kk=(n,e)=>e&&typeof n=="number"?e.transform(n):n,th=(n,e,t)=>t>e?e:t<n?n:t,Xy={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},__={...Xy,transform:n=>th(0,1,n)},aS={...Xy,default:1},px=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),gd=px("deg"),Xu=px("%"),_n=px("px"),sZ=px("vh"),aZ=px("vw"),yL={...Xu,parse:n=>Xu.parse(n)/100,transform:n=>Xu.transform(n*100)},oZ={borderWidth:_n,borderTopWidth:_n,borderRightWidth:_n,borderBottomWidth:_n,borderLeftWidth:_n,borderRadius:_n,radius:_n,borderTopLeftRadius:_n,borderTopRightRadius:_n,borderBottomRightRadius:_n,borderBottomLeftRadius:_n,width:_n,maxWidth:_n,height:_n,maxHeight:_n,top:_n,right:_n,bottom:_n,left:_n,padding:_n,paddingTop:_n,paddingRight:_n,paddingBottom:_n,paddingLeft:_n,margin:_n,marginTop:_n,marginRight:_n,marginBottom:_n,marginLeft:_n,backgroundPositionX:_n,backgroundPositionY:_n},lZ={rotate:gd,rotateX:gd,rotateY:gd,rotateZ:gd,scale:aS,scaleX:aS,scaleY:aS,scaleZ:aS,skew:gd,skewX:gd,skewY:gd,distance:_n,translateX:_n,translateY:_n,translateZ:_n,x:_n,y:_n,z:_n,perspective:_n,transformPerspective:_n,opacity:__,originX:yL,originY:yL,originZ:_n},bL={...Xy,transform:Math.round},hN={...oZ,...lZ,zIndex:bL,size:_n,fillOpacity:__,strokeOpacity:__,numOctaves:bL},cZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uZ=Wy.length;function hZ(n,e,t){let i="",r=!0;for(let s=0;s<uZ;s++){const a=Wy[s],o=n[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||t){const u=kk(o,hN[a]);if(!c){r=!1;const d=cZ[a]||a;i+=`${d}(${u}) `}t&&(e[a]=u)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function fN(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let a=!1,o=!1;for(const c in e){const u=e[c];if(fg.has(c)){a=!0;continue}else if(cN(c)){r[c]=u;continue}else{const d=kk(u,hN[c]);c.startsWith("origin")?(o=!0,s[c]=d):i[c]=d}}if(e.transform||(a||t?i.transform=hZ(e,n.transform,t):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;i.transformOrigin=`${c} ${u} ${d}`}}const dN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fk(n,e,t){for(const i in e)!ga(e[i])&&!Bk(i,t)&&(n[i]=e[i])}function fZ({transformTemplate:n},e){return B.useMemo(()=>{const t=dN();return fN(t,e,n),Object.assign({},t.vars,t.style)},[e])}function dZ(n,e){const t=n.style||{},i={};return Fk(i,t,n),Object.assign(i,fZ(n,e)),i}function pZ(n,e){const t={},i=dZ(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const mZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pN(n){return typeof n!="string"||n.includes("-")?!1:!!(mZ.indexOf(n)>-1||/[A-Z]/u.test(n))}const gZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},vZ={offset:"strokeDashoffset",array:"strokeDasharray"};function yZ(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?gZ:vZ;n[s.offset]=_n.transform(-i);const a=_n.transform(e),o=_n.transform(t);n[s.array]=`${a} ${o}`}function _L(n,e,t){return typeof n=="string"?n:_n.transform(e+t*n)}function bZ(n,e,t){const i=_L(e,n.x,n.width),r=_L(t,n.y,n.height);return`${i} ${r}`}function mN(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,p){if(fN(n,u,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:y,dimensions:_}=n;v.transform&&(_&&(y.transform=v.transform),delete v.transform),_&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=bZ(_,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&yZ(v,a,o,c,!1)}const Hk=()=>({...dN(),attrs:{}}),gN=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _Z(n,e,t,i){const r=B.useMemo(()=>{const s=Hk();return mN(s,e,gN(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Fk(s,n.style,n),r.style={...s,...r.style}}return r}function xZ(n=!1){return(t,i,r,{latestValues:s},a)=>{const c=(pN(t)?_Z:pZ)(i,s,a,t),u=j$(i,typeof t=="string",n),d=t!==B.Fragment?{...u,...c,ref:r}:{},{children:p}=i,v=B.useMemo(()=>ga(p)?p.get():p,[p]);return B.createElement(t,{...d,children:v})}}function xL(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function vN(n,e,t,i){if(typeof e=="function"){const[r,s]=xL(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=xL(i);e=e(t!==void 0?t:n.custom,r,s)}return e}const jD=n=>Array.isArray(n),SZ=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),EZ=n=>jD(n)?n[n.length-1]||0:n;function LE(n){const e=ga(n)?n.get():n;return SZ(e)?e.toValue():e}function wZ({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,s){const a={latestValues:TZ(i,r,s,n),renderState:e()};return t&&(a.onMount=o=>t({props:i,current:o,...a}),a.onUpdate=o=>t(o)),a}const jk=n=>(e,t)=>{const i=B.useContext(aM),r=B.useContext(rM),s=()=>wZ(n,e,i,r);return t?s():hg(s)};function TZ(n,e,t,i){const r={},s=i(n,{});for(const v in s)r[v]=LE(s[v]);let{initial:a,animate:o}=n;const c=lM(n),u=Ik(n);e&&u&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!oM(p)){const v=Array.isArray(p)?p:[p];for(let y=0;y<v.length;y++){const _=vN(n,v[y]);if(_){const{transitionEnd:w,transition:S,...E}=_;for(const A in E){let R=E[A];if(Array.isArray(R)){const D=d?R.length-1:0;R=R[D]}R!==null&&(r[A]=R)}for(const A in w)r[A]=w[A]}}}return r}function yN(n,e,t){var i;const{style:r}=n,s={};for(const a in r)(ga(r[a])||e.style&&ga(e.style[a])||Bk(a,n)||((i=t==null?void 0:t.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const MZ={useVisualState:jk({scrapeMotionValuesFromProps:yN,createRenderState:dN})};function Gk(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function qk(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const Wk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xk(n,e,t,i){qk(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(Wk.has(r)?r:lN(r),e.attrs[r])}function Yk(n,e,t){const i=yN(n,e,t);for(const r in n)if(ga(n[r])||ga(e[r])){const s=Wy.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}const SL=["x","y","width","height","cx","cy","r"],AZ={useVisualState:jk({scrapeMotionValuesFromProps:Yk,createRenderState:Hk,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let s=!!n.drag;if(!s){for(const o in r)if(fg.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<SL.length;o++){const c=SL[o];n[c]!==e[c]&&(a=!0)}a&&Ei.read(()=>{Gk(t,i),Ei.render(()=>{mN(i,r,gN(t.tagName),n.transformTemplate),Xk(t,i)})})}})};function CZ(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...pN(i)?AZ:MZ,preloadedFeatures:n,useRender:xZ(r),createVisualElement:e,Component:i};return Q$(a)}}function x_(n,e,t){const i=n.getProps();return vN(i,e,t!==void 0?t:i.custom,n)}const Kk=new Set(["width","height","top","left","right","bottom",...Wy]);function RZ(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Fu(t))}function bN(n,e){const t=x_(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const a in s){const o=EZ(s[a]);RZ(n,a,o)}}function DZ(n){return!!(ga(n)&&n.add)}function GD(n,e){const t=n.getValue("willChange");if(DZ(t))return t.add(e)}function $k(n){return n.props[Lk]}const Zk=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,OZ=1e-7,NZ=12;function PZ(n,e,t,i,r){let s,a,o=0;do a=e+(t-e)/2,s=Zk(a,i,r)-n,s>0?t=a:e=a;while(Math.abs(s)>OZ&&++o<NZ);return a}function mx(n,e,t,i){if(n===e&&t===i)return Ga;const r=s=>PZ(s,0,1,n,t);return s=>s===0||s===1?s:Zk(r(s),e,i)}const Qk=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Jk=n=>e=>1-n(1-e),eF=mx(.33,1.53,.69,.99),_N=Jk(eF),tF=Qk(_N),nF=n=>(n*=2)<1?.5*_N(n):.5*(2-Math.pow(2,-10*(n-1))),xN=n=>1-Math.sin(Math.acos(n)),iF=Jk(xN),rF=Qk(xN),sF=n=>/^0[^.\s]+$/u.test(n);function IZ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||sF(n):!0}const Xb=n=>Math.round(n*1e5)/1e5,SN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LZ(n){return n==null}const UZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,EN=(n,e)=>t=>!!(typeof t=="string"&&UZ.test(t)&&t.startsWith(n)||e&&!LZ(t)&&Object.prototype.hasOwnProperty.call(t,e)),aF=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match(SN);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},zZ=n=>th(0,255,n),bC={...Xy,transform:n=>Math.round(zZ(n))},_m={test:EN("rgb","red"),parse:aF("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+bC.transform(n)+", "+bC.transform(e)+", "+bC.transform(t)+", "+Xb(__.transform(i))+")"};function VZ(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const qD={test:EN("#"),parse:VZ,transform:_m.transform},Wv={test:EN("hsl","hue"),parse:aF("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Xu.transform(Xb(e))+", "+Xu.transform(Xb(t))+", "+Xb(__.transform(i))+")"},ca={test:n=>_m.test(n)||qD.test(n)||Wv.test(n),parse:n=>_m.test(n)?_m.parse(n):Wv.test(n)?Wv.parse(n):qD.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?_m.transform(n):Wv.transform(n)},BZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kZ(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(SN))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(BZ))===null||t===void 0?void 0:t.length)||0)>0}const oF="number",lF="color",FZ="var",HZ="var(",EL="${}",jZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function S_(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(jZ,c=>(ca.test(c)?(i.color.push(s),r.push(lF),t.push(ca.parse(c))):c.startsWith(HZ)?(i.var.push(s),r.push(FZ),t.push(c)):(i.number.push(s),r.push(oF),t.push(parseFloat(c))),++s,EL)).split(EL);return{values:t,split:o,indexes:i,types:r}}function cF(n){return S_(n).values}function uF(n){const{split:e,types:t}=S_(n),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const o=t[a];o===oF?s+=Xb(r[a]):o===lF?s+=ca.transform(r[a]):s+=r[a]}return s}}const GZ=n=>typeof n=="number"?0:n;function qZ(n){const e=cF(n);return uF(n)(e.map(GZ))}const Ld={test:kZ,parse:cF,createTransformer:uF,getAnimatableNone:qZ},WZ=new Set(["brightness","contrast","saturate","opacity"]);function XZ(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(SN)||[];if(!i)return n;const r=t.replace(i,"");let s=WZ.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const YZ=/\b([a-z-]*)\(.*?\)/gu,WD={...Ld,getAnimatableNone:n=>{const e=n.match(YZ);return e?e.map(XZ).join(" "):n}},KZ={...hN,color:ca,backgroundColor:ca,outlineColor:ca,fill:ca,stroke:ca,borderColor:ca,borderTopColor:ca,borderRightColor:ca,borderBottomColor:ca,borderLeftColor:ca,filter:WD,WebkitFilter:WD},hF=n=>KZ[n];function fF(n,e){let t=hF(n);return t!==WD&&(t=Ld),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const $Z=new Set(["auto","none","0"]);function ZZ(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!$Z.has(s)&&S_(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=fF(t,r)}const xm=n=>n*180/Math.PI,XD=n=>{const e=xm(Math.atan2(n[1],n[0]));return YD(e)},QZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:XD,rotateZ:XD,skewX:n=>xm(Math.atan(n[1])),skewY:n=>xm(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},YD=n=>(n=n%360,n<0&&(n+=360),n),wL=XD,TL=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ML=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),JZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TL,scaleY:ML,scale:n=>(TL(n)+ML(n))/2,rotateX:n=>YD(xm(Math.atan2(n[6],n[5]))),rotateY:n=>YD(xm(Math.atan2(-n[2],n[0]))),rotateZ:wL,rotate:wL,skewX:n=>xm(Math.atan(n[4])),skewY:n=>xm(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function AL(n){return n.includes("scale")?1:0}function KD(n,e){if(!n||n==="none")return AL(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=JZ,r=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=QZ,r=o}if(!r)return AL(e);const s=i[e],a=r[1].split(",").map(tQ);return typeof s=="function"?s(a):a[s]}const eQ=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return KD(t,e)};function tQ(n){return parseFloat(n.trim())}const CL=n=>n===Xy||n===_n,nQ=new Set(["x","y","z"]),iQ=Wy.filter(n=>!nQ.has(n));function rQ(n){const e=[];return iQ.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const yy={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>KD(e,"x"),y:(n,{transform:e})=>KD(e,"y")};yy.translateX=yy.x;yy.translateY=yy.y;const Pm=new Set;let $D=!1,ZD=!1;function dF(){if(ZD){const n=Array.from(Pm).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=rQ(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))===null||o===void 0||o.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ZD=!1,$D=!1,Pm.forEach(n=>n.complete()),Pm.clear()}function pF(){Pm.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ZD=!0)})}function sQ(){pF(),dF()}class wN{constructor(e,t,i,r,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pm.add(this),$D||($D=!0,Ei.read(pF),Ei.resolveKeyframes(dF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=r==null?void 0:r.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const c=i.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pm.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pm.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mF=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),aQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oQ(n){const e=aQ.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function gF(n,e,t=1){const[i,r]=oQ(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return mF(a)?parseFloat(a):a}return uN(r)?gF(r,e,t+1):r}const vF=n=>e=>e.test(n),lQ={test:n=>n==="auto",parse:n=>n},yF=[Xy,_n,Xu,gd,aZ,sZ,lQ],RL=n=>yF.find(vF(n));class bF extends wN{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),uN(u))){const d=gF(u,t.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Kk.has(i)||e.length!==2)return;const[r,s]=e,a=RL(r),o=RL(s);if(a!==o)if(CL(a)&&CL(o))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)IZ(e[r])&&i.push(r);i.length&&ZZ(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yy[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=yy[i](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const DL=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ld.test(n)||n==="0")&&!n.startsWith("url("));function cQ(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function uQ(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=DL(r,e),o=DL(s,e);return!a||!o?!1:cQ(n)||(t==="spring"||tN(t))&&i}const hQ=n=>n!==null;function cM(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(hQ),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const fQ=40;class _F{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Wu.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fQ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sQ(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Wu.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!uQ(e,i,r,s))if(a)this.options.duration=0;else{c&&c(cM(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xr=(n,e,t)=>n+(e-n)*t;function _C(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function dQ({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,c=2*t-o;r=_C(c,o,n+1/3),s=_C(c,o,n),a=_C(c,o,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function Mw(n,e){return t=>t>0?e:n}const xC=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},pQ=[qD,_m,Wv],mQ=n=>pQ.find(e=>e.test(n));function OL(n){const e=mQ(n);if(!e)return!1;let t=e.parse(n);return e===Wv&&(t=dQ(t)),t}const NL=(n,e)=>{const t=OL(n),i=OL(e);if(!t||!i)return Mw(n,e);const r={...t};return s=>(r.red=xC(t.red,i.red,s),r.green=xC(t.green,i.green,s),r.blue=xC(t.blue,i.blue,s),r.alpha=xr(t.alpha,i.alpha,s),_m.transform(r))},gQ=(n,e)=>t=>e(n(t)),gx=(...n)=>n.reduce(gQ),QD=new Set(["none","hidden"]);function vQ(n,e){return QD.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function yQ(n,e){return t=>xr(n,e,t)}function TN(n){return typeof n=="number"?yQ:typeof n=="string"?uN(n)?Mw:ca.test(n)?NL:xQ:Array.isArray(n)?xF:typeof n=="object"?ca.test(n)?NL:bQ:Mw}function xF(n,e){const t=[...n],i=t.length,r=n.map((s,a)=>TN(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)t[a]=r[a](s);return t}}function bQ(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=TN(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function _Q(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=n.indexes[a][r[a]],c=(t=n.values[o])!==null&&t!==void 0?t:0;i[s]=c,r[a]++}return i}const xQ=(n,e)=>{const t=Ld.createTransformer(e),i=S_(n),r=S_(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?QD.has(n)&&!r.values.length||QD.has(e)&&!i.values.length?vQ(n,e):gx(xF(_Q(i,r),r.values),t):Mw(n,e)};function SF(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?xr(n,e,t):TN(n)(n,e)}const SQ=5;function EF(n,e,t){const i=Math.max(e-SQ,0);return JO(t-n(i),e-i)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},PL=.001;function EQ({duration:n=zr.duration,bounce:e=zr.bounce,velocity:t=zr.velocity,mass:i=zr.mass}){let r,s,a=1-e;a=th(zr.minDamping,zr.maxDamping,a),n=th(zr.minDuration,zr.maxDuration,sf(n)),a<1?(r=u=>{const d=u*a,p=d*n,v=d-t,y=JD(u,a),_=Math.exp(-p);return PL-v/y*_},s=u=>{const p=u*a*n,v=p*t+t,y=Math.pow(a,2)*Math.pow(u,2)*n,_=Math.exp(-p),w=JD(Math.pow(u,2),a);return(-r(u)+PL>0?-1:1)*((v-y)*_)/w}):(r=u=>{const d=Math.exp(-u*n),p=(u-t)*n+1;return-.001+d*p},s=u=>{const d=Math.exp(-u*n),p=(t-u)*(n*n);return d*p});const o=5/n,c=TQ(r,s,o);if(n=rf(n),isNaN(c))return{stiffness:zr.stiffness,damping:zr.damping,duration:n};{const u=Math.pow(c,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:n}}}const wQ=12;function TQ(n,e,t){let i=t;for(let r=1;r<wQ;r++)i=i-n(i)/e(i);return i}function JD(n,e){return n*Math.sqrt(1-e*e)}const MQ=["duration","bounce"],AQ=["stiffness","damping","mass"];function IL(n,e){return e.some(t=>n[t]!==void 0)}function CQ(n){let e={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...n};if(!IL(n,AQ)&&IL(n,MQ))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*th(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:zr.mass,stiffness:r,damping:s}}else{const t=EQ(n);e={...e,...t,mass:zr.mass},e.isResolvedFromDuration=!0}return e}function wF(n=zr.visualDuration,e=zr.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:p,velocity:v,isResolvedFromDuration:y}=CQ({...t,velocity:-sf(t.velocity||0)}),_=v||0,w=u/(2*Math.sqrt(c*d)),S=a-s,E=sf(Math.sqrt(c/d)),A=Math.abs(S)<5;i||(i=A?zr.restSpeed.granular:zr.restSpeed.default),r||(r=A?zr.restDelta.granular:zr.restDelta.default);let R;if(w<1){const k=JD(E,w);R=N=>{const z=Math.exp(-w*E*N);return a-z*((_+w*E*S)/k*Math.sin(k*N)+S*Math.cos(k*N))}}else if(w===1)R=k=>a-Math.exp(-E*k)*(S+(_+E*S)*k);else{const k=E*Math.sqrt(w*w-1);R=N=>{const z=Math.exp(-w*E*N),V=Math.min(k*N,300);return a-z*((_+w*E*S)*Math.sinh(V)+k*S*Math.cosh(V))/k}}const D={calculatedDuration:y&&p||null,next:k=>{const N=R(k);if(y)o.done=k>=p;else{let z=0;w<1&&(z=k===0?rf(_):EF(R,k,N));const V=Math.abs(z)<=i,I=Math.abs(a-N)<=r;o.done=V&&I}return o.value=o.done?a:N,o},toString:()=>{const k=Math.min(wk(D),FD),N=Tk(z=>D.next(k*z).value,k,30);return k+"ms "+N}};return D}function LL({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const p=n[0],v={done:!1,value:p},y=V=>o!==void 0&&V<o||c!==void 0&&V>c,_=V=>o===void 0?c:c===void 0||Math.abs(o-V)<Math.abs(c-V)?o:c;let w=t*e;const S=p+w,E=a===void 0?S:a(S);E!==S&&(w=E-p);const A=V=>-w*Math.exp(-V/i),R=V=>E+A(V),D=V=>{const I=A(V),L=R(V);v.done=Math.abs(I)<=u,v.value=v.done?E:L};let k,N;const z=V=>{y(v.value)&&(k=V,N=wF({keyframes:[v.value,_(v.value)],velocity:EF(R,V,v.value),damping:r,stiffness:s,restDelta:u,restSpeed:d}))};return z(0),{calculatedDuration:null,next:V=>{let I=!1;return!N&&k===void 0&&(I=!0,D(V),z(V)),k!==void 0&&V>=k?N.next(V-k):(!I&&D(V),v)}}}const RQ=mx(.42,0,1,1),DQ=mx(0,0,.58,1),TF=mx(.42,0,.58,1),OQ=n=>Array.isArray(n)&&typeof n[0]!="number",NQ={linear:Ga,easeIn:RQ,easeInOut:TF,easeOut:DQ,circIn:xN,circInOut:rF,circOut:iF,backIn:_N,backInOut:tF,backOut:eF,anticipate:nF},UL=n=>{if(nN(n)){Sk(n.length===4);const[e,t,i,r]=n;return mx(e,t,i,r)}else if(typeof n=="string")return NQ[n];return n};function PQ(n,e,t){const i=[],r=t||SF,s=n.length-1;for(let a=0;a<s;a++){let o=r(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||Ga:e;o=gx(c,o)}i.push(o)}return i}function MN(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(Sk(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=PQ(e,i,r),c=o.length,u=d=>{if(a&&d<n[0])return e[0];let p=0;if(c>1)for(;p<n.length-2&&!(d<n[p+1]);p++);const v=jm(n[p],n[p+1],d);return o[p](v)};return t?d=>u(th(n[0],n[s-1],d)):u}function IQ(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=jm(0,e,i);n.push(xr(t,1,r))}}function MF(n){const e=[0];return IQ(e,n.length-1),e}function LQ(n,e){return n.map(t=>t*e)}function UQ(n,e){return n.map(()=>e||TF).splice(0,n.length-1)}function Aw({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=OQ(i)?i.map(UL):UL(i),s={done:!1,value:e[0]},a=LQ(t&&t.length===e.length?t:MF(e),n),o=MN(a,e,{ease:Array.isArray(r)?r:UQ(e,r)});return{calculatedDuration:n,next:c=>(s.value=o(c),s.done=c>=n,s)}}const zQ=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ei.update(e,!0),stop:()=>Oc(e),now:()=>Cs.isProcessing?Cs.timestamp:Wu.now()}},VQ={decay:LL,inertia:LL,tween:Aw,keyframes:Aw,spring:wF},BQ=n=>n/100;class AN extends _F{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:i,element:r,keyframes:s}=this.options,a=(r==null?void 0:r.KeyframeResolver)||wN,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(s,o,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,o=tN(t)?t:VQ[t]||Aw;let c,u;o!==Aw&&typeof e[0]!="number"&&(c=gx(BQ,SF(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=wk(d));const{calculatedDuration:p}=d,v=p+r,y=v*(i+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:v,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:p}=i;if(this.startTime===null)return s.next(0);const{delay:v,repeat:y,repeatType:_,repeatDelay:w,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-v*(this.speed>=0?1:-1),A=this.speed>=0?E<0:E>d;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let R=this.currentTime,D=s;if(y){const V=Math.min(this.currentTime,d)/p;let I=Math.floor(V),L=V%1;!L&&V>=1&&(L=1),L===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(_==="reverse"?(L=1-L,w&&(L-=w/p)):_==="mirror"&&(D=a)),R=th(0,1,L)*p}const k=A?{done:!1,value:c[0]}:D.next(R);o&&(k.value=o(k.value));let{done:N}=k;!A&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return z&&r!==void 0&&(k.value=cM(c,this.options,r)),S&&S(k.value),z&&this.finish(),k}get duration(){const{resolved:e}=this;return e?sf(e.calculatedDuration):0}get time(){return sf(this.currentTime)}set time(e){e=rf(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=sf(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zQ,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const kQ=new Set(["opacity","clipPath","filter","transform"]);function FQ(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[e]:t};c&&(u.offset=c);const d=Ak(o,r);return Array.isArray(d)&&(u.easing=d),n.animate(u,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const HQ=ZO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cw=10,jQ=2e4;function GQ(n){return tN(n.type)||n.type==="spring"||!Mk(n.ease)}function qQ(n,e){const t=new AN({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<jQ;)i=t.sample(s),r.push(i.value),s+=Cw;return{times:void 0,keyframes:r,duration:s-Cw,ease:"linear"}}const AF={anticipate:nF,backInOut:tF,circInOut:rF};function WQ(n){return n in AF}class zL extends _F{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new bF(s,(a,o)=>this.onKeyframesResolved(a,o),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:s,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&ww()&&WQ(s)&&(s=AF[s]),GQ(this.options)){const{onComplete:p,onUpdate:v,motionValue:y,element:_,...w}=this.options,S=qQ(e,w);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,s=S.ease,a="keyframes"}const d=FQ(o.owner.current,c,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(uL(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;o.set(cM(e,this.options,t)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return sf(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return sf(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=rf(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Ga;const{animation:i}=t;uL(i,e)}return Ga}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:p,element:v,...y}=this.options,_=new AN({...y,keyframes:i,duration:r,type:s,ease:a,times:o,isGenerator:!0}),w=rf(this.time);u.setWithVelocity(_.sample(w-Cw).value,_.sample(w).value,Cw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return HQ()&&i&&kQ.has(i)&&!c&&!u&&!r&&s!=="mirror"&&a!==0&&o!=="inertia"}}const XQ={type:"spring",stiffness:500,damping:25,restSpeed:10},YQ=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),KQ={type:"keyframes",duration:.8},$Q={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZQ=(n,{keyframes:e})=>e.length>2?KQ:fg.has(n)?n.startsWith("scale")?YQ(e[1]):XQ:$Q;function QQ({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const CN=(n,e,t,i={},r,s)=>a=>{const o=eN(i,n)||{},c=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-rf(c);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:v=>{e.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:r};QQ(o)||(d={...d,...ZQ(n,d)}),d.duration&&(d.duration=rf(d.duration)),d.repeatDelay&&(d.repeatDelay=rf(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),d.allowFlatten=!o.type&&!o.ease,p&&!s&&e.get()!==void 0){const v=cM(d.keyframes,o);if(v!==void 0)return Ei.update(()=>{d.onUpdate(v),d.onComplete()}),new T$([])}return!s&&zL.supports(d)?new zL(d):new AN(d)};function JQ({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function CF(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var s;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...c}=e;i&&(a=i);const u=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const p in c){const v=n.getValue(p,(s=n.latestValues[p])!==null&&s!==void 0?s:null),y=c[p];if(y===void 0||d&&JQ(d,p))continue;const _={delay:t,...eN(a||{},p)};let w=!1;if(window.MotionHandoffAnimation){const E=$k(n);if(E){const A=window.MotionHandoffAnimation(E,p,Ei);A!==null&&(_.startTime=A,w=!0)}}GD(n,p),v.start(CN(p,v,y,n.shouldReduceMotion&&Kk.has(p)?{type:!1}:_,n,w));const S=v.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{Ei.update(()=>{o&&bN(n,o)})}),u}function e3(n,e,t={}){var i;const r=x_(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(CF(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:v}=s;return eJ(n,e,d+u,p,v,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(t.delay)])}function eJ(n,e,t=0,i=0,r=1,s){const a=[],o=(n.variantChildren.size-1)*i,c=r===1?(u=0)=>u*i:(u=0)=>o-u*i;return Array.from(n.variantChildren).sort(tJ).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(e3(u,e,{...s,delay:t+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function tJ(n,e){return n.sortNodePosition(e)}function RF(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>e3(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=e3(n,e,t);else{const r=typeof e=="function"?x_(n,e,t.custom):e;i=Promise.all(CF(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function DF(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const nJ=oN.length;function OF(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?OF(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<nJ;t++){const i=oN[t],r=n.props[i];(y_(r)||r===!1)&&(e[i]=r)}return e}const iJ=[...aN].reverse(),rJ=aN.length;function sJ(n){return e=>Promise.all(e.map(({animation:t,options:i})=>RF(n,t,i)))}function aJ(n){let e=sJ(n),t=VL(),i=!0;const r=c=>(u,d)=>{var p;const v=x_(n,d,c==="exit"?(p=n.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(v){const{transition:y,transitionEnd:_,...w}=v;u={...u,...w,..._}}return u};function s(c){e=c(n)}function a(c){const{props:u}=n,d=OF(n.parent)||{},p=[],v=new Set;let y={},_=1/0;for(let S=0;S<rJ;S++){const E=iJ[S],A=t[E],R=u[E]!==void 0?u[E]:d[E],D=y_(R),k=E===c?A.isActive:null;k===!1&&(_=S);let N=R===d[E]&&R!==u[E]&&D;if(N&&i&&n.manuallyAnimateOnMount&&(N=!1),A.protectedKeys={...y},!A.isActive&&k===null||!R&&!A.prevProp||oM(R)||typeof R=="boolean")continue;const z=oJ(A.prevProp,R);let V=z||E===c&&A.isActive&&!N&&D||S>_&&D,I=!1;const L=Array.isArray(R)?R:[R];let j=L.reduce(r(E),{});k===!1&&(j={});const{prevResolvedValues:X={}}=A,G={...X,...j},re=ue=>{V=!0,v.has(ue)&&(I=!0,v.delete(ue)),A.needsAnimating[ue]=!0;const ne=n.getValue(ue);ne&&(ne.liveStyle=!1)};for(const ue in G){const ne=j[ue],ve=X[ue];if(y.hasOwnProperty(ue))continue;let Z=!1;jD(ne)&&jD(ve)?Z=!DF(ne,ve):Z=ne!==ve,Z?ne!=null?re(ue):v.add(ue):ne!==void 0&&v.has(ue)?re(ue):A.protectedKeys[ue]=!0}A.prevProp=R,A.prevResolvedValues=j,A.isActive&&(y={...y,...j}),i&&n.blockInitialAnimation&&(V=!1),V&&(!(N&&z)||I)&&p.push(...L.map(ue=>({animation:ue,options:{type:E}})))}if(v.size){const S={};if(typeof u.initial!="boolean"){const E=x_(n,Array.isArray(u.initial)?u.initial[0]:u.initial);E&&E.transition&&(S.transition=E.transition)}v.forEach(E=>{const A=n.getBaseTarget(E),R=n.getValue(E);R&&(R.liveStyle=!0),S[E]=A??null}),p.push({animation:S})}let w=!!p.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(p):Promise.resolve()}function o(c,u){var d;if(t[c].isActive===u)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(v=>{var y;return(y=v.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),t[c].isActive=u;const p=a(c);for(const v in t)t[v].protectedKeys={};return p}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=VL(),i=!0}}}function oJ(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!DF(e,n):!1}function Gp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VL(){return{animate:Gp(!0),whileInView:Gp(),whileHover:Gp(),whileTap:Gp(),whileDrag:Gp(),whileFocus:Gp(),exit:Gp()}}class Zd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lJ extends Zd{constructor(e){super(e),e.animationState||(e.animationState=aJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();oM(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cJ=0;class uJ extends Zd{constructor(){super(...arguments),this.id=cJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hJ={animation:{Feature:lJ},exit:{Feature:uJ}};function E_(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function vx(n){return{point:{x:n.pageX,y:n.pageY}}}const fJ=n=>e=>sN(e)&&n(e,vx(e));function Yb(n,e,t,i){return E_(n,e,fJ(t),i)}function NF({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function dJ({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function pJ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const PF=1e-4,mJ=1-PF,gJ=1+PF,IF=.01,vJ=0-IF,yJ=0+IF;function ja(n){return n.max-n.min}function bJ(n,e,t){return Math.abs(n-e)<=t}function BL(n,e,t,i=.5){n.origin=i,n.originPoint=xr(e.min,e.max,n.origin),n.scale=ja(t)/ja(e),n.translate=xr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=mJ&&n.scale<=gJ||isNaN(n.scale))&&(n.scale=1),(n.translate>=vJ&&n.translate<=yJ||isNaN(n.translate))&&(n.translate=0)}function Kb(n,e,t,i){BL(n.x,e.x,t.x,i?i.originX:void 0),BL(n.y,e.y,t.y,i?i.originY:void 0)}function kL(n,e,t){n.min=t.min+e.min,n.max=n.min+ja(e)}function _J(n,e,t){kL(n.x,e.x,t.x),kL(n.y,e.y,t.y)}function FL(n,e,t){n.min=e.min-t.min,n.max=n.min+ja(e)}function $b(n,e,t){FL(n.x,e.x,t.x),FL(n.y,e.y,t.y)}const HL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xv=()=>({x:HL(),y:HL()}),jL=()=>({min:0,max:0}),jr=()=>({x:jL(),y:jL()});function Ol(n){return[n("x"),n("y")]}function SC(n){return n===void 0||n===1}function t3({scale:n,scaleX:e,scaleY:t}){return!SC(n)||!SC(e)||!SC(t)}function cm(n){return t3(n)||LF(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function LF(n){return GL(n.x)||GL(n.y)}function GL(n){return n&&n!=="0%"}function Rw(n,e,t){const i=n-t,r=e*i;return t+r}function qL(n,e,t,i,r){return r!==void 0&&(n=Rw(n,r,i)),Rw(n,t,i)+e}function n3(n,e=0,t=1,i,r){n.min=qL(n.min,e,t,i,r),n.max=qL(n.max,e,t,i,r)}function UF(n,{x:e,y:t}){n3(n.x,e.translate,e.scale,e.originPoint),n3(n.y,t.translate,t.scale,t.originPoint)}const WL=.999999999999,XL=1.0000000000001;function xJ(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let o=0;o<r;o++){s=t[o],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Kv(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,UF(n,a)),i&&cm(s.latestValues)&&Kv(n,s.latestValues))}e.x<XL&&e.x>WL&&(e.x=1),e.y<XL&&e.y>WL&&(e.y=1)}function Yv(n,e){n.min=n.min+e,n.max=n.max+e}function YL(n,e,t,i,r=.5){const s=xr(n.min,n.max,r);n3(n,e,t,s,i)}function Kv(n,e){YL(n.x,e.x,e.scaleX,e.scale,e.originX),YL(n.y,e.y,e.scaleY,e.scale,e.originY)}function zF(n,e){return NF(pJ(n.getBoundingClientRect(),e))}function SJ(n,e,t){const i=zF(n,t),{scroll:r}=e;return r&&(Yv(i.x,r.offset.x),Yv(i.y,r.offset.y)),i}const VF=({current:n})=>n?n.ownerDocument.defaultView:null,KL=(n,e)=>Math.abs(n-e);function EJ(n,e){const t=KL(n.x,e.x),i=KL(n.y,e.y);return Math.sqrt(t**2+i**2)}class BF{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=wC(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=EJ(p.offset,{x:0,y:0})>=3;if(!v&&!y)return;const{point:_}=p,{timestamp:w}=Cs;this.history.push({..._,timestamp:w});const{onStart:S,onMove:E}=this.handlers;v||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=EC(v,this.transformPagePoint),Ei.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:y,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=wC(p.type==="pointercancel"?this.lastMoveEventInfo:EC(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,S),_&&_(p,S)},!sN(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const a=vx(e),o=EC(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Cs;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,wC(o,this.history)),this.removeListeners=gx(Yb(this.contextWindow,"pointermove",this.handlePointerMove),Yb(this.contextWindow,"pointerup",this.handlePointerUp),Yb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oc(this.updatePoint)}}function EC(n,e){return e?{point:e(n.point)}:n}function $L(n,e){return{x:n.x-e.x,y:n.y-e.y}}function wC({point:n},e){return{point:n,delta:$L(n,kF(e)),offset:$L(n,wJ(e)),velocity:TJ(e,.1)}}function wJ(n){return n[0]}function kF(n){return n[n.length-1]}function TJ(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=kF(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>rf(e)));)t--;if(!i)return{x:0,y:0};const s=sf(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function MJ(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?xr(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?xr(t,n,i.max):Math.min(n,t)),n}function ZL(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function AJ(n,{top:e,left:t,bottom:i,right:r}){return{x:ZL(n.x,t,r),y:ZL(n.y,e,i)}}function QL(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function CJ(n,e){return{x:QL(n.x,e.x),y:QL(n.y,e.y)}}function RJ(n,e){let t=.5;const i=ja(n),r=ja(e);return r>i?t=jm(e.min,e.max-i,n.min):i>r&&(t=jm(n.min,n.max-r,e.min)),th(0,1,t)}function DJ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const i3=.35;function OJ(n=i3){return n===!1?n=0:n===!0&&(n=i3),{x:JL(n,"left","right"),y:JL(n,"top","bottom")}}function JL(n,e,t){return{min:eU(n,e),max:eU(n,t)}}function eU(n,e){return typeof n=="number"?n:n[e]||0}const NJ=new WeakMap;class PJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vx(d).point)},s=(d,p)=>{const{drag:v,dragPropagation:y,onDragStart:_}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O$(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ol(S=>{let E=this.getAxisMotionValue(S).get()||0;if(Xu.test(E)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[S];R&&(E=ja(R)*(parseFloat(E)/100))}}this.originPoint[S]=E}),_&&Ei.postRender(()=>_(d,p)),GD(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,p)=>{const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:_,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=p;if(y&&this.currentDirection===null){this.currentDirection=IJ(S),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),w&&w(d,p)},o=(d,p)=>this.stop(d,p),c=()=>Ol(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new BF(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:VF(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Ei.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!oS(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=MJ(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&qv(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=AJ(r.layoutBox,t):this.constraints=!1,this.elastic=OJ(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ol(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=DJ(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!qv(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=SJ(i,r.root,this.visualElement.getTransformPagePoint());let a=CJ(r.layout.layoutBox,s);if(t){const o=t(dJ(a));this.hasMutatedConstraints=!!o,o&&(a=NF(o))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Ol(d=>{if(!oS(d,t,this.currentDirection))return;let p=c&&c[d]||{};a&&(p={min:0,max:0});const v=r?200:1e6,y=r?40:1e7,_={type:"inertia",velocity:i?e[d]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,_)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return GD(this.visualElement,e),i.start(CN(e,i,0,t,this.visualElement,!1))}stopAnimation(){Ol(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ol(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ol(t=>{const{drag:i}=this.getProps();if(!oS(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[t];s.set(e[t]-xr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!qv(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ol(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();r[a]=RJ({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ol(a=>{if(!oS(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(xr(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;NJ.set(this.visualElement,this);const e=this.visualElement.current,t=Yb(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();qv(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ei.read(i);const a=E_(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ol(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=i3,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function oS(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function IJ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class LJ extends Zd{constructor(e){super(e),this.removeGroupControls=Ga,this.removeListeners=Ga,this.controls=new PJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ga}unmount(){this.removeGroupControls(),this.removeListeners()}}const tU=n=>(e,t)=>{n&&Ei.postRender(()=>n(e,t))};class UJ extends Zd{constructor(){super(...arguments),this.removePointerDownListener=Ga}onPointerDown(e){this.session=new BF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:tU(e),onStart:tU(t),onMove:i,onEnd:(s,a)=>{delete this.session,r&&Ei.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=Yb(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const UE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nU(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const gb={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_n.test(n))n=parseFloat(n);else return n;const t=nU(n,e.target.x),i=nU(n,e.target.y);return`${t}% ${i}%`}},zJ={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Ld.parse(n);if(r.length>5)return i;const s=Ld.createTransformer(n),a=typeof r[0]!="number"?1:0,o=t.x.scale*e.x,c=t.y.scale*e.y;r[0+a]/=o,r[1+a]/=c;const u=xr(o,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),s(r)}};class VJ extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;rZ(BJ),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),UE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Ei.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FF(n){const[e,t]=xk(),i=B.useContext(XO);return U.jsx(VJ,{...n,layoutGroup:i,switchLayoutGroup:B.useContext(Uk),isPresent:e,safeToRemove:t})}const BJ={borderRadius:{...gb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gb,borderTopRightRadius:gb,borderBottomLeftRadius:gb,borderBottomRightRadius:gb,boxShadow:zJ};function kJ(n,e,t){const i=ga(n)?n:Fu(n);return i.start(CN("",i,e,t)),i.animation}function FJ(n){return n instanceof SVGElement&&n.tagName!=="svg"}const HJ=(n,e)=>n.depth-e.depth;class jJ{constructor(){this.children=[],this.isDirty=!1}add(e){KO(this.children,e),this.isDirty=!0}remove(e){$O(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HJ),this.isDirty=!1,this.children.forEach(e)}}function GJ(n,e){const t=Wu.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Oc(i),n(s-e))};return Ei.read(i,!0),()=>Oc(i)}const HF=["TopLeft","TopRight","BottomLeft","BottomRight"],qJ=HF.length,iU=n=>typeof n=="string"?parseFloat(n):n,rU=n=>typeof n=="number"||_n.test(n);function WJ(n,e,t,i,r,s){r?(n.opacity=xr(0,t.opacity!==void 0?t.opacity:1,XJ(i)),n.opacityExit=xr(e.opacity!==void 0?e.opacity:1,0,YJ(i))):s&&(n.opacity=xr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let a=0;a<qJ;a++){const o=`border${HF[a]}Radius`;let c=sU(e,o),u=sU(t,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||rU(c)===rU(u)?(n[o]=Math.max(xr(iU(c),iU(u),i),0),(Xu.test(u)||Xu.test(c))&&(n[o]+="%")):n[o]=u}(e.rotate||t.rotate)&&(n.rotate=xr(e.rotate||0,t.rotate||0,i))}function sU(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const XJ=jF(0,.5,iF),YJ=jF(.5,.95,Ga);function jF(n,e,t){return i=>i<n?0:i>e?1:t(jm(n,e,i))}function aU(n,e){n.min=e.min,n.max=e.max}function Al(n,e){aU(n.x,e.x),aU(n.y,e.y)}function oU(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function lU(n,e,t,i,r){return n-=e,n=Rw(n,1/t,i),r!==void 0&&(n=Rw(n,1/r,i)),n}function KJ(n,e=0,t=1,i=.5,r,s=n,a=n){if(Xu.test(e)&&(e=parseFloat(e),e=xr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=xr(s.min,s.max,i);n===s&&(o-=e),n.min=lU(n.min,e,t,o,r),n.max=lU(n.max,e,t,o,r)}function cU(n,e,[t,i,r],s,a){KJ(n,e[t],e[i],e[r],e.scale,s,a)}const $J=["x","scaleX","originX"],ZJ=["y","scaleY","originY"];function uU(n,e,t,i){cU(n.x,e,$J,t?t.x:void 0,i?i.x:void 0),cU(n.y,e,ZJ,t?t.y:void 0,i?i.y:void 0)}function hU(n){return n.translate===0&&n.scale===1}function GF(n){return hU(n.x)&&hU(n.y)}function fU(n,e){return n.min===e.min&&n.max===e.max}function QJ(n,e){return fU(n.x,e.x)&&fU(n.y,e.y)}function dU(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function qF(n,e){return dU(n.x,e.x)&&dU(n.y,e.y)}function pU(n){return ja(n.x)/ja(n.y)}function mU(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class JJ{constructor(){this.members=[]}add(e){KO(this.members,e),e.scheduleRender()}remove(e){if($O(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eee(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:v,skewX:y,skewY:_}=t;u&&(i=`perspective(${u}px) ${i}`),d&&(i+=`rotate(${d}deg) `),p&&(i+=`rotateX(${p}deg) `),v&&(i+=`rotateY(${v}deg) `),y&&(i+=`skewX(${y}deg) `),_&&(i+=`skewY(${_}deg) `)}const o=n.x.scale*e.x,c=n.y.scale*e.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const TC=["","X","Y","Z"],tee={visibility:"hidden"},gU=1e3;let nee=0;function MC(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function WF(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=$k(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ei,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&WF(i)}function XF({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=nee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(see),this.nodes.forEach(uee),this.nodes.forEach(hee),this.nodes.forEach(aee)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jJ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new QO),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FJ(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),n){let p;const v=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=GJ(v,250),UE.hasAnimatedSinceResize&&(UE.hasAnimatedSinceResize=!1,this.nodes.forEach(yU))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||gee,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=d.getProps(),A=!this.targetLayout||!qF(this.targetLayout,_),R=!v&&y;if(this.options.layoutRoot||this.resumeFrom||R||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,R);const D={...eN(w,"layout"),onPlay:S,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else v||yU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fee),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vU);return}this.isUpdating||this.nodes.forEach(lee),this.isUpdating=!1,this.nodes.forEach(cee),this.nodes.forEach(iee),this.nodes.forEach(ree),this.clearAllSnapshots();const o=Wu.now();Cs.delta=th(0,1e3/60,o-Cs.timestamp),Cs.timestamp=o,Cs.isProcessing=!0,vC.update.process(Cs),vC.preRender.process(Cs),vC.render.process(Cs),Cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oee),this.sharedNodes.forEach(dee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ei.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ei.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ja(this.snapshot.measuredBox.x)&&!ja(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!GF(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||cm(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),vee(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return jr();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(yee))){const{scroll:d}=this.root;d&&(Yv(c.x,d.offset.x),Yv(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=jr();if(Al(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:v}=d;d!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&Al(c,a),Yv(c.x,p.offset.x),Yv(c.y,p.offset.y))}return c}applyTransform(a,o=!1){const c=jr();Al(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Kv(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cm(d.latestValues)&&Kv(c,d.latestValues)}return cm(this.latestValues)&&Kv(c,this.latestValues),c}removeTransform(a){const o=jr();Al(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!cm(u.latestValues))continue;t3(u.latestValues)&&u.updateSnapshot();const d=jr(),p=u.measurePageBox();Al(d,p),uU(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return cm(this.latestValues)&&uU(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Cs.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),$b(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jr(),this.targetWithTransforms=jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_J(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Al(this.target,this.layout.layoutBox),UF(this.target,this.targetDelta)):Al(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),$b(this.relativeTargetOrigin,this.target,y.target),Al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||t3(this.parent.latestValues)||LF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Cs.timestamp&&(u=!1),u)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Al(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,y=this.treeScale.y;xJ(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jr());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oU(this.prevProjectionDelta.x,this.projectionDelta.x),oU(this.prevProjectionDelta.y,this.projectionDelta.y)),Kb(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==y||!mU(this.projectionDelta.x,this.prevProjectionDelta.x)||!mU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xv(),this.projectionDelta=Xv(),this.projectionDeltaWithTransform=Xv()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},p=Xv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const v=jr(),y=c?c.source:void 0,_=this.layout?this.layout.source:void 0,w=y!==_,S=this.getStack(),E=!S||S.members.length<=1,A=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(mee));this.animationProgress=0;let R;this.mixTargetDelta=D=>{const k=D/1e3;bU(p.x,a.x,k),bU(p.y,a.y,k),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($b(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pee(this.relativeTarget,this.relativeTargetOrigin,v,k),R&&QJ(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=jr()),Al(R,this.relativeTarget)),w&&(this.animationValues=d,WJ(d,u,this.latestValues,k,A,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ei.update(()=>{UE.hasAnimatedSinceResize=!0,this.currentAnimation=kJ(0,gU,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&YF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||jr();const p=ja(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const v=ja(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+v}Al(o,c),Kv(o,d),Kb(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new JJ),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&MC("z",a,u,this.animationValues);for(let d=0;d<TC.length;d++)MC(`rotate${TC[d]}`,a,u,this.animationValues),MC(`skew${TC[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tee;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=LE(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=LE(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!cm(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const v=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=eee(this.projectionDeltaWithTransform,this.treeScale,v),d&&(u.transform=d(v,u.transform));const{x:y,y:_}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(o=v.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in b_){if(v[w]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:A}=b_[w],R=u.transform==="none"?v[w]:S(v[w],p);if(E){const D=E.length;for(let k=0;k<D;k++)u[E[k]]=R}else A?this.options.visualElement.renderState.vars[w]=R:u[w]=R}return this.options.layoutId&&(u.pointerEvents=p===this?LE(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(vU),this.root.sharedNodes.clear()}}}function iee(n){n.updateLayout()}function ree(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?Ol(p=>{const v=a?t.measuredBox[p]:t.layoutBox[p],y=ja(v);v.min=i[p].min,v.max=v.min+y}):YF(s,t.layoutBox,i)&&Ol(p=>{const v=a?t.measuredBox[p]:t.layoutBox[p],y=ja(i[p]);v.max=v.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+y)});const o=Xv();Kb(o,i,t.layoutBox);const c=Xv();a?Kb(c,n.applyTransform(r,!0),t.measuredBox):Kb(c,i,t.layoutBox);const u=!GF(o);let d=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:y}=p;if(v&&y){const _=jr();$b(_,t.layoutBox,v.layoutBox);const w=jr();$b(w,i,y.layoutBox),qF(_,w)||(d=!0),p.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=_,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function see(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function aee(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function oee(n){n.clearSnapshot()}function vU(n){n.clearMeasurements()}function lee(n){n.isLayoutDirty=!1}function cee(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function yU(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function uee(n){n.resolveTargetDelta()}function hee(n){n.calcProjection()}function fee(n){n.resetSkewAndRotation()}function dee(n){n.removeLeadSnapshot()}function bU(n,e,t){n.translate=xr(e.translate,0,t),n.scale=xr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function _U(n,e,t,i){n.min=xr(e.min,t.min,i),n.max=xr(e.max,t.max,i)}function pee(n,e,t,i){_U(n.x,e.x,t.x,i),_U(n.y,e.y,t.y,i)}function mee(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const gee={duration:.45,ease:[.4,0,.1,1]},xU=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),SU=xU("applewebkit/")&&!xU("chrome/")?Math.round:Ga;function EU(n){n.min=SU(n.min),n.max=SU(n.max)}function vee(n){EU(n.x),EU(n.y)}function YF(n,e,t){return n==="position"||n==="preserve-aspect"&&!bJ(pU(e),pU(t),.2)}function yee(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const bee=XF({attachResizeListener:(n,e)=>E_(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AC={current:void 0},KF=XF({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!AC.current){const n=new bee({});n.mount(window),n.setOptions({layoutScroll:!0}),AC.current=n}return AC.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_ee={pan:{Feature:UJ},drag:{Feature:LJ,ProjectionNode:KF,MeasureLayout:FF}};function wU(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&Ei.postRender(()=>s(e,vx(e)))}class xee extends Zd{mount(){const{current:e}=this.node;e&&(this.unmount=N$(e,(t,i)=>(wU(this.node,i,"Start"),r=>wU(this.node,r,"End"))))}unmount(){}}class See extends Zd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gx(E_(this.node.current,"focus",()=>this.onFocus()),E_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TU(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&Ei.postRender(()=>s(e,vx(e)))}class Eee extends Zd{mount(){const{current:e}=this.node;e&&(this.unmount=U$(e,(t,i)=>(TU(this.node,i,"Start"),(r,{success:s})=>TU(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const r3=new WeakMap,CC=new WeakMap,wee=n=>{const e=r3.get(n.target);e&&e(n)},Tee=n=>{n.forEach(wee)};function Mee({root:n,...e}){const t=n||document;CC.has(t)||CC.set(t,{});const i=CC.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Tee,{root:n,...e})),i[r]}function Aee(n,e,t){const i=Mee(e);return r3.set(n,t),i.observe(n),()=>{r3.delete(n),i.unobserve(n)}}const Cee={some:0,all:1};class Ree extends Zd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Cee[r]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),v=u?d:p;v&&v(c)};return Aee(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Dee(e,t))&&this.startObserver()}unmount(){}}function Dee({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Oee={inView:{Feature:Ree},tap:{Feature:Eee},focus:{Feature:See},hover:{Feature:xee}},Nee={layout:{ProjectionNode:KF,MeasureLayout:FF}},s3={current:null},$F={current:!1};function Pee(){if($F.current=!0,!!YO)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>s3.current=n.matches;n.addListener(e),e()}else s3.current=!1}const Iee=[...yF,ca,Ld],Lee=n=>Iee.find(vF(n)),Uee=new WeakMap;function zee(n,e,t){for(const i in e){const r=e[i],s=t[i];if(ga(r))n.addValue(i,r);else if(ga(s))n.addValue(i,Fu(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=n.getStaticValue(i);n.addValue(i,Fu(a!==void 0?a:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const MU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vee{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Wu.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ei.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=lM(t),this.isVariantNode=Ik(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in v){const _=v[y];c[y]!==void 0&&ga(_)&&_.set(c[y],!1)}}mount(e){this.current=e,Uee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),$F.current||Pee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Oc(this.notifyUpdate),Oc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=fg.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ei.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vy){const t=vy[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<MU.length;i++){const r=MU[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=zee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Fu(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(mF(r)||sF(r))?r=parseFloat(r):!Lee(r)&&Ld.test(t)&&(r=fF(e,t)),this.setBaseTarget(e,ga(r)?r.get():r)),ga(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=vN(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(r=a[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ga(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new QO),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class ZF extends Vee{constructor(){super(...arguments),this.KeyframeResolver=bF}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ga(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Bee(n){return window.getComputedStyle(n)}class kee extends ZF{constructor(){super(...arguments),this.type="html",this.renderInstance=qk}readValueFromInstance(e,t){if(fg.has(t))return eQ(e,t);{const i=Bee(e),r=(cN(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return zF(e,t)}build(e,t,i){fN(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return yN(e,t,i)}}class Fee extends ZF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Gk(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fg.has(t)){const i=hF(t);return i&&i.default||0}return t=Wk.has(t)?t:lN(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Yk(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ei.postRender(this.updateDimensions)}build(e,t,i){mN(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){Xk(e,t,i,r)}mount(e){this.isSVGTag=gN(e.tagName),super.mount(e)}}const Hee=(n,e)=>pN(n)?new Fee(e):new kee(e,{allowProjection:n!==B.Fragment}),jee=CZ({...hJ,...Oee,..._ee,...Nee},Hee),ye=G$(jee);function QF(n,e){let t;const i=()=>{const{currentTime:r}=e,a=(r===null?0:r.value)/100;t!==a&&n(a),t=a};return Ei.update(i,!0),()=>Oc(i)}const zE=new WeakMap;let vd;function Gee(n,e){if(e){const{inlineSize:t,blockSize:i}=e[0];return{width:t,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function qee({target:n,contentRect:e,borderBoxSize:t}){var i;(i=zE.get(n))===null||i===void 0||i.forEach(r=>{r({target:n,contentSize:e,get size(){return Gee(n,t)}})})}function Wee(n){n.forEach(qee)}function Xee(){typeof ResizeObserver>"u"||(vd=new ResizeObserver(Wee))}function Yee(n,e){vd||Xee();const t=rN(n);return t.forEach(i=>{let r=zE.get(i);r||(r=new Set,zE.set(i,r)),r.add(e),vd==null||vd.observe(i)}),()=>{t.forEach(i=>{const r=zE.get(i);r==null||r.delete(e),r!=null&&r.size||vd==null||vd.unobserve(i)})}}const VE=new Set;let Zb;function Kee(){Zb=()=>{const n={width:window.innerWidth,height:window.innerHeight},e={target:window,size:n,contentSize:n};VE.forEach(t=>t(e))},window.addEventListener("resize",Zb)}function $ee(n){return VE.add(n),Zb||Kee(),()=>{VE.delete(n),!VE.size&&Zb&&(Zb=void 0)}}function Zee(n,e){return typeof n=="function"?$ee(n):Yee(n,e)}const Qee=50,AU=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Jee=()=>({time:0,x:AU(),y:AU()}),ete={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function CU(n,e,t,i){const r=t[e],{length:s,position:a}=ete[e],o=r.current,c=t.time;r.current=n[`scroll${a}`],r.scrollLength=n[`scroll${s}`]-n[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=jm(0,r.scrollLength,r.current);const u=i-c;r.velocity=u>Qee?0:JO(r.current-o,u)}function tte(n,e,t){CU(n,"x",e,t),CU(n,"y",e,t),e.time=t}function nte(n,e){const t={x:0,y:0};let i=n;for(;i&&i!==e;)if(i instanceof HTMLElement)t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();t.x+=r.left-s.left,t.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();t.x+=r,t.y+=s;let a=null,o=i.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=i.parentNode;i=a}else break;return t}const a3={start:0,center:.5,end:1};function RU(n,e,t=0){let i=0;if(n in a3&&(n=a3[n]),typeof n=="string"){const r=parseFloat(n);n.endsWith("px")?i=r:n.endsWith("%")?n=r/100:n.endsWith("vw")?i=r/100*document.documentElement.clientWidth:n.endsWith("vh")?i=r/100*document.documentElement.clientHeight:n=r}return typeof n=="number"&&(i=e*n),t+i}const ite=[0,0];function rte(n,e,t,i){let r=Array.isArray(n)?n:ite,s=0,a=0;return typeof n=="number"?r=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?r=n.split(" "):r=[n,a3[n]?n:"0"]),s=RU(r[0],t,i),a=RU(r[1],e),s-a}const ste={All:[[0,0],[1,1]]},ate={x:0,y:0};function ote(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function lte(n,e,t){const{offset:i=ste.All}=t,{target:r=n,axis:s="y"}=t,a=s==="y"?"height":"width",o=r!==n?nte(r,n):ate,c=r===n?{width:n.scrollWidth,height:n.scrollHeight}:ote(r),u={width:n.clientWidth,height:n.clientHeight};e[s].offset.length=0;let d=!e[s].interpolate;const p=i.length;for(let v=0;v<p;v++){const y=rte(i[v],u[a],c[a],o[s]);!d&&y!==e[s].interpolatorOffsets[v]&&(d=!0),e[s].offset[v]=y}d&&(e[s].interpolate=MN(e[s].offset,MF(i),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=th(0,1,e[s].interpolate(e[s].current))}function cte(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!==n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function ute(n,e,t,i={}){return{measure:()=>cte(n,i.target,t),update:r=>{tte(n,t,r),(i.offset||i.target)&&lte(n,t,i)},notify:()=>e(t)}}const vb=new WeakMap,DU=new WeakMap,RC=new WeakMap,OU=n=>n===document.documentElement?window:n;function RN(n,{container:e=document.documentElement,...t}={}){let i=RC.get(e);i||(i=new Set,RC.set(e,i));const r=Jee(),s=ute(e,n,r,t);if(i.add(s),!vb.has(e)){const o=()=>{for(const v of i)v.measure()},c=()=>{for(const v of i)v.update(Cs.timestamp)},u=()=>{for(const v of i)v.notify()},d=()=>{Ei.read(o,!1,!0),Ei.read(c,!1,!0),Ei.update(u,!1,!0)};vb.set(e,d);const p=OU(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&DU.set(e,Zee(e,d)),p.addEventListener("scroll",d,{passive:!0})}const a=vb.get(e);return Ei.read(a,!1,!0),()=>{var o;Oc(a);const c=RC.get(e);if(!c||(c.delete(s),c.size))return;const u=vb.get(e);vb.delete(e),u&&(OU(e).removeEventListener("scroll",u),(o=DU.get(e))===null||o===void 0||o(),window.removeEventListener("resize",u))}}function hte({source:n,container:e,axis:t="y"}){n&&(e=n);const i={value:0},r=RN(s=>{i.value=s[t].progress*100},{container:e,axis:t});return{currentTime:i,cancel:r}}const DC=new Map;function JF({source:n,container:e=document.documentElement,axis:t="y"}={}){n&&(e=n),DC.has(e)||DC.set(e,{});const i=DC.get(e);return i[t]||(i[t]=Ek()?new ScrollTimeline({source:e,axis:t}):hte({source:e,axis:t})),i[t]}function fte(n){return n.length===2}function eH(n){return n&&(n.target||n.offset)}function dte(n,e){return fte(n)||eH(e)?RN(t=>{n(t[e.axis].progress,t)},e):QF(n,JF(e))}function pte(n,e){if(n.flatten(),eH(e))return n.pause(),RN(t=>{n.time=n.duration*t[e.axis].progress},e);{const t=JF(e);return n.attachTimeline?n.attachTimeline(t,i=>(i.pause(),QF(r=>{i.time=i.duration*r},t))):Ga}}function mte(n,{axis:e="y",...t}={}){const i={axis:e,...t};return typeof n=="function"?dte(n,i):pte(n,i)}function NU(n,e){S$(!!(!e||e.current))}const gte=()=>({scrollX:Fu(0),scrollY:Fu(0),scrollXProgress:Fu(0),scrollYProgress:Fu(0)});function DN({container:n,target:e,layoutEffect:t=!0,...i}={}){const r=hg(gte);return(t?dx:B.useEffect)(()=>(NU("target",e),NU("container",n),mte((a,{x:o,y:c})=>{r.scrollX.set(o.current),r.scrollXProgress.set(o.progress),r.scrollY.set(c.current),r.scrollYProgress.set(c.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(i.offset)]),r}function vte(n){const e=hg(()=>Fu(n)),{isStatic:t}=B.useContext(sM);if(t){const[,i]=B.useState(n);B.useEffect(()=>e.on("change",i),[])}return e}function tH(n,e){const t=vte(e()),i=()=>t.set(e());return i(),dx(()=>{const r=()=>Ei.preRender(i,!1,!0),s=n.map(a=>a.on("change",r));return()=>{s.forEach(a=>a()),Oc(i)}}),t}const yte=n=>n&&typeof n=="object"&&n.mix,bte=n=>yte(n)?n.mix:void 0;function _te(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],r=n[1+t],s=n[2+t],a=n[3+t],o=MN(r,s,{mixer:bte(s[0]),...a});return e?o(i):o}function xte(n){Wb.current=[],n();const e=tH(Wb.current,n);return Wb.current=void 0,e}function o3(n,e,t,i){if(typeof n=="function")return xte(n);const r=typeof e=="function"?e:_te(e,t,i);return Array.isArray(n)?PU(n,r):PU([n],([s])=>r(s))}function PU(n,e){const t=hg(()=>[]);return tH(n,()=>{t.length=0;const i=n.length;for(let r=0;r<i;r++)t[r]=n[r].get();return e(t)})}function Ste(n){n.values.forEach(e=>e.stop())}function l3(n,e){[...e].reverse().forEach(i=>{const r=n.getVariant(i);r&&bN(n,r),n.variantChildren&&n.variantChildren.forEach(s=>{l3(s,e)})})}function Ete(n,e){if(Array.isArray(e))return l3(n,e);if(typeof e=="string")return l3(n,[e]);bN(n,e)}function wte(){const n=new Set,e={subscribe(t){return n.add(t),()=>void n.delete(t)},start(t,i){const r=[];return n.forEach(s=>{r.push(RF(s,t,{transitionOverride:i}))}),Promise.all(r)},set(t){return n.forEach(i=>{Ete(i,t)})},stop(){n.forEach(t=>{Ste(t)})},mount(){return()=>{e.stop()}}};return e}function Tte(){const n=hg(wte);return dx(n.mount,[]),n}const nH=Tte,Mte={some:0,all:1};function Ate(n,e,{root:t,margin:i,amount:r="some"}={}){const s=rN(n),a=new WeakMap,o=u=>{u.forEach(d=>{const p=a.get(d.target);if(d.isIntersecting!==!!p)if(d.isIntersecting){const v=e(d.target,d);typeof v=="function"?a.set(d.target,v):c.unobserve(d.target)}else typeof p=="function"&&(p(d),a.delete(d.target))})},c=new IntersectionObserver(o,{root:t,rootMargin:i,threshold:typeof r=="number"?r:Mte[r]});return s.forEach(u=>c.observe(u)),()=>c.disconnect()}function Cte(n,{root:e,margin:t,amount:i,once:r=!1,initial:s=!1}={}){const[a,o]=B.useState(s);return B.useEffect(()=>{if(!n.current||r&&a)return;const c=()=>(o(!0),r?void 0:()=>o(!1)),u={root:e&&e.current||void 0,margin:t,amount:i};return Ate(n.current,c,u)},[e,n,t,r,i]),a}const Sm="generated",Rte="pointerdown",Dte="pointerup",c3="pointerleave",Ote="pointerout",Gm="pointermove",Nte="touchstart",IU="touchend",Pte="touchmove",Ite="touchcancel",Lte="resize",Ute="visibilitychange",Ll="tsParticles - Error",wd=100,os=.5,va=1e3,ha={x:0,y:0,z:0},lS={a:1,b:0,c:0,d:1},by="random",BE="mid",ya=2,zte=Math.PI*ya,OC=60,iH="true",LU="false",NC="canvas",UU=0,Qh=2,zU=4,Vte=1,VU=1,BU=1,Bte=4,rH=1,kE=255,Em=360,u3=100,h3=100,kU=0,f3=0,kte=60,Fte=0,d3=.25,FU=os+d3,HU=0,Hte=1,jte=0,Gte=0,qte=1,ON=1,Wte=1,jU=1,Dw=0,sH=1,Xte=0,Yte=120,Kte=0,$te=0,Zte=1e4,Qte=0,Jte=1,Ow=0,aH=1,ene=1,tne=0,GU=1,nne=0,ine=0,qU=-.25,WU=1.5,XU=0,rne=1,sne=0,p3=0,ane=0,oH=1,one=1,Nw=1,lne=500,YU=50,cne=0,m3=1,lH=0,une=1,hne=0,qp=255,PC=3,IC=6,fne=1,dne=1,pne=0,mne=0,gne=0,vne=0;var Fs;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(Fs||(Fs={}));function cH(n){return typeof n=="boolean"}function Ud(n){return typeof n=="string"}function zd(n){return typeof n=="number"}function $v(n){return typeof n=="object"&&n!==null}function ah(n){return Array.isArray(n)}function Lt(n){return n==null}class $o{constructor(e,t,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!zd(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:ha.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??ha.z;else throw new Error(`${Ll} Vector3d not initialized correctly`)}static get origin(){return $o.create(ha.x,ha.y,ha.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return $o.create(e.x,e.y,e.z)}static create(e,t,i){return new $o(e,t,i)}add(e){return $o.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return $o.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return $o.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Qh+this.y**Qh}mult(e){return $o.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=Ow&&this.multTo(rH/e)}rotate(e){return $o.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),ha.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:ha.z}sub(e){return $o.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Ds extends $o{constructor(e,t){super(e,t,ha.z)}static get origin(){return Ds.create(ha.x,ha.y)}static clone(e){return Ds.create(e.x,e.y)}static create(e,t){return new Ds(e,t)}}let yne=Math.random;const uH={nextFrame:n=>requestAnimationFrame(n),cancel:n=>cancelAnimationFrame(n)};function Qi(){return Ul(yne(),0,1-Number.EPSILON)}function bne(n){return uH.nextFrame(n)}function _ne(n){uH.cancel(n)}function Ul(n,e,t){return Math.min(Math.max(n,e),t)}function LC(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Jo(n){const e=Hu(n),t=0;let i=uM(n);return e===i&&(i=t),Qi()*(e-i)+i}function fn(n){return zd(n)?n:Jo(n)}function uM(n){return zd(n)?n:n.min}function Hu(n){return zd(n)?n:n.max}function wi(n,e){if(n===e||e===void 0&&zd(n))return n;const t=uM(n),i=Hu(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:wi(t,i)}function qa(n,e){const t=n.x-e.x,i=n.y-e.y,r=2;return{dx:t,dy:i,distance:Math.sqrt(t**r+i**r)}}function el(n,e){return qa(n,e).distance}function Ad(n){return n*Math.PI/180}function xne(n,e,t){if(zd(n))return Ad(n);switch(n){case Fs.top:return-Math.PI*os;case Fs.topRight:return-Math.PI*d3;case Fs.right:return Fte;case Fs.bottomRight:return Math.PI*d3;case Fs.bottom:return Math.PI*os;case Fs.bottomLeft:return Math.PI*FU;case Fs.left:return Math.PI;case Fs.topLeft:return-Math.PI*FU;case Fs.inside:return Math.atan2(t.y-e.y,t.x-e.x);case Fs.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return Qi()*zte}}function Sne(n){const e=Ds.origin;return e.length=1,e.angle=n,e}function KU(n,e,t,i){return Ds.create(n.x*(t-i)/(t+i)+e.x*ya*i/(t+i),n.y)}function Ene(n){var e,t;return{x:((e=n.position)==null?void 0:e.x)??Qi()*n.size.width,y:((t=n.position)==null?void 0:t.y)??Qi()*n.size.height}}function hH(n){return n?n.endsWith("%")?parseFloat(n)/wd:parseFloat(n):1}var wm;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(wm||(wm={}));var Jr;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(Jr||(Jr={}));var qm;(function(n){n.none="none",n.max="max",n.min="min"})(qm||(qm={}));var ri;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(ri||(ri={}));var _y;(function(n){n.precise="precise",n.percent="percent"})(_y||(_y={}));var ay;(function(n){n.max="max",n.min="min",n.random="random"})(ay||(ay={}));const wne={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Wm(){return wne}function Tne(n){const e=new Map;return(...t)=>{const i=JSON.stringify(t);if(e.has(i))return e.get(i);const r=n(...t);return e.set(i,r),r}}function $U(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:a,factor:o}=n;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(t.max>=r.min&&t.max<=(r.max+r.min)*os&&a>HU||t.min<=r.max&&t.min>(r.max+r.min)*os&&a<HU)&&(e.velocity=a*-o,e.bounced=!0),e}function Mne(n,e){const t=zl(e,i=>n.matches(i));return ah(t)?t.some(i=>i):t}function Xm(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Ane(){return!Xm()&&typeof matchMedia<"u"}function fH(n){if(Ane())return matchMedia(n)}function Cne(n){if(!(Xm()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function Rne(n){if(!(Xm()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Wr(n,e){return n===e||ah(e)&&e.indexOf(n)>-1}async function ZU(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function Dne(n){return Math.floor(Qi()*n.length)}function hM(n,e,t=!0){return n[e!==void 0&&t?e%n.length:Dne(n)]}function NN(n,e,t,i,r){return One(yx(n,i??0),e,t,r)}function One(n,e,t,i){let r=!0;return(!i||i===ri.bottom)&&(r=n.top<e.height+t.x),r&&(!i||i===ri.left)&&(r=n.right>t.x),r&&(!i||i===ri.right)&&(r=n.left<e.width+t.y),r&&(!i||i===ri.top)&&(r=n.bottom>t.y),r}function yx(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Ao(n,...e){for(const t of e){if(t==null)continue;if(!$v(t)){n=t;continue}const i=Array.isArray(t);i&&($v(n)||!n||!Array.isArray(n))?n=[]:!i&&($v(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const s=t,a=s[r],o=n;o[r]=$v(a)&&Array.isArray(a)?a.map(c=>Ao(o[r],c)):Ao(o[r],a)}}return n}function PN(n,e){return!!mH(e,t=>t.enable&&Wr(n,t.mode))}function IN(n,e,t){zl(e,i=>{const r=i.mode;i.enable&&Wr(n,r)&&Nne(i,t)})}function Nne(n,e){const t=n.selectors;zl(t,i=>{e(i,n)})}function dH(n,e){if(!(!e||!n))return mH(n,t=>Mne(e,t.selectors))}function g3(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:Ds.create(fn(n.options.bounce.horizontal.value),fn(n.options.bounce.vertical.value))}}function pH(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:a,dy:o}=qa(s,r);if(t*a+i*o<0)return;const u=-Math.atan2(o,a),d=n.mass,p=e.mass,v=n.velocity.rotate(u),y=e.velocity.rotate(u),_=KU(v,y,d,p),w=KU(y,v,d,p),S=_.rotate(-u),E=w.rotate(-u);n.velocity.x=S.x*n.factor.x,n.velocity.y=S.y*n.factor.y,e.velocity.x=E.x*e.factor.x,e.velocity.y=E.y*e.factor.y}function Pne(n,e){const t=n.getPosition(),i=n.getRadius(),r=yx(t,i),s=n.options.bounce,a=$U({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:fn(s.horizontal.value)});a.bounced&&(a.velocity!==void 0&&(n.velocity.x=a.velocity),a.position!==void 0&&(n.position.x=a.position));const o=$U({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:fn(s.vertical.value)});o.bounced&&(o.velocity!==void 0&&(n.velocity.y=o.velocity),o.position!==void 0&&(n.position.y=o.position))}function zl(n,e){return ah(n)?n.map((i,r)=>e(i,r)):e(n,0)}function Mc(n,e,t){return ah(n)?hM(n,e,t):n}function mH(n,e){return ah(n)?n.find((i,r)=>e(i,r)):e(n,0)?n:void 0}function gH(n,e){const t=n.value,i=n.animation,r={delayTime:fn(i.delay)*va,enable:i.enable,value:fn(n.value)*e,max:Hu(t)*e,min:uM(t)*e,loops:0,maxLoops:fn(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-fn(i.decay),i.mode){case wm.increase:r.status=Jr.increasing;break;case wm.decrease:r.status=Jr.decreasing;break;case wm.random:r.status=Qi()>=os?Jr.increasing:Jr.decreasing;break}const a=i.mode===wm.auto;switch(i.startValue){case ay.min:r.value=r.min,a&&(r.status=Jr.increasing);break;case ay.max:r.value=r.max,a&&(r.status=Jr.decreasing);break;case ay.random:default:r.value=Jo(r),a&&(r.status=Qi()>=os?Jr.increasing:Jr.decreasing);break}}return r.initialValue=r.value,r}function Ine(n,e){if(!(n.mode===_y.percent)){const{mode:r,...s}=n;return s}return"x"in n?{x:n.x/wd*e.width,y:n.y/wd*e.height}:{width:n.width/wd*e.width,height:n.height/wd*e.height}}function vH(n,e){return Ine(n,e)}function Lne(n,e,t,i,r){switch(e){case qm.max:t>=r&&n.destroy();break;case qm.min:t<=i&&n.destroy();break}}function LN(n,e,t,i,r){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const d=(e.velocity??0)*r.factor,p=e.min,v=e.max,y=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Jr.increasing:e.value>=v?(t?e.status=Jr.decreasing:e.value-=v,e.loops||(e.loops=0),e.loops++):e.value+=d;break;case Jr.decreasing:e.value<=p?(t?e.status=Jr.increasing:e.value+=v,e.loops||(e.loops=0),e.loops++):e.value-=d}e.velocity&&y!==1&&(e.velocity*=y),Lne(n,i,e.value,p,v),n.destroyed||(e.value=Ul(e.value,p,v))}}function Une(n){var t,i,r,s;const e=document.createElement("div").style;if(!n)return e;for(const a in n){const o=n[a];if(!Object.prototype.hasOwnProperty.call(n,a)||Lt(o))continue;const c=(t=n.getPropertyValue)==null?void 0:t.call(n,o);if(!c)continue;const u=(i=n.getPropertyPriority)==null?void 0:i.call(n,o);u?(s=e.setProperty)==null||s.call(e,o,c,u):(r=e.setProperty)==null||r.call(e,o,c)}return e}function zne(n){const e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:n.toString(t),"z-index":n.toString(t),top:"0",left:"0"};for(const r in i){const s=i[r];e.setProperty(r,s)}return e}const Vne=Tne(zne);var v3;(function(n){n.darken="darken",n.enlighten="enlighten"})(v3||(v3={}));function Bne(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Cc(n,e,t,i=!0){if(!e)return;const r=Ud(e)?{value:e}:e;if(Ud(r.value))return yH(n,r.value,t,i);if(ah(r.value))return Cc(n,{value:hM(r.value,t,i)});for(const s of n.colorManagers.values()){const a=s.handleRangeColor(r);if(a)return a}}function yH(n,e,t,i=!0){if(!e)return;const r=Ud(e)?{value:e}:e;if(Ud(r.value))return r.value===by?_H():kne(n,r.value);if(ah(r.value))return yH(n,{value:hM(r.value,t,i)});for(const s of n.colorManagers.values()){const a=s.handleColor(r);if(a)return a}}function w_(n,e,t,i=!0){const r=Cc(n,e,t,i);return r?bH(r):void 0}function bH(n){const e=n.r/kE,t=n.g/kE,i=n.b/kE,r=Math.max(e,t,i),s=Math.min(e,t,i),a={h:kU,l:(r+s)*os,s:f3};return r!==s&&(a.s=a.l<os?(r-s)/(r+s):(r-s)/(ya-r-s),a.h=e===r?(t-i)/(r-s):a.h=t===r?ya+(i-e)/(r-s):ya*ya+(e-t)/(r-s)),a.l*=h3,a.s*=u3,a.h*=kte,a.h<kU&&(a.h+=Em),a.h>=Em&&(a.h-=Em),a}function kne(n,e){return Bne(n,e)}function xy(n){const e=(n.h%Em+Em)%Em,t=Math.max(f3,Math.min(u3,n.s)),i=Math.max(hne,Math.min(h3,n.l)),r=e/Em,s=t/u3,a=i/h3;if(t===f3){const _=Math.round(a*qp);return{r:_,g:_,b:_}}const o=(_,w,S)=>{if(S<0&&S++,S>1&&S--,S*IC<1)return _+(w-_)*IC*S;if(S*ya<1)return w;if(S*PC<1*ya){const R=ya/PC;return _+(w-_)*(R-S)*IC}return _},c=a<os?a*(fne+s):a+s-a*s,u=ya*a-c,d=dne/PC,p=Math.min(qp,qp*o(u,c,r+d)),v=Math.min(qp,qp*o(u,c,r)),y=Math.min(qp,qp*o(u,c,r-d));return{r:Math.round(p),g:Math.round(v),b:Math.round(y)}}function Fne(n){const e=xy(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function _H(n){const e=pne,t=kE+m3;return{b:Math.floor(Jo(wi(e,t))),g:Math.floor(Jo(wi(e,t))),r:Math.floor(Jo(wi(e,t)))}}function af(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??ON})`}function T_(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??ON})`}function UN(n,e,t,i){let r=n,s=e;return r.r===void 0&&(r=xy(n)),s.r===void 0&&(s=xy(e)),{b:LC(r.b,s.b,t,i),g:LC(r.g,s.g,t,i),r:LC(r.r,s.r,t,i)}}function y3(n,e,t){if(t===by)return _H();if(t===BE){const i=n.getFillColor()??n.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return UN(i,r,n.getRadius(),e.getRadius());{const s=i??r;if(s)return xy(s)}}else return t}function xH(n,e,t,i){const r=Ud(e)?e:e.value;return r===by?i?Cc(n,{value:r}):t?by:BE:r===BE?BE:Cc(n,{value:r})}function QU(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function SH(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(UC(i.h,e.h,t),UC(i.s,e.s,t),UC(i.l,e.l,t)),i}function UC(n,e,t){n.enable=e.enable,n.enable?(n.velocity=fn(e.speed)/wd*t,n.decay=aH-fn(e.decay),n.status=Jr.increasing,n.loops=gne,n.maxLoops=fn(e.count),n.time=vne,n.delayTime=fn(e.delay)*va,e.sync||(n.velocity*=Qi(),n.value*=Qi()),n.initialValue=n.value,n.offset=wi(e.offset)):n.velocity=mne}function zC(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const d=n.offset?Jo(n.offset):0,p=(n.velocity??0)*i.factor+d*3.6,v=n.decay??1,y=Hu(e),_=uM(e);!t||n.status===Jr.increasing?(n.value+=p,n.value>y&&(n.loops||(n.loops=0),n.loops++,t?n.status=Jr.decreasing:n.value-=y)):(n.value-=p,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=Jr.increasing)),n.velocity&&v!==1&&(n.velocity*=v),n.value=Ul(n.value,_,y)}function EH(n,e){if(!n)return;const{h:t,s:i,l:r}=n,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&zC(t,s.h,!1,e),i&&zC(i,s.s,!0,e),r&&zC(r,s.l,!0,e)}function Qb(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function Hne(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(ha.x,ha.y,e.width,e.height)}function jne(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,ha.x,ha.y,e.width,e.height),n.globalAlpha=1)}function VC(n,e){n.clearRect(ha.x,ha.y,e.width,e.height)}function Gne(n){const{container:e,context:t,particle:i,delta:r,colorStyles:s,backgroundMask:a,composite:o,radius:c,opacity:u,shadow:d,transform:p}=n,v=i.getPosition(),y=i.rotation+(i.pathRotation?i.velocity.angle:cne),_={sin:Math.sin(y),cos:Math.cos(y)},w=!!y,S={a:_.cos*(p.a??lS.a),b:w?_.sin*(p.b??m3):p.b??lS.b,c:w?-_.sin*(p.c??m3):p.c??lS.c,d:_.cos*(p.d??lS.d)};t.setTransform(S.a,S.b,S.c,S.d,v.x,v.y),a&&(t.globalCompositeOperation=o);const E=i.shadowColor;d.enable&&E&&(t.shadowBlur=d.blur,t.shadowColor=af(E),t.shadowOffsetX=d.offset.x,t.shadowOffsetY=d.offset.y),s.fill&&(t.fillStyle=s.fill);const A=i.strokeWidth??lH;t.lineWidth=A,s.stroke&&(t.strokeStyle=s.stroke);const R={container:e,context:t,particle:i,radius:c,opacity:u,delta:r,transformData:S,strokeWidth:A};Wne(R),Xne(R),qne(R),t.globalCompositeOperation="source-over",t.resetTransform()}function qne(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,transformData:o}=n;if(!i.effect)return;const c=e.effectDrawers.get(i.effect);c&&c.draw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function Wne(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,strokeWidth:o,transformData:c}=n;if(!i.shape)return;const u=e.shapeDrawers.get(i.shape);u&&(t.beginPath(),u.draw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...c}}),i.shapeClose&&t.closePath(),o>lH&&t.stroke(),i.shapeFill&&t.fill())}function Xne(n){const{container:e,context:t,particle:i,radius:r,opacity:s,delta:a,transformData:o}=n;if(!i.shape)return;const c=e.shapeDrawers.get(i.shape);c!=null&&c.afterDraw&&c.afterDraw({context:t,particle:i,radius:r,opacity:s,delta:a,pixelRatio:e.retina.pixelRatio,transformData:{...o}})}function Yne(n,e,t){e.draw&&e.draw(n,t)}function Kne(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function $ne(n,e,t){return{h:n.h,s:n.s,l:n.l+(e===v3.darken?-1:une)*t}}function Zne(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??Hte)*i)}function JU(n,e,t=!1){if(!e)return;const i=n;if(!i)return;const r=i.style;if(!r)return;const s=new Set;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&s.add(r[a]);for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.add(e[a]);for(const a of s){const o=e.getPropertyValue(a);o?r.setProperty(a,o,t?"important":""):r.removeProperty(a)}}let Qne=class{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=s=>{var a;for(const o of this._postDrawUpdaters)(a=o.afterDraw)==null||a.call(o,s)},this._applyPreDrawUpdaters=(s,a,o,c,u,d)=>{var p;for(const v of this._preDrawUpdaters){if(v.getColorStyles){const{fill:y,stroke:_}=v.getColorStyles(a,s,o,c);y&&(u.fill=y),_&&(u.stroke=_)}if(v.getTransformValues){const y=v.getTransformValues(a);for(const _ in y)Zne(d,y,_)}(p=v.beforeDraw)==null||p.call(v,a)}},this._applyResizePlugins=()=>{var s;for(const a of this._resizePlugins)(s=a.resize)==null||s.call(a)},this._getPluginParticleColors=s=>{let a,o;for(const c of this._colorPlugins)if(!a&&c.particleFillColor&&(a=w_(this._engine,c.particleFillColor(s))),!o&&c.particleStrokeColor&&(o=w_(this._engine,c.particleStrokeColor(s))),a&&o)break;return[a,o]},this._initCover=async()=>{const s=this.container.actualOptions,a=s.backgroundMask.cover,o=a.color;if(o){const c=Cc(this._engine,o);if(c){const u={...c,a:a.opacity};this._coverColorStyle=af(u,u.a)}}else await new Promise((c,u)=>{if(!a.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._coverImage={image:d,opacity:a.opacity},c()}),d.addEventListener("error",p=>{u(p.error)}),d.src=a.image})},this._initStyle=()=>{const s=this.element,a=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const o in a.style){if(!o||!a.style||!Object.prototype.hasOwnProperty.call(a.style,o))continue;const c=a.style[o];c&&s.style.setProperty(o,c,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,a=s.particles.move.trail,o=a.fill;if(!a.enable)return;const c=rH/a.length;if(o.color){const u=Cc(this._engine,o.color);if(!u)return;this._trailFill={color:{...u},opacity:c}}else await new Promise((u,d)=>{if(!o.image)return;const p=document.createElement("img");p.addEventListener("load",()=>{this._trailFill={image:p,opacity:c},u()}),p.addEventListener("error",v=>{d(v.error)}),p.src=o.image})},this._paintBase=s=>{this.draw(a=>Hne(a,this.size,s))},this._paintImage=(s,a)=>{this.draw(o=>jne(o,this.size,s,a))},this._repairStyle=()=>{const s=this.element;s&&(this._safeMutationObserver(a=>a.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(a=>{!s||!(s instanceof Node)||a.observe(s,{attributes:!0})}))},this._resetOriginalStyle=()=>{const s=this.element,a=this._originalStyle;!s||!a||JU(s,a,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&JU(s,Vne(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>Gte&&i?i.color?this._paintBase(af(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{VC(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove(),this.element=void 0}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=jte)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[a,o]=this._getPluginParticleColors(e);a||(a=r),o||(o=s),!(!a&&!o)&&this.draw(c=>{var D;const u=this.container,d=u.actualOptions,p=e.options.zIndex,v=qte-e.zIndexFactor,y=v**p.opacityRate,_=e.bubble.opacity??((D=e.opacity)==null?void 0:D.value)??ON,w=e.strokeOpacity??_,S=_*y,E=w*y,A={},R={fill:a?T_(a,S):void 0};R.stroke=o?T_(o,E):R.fill,this._applyPreDrawUpdaters(c,e,i,S,R,A),Gne({container:u,context:c,particle:e,delta:t,colorStyles:R,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*v**p.sizeRate,opacity:S,shadow:e.options.shadow,transform:A}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>Kne(r,e,t,i))}drawPlugin(e,t){this.draw(i=>Yne(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=Rne(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Wm().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const s=Cc(this._engine,t.color);r.backgroundColor=s?af(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Sm in e.dataset?e.dataset[Sm]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Une(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=t.height*i,e.width=r.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(VC(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,s={width:i.width*r,height:i.height*r};if(i.height===t.height&&i.width===t.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const a={...t};t.height=i.height,t.width=i.width;const o=this.size;return this.element.width=o.width=s.width,this.element.height=o.height=s.height,this.container.started&&e.particles.setResizeFactor({width:t.width/a.width,height:t.height/a.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>VC(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}};var oy;(function(n){n.canvas="canvas",n.parent="parent",n.window="window"})(oy||(oy={}));function Cl(n,e,t,i,r){if(i){let s={passive:!0};cH(r)?s.capture=r:r!==void 0&&(s=r),n.addEventListener(e,t,s)}else{const s=r;n.removeEventListener(e,t,s)}}class Jne{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,a=s.position;if(!a)return;s.clickPosition={...a},s.clickTime=new Date().getTime();const o=r.interactivity.events.onClick;zl(o.mode,c=>this.container.handleClickMode(c))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),lne)},this._handleThemeChange=t=>{const i=t,r=this.container,s=r.options,a=s.defaultThemes,o=i.matches?a.dark:a.light,c=s.themes.find(u=>u.name===o);c!=null&&c.default.auto&&r.loadTheme(o)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*va)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,s=this.container,a=s.actualOptions,o=s.interactivity.element;if(!o)return;const c=o,u=s.canvas.element;u&&(u.style.pointerEvents=c===u?"initial":"none"),(a.interactivity.events.onHover.enable||a.interactivity.events.onClick.enable)&&(Cl(o,Gm,r.mouseMove,i),Cl(o,Nte,r.touchStart,i),Cl(o,Pte,r.touchMove,i),a.interactivity.events.onClick.enable?(Cl(o,IU,r.touchEndClick,i),Cl(o,Dte,r.mouseUp,i),Cl(o,Rte,r.mouseDown,i)):Cl(o,IU,r.touchEnd,i),Cl(o,t,r.mouseLeave,i),Cl(o,Ite,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,s=r.actualOptions,a=s.interactivity.detectsOn,o=r.canvas.element;let c=c3;a===oy.window?(r.interactivity.element=window,c=Ote):a===oy.parent&&o?r.interactivity.element=o.parentElement??o.parentNode:r.interactivity.element=o,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(c,t),document&&Cl(document,Ute,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=fH("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){Cl(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Cl(window,Lte,i.resize,t);return}const a=r.canvas.element;this._resizeObserver&&!t?(a&&this._resizeObserver.unobserve(a),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&a&&(this._resizeObserver=new ResizeObserver(o=>{o.find(u=>u.target===a)&&this._handleWindowResize()}),this._resizeObserver.observe(a))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let a=!1;const o=s.position;if(!(!o||!r.interactivity.events.onClick.enable)){for(const c of i.plugins.values())if(c.clickPositionValid&&(a=c.clickPositionValid(o),a))break;a||this._doMouseTouchClick(t),s.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=c3,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,s=i.interactivity,a=i.canvas.element;if(!(s!=null&&s.element))return;s.mouse.inside=!0;let o;if(t.type.startsWith("pointer")){this._canPush=!0;const u=t;if(s.element===window){if(a){const d=a.getBoundingClientRect();o={x:u.clientX-d.left,y:u.clientY-d.top}}}else if(r.interactivity.detectsOn===oy.parent){const d=u.target,p=u.currentTarget;if(d&&p&&a){const v=d.getBoundingClientRect(),y=p.getBoundingClientRect(),_=a.getBoundingClientRect();o={x:u.offsetX+ya*v.left-(y.left+_.left),y:u.offsetY+ya*v.top-(y.top+_.top)}}else o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===a&&(o={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=t.type!=="touchmove",a){const u=t,d=u.touches[u.touches.length-oH],p=a.getBoundingClientRect();o={x:d.clientX-(p.left??Dw),y:d.clientY-(p.top??Dw)}}const c=i.retina.pixelRatio;o&&(o.x*=c,o.y*=c),s.mouse.position=o,s.status=Gm},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var ka;(function(n){n.configAdded="configAdded",n.containerInit="containerInit",n.particlesSetup="particlesSetup",n.containerStarted="containerStarted",n.containerStopped="containerStopped",n.containerDestroyed="containerDestroyed",n.containerPaused="containerPaused",n.containerPlay="containerPlay",n.containerBuilt="containerBuilt",n.particleAdded="particleAdded",n.particleDestroyed="particleDestroyed",n.particleRemoved="particleRemoved"})(ka||(ka={}));class Ea{constructor(){this.value=""}static create(e,t){const i=new Ea;return i.load(e),t!==void 0&&(Ud(t)||ah(t)?i.load({value:t}):i.load(t)),i}load(e){Lt(e)||Lt(e.value)||(this.value=e.value)}}class eie{constructor(){this.color=new Ea,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=Ea.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class tie{constructor(){this.opacity=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=Ea.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class nie{constructor(){this.composite="destination-out",this.cover=new tie,this.enable=!1}load(e){if(!Lt(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Ud(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class iie{constructor(){this.enable=!0,this.zIndex=0}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class rie{constructor(){this.enable=!1,this.mode=[]}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Sy;(function(n){n.circle="circle",n.rectangle="rectangle"})(Sy||(Sy={}));class e5{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Sy.circle}load(e){Lt(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class sie{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class aie{constructor(){this.enable=!1,this.mode=[],this.parallax=new sie}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class oie{constructor(){this.delay=.5,this.enable=!0}load(e){Lt(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class lie{constructor(){this.onClick=new rie,this.onDiv=new e5,this.onHover=new aie,this.resize=new oie}load(e){if(Lt(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=zl(t,i=>{const r=new e5;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class cie{constructor(e,t){this._engine=e,this._container=t}load(e){if(Lt(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class wH{constructor(e,t){this.detectsOn=oy.window,this.events=new lie,this.modes=new cie(e,t)}load(e){if(Lt(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class uie{load(e){Lt(e)||(e.position&&(this.position={x:e.position.x??YU,y:e.position.y??YU,mode:e.position.mode??_y.percent}),e.options&&(this.options=Ao({},e.options)))}}var Tm;(function(n){n.screen="screen",n.canvas="canvas"})(Tm||(Tm={}));class hie{constructor(){this.maxWidth=1/0,this.options={},this.mode=Tm.canvas}load(e){Lt(e)||(Lt(e.maxWidth)||(this.maxWidth=e.maxWidth),Lt(e.mode)||(e.mode===Tm.screen?this.mode=Tm.screen:this.mode=Tm.canvas),Lt(e.options)||(this.options=Ao({},e.options)))}}var xd;(function(n){n.any="any",n.dark="dark",n.light="light"})(xd||(xd={}));class fie{constructor(){this.auto=!1,this.mode=xd.any,this.value=!1}load(e){Lt(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class die{constructor(){this.name="",this.default=new fie}load(e){Lt(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Ao({},e.options)))}}class zN{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){Lt(e)||(e.count!==void 0&&(this.count=wi(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=wi(e.speed)),e.decay!==void 0&&(this.decay=wi(e.decay)),e.delay!==void 0&&(this.delay=wi(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class VN extends zN{constructor(){super(),this.mode=wm.auto,this.startValue=ay.random}load(e){super.load(e),!Lt(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class BC extends zN{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!Lt(e)&&e.offset!==void 0&&(this.offset=wi(e.offset))}}class pie{constructor(){this.h=new BC,this.s=new BC,this.l=new BC}load(e){Lt(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class M_ extends Ea{constructor(){super(),this.animation=new pie}static create(e,t){const i=new M_;return i.load(e),t!==void 0&&(Ud(t)||ah(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),Lt(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var ly;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(ly||(ly={}));class mie{constructor(){this.speed=2}load(e){Lt(e)||e.speed!==void 0&&(this.speed=e.speed)}}class gie{constructor(){this.enable=!0,this.retries=0}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class dg{constructor(){this.value=0}load(e){Lt(e)||Lt(e.value)||(this.value=wi(e.value))}}class vie extends dg{constructor(){super(),this.animation=new zN}load(e){if(super.load(e),Lt(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class TH extends vie{constructor(){super(),this.animation=new VN}load(e){super.load(e)}}class t5 extends dg{constructor(){super(),this.value=1}}class MH{constructor(){this.horizontal=new t5,this.vertical=new t5}load(e){Lt(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class yie{constructor(){this.absorb=new mie,this.bounce=new MH,this.enable=!1,this.maxSpeed=50,this.mode=ly.bounce,this.overlap=new gie}load(e){Lt(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=wi(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class bie{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(Lt(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Ao(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class _ie{constructor(){this.offset=0,this.value=90}load(e){Lt(e)||(e.offset!==void 0&&(this.offset=wi(e.offset)),e.value!==void 0&&(this.value=wi(e.value)))}}class xie{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!Lt(e)&&(e.distance!==void 0&&(this.distance=wi(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class Sie{constructor(){this.x=50,this.y=50,this.mode=_y.percent,this.radius=0}load(e){Lt(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class Eie{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){Lt(e)||(e.acceleration!==void 0&&(this.acceleration=wi(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=wi(e.maxSpeed)))}}class wie{constructor(){this.clamp=!0,this.delay=new dg,this.enable=!1,this.options={}}load(e){Lt(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ao(this.options,e.options)))}}class Tie{load(e){Lt(e)||(e.color!==void 0&&(this.color=Ea.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Mie{constructor(){this.enable=!1,this.length=10,this.fill=new Tie}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var ns;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})(ns||(ns={}));class Aie{constructor(){this.default=ns.out}load(e){Lt(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Cie{constructor(){this.acceleration=0,this.enable=!1}load(e){Lt(e)||(e.acceleration!==void 0&&(this.acceleration=wi(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Ao({},e.position)))}}class Rie{constructor(){this.angle=new _ie,this.attract=new xie,this.center=new Sie,this.decay=0,this.distance={},this.direction=Fs.none,this.drift=0,this.enable=!1,this.gravity=new Eie,this.path=new wie,this.outModes=new Aie,this.random=!1,this.size=!1,this.speed=2,this.spin=new Cie,this.straight=!1,this.trail=new Mie,this.vibrate=!1,this.warp=!1}load(e){if(Lt(e))return;this.angle.load(zd(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=wi(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=zd(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=wi(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&($v(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=wi(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Die extends VN{constructor(){super(),this.destroy=qm.none,this.speed=2}load(e){super.load(e),!Lt(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Oie extends TH{constructor(){super(),this.animation=new Die,this.value=1}load(e){if(Lt(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class Nie{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(Lt(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var A_;(function(n){n.delete="delete",n.wait="wait"})(A_||(A_={}));class Pie{constructor(){this.mode=A_.delete,this.value=0}load(e){Lt(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Iie{constructor(){this.density=new Nie,this.limit=new Pie,this.value=0}load(e){Lt(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class Lie{constructor(){this.blur=0,this.color=new Ea,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){Lt(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Ea.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}let Uie=class{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(Lt(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=Ao(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}};class zie extends VN{constructor(){super(),this.destroy=qm.none,this.speed=5}load(e){super.load(e),!Lt(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Vie extends TH{constructor(){super(),this.animation=new zie,this.value=3}load(e){if(super.load(e),Lt(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class n5{constructor(){this.width=0}load(e){Lt(e)||(e.color!==void 0&&(this.color=M_.create(this.color,e.color)),e.width!==void 0&&(this.width=wi(e.width)),e.opacity!==void 0&&(this.opacity=wi(e.opacity)))}}class Bie extends dg{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!Lt(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class kie{constructor(e,t){this._engine=e,this._container=t,this.bounce=new MH,this.collisions=new yie,this.color=new M_,this.color.value="#fff",this.effect=new bie,this.groups={},this.move=new Rie,this.number=new Iie,this.opacity=new Oie,this.reduceDuplicates=!1,this.shadow=new Lie,this.shape=new Uie,this.size=new Vie,this.stroke=new n5,this.zIndex=new Bie}load(e){if(Lt(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=Ao(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(M_.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Ao({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=zl(t,i=>{const r=new n5;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function AH(n,...e){for(const t of e)n.load(t)}function CH(n,e,...t){const i=new kie(n,e);return AH(i,...t),i}class Fie{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===xd.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new eie,this.backgroundMask=new nie,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new iie,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new wH(e,t),this.manualParticles=[],this.particles=CH(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var a,o;if(Lt(e))return;e.preset!==void 0&&zl(e.preset,c=>this._importPreset(c)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=wi(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=wi(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;cH(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(c=>{const u=new uie;return u.load(c),u})),this.particles.load(e.particles),this.style=Ao(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const c of s)c.loadOptions&&c.loadOptions(this,e);if(e.responsive!==void 0)for(const c of e.responsive){const u=new hie;u.load(c),this.responsive.push(u)}if(this.responsive.sort((c,u)=>c.maxWidth-u.maxWidth),e.themes!==void 0)for(const c of e.themes){const u=this.themes.find(d=>d.name===c.name);if(u)u.load(c);else{const d=new die;d.load(c),this.themes.push(d)}}this.defaultThemes.dark=(a=this._findDefaultTheme(xd.dark))==null?void 0:a.name,this.defaultThemes.light=(o=this._findDefaultTheme(xd.light))==null?void 0:o.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>s.mode===Tm.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*t>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=fH("(prefers-color-scheme: dark)"),i=t==null?void 0:t.matches,r=this._findDefaultTheme(i?xd.dark:xd.light);r&&this.load(r.options)}}}var Ey;(function(n){n.external="external",n.particles="particles"})(Ey||(Ey={}));class Hie{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){var t;for(const i of this._externalInteractors)(t=i.handleClickMode)==null||t.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Ey.external:this._externalInteractors.push(e);break;case Ey.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var Rc;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(Rc||(Rc={}));function jie(n,e,t,i){const r=e.options[n];if(r)return Ao({close:e.close,fill:e.fill},Mc(r,t,i))}function Gie(n,e,t,i){const r=e.options[n];if(r)return Ao({close:e.close,fill:e.fill},Mc(r,t,i))}function i5(n){if(!Wr(n.outMode,n.checkModes))return;const e=n.radius*ya;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class qie{constructor(e,t){this.container=t,this._calcPosition=(i,r,s,a=UU)=>{for(const _ of i.plugins.values()){const w=_.particlePosition!==void 0?_.particlePosition(r,this):void 0;if(w)return $o.create(w.x,w.y,s)}const o=i.canvas.size,c=Ene({size:o,position:r}),u=$o.create(c.x,c.y,s),d=this.getRadius(),p=this.options.move.outModes,v=_=>{i5({outMode:_,checkModes:[ns.bounce],coord:u.x,maxCoord:i.canvas.size.width,setCb:w=>u.x+=w,radius:d})},y=_=>{i5({outMode:_,checkModes:[ns.bounce],coord:u.y,maxCoord:i.canvas.size.height,setCb:w=>u.y+=w,radius:d})};return v(p.left??p.default),v(p.right??p.default),y(p.top??p.default),y(p.bottom??p.default),this._checkOverlap(u,a)?this._calcPosition(i,void 0,s,a+ene):u},this._calculateVelocity=()=>{const i=Sne(this.direction),r=i.copy(),s=this.options.move;if(s.direction===Fs.inside||s.direction===Fs.outside)return r;const a=Ad(fn(s.angle.value)),o=Ad(fn(s.angle.offset)),c={left:o-a*os,right:o+a*os};return s.straight||(r.angle+=Jo(wi(c.left,c.right))),s.random&&typeof s.speed=="number"&&(r.length*=Qi()),r},this._checkOverlap=(i,r=UU)=>{const s=this.options.collisions,a=this.getRadius();if(!s.enable)return!1;const o=s.overlap;if(o.enable)return!1;const c=o.retries;if(c>=tne&&r>c)throw new Error(`${Ll} particle is overlapping and can't be placed`);return!!this.container.particles.find(u=>el(i,u.position)<a+u.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?ya*GU:GU,s=this.roll.horizontal?Math.PI*os:Ow;return Math.floor(((this.roll.angle??Ow)+s)/(Math.PI/r))%ya?this.backColor?this.backColor:this.roll.alter?$ne(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=fn(this.options.zIndex.value);this.position=this._calcPosition(r,i,Ul(s,nne,r.zLayers)),this.initialPosition=this.position.copy();const a=r.canvas.size;switch(this.moveCenter={...vH(this.options.move.center,a),radius:this.options.move.center.radius??ine,mode:this.options.move.center.mode??_y.percent},this.direction=xne(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Fs.inside:this.outType=Rc.inside;break;case Fs.outside:this.outType=Rc.outside;break}this.offset=Ds.origin},this._engine=e}destroy(e){var s,a,o;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator,r=t.shapeDrawers.get(this.shape);(s=r==null?void 0:r.particleDestroy)==null||s.call(r,this);for(const c of t.plugins.values())(a=c.particleDestroyed)==null||a.call(c,this,e);for(const c of t.particles.updaters)(o=c.particleDestroyed)==null||o.call(c,this,e);i==null||i.reset(this),this._engine.dispatchEvent(ka.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const r of t.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??QU(this.color))}getMass(){return this.getRadius()**Qh*Math.PI*os}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??QU(this.strokeColor))}init(e,t,i,r){var z,V,I,L,j,X;const s=this.container,a=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Rc.normal,this.ignoresResizeRatio=!0;const o=s.retina.pixelRatio,c=s.actualOptions,u=CH(this._engine,s,c.particles),{reduceDuplicates:d}=u,p=u.effect.type,v=u.shape.type;this.effect=Mc(p,this.id,d),this.shape=Mc(v,this.id,d);const y=u.effect,_=u.shape;if(i){if((z=i.effect)!=null&&z.type){const G=i.effect.type,re=Mc(G,this.id,d);re&&(this.effect=re,y.load(i.effect))}if((V=i.shape)!=null&&V.type){const G=i.shape.type,re=Mc(G,this.id,d);re&&(this.shape=re,_.load(i.shape))}}if(this.effect===by){const G=[...this.container.effectDrawers.keys()];this.effect=G[Math.floor(Math.random()*G.length)]}if(this.shape===by){const G=[...this.container.shapeDrawers.keys()];this.shape=G[Math.floor(Math.random()*G.length)]}this.effectData=jie(this.effect,y,this.id,d),this.shapeData=Gie(this.shape,_,this.id,d),u.load(i);const w=this.effectData;w&&u.load(w.particles);const S=this.shapeData;S&&u.load(S.particles);const E=new wH(a,s);E.load(s.actualOptions.interactivity),E.load(u.interactivity),this.interactivity=E,this.effectFill=(w==null?void 0:w.fill)??u.effect.fill,this.effectClose=(w==null?void 0:w.close)??u.effect.close,this.shapeFill=(S==null?void 0:S.fill)??u.shape.fill,this.shapeClose=(S==null?void 0:S.close)??u.shape.close,this.options=u;const A=this.options.move.path;this.pathDelay=fn(A.delay.value)*va,A.generator&&(this.pathGenerator=this._engine.getPathGenerator(A.generator),this.pathGenerator&&s.addPath(A.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=gH(this.options.size,o),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=aH-fn(this.options.move.decay);const R=s.particles;R.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let D=s.effectDrawers.get(this.effect);D||(D=this._engine.getEffectDrawer(this.effect),D&&s.effectDrawers.set(this.effect,D)),D!=null&&D.loadEffect&&D.loadEffect(this);let k=s.shapeDrawers.get(this.shape);k||(k=this._engine.getShapeDrawer(this.shape),k&&s.shapeDrawers.set(this.shape,k)),k!=null&&k.loadShape&&k.loadShape(this);const N=k==null?void 0:k.getSidesCount;N&&(this.sides=N(this)),this.spawning=!1,this.shadowColor=Cc(this._engine,this.options.shadow.color);for(const G of R.updaters)G.init(this);for(const G of R.movers)(I=G.init)==null||I.call(G,this);(L=D==null?void 0:D.particleInit)==null||L.call(D,s,this),(j=k==null?void 0:k.particleInit)==null||j.call(k,s,this);for(const G of s.plugins.values())(X=G.particleCreated)==null||X.call(G,this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const t of this.container.particles.updaters)(e=t.reset)==null||e.call(t,this)}}class Wie{constructor(e,t){this.position=e,this.particle=t}}var cy;(function(n){n.circle="circle",n.rectangle="rectangle"})(cy||(cy={}));class RH{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class _a extends RH{constructor(e,t,i){super(e,t,cy.circle),this.radius=i}contains(e){return el(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},s=this.radius;if(e instanceof _a||e.type===cy.circle){const a=e,o=s+a.radius,c=Math.sqrt(r.x**Qh+r.y**Qh);return o>c}else if(e instanceof Nc||e.type===cy.rectangle){const a=e,{width:o,height:c}=a.size;return Math.pow(r.x-o,Qh)+Math.pow(r.y-c,Qh)<=s**Qh||r.x<=s+o&&r.y<=s+c||r.x<=o||r.y<=c}return!1}}class Nc extends RH{constructor(e,t,i,r){super(e,t,cy.rectangle),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof _a)return e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,s=e.position,a=e instanceof Nc?e.size:{width:0,height:0},o=a.width,c=a.height;return s.x<r.x+t&&s.x+o>r.x&&s.y<r.y+i&&s.y+c>r.y}}class Pw{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:a}=this.rectangle.size,{capacity:o}=this;for(let c=0;c<Bte;c++){const u=c%ya;this._subs.push(new Pw(new Nc(i+s*os*u,r+a*os*(Math.round(c*os)-u),s*os,a*os),o))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&el(e.position,r.position)>r.particle.getRadius()&&(!t||t(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,t));return i}queryCircle(e,t,i){return this.query(new _a(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Nc(e.x,e.y,t.width,t.height),i)}}const r5=n=>{const{height:e,width:t}=n;return new Nc(qU*t,qU*e,WU*t,WU*e)};class Xie{constructor(e,t){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,a)=>{var y;const o=r.number;if(!((y=r.number.density)!=null&&y.enable)){a===void 0?this._limit=o.limit.value:o.limit&&this._groupLimits.set(a,o.limit.value);return}const c=this._initDensityFactor(o.density),u=o.value,d=o.limit.value>XU?o.limit.value:u,p=Math.min(u,d)*c+s,v=Math.min(this.count,this.filter(_=>_.group===a).length);a===void 0?this._limit=o.limit.value*c:this._groupLimits.set(a,o.limit.value*c),v<p?this.push(Math.abs(p-v),void 0,r,a):v>p&&this.removeQuantity(v-p,a)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return one;const a=s.canvas.element,o=s.retina.pixelRatio;return a.width*a.height/(r.height*r.width*o**Qh)},this._pushParticle=(r,s,a,o)=>{try{let c=this._pool.pop();c||(c=new qie(this._engine,this._container)),c.init(this._nextId,r,s,a);let u=!0;return o&&(u=o(c)),u?(this._array.push(c),this._zArray.push(c),this._nextId++,this._engine.dispatchEvent(ka.particleAdded,{container:this._container,data:{particle:c}}),c):void 0}catch(c){Wm().warning(`${Ll} adding particle: ${c}`)}},this._removeParticle=(r,s,a)=>{const o=this._array[r];if(!o||o.group!==s)return!1;const c=this._zArray.indexOf(o);return this._array.splice(r,Nw),this._zArray.splice(c,Nw),o.destroy(a),this._engine.dispatchEvent(ka.particleRemoved,{container:this._container,data:{particle:o}}),this._addToPool(o),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Hie(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new Pw(r5(i),zU),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?vH(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,r){const s=this._container.actualOptions.particles.number.limit.mode,a=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,o=this.count;if(a>XU)switch(s){case A_.delete:{const c=o+rne-a;c>sne&&this.removeQuantity(c);break}case A_.wait:if(o>=a)return;break}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,i=t.canvas;i.clear(),this.update(e);for(const r of t.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var r,s;const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const a of e.plugins.values())if(i=((r=a.particlesInitialization)==null?void 0:r.call(a))??i,i)break;if(this.addManualParticles(),!i){const a=t.particles,o=a.groups;for(const c in o){const u=o[c];for(let d=this.count,p=0;p<((s=u.number)==null?void 0:s.value)&&d<a.number.value;d++,p++)this.addParticle(void 0,u,c)}for(let c=this.count;c<a.number.value;c++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,i,r){for(let s=0;s<e;s++)this.addParticle(t==null?void 0:t.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=Vte,i,r){if(e<p3||e>this.count)return;let s=0;for(let a=e;s<t&&a<this.count;a++)this._removeParticle(a,i,r)&&(a--,s++)}removeQuantity(e,t){this.removeAt(p3,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const i in t)this._applyDensity(t[i],ane,i);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var s,a;const t=this._container,i=new Set;this.quadTree=new Pw(r5(t.canvas.size),zU);for(const o of t.pathGenerators.values())o.update();for(const o of t.plugins.values())(s=o.update)==null||s.call(o,e);const r=this._resizeFactor;for(const o of this._array){r&&!o.ignoresResizeRatio&&(o.position.x*=r.width,o.position.y*=r.height,o.initialPosition.x*=r.width,o.initialPosition.y*=r.height),o.ignoresResizeRatio=!1,this._interactionManager.reset(o);for(const c of this._container.plugins.values()){if(o.destroyed)break;(a=c.particleUpdate)==null||a.call(c,o,e)}for(const c of this.movers)c.isEnabled(o)&&c.move(o,e);if(o.destroyed){i.add(o);continue}this.quadTree.insert(new Wie(o.getPosition(),o))}if(i.size){const o=c=>!i.has(c);this._array=this.filter(o),this._zArray=this._zArray.filter(o);for(const c of i)this._engine.dispatchEvent(ka.particleRemoved,{container:this._container,data:{particle:c}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const o of this._array){for(const c of this.updaters)c.update(o,e);!o.destroyed&&!o.spawning&&this._interactionManager.particlesInteract(o,e)}if(delete this._resizeFactor,this._needsSort){const o=this._zArray;o.sort((c,u)=>u.position.z-c.position.z||c.id-u.id),this._lastZIndex=o[o.length-oH].position.z,this._needsSort=!1}}}class Yie{constructor(e){this.container=e,this.pixelRatio=VU,this.reduceFactor=BU}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Xm()?VU:window.devicePixelRatio,this.reduceFactor=BU;const i=this.pixelRatio,r=e.canvas;if(r.element){const o=r.element;r.size.width=o.offsetWidth*i,r.size.height=o.offsetHeight*i}const s=t.particles,a=s.move;this.maxSpeed=fn(a.gravity.maxSpeed)*i,this.sizeAnimationSpeed=fn(s.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,s=r.distance,a=e.retina;a.moveDrift=fn(r.drift)*i,a.moveSpeed=fn(r.speed)*i,a.sizeAnimationSpeed=fn(t.size.animation.speed)*i;const o=a.maxDistance;o.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,o.vertical=s.vertical!==void 0?s.vertical*i:void 0,a.maxSpeed=fn(r.gravity.maxSpeed)*i}}function Ir(n){return n&&!n.destroyed}function Kie(n,e=OC,t=!1){return{value:n,factor:t?OC/e:OC*n/va}}function fv(n,e,...t){const i=new Fie(n,e);return AH(i,...t),i}class $ie{constructor(e,t,i){this._intersectionManager=r=>{if(!(!Ir(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+va/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=r);const s=Kie(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>va){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){Wm().error(`${Ll} in animation loop`,s)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Yie(this),this.canvas=new Qne(this,this._engine),this.particles=new Xie(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=fv(this._engine,this),this.actualOptions=fv(this._engine,this),this._eventListeners=new Jne(this),this._intersectionObserver=Cne(r=>this._intersectionManager(r)),this._engine.dispatchEvent(ka.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&Ir(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ir(this))return;const t=this.interactivity.element;if(!t)return;const i=(p,v,y)=>{if(!Ir(this))return;const _=this.retina.pixelRatio,w={x:v.x*_,y:v.y*_},S=this.particles.quadTree.queryCircle(w,y*_);e(p,S)},r=p=>{if(!Ir(this))return;const v=p,y={x:v.offsetX||v.clientX,y:v.offsetY||v.clientY};i(p,y,Wte)},s=()=>{Ir(this)&&(u=!0,d=!1)},a=()=>{Ir(this)&&(d=!0)},o=p=>{if(Ir(this)){if(u&&!d){const v=p;let y=v.touches[v.touches.length-jU];if(!y&&(y=v.changedTouches[v.changedTouches.length-jU],!y))return;const _=this.canvas.element,w=_?_.getBoundingClientRect():void 0,S={x:y.clientX-(w?w.left:Dw),y:y.clientY-(w?w.top:Dw)};i(p,S,Math.max(y.radiusX,y.radiusY))}u=!1,d=!1}},c=()=>{Ir(this)&&(u=!1,d=!1)};let u=!1,d=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",a),this._clickHandlers.set("touchend",o),this._clickHandlers.set("touchcancel",c);for(const[p,v]of this._clickHandlers)t.addEventListener(p,v)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!Ir(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(Ir(this)){for(const[t,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(t,i);this._clickHandlers.clear()}}destroy(e=!0){var t,i;if(Ir(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const r of this.effectDrawers.values())(t=r.destroy)==null||t.call(r,this);for(const r of this.shapeDrawers.values())(i=r.destroy)==null||i.call(r,this);for(const r of this.effectDrawers.keys())this.effectDrawers.delete(r);for(const r of this.shapeDrawers.keys())this.shapeDrawers.delete(r);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const r=this._engine.items,s=r.findIndex(a=>a===this);s>=Xte&&r.splice(s,sH)}this._engine.dispatchEvent(ka.containerDestroyed,{container:this})}}draw(e){if(!Ir(this))return;let t=e;const i=r=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(r)};this._drawAnimationFrame=bne(r=>i(r))}async export(e,t={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}Wm().error(`${Ll} - Export plugin with type ${e} not found`)}handleClickMode(e){var t;if(Ir(this)){this.particles.handleClickMode(e);for(const i of this.plugins.values())(t=i.handleClickMode)==null||t.call(i,e)}}async init(){var u,d,p,v;if(!Ir(this))return;const e=this._engine.getSupportedEffects();for(const y of e){const _=this._engine.getEffectDrawer(y);_&&this.effectDrawers.set(y,_)}const t=this._engine.getSupportedShapes();for(const y of t){const _=this._engine.getShapeDrawer(y);_&&this.shapeDrawers.set(y,_)}await this.particles.initPlugins(),this._options=fv(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=fv(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[y,_]of i)this.plugins.set(y,_);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:a,fpsLimit:o,smooth:c}=this.actualOptions;this.zLayers=r,this._duration=fn(s)*va,this._delay=fn(a)*va,this._lifeTime=0,this.fpsLimit=o>Kte?o:Yte,this._smooth=c;for(const y of this.effectDrawers.values())await((u=y.init)==null?void 0:u.call(y,this));for(const y of this.shapeDrawers.values())await((d=y.init)==null?void 0:d.call(y,this));for(const y of this.plugins.values())await((p=y.init)==null?void 0:p.call(y));this._engine.dispatchEvent(ka.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const y of this.plugins.values())(v=y.particlesSetup)==null||v.call(y);this._engine.dispatchEvent(ka.particlesSetup,{container:this})}async loadTheme(e){Ir(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(Ir(this)&&(this._drawAnimationFrame!==void 0&&(_ne(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const t of this.plugins.values())(e=t.pause)==null||e.call(t);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(ka.containerPaused,{container:this})}}play(e){if(!Ir(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(ka.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(Ir(this))return this.stop(),this.start()}async reset(e){if(Ir(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=fv(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=fv(this._engine,this,this._options),this.refresh()}async start(){!Ir(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const r of this.plugins.values())await((i=r.start)==null?void 0:i.call(r));this._engine.dispatchEvent(ka.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){var e;if(!(!Ir(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const t of this.plugins.values())(e=t.stop)==null||e.call(t);for(const t of this.plugins.keys())this.plugins.delete(t);this._sourceOptions=this._options,this._engine.dispatchEvent(ka.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}let Zie=class{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){const i=this._listeners.get(e);i==null||i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<p3||(r===Nw?this._listeners.delete(e):i.splice(s,Nw))}};async function kC(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=await Promise.all([...t.values()].map(s=>s(n))),e.set(n,r)),r}async function Qie(n){const e=Mc(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?await t.json():(Wm().error(`${Ll} ${t.status} while retrieving config file`),n.fallback)}const Jie=n=>{let e;if(n instanceof HTMLCanvasElement||n.tagName.toLowerCase()===NC)e=n,e.dataset[Sm]||(e.dataset[Sm]=LU);else{const i=n.getElementsByTagName(NC);i.length?(e=i[$te],e.dataset[Sm]=LU):(e=document.createElement(NC),e.dataset[Sm]=iH,n.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},ere=(n,e)=>{let t=e??document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.dataset[Sm]=iH,document.body.append(t),t)};class tre{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Zie,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.8.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(ka.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(i))}async addEffect(e,t,i=!0){zl(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(r)}async addShape(e,t=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,await i.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return kC(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return kC(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return kC(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,sH);return}return i}async load(e){var v;const t=e.id??((v=e.element)==null?void 0:v.id)??`tsparticles${Math.floor(Qi()*Zte)}`,{index:i,url:r}=e,s=r?await Qie({fallback:e.options,url:r,index:i}):e.options,a=Mc(s,i),{items:o}=this,c=o.findIndex(y=>y.id.description===t),u=new $ie(this,t,a);if(c>=Qte){const y=this.item(c),_=y?Jte:Ow;y&&!y.destroyed&&y.destroy(!1),o.splice(c,_,u)}else o.push(u);const d=ere(t,e.element),p=Jie(d);return u.canvas.loadCanvas(p),await u.start(),u}loadOptions(e,t){this.plugins.forEach(i=>{var r;return(r=i.loadOptions)==null?void 0:r.call(i,e,t)})}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);r&&r.forEach(s=>{var a;return(a=s.loadOptions)==null?void 0:a.call(s,t,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${Ll} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}}function nre(){const n=new tre;return n.init(),n}class oh{constructor(e){this.type=Ey.external,this.container=e}}class BN{constructor(e){this.type=Ey.particles,this.container=e}}var wc;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(wc||(wc={}));var s5;(function(n){n.linear="linear",n.radial="radial",n.random="random"})(s5||(s5={}));var Im;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(Im||(Im={}));const DH=nre();Xm()||(window.tsParticles=DH);const fM=n=>{const e=n.id??"tsparticles";return B.useEffect(()=>{let t;return DH.load({id:e,url:n.url,options:n.options}).then(i=>{var r;t=i,(r=n.particlesLoaded)==null||r.call(n,i)}),()=>{t==null||t.destroy()}},[e,n,n.url,n.options]),U.jsx("div",{id:e,className:n.className})},b3=.5,ire=2,Td=0,wy=1,a5=60,o5=0,rre=.01,sre=Math.PI*ire;function are(n){const e=n.initialPosition,{dx:t,dy:i}=qa(e,n.position),r=Math.abs(t),s=Math.abs(i),{maxDistance:a}=n.retina,o=a.horizontal,c=a.vertical;if(!o&&!c)return;const u=(o&&r>=o)??!1,d=(c&&s>=c)??!1;if((u||d)&&!n.misplaced)n.misplaced=!!o&&r>o||!!c&&s>c,o&&(n.velocity.x=n.velocity.y*b3-n.velocity.x),c&&(n.velocity.y=n.velocity.x*b3-n.velocity.y);else if((!o||r<o)&&(!c||s<c)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const p=n.position,v=n.velocity;o&&(p.x<e.x&&v.x<Td||p.x>e.x&&v.x>Td)&&(v.x*=-Qi()),c&&(p.y<e.y&&v.y<Td||p.y>e.y&&v.y>Td)&&(v.y*=-Qi())}}function ore(n,e,t,i,r,s){cre(n,s);const a=n.gravity,o=a!=null&&a.enable&&a.inverse?-1:wy;r&&t&&(n.velocity.x+=r*s.factor/(a5*t)),a!=null&&a.enable&&t&&(n.velocity.y+=o*(a.acceleration*s.factor)/(a5*t));const c=n.moveDecay;n.velocity.multTo(c);const u=n.velocity.mult(t);a!=null&&a.enable&&i>Td&&(!a.inverse&&u.y>=Td&&u.y>=i||a.inverse&&u.y<=Td&&u.y<=-i)&&(u.y=o*i,t&&(n.velocity.y=u.y/t));const d=n.options.zIndex,p=(wy-n.zIndexFactor)**d.velocityRate;u.multTo(p);const{position:v}=n;v.addTo(u),e.vibrate&&(v.x+=Math.sin(v.x*Math.cos(v.y)),v.y+=Math.cos(v.y*Math.sin(v.x)))}function lre(n,e){const t=n.container;if(!n.spin)return;const i=n.spin.direction===wc.clockwise,r={x:i?Math.cos:Math.sin,y:i?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*r.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*r.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const s=Math.max(t.canvas.size.width,t.canvas.size.height),a=s*b3;n.spin.radius>a?(n.spin.radius=a,n.spin.acceleration*=-1):n.spin.radius<o5&&(n.spin.radius=o5,n.spin.acceleration*=-1),n.spin.angle+=e*rre*(wy-n.spin.radius/s)}function cre(n,e){var a;const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const s=(a=n.pathGenerator)==null?void 0:a.generate(n,e);s&&n.velocity.addTo(s),i.clamp&&(n.velocity.x=Ul(n.velocity.x,-1,wy),n.velocity.y=Ul(n.velocity.y,-1,wy)),n.lastPathTime-=n.pathDelay}function ure(n){return n.slow.inRange?n.slow.factor:wy}function hre(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,a={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},o=n.getPosition(),c=el(o,a),u=fn(i.acceleration);n.retina.spinAcceleration=u*e.retina.pixelRatio,n.spin={center:a,direction:n.velocity.x>=Td?wc.clockwise:wc.counterClockwise,angle:Qi()*sre,radius:c,acceleration:n.retina.spinAcceleration}}const fre=2,dre=1,pre=1;class mre{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:fn(i.acceleration),inverse:i.inverse},hre(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var w,S;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,a=s.retina.pixelRatio;(w=e.retina).moveSpeed??(w.moveSpeed=fn(r.speed)*a),(S=e.retina).moveDrift??(S.moveDrift=fn(e.options.move.drift)*a);const o=ure(e),c=e.retina.moveSpeed*s.retina.reduceFactor,u=e.retina.moveDrift,d=Hu(i.size.value)*a,p=r.size?e.getRadius()/d:dre,v=t.factor||pre,y=c*p*o*v/fre,_=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?lre(e,y):ore(e,r,y,_,u,t),are(e)}}async function gre(n,e=!0){n.checkVersion("3.8.1"),await n.addMover("base",()=>Promise.resolve(new mre),e)}const vre=2,yre=Math.PI*vre,bre=0,l5={x:0,y:0};function _re(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:bre,max:yre});const r=t.circleRange;e.arc(l5.x,l5.y,i,r.min,r.max,!1)}const xre=12,Sre=360,c5=0;class Ere{constructor(){this.validTypes=["circle"]}draw(e){_re(e)}getSidesCount(){return xre}particleInit(e,t){const i=t.shapeData,r=(i==null?void 0:i.angle)??{max:Sre,min:c5};t.circleRange=$v(r)?{min:Ad(r.min),max:Ad(r.max)}:{min:c5,max:Ad(r)}}}async function wre(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new Ere,e)}class Tre{constructor(e,t){this._container=e,this._engine=t}init(e){const t=w_(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=SH(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&t.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,t){EH(e.color,t)}}async function Mre(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new Tre(t,n)),e)}var gm;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(gm||(gm={}));const Are=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,Cre=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,cS=16,Rre=1,Dre=255;class Ore{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const t=e.replace(Are,(r,s,a,o,c)=>s+s+a+a+o+o+(c!==void 0?c+c:"")),i=Cre.exec(t);return i?{a:i[gm.a]!==void 0?parseInt(i[gm.a],cS)/Dre:Rre,b:parseInt(i[gm.b],cS),g:parseInt(i[gm.g],cS),r:parseInt(i[gm.r],cS)}:void 0}}async function Nre(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new Ore,e)}var Zv;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(Zv||(Zv={}));class Pre{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return xy(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return xy({h:fn(i.h),l:fn(i.l),s:fn(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,s=1,a=10;return i?Fne({a:i.length>r?hH(i[Zv.a]):s,h:parseInt(i[Zv.h],a),l:parseInt(i[Zv.l],a),s:parseInt(i[Zv.s],a)}):void 0}}async function Ire(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new Pre,e)}class Lre{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=gH(t,i);const r=t.animation;r.enable&&(e.opacity.velocity=fn(r.speed)/wd*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Qi()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||LN(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function Ure(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new Lre(t)),e)}const Iw=0,uy=0;function zre(n){if(n.outMode!==ns.bounce&&n.outMode!==ns.split||n.direction!==ri.left&&n.direction!==ri.right)return;n.bounds.right<uy&&n.direction===ri.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===ri.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===ri.right&&n.bounds.right>=n.canvasSize.width&&e>Iw||n.direction===ri.left&&n.bounds.left<=uy&&e<Iw){const r=fn(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===ri.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=uy&&n.direction===ri.left&&(n.particle.position.x=i),n.outMode===ns.split&&n.particle.destroy()}function Vre(n){if(n.outMode!==ns.bounce&&n.outMode!==ns.split||n.direction!==ri.bottom&&n.direction!==ri.top)return;n.bounds.bottom<uy&&n.direction===ri.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===ri.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===ri.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>Iw||n.direction===ri.top&&n.bounds.top<=uy&&e<Iw){const r=fn(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===ri.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=uy&&n.direction===ri.top&&(n.particle.position.y=i),n.outMode===ns.split&&n.particle.destroy()}class Bre{constructor(e){this.container=e,this.modes=[ns.bounce,ns.split]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let a=!1;for(const v of s.plugins.values())if(v.particleBounce!==void 0&&(a=v.particleBounce(e,i,t)),a)break;if(a)return;const o=e.getPosition(),c=e.offset,u=e.getRadius(),d=yx(o,u),p=s.canvas.size;zre({particle:e,outMode:r,direction:t,bounds:d,canvasSize:p,offset:c,size:u}),Vre({particle:e,outMode:r,direction:t,bounds:d,canvasSize:p,offset:c,size:u})}}const uS=0;class kre{constructor(e){this.container=e,this.modes=[ns.destroy]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Rc.normal:case Rc.outside:if(NN(e.position,s.canvas.size,Ds.origin,e.getRadius(),t))return;break;case Rc.inside:{const{dx:a,dy:o}=qa(e.position,e.moveCenter),{x:c,y:u}=e.velocity;if(c<uS&&a>e.moveCenter.radius||u<uS&&o>e.moveCenter.radius||c>=uS&&a<-e.moveCenter.radius||u>=uS&&o<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const hS=0;class Fre{constructor(e){this.container=e,this.modes=[ns.none]}update(e,t,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(t===ri.left||t===ri.right))??(e.options.move.distance.vertical&&(t===ri.top||t===ri.bottom))))return;const s=e.options.move.gravity,a=this.container,o=a.canvas.size,c=e.getRadius();if(s.enable){const u=e.position;(!s.inverse&&u.y>o.height+c&&t===ri.bottom||s.inverse&&u.y<-c&&t===ri.top)&&a.particles.remove(e)}else{if(e.velocity.y>hS&&e.position.y<=o.height+c||e.velocity.y<hS&&e.position.y>=-c||e.velocity.x>hS&&e.position.x<=o.width+c||e.velocity.x<hS&&e.position.x>=-c)return;NN(e.position,a.canvas.size,Ds.origin,c,t)||a.particles.remove(e)}}}const fS=0,dS=0;class Hre{constructor(e){this.container=e,this.modes=[ns.out]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case Rc.inside:{const{x:a,y:o}=e.velocity,c=Ds.origin;c.length=e.moveCenter.radius,c.angle=e.velocity.angle+Math.PI,c.addTo(Ds.create(e.moveCenter));const{dx:u,dy:d}=qa(e.position,c);if(a<=fS&&u>=dS||o<=fS&&d>=dS||a>=fS&&u<=dS||o>=fS&&d<=dS)return;e.position.x=Math.floor(Jo({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Jo({min:0,max:s.canvas.size.height}));const{dx:p,dy:v}=qa(e.position,e.moveCenter);e.direction=Math.atan2(-v,-p),e.velocity.angle=e.direction;break}default:{if(NN(e.position,s.canvas.size,Ds.origin,e.getRadius(),t))return;switch(e.outType){case Rc.outside:{e.position.x=Math.floor(Jo({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Jo({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:a,dy:o}=qa(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(o,a),e.velocity.angle=e.direction);break}case Rc.normal:{const a=e.options.move.warp,o=s.canvas.size,c={bottom:o.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:o.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),d=yx(e.position,u);t===ri.right&&d.left>o.width+e.offset.x?(e.position.x=c.left,e.initialPosition.x=e.position.x,a||(e.position.y=Qi()*o.height,e.initialPosition.y=e.position.y)):t===ri.left&&d.right<-e.offset.x&&(e.position.x=c.right,e.initialPosition.x=e.position.x,a||(e.position.y=Qi()*o.height,e.initialPosition.y=e.position.y)),t===ri.bottom&&d.top>o.height+e.offset.y?(a||(e.position.x=Qi()*o.width,e.initialPosition.x=e.position.x),e.position.y=c.top,e.initialPosition.y=e.position.y):t===ri.top&&d.bottom<-e.offset.y&&(a||(e.position.x=Qi()*o.width,e.initialPosition.x=e.position.x),e.position.y=c.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const jre=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class Gre{constructor(e){this._addUpdaterIfMissing=(t,i,r)=>{const s=t.options.move.outModes;!this.updaters.has(i)&&jre(s,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(t,i,r,s)=>{for(const a of this.updaters.values())a.update(t,s,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,ns.bounce,t=>new Bre(t)),this._addUpdaterIfMissing(e,ns.out,t=>new Hre(t)),this._addUpdaterIfMissing(e,ns.destroy,t=>new kre(t)),this._addUpdaterIfMissing(e,ns.none,t=>new Fre(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,ri.bottom),this._updateOutMode(e,t,i.left??i.default,ri.left),this._updateOutMode(e,t,i.right??i.default,ri.right),this._updateOutMode(e,t,i.top??i.default,ri.top)}}async function qre(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new Gre(t)),e)}var Qv;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(Qv||(Qv={}));class Wre{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:fn(i.r),g:fn(i.g),b:fn(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=10;return i?{a:i.length>4?hH(i[Qv.a]):1,b:parseInt(i[Qv.b],r),g:parseInt(i[Qv.g],r),r:parseInt(i[Qv.r],r)}:void 0}}async function Xre(n,e=!0){n.checkVersion("3.8.1"),await n.addColorManager(new Wre,e)}const Wp=0;class Yre{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/wd*t.retina.reduceFactor,r.sync||(e.size.velocity*=Qi()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Wp)<=Wp||(e.size.maxLoops??Wp)>Wp&&(e.size.loops??Wp)<(e.size.maxLoops??Wp))}reset(e){e.size.loops=Wp}update(e,t){this.isEnabled(e)&&LN(e,e.size,!0,e.options.size.animation.destroy,t)}}async function Kre(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new Yre),e)}async function $re(n,e=!0){n.checkVersion("3.8.1"),await Nre(n,!1),await Ire(n,!1),await Xre(n,!1),await gre(n,!1),await wre(n,!1),await Mre(n,!1),await Ure(n,!1),await qre(n,!1),await Kre(n,!1),await n.refresh(e)}async function Zre(n,e=!0){n.checkVersion("3.8.1"),await n.addEasing(Im.easeInQuad,t=>t**2,!1),await n.addEasing(Im.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(Im.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function Qre(n,e){const{context:t,opacity:i}=n,r=.5,s=t.globalAlpha;if(!e)return;const a=e.width,o=a*r;t.globalAlpha=i,t.drawImage(e,-o,-o,a,a),t.globalAlpha=s}const FC='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',u5=0;class Jre{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(t==null||t.close()),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&Qre(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(a=>Wr(a,t.particles.shape.type)))return;const r=[ZU(FC)],s=i.map(a=>t.particles.shape.options[a]).find(a=>!!a);s&&zl(s,a=>{a.font&&r.push(ZU(a.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const r=t.shapeData;if(!(r!=null&&r.value))return;const s=Mc(r.value,t.randomIndexData);if(!s)return;const a=typeof s=="string"?{font:r.font??FC,padding:r.padding??u5,value:s}:{font:FC,padding:u5,...r,...s},o=a.font,c=a.value,u=`${c}_${o}`;if(this._emojiShapeDict.has(u)){t.emojiDataKey=u;return}const d=a.padding*2,p=Hu(t.size.value),v=p+d,y=v*2;let _;if(typeof OffscreenCanvas<"u"){const w=new OffscreenCanvas(y,y),S=w.getContext("2d");if(!S)return;S.font=`400 ${p*2}px ${o}`,S.textBaseline="middle",S.textAlign="center",S.fillText(c,v,v),_=w.transferToImageBitmap()}else{const w=document.createElement("canvas");w.width=y,w.height=y;const S=w.getContext("2d");if(!S)return;S.font=`400 ${p*2}px ${o}`,S.textBaseline="middle",S.textAlign="center",S.fillText(c,v,v),_=w}this._emojiShapeDict.set(u,_),t.emojiDataKey=u}}async function ese(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new Jre,e)}const tse=1,nse=1,OH=0;function NH(n,e,t,i,r,s){const a=e.actualOptions.interactivity.modes.attract;if(!a)return;const o=e.particles.quadTree.query(r,s);for(const c of o){const{dx:u,dy:d,distance:p}=qa(c.position,t),v=a.speed*a.factor,y=Ul(n.getEasing(a.easing)(nse-p/i)*v,tse,a.maxSpeed),_=Ds.create(p?u/p*y:v,p?d/p*y:v);c.position.subFrom(_)}}function ise(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<OH||!r)return;NH(n,e,r,s,new _a(r.x,r.y,s),a=>t(a))}else i.clicking===!1&&(i.particles=[])}function rse(n,e,t){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<OH||!i||NH(n,e,i,r,new _a(i.x,i.y,r),s=>t(s))}class sse{constructor(){this.distance=200,this.duration=.4,this.easing=Im.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const yb="attract";let ase=class extends oh{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==yb)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const a of t.attract.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},s.duration*va)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Gm,r=t.interactivity.events,{enable:s,mode:a}=r.onHover,{enable:o,mode:c}=r.onClick;i&&s&&Wr(yb,a)?rse(this._engine,this.container,u=>this.isEnabled(u)):o&&Wr(yb,c)&&ise(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const a=s.onHover.mode,o=s.onClick.mode;return Wr(yb,a)||Wr(yb,o)}loadModeOptions(e,...t){e.attract||(e.attract=new sse);for(const i of t)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function ose(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new ase(n,t)),e)}const lse=2,FE=.5,cse=Math.PI*FE,h5=2,PH=10,use=0;function IH(n,e,t,i,r){const s=n.particles.quadTree.query(i,r);for(const a of s)i instanceof _a?pH(g3(a),{position:e,mass:t**lse*cse,velocity:Ds.origin,factor:Ds.origin}):i instanceof Nc&&Pne(a,yx(e,t))}function hse(n,e,t,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const a=s,o=n.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth*FE)*o,y:(a.offsetTop+a.offsetHeight*FE)*o},u=a.offsetWidth*FE*o,d=PH*o,p=t.type===Sy.circle?new _a(c.x,c.y,u+d):new Nc(a.offsetLeft*o-d,a.offsetTop*o-d,a.offsetWidth*o+d*h5,a.offsetHeight*o+d*h5);i(c,u,p)})}function fse(n,e,t,i){IN(t,e,(r,s)=>hse(n,r,s,(a,o,c)=>IH(n,a,o,c,i)))}function dse(n,e){const t=n.retina.pixelRatio,i=PH*t,r=n.interactivity.mouse.position,s=n.retina.bounceModeDistance;!s||s<use||!r||IH(n,r,s,new _a(r.x,r.y,s+i),e)}class pse{constructor(){this.distance=200}load(e){Lt(e)||e.distance!==void 0&&(this.distance=e.distance)}}const pS="bounce";class mse extends oh{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===Gm,s=i.onHover.enable,a=i.onHover.mode,o=i.onDiv;r&&s&&Wr(pS,a)?dse(this.container,c=>this.isEnabled(c)):fse(this.container,o,pS,c=>this.isEnabled(c))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,a=s.onDiv;return!!r.position&&s.onHover.enable&&Wr(pS,s.onHover.mode)||PN(pS,a)}loadModeOptions(e,...t){e.bounce||(e.bounce=new pse);for(const i of t)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function gse(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new mse(t)),e)}class LH{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!Lt(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=ah(this.color)?void 0:this.color;this.color=zl(e.color,i=>Ea.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class vse extends LH{constructor(){super(),this.selectors=[]}load(e){super.load(e),!Lt(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class yse extends LH{load(e){super.load(e),!Lt(e)&&(this.divs=zl(e.divs,t=>{const i=new vse;return i.load(t),i}))}}var Iu;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(Iu||(Iu={}));function f5(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return Ul(r,n,e)}else if(e<t){const r=n-(t-e)*i;return Ul(r,e,n)}}const Xp="bubble",HC=0,bse=0,_se=2,d5=1,p5=1,xse=0,Sse=0,jC=.5,GC=1;class Ese extends oh{constructor(e,t){super(e),this._clickBubble=()=>{var d;const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition,a=r.interactivity.modes.bubble;if(!a||!s)return;i.bubble||(i.bubble={});const o=i.retina.bubbleModeDistance;if(!o||o<HC)return;const c=i.particles.quadTree.queryCircle(s,o,p=>this.isEnabled(p)),{bubble:u}=i;for(const p of c){if(!u.clicking)continue;p.bubble.inRange=!u.durationEnd;const v=p.getPosition(),y=el(v,s),_=(new Date().getTime()-(i.interactivity.mouse.clickTime??bse))/va;_>a.duration&&(u.durationEnd=!0),_>a.duration*_se&&(u.clicking=!1,u.durationEnd=!1);const w={bubbleObj:{optValue:i.retina.bubbleModeSize,value:p.bubble.radius},particlesObj:{optValue:Hu(p.options.size.value)*i.retina.pixelRatio,value:p.size.value},type:Iu.size};this._process(p,y,_,w);const S={bubbleObj:{optValue:a.opacity,value:p.bubble.opacity},particlesObj:{optValue:Hu(p.options.opacity.value),value:((d=p.opacity)==null?void 0:d.value)??d5},type:Iu.opacity};this._process(p,y,_,S),!u.durationEnd&&y<=o?this._hoverBubbleColor(p,y):delete p.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.bubbleModeDistance;if(!s||s<HC||!r)return;const a=i.particles.quadTree.queryCircle(r,s,o=>this.isEnabled(o));for(const o of a){o.bubble.inRange=!0;const c=o.getPosition(),u=el(c,r),d=p5-u/s;u<=s?d>=Sse&&i.interactivity.status===Gm&&(this._hoverBubbleSize(o,d),this._hoverBubbleOpacity(o,d),this._hoverBubbleColor(o,d)):this.reset(o),i.interactivity.status===c3&&this.reset(o)}},this._hoverBubbleColor=(i,r,s)=>{const a=this.container.actualOptions,o=s??a.interactivity.modes.bubble;if(o){if(!i.bubble.finalColor){const c=o.color;if(!c)return;const u=Mc(c);i.bubble.finalColor=w_(this._engine,u)}if(i.bubble.finalColor)if(o.mix){i.bubble.color=void 0;const c=i.getFillColor();i.bubble.color=c?bH(UN(c,i.bubble.finalColor,p5-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,s)=>{var v,y;const a=this.container,o=a.actualOptions,c=(s==null?void 0:s.opacity)??((v=o.interactivity.modes.bubble)==null?void 0:v.opacity);if(!c)return;const u=i.options.opacity.value,d=((y=i.opacity)==null?void 0:y.value)??d5,p=f5(d,c,Hu(u),r);p!==void 0&&(i.bubble.opacity=p)},this._hoverBubbleSize=(i,r,s)=>{const a=this.container,o=s!=null&&s.size?s.size*a.retina.pixelRatio:a.retina.bubbleModeSize;if(o===void 0)return;const c=Hu(i.options.size.value)*a.retina.pixelRatio,u=i.size.value,d=f5(u,o,c,r);d!==void 0&&(i.bubble.radius=d)},this._process=(i,r,s,a)=>{const o=this.container,c=a.bubbleObj.optValue,u=o.actualOptions,d=u.interactivity.modes.bubble;if(!d||c===void 0)return;const p=d.duration,v=o.retina.bubbleModeDistance,y=a.particlesObj.optValue,_=a.bubbleObj.value,w=a.particlesObj.value??xse,S=a.type;if(!(!v||v<HC||c===y))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)_&&(S===Iu.size&&delete i.bubble.radius,S===Iu.opacity&&delete i.bubble.opacity);else if(r<=v){if((_??w)!==c){const A=w-s*(w-c)/p;S===Iu.size&&(i.bubble.radius=A),S===Iu.opacity&&(i.bubble.opacity=A)}}else S===Iu.size&&delete i.bubble.radius,S===Iu.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,s)=>{const a=this.container,o=document.querySelectorAll(r),c=a.actualOptions.interactivity.modes.bubble;!c||!o.length||o.forEach(u=>{const d=u,p=a.retina.pixelRatio,v={x:(d.offsetLeft+d.offsetWidth*jC)*p,y:(d.offsetTop+d.offsetHeight*jC)*p},y=d.offsetWidth*jC*p,_=s.type===Sy.circle?new _a(v.x,v.y,y):new Nc(d.offsetLeft*p,d.offsetTop*p,d.offsetWidth*p,d.offsetHeight*p),w=a.particles.quadTree.query(_,S=>this.isEnabled(S));for(const S of w){if(!_.contains(S.getPosition()))continue;S.bubble.inRange=!0;const E=c.divs,A=dH(E,d);(!S.bubble.div||S.bubble.div!==d)&&(this.clear(S,i,!0),S.bubble.div=d),this._hoverBubbleSize(S,GC,A),this._hoverBubbleOpacity(S,GC,A),this._hoverBubbleColor(S,GC,A)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Xp&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,s=i.onClick,a=r.enable,o=r.mode,c=s.enable,u=s.mode,d=i.onDiv;a&&Wr(Xp,o)?this._hoverBubble():c&&Wr(Xp,u)?this._clickBubble():IN(Xp,d,(p,v)=>this._singleSelectorHover(e,p,v))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:a,onDiv:o,onHover:c}=s,u=PN(Xp,o);return u||c.enable&&r.position||a.enable&&r.clickPosition?Wr(Xp,c.mode)||Wr(Xp,a.mode)||u:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new yse);for(const i of t)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function wse(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new Ese(t,n)),e)}class Tse{constructor(){this.opacity=.5}load(e){Lt(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class Mse{constructor(){this.distance=80,this.links=new Tse,this.radius=60}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const m5=0,g5=1,Ase=0;function Cse(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),a=t.getFillColor();if(!s||!a)return;const o=e.getPosition(),c=t.getPosition(),u=UN(s,a,e.getRadius(),t.getRadius()),d=n.createLinearGradient(o.x,o.y,c.x,c.y);return d.addColorStop(m5,T_(s,i)),d.addColorStop(Ul(r,m5,g5),af(u,i)),d.addColorStop(g5,T_(a,i)),d}function Rse(n,e,t,i,r){Qb(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function Dse(n,e,t,i){const r=n.actualOptions,s=r.interactivity.modes.connect;if(s)return Cse(e,t,i,s.links.opacity)}function Ose(n,e,t){n.canvas.draw(i=>{const r=Dse(n,i,e,t);if(!r)return;const s=e.getPosition(),a=t.getPosition();Rse(i,e.retina.linksWidth??Ase,r,s,a)})}const Nse="connect",v5=0;class Pse extends oh{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<v5||!s||s<v5||!i)return;const a=Math.abs(s),o=e.particles.quadTree.queryCircle(i,a,c=>this.isEnabled(c));o.forEach((c,u)=>{const d=c.getPosition(),p=1;for(const v of o.slice(u+p)){const y=v.getPosition(),_=Math.abs(r),w=Math.abs(d.x-y.x),S=Math.abs(d.y-y.y);w<_&&S<_&&Ose(e,c,v)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Wr(Nse,r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new Mse);for(const i of t)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function Ise(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new Pse(t)),e)}class Lse{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){Lt(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Ea.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Use{constructor(){this.distance=100,this.links=new Lse}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const zse=0;function Vse(n,e,t,i,r,s){Qb(n,t,i),n.strokeStyle=af(r,s),n.lineWidth=e,n.stroke()}function Bse(n,e,t,i,r){n.canvas.draw(s=>{const a=e.getPosition();Vse(s,e.retina.linksWidth??zse,a,r,t,i)})}const kse="grab",Fse=0,Hse=0;class jse extends oh{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){var o;const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Gm)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<Fse)return;const a=e.particles.quadTree.queryCircle(r,s,c=>this.isEnabled(c));for(const c of a){const u=c.getPosition(),d=el(u,r);if(d>s)continue;const p=i.modes.grab.links,v=p.opacity,y=v-d*v/s;if(y<=Hse)continue;const _=p.color??((o=c.options.links)==null?void 0:o.color);if(!e.particles.grabLineColor&&_){const S=i.modes.grab.links;e.particles.grabLineColor=xH(this._engine,_,S.blink,S.consent)}const w=y3(c,void 0,e.particles.grabLineColor);w&&Bse(e,c,w,y,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Wr(kse,r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new Use);for(const i of t)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function Gse(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new jse(t,n)),e)}const qse="pause";class Wse extends oh{constructor(e){super(e),this.handleClickMode=t=>{if(t!==qse)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function Xse(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new Wse(t)),e)}class Yse{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(Lt(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=wi(t))}}const Kse="push",$se=0;class Zse extends oh{constructor(e){super(e),this.handleClickMode=t=>{if(t!==Kse)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const a=fn(s.quantity);if(a<=$se)return;const o=hM([void 0,...s.groups]),c=o!==void 0?i.actualOptions.particles.groups[o]:void 0;i.particles.push(a,i.interactivity.mouse,c,o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new Yse);for(const i of t)e.push.load(i==null?void 0:i.push)}reset(){}}async function Qse(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new Zse(t)),e)}class Jse{constructor(){this.quantity=2}load(e){if(Lt(e))return;const t=e.quantity;t!==void 0&&(this.quantity=wi(t))}}const eae="remove";class tae extends oh{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!==eae)return;const s=fn(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new Jse);for(const i of t)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function nae(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new tae(t)),e)}class UH{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Im.easeOutQuad}load(e){Lt(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class iae extends UH{constructor(){super(),this.selectors=[]}load(e){super.load(e),!Lt(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class rae extends UH{load(e){super.load(e),!Lt(e)&&(this.divs=zl(e.divs,t=>{const i=new iae;return i.load(t),i}))}}const Yp="repulse",sae=0,aae=6,oae=3,lae=2,cae=0,uae=0,hae=1,qC=.5;class fae extends oh{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const a=i.retina.repulseModeDistance;if(!a||a<sae)return;const o=Math.pow(a/aae,oae),c=i.interactivity.mouse.clickPosition;if(c===void 0)return;const u=new _a(c.x,c.y,o),d=i.particles.quadTree.query(u,p=>this.isEnabled(p));for(const p of d){const{dx:v,dy:y,distance:_}=qa(c,p.position),w=_**lae,S=r.speed,E=-o*S/w;if(w<=o){s.particles.push(p);const A=Ds.create(v,y);A.length=E,p.velocity.setTo(A)}}}else if(s.clicking===!1){for(const a of s.particles)a.velocity.setTo(a.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<cae||!r||this._processRepulse(r,s,new _a(r.x,r.y,s))},this._processRepulse=(i,r,s,a)=>{const o=this.container,c=o.particles.quadTree.query(s,S=>this.isEnabled(S)),u=o.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:d,speed:p,factor:v,maxSpeed:y}=u,_=this._engine.getEasing(d),w=((a==null?void 0:a.speed)??p)*v;for(const S of c){const{dx:E,dy:A,distance:R}=qa(S.position,i),D=Ul(_(hae-R/r)*w,uae,y),k=Ds.create(R?E/R*D:w,R?A/R*D:w);S.position.addTo(k)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,a=s.actualOptions.interactivity.modes.repulse;if(!a)return;const o=document.querySelectorAll(i);o.length&&o.forEach(c=>{const u=c,d=s.retina.pixelRatio,p={x:(u.offsetLeft+u.offsetWidth*qC)*d,y:(u.offsetTop+u.offsetHeight*qC)*d},v=u.offsetWidth*qC*d,y=r.type===Sy.circle?new _a(p.x,p.y,v):new Nc(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),_=a.divs,w=dH(_,u);this._processRepulse(p,v,y,w)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==Yp)return;t.repulse||(t.repulse={particles:[]});const a=t.repulse;a.clicking=!0,a.count=0;for(const o of t.repulse.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);a.particles=[],a.finish=!1,setTimeout(()=>{t.destroyed||(a.clicking=!1)},s.duration*va)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Gm,r=t.interactivity.events,s=r.onHover,a=s.enable,o=s.mode,c=r.onClick,u=c.enable,d=c.mode,p=r.onDiv;i&&a&&Wr(Yp,o)?this._hoverRepulse():u&&Wr(Yp,d)?this._clickRepulse():IN(Yp,p,(v,y)=>this._singleSelectorRepulse(v,y))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,a=s.onDiv,o=s.onHover,c=s.onClick,u=PN(Yp,a);if(!(u||o.enable&&r.position||c.enable&&r.clickPosition))return!1;const d=o.mode,p=c.mode;return Wr(Yp,d)||Wr(Yp,p)||u}loadModeOptions(e,...t){e.repulse||(e.repulse=new rae);for(const i of t)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function dae(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new fae(n,t)),e)}class pae{constructor(){this.factor=3,this.radius=200}load(e){Lt(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const mae="slow",gae=0;class vae extends oh{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=((e==null?void 0:e.interactivity)??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Wr(mae,r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new pae);for(const i of t)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,s=t.retina.slowModeRadius,a=i.interactivity.modes.slow;if(!a||!s||s<gae||!r)return;const o=e.getPosition(),c=el(r,o),u=c/s,d=a.factor,{slow:p}=e;c>s||(p.inRange=!0,p.factor=u/d)}}async function yae(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new vae(t)),e)}const bae=0,_ae=1,xae=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function Sae(n,e,t){const{svgData:i}=n;if(!i)return"";const r=T_(e,t);if(i.includes("fill"))return i.replace(xae,()=>r);const s=i.indexOf(">");return`${i.substring(bae,s)} fill="${r}"${i.substring(s)}`}async function dM(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,Wm().error(`${Ll} loading image: ${n.source}`),e()}),t.src=n.source})}async function Eae(n){if(n.type!=="svg"){await dM(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(Wm().error(`${Ll} Image not found`),n.error=!0),n.loading=!1}function wae(n,e,t,i){var a;const r=Sae(n,t,((a=i.opacity)==null?void 0:a.value)??_ae),s={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(o=>{const c=new Blob([r],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,d=u.createObjectURL(c),p=new Image;p.addEventListener("load",()=>{s.loaded=!0,s.element=p,o(s),u.revokeObjectURL(d)});const v=async()=>{u.revokeObjectURL(d);const y={...n,error:!1,loading:!0};await dM(y),s.loaded=!0,s.element=y.element,o(s)};p.addEventListener("error",()=>void v()),p.src=d})}const WC=[0,4,2,1],y5=[8,8,4,2];class Tae{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,r=0;do{t=this.data[this.pos++];for(let s=t;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,r=1;for(let a=0;e!==i;a+=e+r,e=this.data[this.pos+a])t+=e;const s=new Uint8Array(t);e=this.data[this.pos++];for(let a=0;e!==i;e=this.data[this.pos++])for(let o=e;--o>=i;s[a++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var _c;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(_c||(_c={}));var tf;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})(tf||(tf={}));const yo={x:0,y:0},Mae=0,b5=.5,Aae=0,_5=0,_3=0;function zH(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function Cae(n,e,t,i){switch(n.nextByte()){case tf.GraphicsControlExtension:{const r=e.frames[t(!1)];n.pos++;const s=n.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const a=(s&1)===1;r.delayTime=n.nextTwoBytes()*10;const o=n.nextByte();a&&i(o),n.pos++;break}case tf.ApplicationExtension:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case tf.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case tf.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function Rae(n,e,t,i,r,s){const a=e.frames[i(!0)];a.left=n.nextTwoBytes(),a.top=n.nextTwoBytes(),a.width=n.nextTwoBytes(),a.height=n.nextTwoBytes();const o=n.nextByte(),c=(o&128)===128,u=(o&64)===64;a.sortFlag=(o&32)===32,a.reserved=(o&24)>>>3;const d=1<<(o&7)+1;c&&(a.localColorTable=zH(n,d));const p=E=>{const{r:A,g:R,b:D}=(c?a.localColorTable:e.globalColorTable)[E];return E!==r(null)?{r:A,g:R,b:D,a:255}:{r:A,g:R,b:D,a:t?~~((A+R+D)/3):0}},v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(E){if(E instanceof DOMException&&E.name==="IndexSizeError")return null;throw E}})();if(v==null)throw new EvalError("GIF frame size is to large");const y=n.nextByte(),_=n.readSubBlocksBin(),w=1<<y,S=(E,A)=>{const R=E>>>3,D=E&7;return(_[R]+(_[R+1]<<8)+(_[R+2]<<16)&(1<<A)-1<<D)>>>D};if(u){for(let E=0,A=y+1,R=0,D=[[0]],k=0;k<4;k++)if(WC[k]<a.height){let N=0,z=0,V=!1;for(;!V;){const I=E;if(E=S(R,A),R+=A+1,E===w){A=y+1,D.length=w+2;for(let L=0;L<D.length;L++)D[L]=L<w?[L]:[]}else{E>=D.length?D.push(D[I].concat(D[I][0])):I!==w&&D.push(D[I].concat(D[E][0]));for(const L of D[E]){const{r:j,g:X,b:G,a:re}=p(L);v.data.set([j,X,G,re],WC[k]*a.width+y5[k]*z+N%(a.width*4)),N+=4}D.length===1<<A&&A<12&&A++}N===a.width*4*(z+1)&&(z++,WC[k]+y5[k]*z>=a.height&&(V=!0))}}a.image=v,a.bitmap=await createImageBitmap(v)}else{let E=0,A=y+1,R=0,D=-4,k=!1;const N=[[0]];for(;!k;){const z=E;if(E=S(R,A),R+=A,E===w){A=y+1,N.length=w+2;for(let V=0;V<N.length;V++)N[V]=V<w?[V]:[]}else{if(E===w+1){k=!0;break}E>=N.length?N.push(N[z].concat(N[z][0])):z!==w&&N.push(N[z].concat(N[E][0]));for(const V of N[E]){const{r:I,g:L,b:j,a:X}=p(V);v.data.set([I,L,j,X],D+=4)}N.length>=1<<A&&A<12&&A++}}a.image=v,a.bitmap=await createImageBitmap(v)}}async function Dae(n,e,t,i,r,s){switch(n.nextByte()){case tf.EndOfFile:return!0;case tf.Image:await Rae(n,e,t,i,r);break;case tf.Extension:Cae(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function Oae(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function Nae(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},a=new Tae(new Uint8ClampedArray(r));if(a.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=a.nextTwoBytes(),s.height=a.nextTwoBytes();const o=a.nextByte(),c=(o&128)===128;s.colorRes=(o&112)>>>4,s.sortFlag=(o&8)===8;const u=1<<(o&7)+1,d=a.nextByte();s.pixelAspectRatio=a.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),c&&(s.globalColorTable=zH(a,u));const p=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(D){if(D instanceof DOMException&&D.name==="IndexSizeError")return null;throw D}})();if(p==null)throw new Error("GIF frame size is to large");const{r:v,g:y,b:_}=s.globalColorTable[d];p.data.set(c?[v,y,_,255]:[0,0,0,0]);for(let D=4;D<p.data.length;D*=2)p.data.copyWithin(D,0,D);s.backgroundImage=p;let w=-1,S=!0,E=-1;const A=D=>(D&&(S=!0),w),R=D=>(D!=null&&(E=D),E);try{do S&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:_c.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,E=-1,S=!1);while(!await Dae(a,s,t,A,R,e));s.frames.length--;for(const D of s.frames){if(D.userInputDelayFlag&&D.delayTime===0){s.totalTime=1/0;break}s.totalTime+=D.delayTime}return s}catch(D){throw D instanceof EvalError?new Error(`error while parsing frame ${w} "${D.message}"`):D}}function Pae(n){const{context:e,radius:t,particle:i,delta:r}=n,s=i.image;if(!(s!=null&&s.gifData)||!s.gif)return;const a=new OffscreenCanvas(s.gifData.width,s.gifData.height),o=a.getContext("2d");if(!o)throw new Error("could not create offscreen canvas context");o.imageSmoothingQuality="low",o.imageSmoothingEnabled=!1,o.clearRect(yo.x,yo.y,a.width,a.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??_3);let c=i.gifFrame??Mae;const u={x:-s.gifData.width*b5,y:-s.gifData.height*b5},d=s.gifData.frames[c];if(i.gifTime===void 0&&(i.gifTime=Aae),!!d.bitmap){switch(e.scale(t/s.gifData.width,t/s.gifData.height),d.disposalMethod){case _c.UndefinedA:case _c.UndefinedB:case _c.UndefinedC:case _c.UndefinedD:case _c.Replace:o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y),o.clearRect(yo.x,yo.y,a.width,a.height);break;case _c.Combine:o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y);break;case _c.RestoreBackground:o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y),o.clearRect(yo.x,yo.y,a.width,a.height),s.gifData.globalColorTable.length?o.putImageData(s.gifData.backgroundImage,u.x,u.y):o.putImageData(s.gifData.frames[_5].image,u.x+d.left,u.y+d.top);break;case _c.RestorePrevious:{const p=o.getImageData(yo.x,yo.y,a.width,a.height);o.drawImage(d.bitmap,d.left,d.top),e.drawImage(a,u.x,u.y),o.clearRect(yo.x,yo.y,a.width,a.height),o.putImageData(p,yo.x,yo.y)}break}if(i.gifTime+=r.value,i.gifTime>d.delayTime){if(i.gifTime-=d.delayTime,++c>=s.gifData.frames.length){if(--i.gifLoopCount<=_3)return;c=_5,o.clearRect(yo.x,yo.y,a.width,a.height)}i.gifFrame=c}e.scale(s.gifData.width/t,s.gifData.height/t)}}async function Iae(n){if(n.type!=="gif"){await dM(n);return}n.loading=!0;try{n.gifData=await Nae(n.source),n.gifLoopCount=Oae(n.gifData)??_3,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const Lae=2,Uae=1,zae=12,Vae=1;class Bae{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${Ll} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:r,opacity:s}=e,a=r.image,o=a==null?void 0:a.element;if(a){if(t.globalAlpha=s,a.gif&&a.gifData)Pae(e);else if(o){const c=a.ratio,u={x:-i,y:-i},d=i*Lae;t.drawImage(o,u.x,u.y,d,d/c)}t.globalAlpha=Uae}}getSidesCount(){return zae}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const s=t.getFillColor(),a=i.find(c=>c.name===r.name||c.source===r.src);if(!a)return;const o=r.replaceColor??a.replaceColor;if(a.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let c;a.svgData&&s?c=await wae(a,r,s,t):c={color:s,data:a,element:a.element,gif:a.gif,gifData:a.gifData,gifLoopCount:a.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:a.ratio??Vae,replaceColor:o,source:r.src},c.ratio||(c.ratio=1);const u=r.fill??t.shapeFill,d=r.close??t.shapeClose,p={image:c,fill:u,close:d};t.image=p.image,t.shapeFill=p.fill,t.shapeClose=p.close})()}}class kae{constructor(){this.src="",this.gif=!1}load(e){Lt(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class Fae{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!(t!=null&&t.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const s=i.find(a=>a.name===r.name||a.src===r.src);if(s)s.load(r);else{const a=new kae;a.load(r),i.push(a)}}}needsPlugin(){return!0}}const Hae=3;function jae(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Ll} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-Hae),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=Iae:i=e.replaceColor?Eae:dM,await i(t)}catch{throw new Error(`${Ll} ${e.name??e.src} not found`)}})}async function Gae(n,e=!0){n.checkVersion("3.8.1"),jae(n);const t=new Fae(n);await n.addPlugin(t,e),await n.addShape(new Bae(n),e)}class qae extends dg{constructor(){super(),this.sync=!1}load(e){Lt(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Wae extends dg{constructor(){super(),this.sync=!1}load(e){Lt(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Xae{constructor(){this.count=0,this.delay=new qae,this.duration=new Wae}load(e){Lt(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const dv=0,Yae=-1,x5=0,S5=0;function Kae(n,e,t){if(!n.life)return;const i=n.life;let r=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)r=!0,n.spawning=!1,i.delayTime=dv,i.time=dv;else return;if(i.duration===Yae||n.spawning||(r?i.time=dv:i.time+=e.value,i.time<i.duration))return;if(i.time=dv,n.life.count>x5&&n.life.count--,n.life.count===x5){n.destroy();return}const s=wi(S5,t.width),a=wi(S5,t.width);n.position.x=Jo(s),n.position.y=Jo(a),n.spawning=!0,i.delayTime=dv,i.time=dv,n.reset();const o=n.options.life;o&&(i.delay=fn(o.delay.value)*va,i.duration=fn(o.duration.value)*va)}const Kp=0,E5=1,w5=-1;class $ae{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?fn(r.delay.value)*(r.delay.sync?E5:Qi())/t.retina.reduceFactor*va:Kp,delayTime:Kp,duration:t.retina.reduceFactor?fn(r.duration.value)*(r.duration.sync?E5:Qi())/t.retina.reduceFactor*va:Kp,time:Kp,count:r.count},e.life.duration<=Kp&&(e.life.duration=w5),e.life.count<=Kp&&(e.life.count=w5),e.life&&(e.spawning=e.life.delay>Kp))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new Xae);for(const i of t)e.life.load(i==null?void 0:i.life)}update(e,t){!this.isEnabled(e)||!e.life||Kae(e,t,this.container.canvas.size)}}async function Zae(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new $ae(t)),e)}function Qae(n){const{context:e,particle:t,radius:i}=n,r=t.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=(r==null?void 0:r.cap)??"butt"}const Jae=1;class eoe{constructor(){this.validTypes=["line"]}draw(e){Qae(e)}getSidesCount(){return Jae}}async function toe(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new eoe,e)}const T5=.5;class noe{init(){}isEnabled(e){return!Xm()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(Xm()||!r.enable)return;const s=r.force,a=t.interactivity.mouse.position;if(!a)return;const o=t.canvas.size,c={x:o.width*T5,y:o.height*T5},u=r.smooth,d=e.getRadius()/s,p={x:(a.x-c.x)*d,y:(a.y-c.y)*d},{offset:v}=e;v.x+=(p.x-v.x)/u,v.y+=(p.y-v.y)/u}}async function ioe(n,e=!0){n.checkVersion("3.8.1"),await n.addMover("parallax",()=>Promise.resolve(new noe),e)}const M5=1e3,roe=1;class soe extends BN{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=fn(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=t.particles.quadTree.queryCircle(r,i);for(const a of s){if(e===a||!a.options.move.attract.enable||a.destroyed||a.spawning)continue;const o=a.getPosition(),{dx:c,dy:u}=qa(r,o),d=e.options.move.attract.rotate,p=c/(d.x*M5),v=u/(d.y*M5),y=a.size.value/e.size.value,_=roe/y;e.velocity.x-=p*y,e.velocity.y-=v*y,a.velocity.x+=p*_,a.velocity.y+=v*_}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function aoe(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new soe(t)),e)}const ooe=.5,loe=10,coe=0;function A5(n,e,t,i,r,s){const a=Ul(n.options.collisions.absorb.speed*r.factor/loe,coe,i);n.size.value+=a*ooe,t.size.value-=a,i<=s&&(t.size.value=0,t.destroy())}function uoe(n,e,t,i){const r=n.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?n.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?A5(n,r,e,s,t,i):A5(e,s,n,r,t,i))}const C5=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=fn(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function VH(n,e){pH(g3(n),g3(e)),C5(n),C5(e)}function hoe(n,e){!n.unbreakable&&!e.unbreakable&&VH(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function foe(n,e,t,i){switch(n.options.collisions.mode){case ly.absorb:{uoe(n,e,t,i);break}case ly.bounce:{VH(n,e);break}case ly.destroy:{hoe(n,e);break}}}const doe=2;class poe extends BN{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),a=i.particles.quadTree.queryCircle(r,s*doe);for(const o of a){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const c=o.getPosition(),u=o.getRadius();if(Math.abs(Math.round(r.z)-Math.round(c.z))>s+u)continue;const d=el(r,c),p=s+u;d>p||foe(e,o,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function moe(n,e=!0){n.checkVersion("3.8.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new poe(t)),e)}const XC=2;class goe extends _a{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-t,y:s})||super.contains({x:r-t,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new _a(r.x,r.y,i.radius*XC);return super.intersects(s)}else if(t.size!==void 0){const s=new Nc(r.x,r.y,t.size.width*XC,t.size.height*XC);return super.intersects(s)}return!1}}class voe{constructor(){this.blur=5,this.color=new Ea,this.color.value="#000",this.enable=!1}load(e){Lt(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Ea.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class yoe{constructor(){this.enable=!1,this.frequency=1}load(e){Lt(e)||(e.color!==void 0&&(this.color=Ea.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class boe{constructor(){this.blink=!1,this.color=new Ea,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new voe,this.triangles=new yoe,this.width=1,this.warp=!1}load(e){Lt(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Ea.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const R5=2,_oe=1,mS={x:0,y:0},xoe=0;function Soe(n,e,t,i,r){const{dx:s,dy:a,distance:o}=qa(n,e);if(!r||o<=t)return o;const c={x:Math.abs(s),y:Math.abs(a)},u={x:Math.min(c.x,i.width-c.x),y:Math.min(c.y,i.height-c.y)};return Math.sqrt(u.x**R5+u.y**R5)}class Eoe extends BN{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,s=i.options.links;let a=s.id===void 0?r.particles.linksColor:r.particles.linksColors.get(s.id);if(a)return;const o=s.color;a=xH(this._engine,o,s.blink,s.consent),s.id===void 0?r.particles.linksColor=a:r.particles.linksColors.set(s.id,a)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<mS.x||t.y<mS.y||t.x>r.width||t.y>r.height)return;const s=e.options.links,a=s.opacity,o=e.retina.linksDistance??xoe,c=s.warp;let u;c?u=new goe(t.x,t.y,o,r):u=new _a(t.x,t.y,o);const d=i.particles.quadTree.query(u);for(const p of d){const v=p.options.links;if(e===p||!(v!=null&&v.enable)||s.id!==v.id||p.spawning||p.destroyed||!p.links||e.links.some(S=>S.destination===p)||p.links.some(S=>S.destination===e))continue;const y=p.getPosition();if(y.x<mS.x||y.y<mS.y||y.x>r.width||y.y>r.height)continue;const _=Soe(t,y,o,r,c&&v.warp);if(_>o)continue;const w=(_oe-_/o)*a;this._setColor(e),e.links.push({destination:p,opacity:w})}}isEnabled(e){var t;return!!((t=e.options.links)!=null&&t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new boe);for(const i of t)e.links.load(i==null?void 0:i.links)}reset(){}}async function woe(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new Eoe(t,n)),e)}function Toe(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function Moe(n){let e=!1;const{begin:t,end:i,engine:r,maxDistance:s,context:a,canvasSize:o,width:c,backgroundMask:u,colorLine:d,opacity:p,links:v}=n;if(el(t,i)<=s)Qb(a,t,i),e=!0;else if(v.warp){let _,w;const S={x:i.x-o.width,y:i.y},E=qa(t,S);if(E.distance<=s){const A=t.y-E.dy/E.dx*t.x;_={x:0,y:A},w={x:o.width,y:A}}else{const A={x:i.x,y:i.y-o.height},R=qa(t,A);if(R.distance<=s){const k=-(t.y-R.dy/R.dx*t.x)/(R.dy/R.dx);_={x:k,y:0},w={x:k,y:o.height}}else{const D={x:i.x-o.width,y:i.y-o.height},k=qa(t,D);if(k.distance<=s){const N=t.y-k.dy/k.dx*t.x;_={x:-N/(k.dy/k.dx),y:N},w={x:_.x+o.width,y:_.y+o.height}}}}_&&w&&(Qb(a,t,_),Qb(a,i,w),e=!0)}if(!e)return;a.lineWidth=c,u.enable&&(a.globalCompositeOperation=u.composite),a.strokeStyle=af(d,p);const{shadow:y}=v;if(y.enable){const _=Cc(r,y.color);_&&(a.shadowBlur=y.blur,a.shadowColor=af(_))}a.stroke()}function Aoe(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:s,colorTriangle:a,opacityTriangle:o}=n;Toe(e,t,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=af(a,o),e.fill()}function Coe(n){return n.sort((e,t)=>e-t),n.join("_")}function D5(n,e){const t=Coe(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=Qi(),e.set(t,i)),i}const O5=0,YC=0,N5=0,Roe=.5,Doe=1;class Ooe{constructor(e,t){this._drawLinkLine=(i,r)=>{const s=i.options.links;if(!(s!=null&&s.enable))return;const a=this._container,o=a.actualOptions,c=r.destination,u=i.getPosition(),d=c.getPosition();let p=r.opacity;a.canvas.draw(v=>{var A;let y;const _=(A=i.options.twinkle)==null?void 0:A.lines;if(_!=null&&_.enable){const R=_.frequency,D=Cc(this._engine,_.color);Qi()<R&&D&&(y=D,p=fn(_.opacity))}if(!y){const R=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;y=y3(i,c,R)}if(!y)return;const w=i.retina.linksWidth??YC,S=i.retina.linksDistance??N5,{backgroundMask:E}=o;Moe({context:v,width:w,begin:u,end:d,engine:this._engine,maxDistance:S,canvasSize:a.canvas.size,links:s,backgroundMask:E,colorLine:y,opacity:p})})},this._drawLinkTriangle=(i,r,s)=>{const a=i.options.links;if(!(a!=null&&a.enable))return;const o=a.triangles;if(!o.enable)return;const c=this._container,u=c.actualOptions,d=r.destination,p=s.destination,v=o.opacity??(r.opacity+s.opacity)*Roe;v<=O5||c.canvas.draw(y=>{const _=i.getPosition(),w=d.getPosition(),S=p.getPosition(),E=i.retina.linksDistance??N5;if(el(_,w)>E||el(S,w)>E||el(S,_)>E)return;let A=Cc(this._engine,o.color);if(!A){const R=a.id!==void 0?c.particles.linksColors.get(a.id):c.particles.linksColor;A=y3(i,d,R)}A&&Aoe({context:y,pos1:_,pos2:w,pos3:S,backgroundMask:u.backgroundMask,colorTriangle:A,opacityTriangle:v})})},this._drawTriangles=(i,r,s,a)=>{var u,d,p;const o=s.destination;if(!((u=i.links)!=null&&u.triangles.enable&&((d=o.options.links)!=null&&d.triangles.enable)))return;const c=(p=o.links)==null?void 0:p.filter(v=>{const y=this._getLinkFrequency(o,v.destination);return o.options.links&&y<=o.options.links.frequency&&a.findIndex(w=>w.destination===v.destination)>=0});if(c!=null&&c.length)for(const v of c){const y=v.destination;this._getTriangleFrequency(r,o,y)>i.links.triangles.frequency||this._drawLinkTriangle(r,s,v)}},this._getLinkFrequency=(i,r)=>D5([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,s)=>D5([i,r,s],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!(i!=null&&i.length))return;const s=i.filter(a=>r.links&&(r.links.frequency>=Doe||this._getLinkFrequency(t,a.destination)<=r.links.frequency));for(const a of s)this._drawTriangles(r,t,a,s),a.opacity>O5&&(t.retina.linksWidth??YC)>YC&&this._drawLinkLine(t,a)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*t,i.linksWidth=s*t}particleDestroyed(e){e.links=[]}}class Noe{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new Ooe(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function Poe(n,e=!0){const t=new Noe(n);await n.addPlugin(t,e)}async function Ioe(n,e=!0){n.checkVersion("3.8.1"),await woe(n,e),await Poe(n,e)}const Loe=180,gS={x:0,y:0},Uoe=2;function zoe(n,e,t){const{context:i}=n,r=t.count.numerator*t.count.denominator,s=t.count.numerator/t.count.denominator,a=Loe*(s-Uoe)/s,o=Math.PI-Ad(a);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(gS.x,gS.y);for(let c=0;c<r;c++)i.lineTo(t.length,gS.y),i.translate(t.length,gS.y),i.rotate(o)}}const Voe=5;class BH{draw(e){const{particle:t,radius:i}=e,r=this.getCenter(t,i),s=this.getSidesData(t,i);zoe(e,r,s)}getSidesCount(e){const t=e.shapeData;return Math.round(fn((t==null?void 0:t.sides)??Voe))}}const P5=3.5,I5=2.66,Boe=3;class koe extends BH{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/P5),y:-t/(I5/P5)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*I5/(i/Boe)}}}const Foe=1.66,Hoe=3,joe=2;class Goe extends BH{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/Foe}}getSidesCount(){return Hoe}getSidesData(e,t){const i=t*joe;return{count:{denominator:2,numerator:3},length:i}}}async function qoe(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new koe,e)}async function Woe(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new Goe,e)}async function Xoe(n,e=!0){n.checkVersion("3.8.1"),await qoe(n,e),await Woe(n,e)}class Yoe{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){Lt(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=wi(e.speed)),e.decay!==void 0&&(this.decay=wi(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Koe extends dg{constructor(){super(),this.animation=new Yoe,this.direction=wc.clockwise,this.path=!1,this.value=0}load(e){Lt(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const kH=2,$oe=Math.PI*kH,Zoe=1,Qoe=360;class Joe{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Ad(fn(t.value)),min:0,max:$oe},e.pathRotation=t.path;let i=t.direction;switch(i===wc.random&&(i=Math.floor(Qi()*kH)>0?wc.counterClockwise:wc.clockwise),i){case wc.counterClockwise:case"counterClockwise":e.rotate.status=Jr.decreasing;break;case wc.clockwise:e.rotate.status=Jr.increasing;break}const r=t.animation;r.enable&&(e.rotate.decay=Zoe-fn(r.decay),e.rotate.velocity=fn(r.speed)/Qoe*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Qi())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new Koe);for(const i of t)e.rotate.load(i==null?void 0:i.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(LN(e,e.rotate,!1,qm.none,t),e.rotation=e.rotate.value))}}async function ele(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new Joe(t)),e)}const tle=2,nle=Math.sqrt(tle),ile=2;function rle(n){const{context:e,radius:t}=n,i=t/nle,r=i*ile;e.rect(-i,-i,r,r)}const sle=4;class ale{constructor(){this.validTypes=["edge","square"]}draw(e){rle(e)}getSidesCount(){return sle}}async function ole(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new ale,e)}const lle=2,pv={x:0,y:0};function cle(n){const{context:e,particle:t,radius:i}=n,r=t.sides,s=t.starInset??lle;e.moveTo(pv.x,pv.y-i);for(let a=0;a<r;a++)e.rotate(Math.PI/r),e.lineTo(pv.x,pv.y-i*s),e.rotate(Math.PI/r),e.lineTo(pv.x,pv.y-i)}const ule=2,hle=5;class fle{constructor(){this.validTypes=["star"]}draw(e){cle(e)}getSidesCount(e){const t=e.shapeData;return Math.round(fn((t==null?void 0:t.sides)??hle))}particleInit(e,t){const i=t.shapeData;t.starInset=fn((i==null?void 0:i.inset)??ule)}}async function dle(n,e=!0){n.checkVersion("3.8.1"),await n.addShape(new fle,e)}const ple=1;class mle{constructor(e,t){this._container=e,this._engine=t}init(e){var a;const t=this._container,i=e.options,r=Mc(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=fn(r.width)*t.retina.pixelRatio,e.strokeOpacity=fn(r.opacity??ple),e.strokeAnimation=(a=r.color)==null?void 0:a.animation;const s=w_(this._engine,r.color)??e.getFillColor();s&&(e.strokeColor=SH(s,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&EH(e.strokeColor,t)}}async function gle(n,e=!0){n.checkVersion("3.8.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new mle(t,n)),e)}async function pM(n,e=!0){n.checkVersion("3.8.1"),await ioe(n,!1),await ose(n,!1),await gse(n,!1),await wse(n,!1),await Ise(n,!1),await Gse(n,!1),await Xse(n,!1),await Qse(n,!1),await nae(n,!1),await dae(n,!1),await yae(n,!1),await aoe(n,!1),await moe(n,!1),await Ioe(n,!1),await Zre(n,!1),await ese(n,!1),await Gae(n,!1),await toe(n,!1),await Xoe(n,!1),await ole(n,!1),await dle(n,!1),await Zae(n,!1),await ele(n,!1),await gle(n,!1),await $re(n,e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lw.apply(null,arguments)}var KC={exports:{}},bb={},$C={exports:{}},ZC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5;function vle(){return L5||(L5=1,function(n){function e(K,ue){var ne=K.length;K.push(ue);e:for(;0<ne;){var ve=ne-1>>>1,Z=K[ve];if(0<r(Z,ue))K[ve]=ue,K[ne]=Z,ne=ve;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ue=K[0],ne=K.pop();if(ne!==ue){K[0]=ne;e:for(var ve=0,Z=K.length,le=Z>>>1;ve<le;){var Ae=2*(ve+1)-1,De=K[Ae],oe=Ae+1,Oe=K[oe];if(0>r(De,ne))oe<Z&&0>r(Oe,De)?(K[ve]=Oe,K[oe]=ne,ve=oe):(K[ve]=De,K[Ae]=ne,ve=Ae);else if(oe<Z&&0>r(Oe,ne))K[ve]=Oe,K[oe]=ne,ve=oe;else break e}}return ue}function r(K,ue){var ne=K.sortIndex-ue.sortIndex;return ne!==0?ne:K.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,p=null,v=3,y=!1,_=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(K){for(var ue=t(u);ue!==null;){if(ue.callback===null)i(u);else if(ue.startTime<=K)i(u),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=t(u)}}function D(K){if(w=!1,R(K),!_)if(t(c)!==null)_=!0,re();else{var ue=t(u);ue!==null&&de(D,ue.startTime-K)}}var k=!1,N=-1,z=5,V=-1;function I(){return!(n.unstable_now()-V<z)}function L(){if(k){var K=n.unstable_now();V=K;var ue=!0;try{e:{_=!1,w&&(w=!1,E(N),N=-1),y=!0;var ne=v;try{t:{for(R(K),p=t(c);p!==null&&!(p.expirationTime>K&&I());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,v=p.priorityLevel;var Z=ve(p.expirationTime<=K);if(K=n.unstable_now(),typeof Z=="function"){p.callback=Z,R(K),ue=!0;break t}p===t(c)&&i(c),R(K)}else i(c);p=t(c)}if(p!==null)ue=!0;else{var le=t(u);le!==null&&de(D,le.startTime-K),ue=!1}}break e}finally{p=null,v=ne,y=!1}ue=void 0}}finally{ue?j():k=!1}}}var j;if(typeof A=="function")j=function(){A(L)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=L,j=function(){G.postMessage(null)}}else j=function(){S(L,0)};function re(){k||(k=!0,j())}function de(K,ue){N=S(function(){K(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){_||y||(_=!0,re())},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var ne=v;v=ue;try{return K()}finally{v=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=v;v=K;try{return ue()}finally{v=ne}},n.unstable_scheduleCallback=function(K,ue,ne){var ve=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ve+ne:ve):ne=ve,K){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,K={id:d++,callback:ue,priorityLevel:K,startTime:ne,expirationTime:Z,sortIndex:-1},ne>ve?(K.sortIndex=ne,e(u,K),t(c)===null&&K===t(u)&&(w?(E(N),N=-1):w=!0,de(D,ne-ve))):(K.sortIndex=Z,e(c,K),_||y||(_=!0,re())),K},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(K){var ue=v;return function(){var ne=v;v=ue;try{return K.apply(this,arguments)}finally{v=ne}}}}(ZC)),ZC}var U5;function kN(){return U5||(U5=1,$C.exports=vle()),$C.exports}var z5;function yle(){if(z5)return bb;z5=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=kN(),e=Hy(),t=bk();function i(l){var h="https://react.dev/errors/"+l;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}var s=Symbol.for("react.element"),a=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function N(l){return l===null||typeof l!="object"?null:(l=k&&l[k]||l["@@iterator"],typeof l=="function"?l:null)}var z=Symbol.for("react.client.reference");function V(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===z?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case c:return"Fragment";case o:return"Portal";case d:return"Profiler";case u:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Provider";case v:return(l._context.displayName||"Context")+".Consumer";case _:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return h=l.displayName||null,h!==null?h:V(l.type)||"Memo";case A:h=l._payload,l=l._init;try{return V(l(h))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,j,X;function G(l){if(j===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);j=h&&h[1]||"",X=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+l+X}var re=!1;function de(l,h){if(!l||re)return"";re=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(h){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Ke){var Ve=Ke}Reflect.construct(l,[],ft)}else{try{ft.call()}catch(Ke){Ve=Ke}l.call(ft.prototype)}}else{try{throw Error()}catch(Ke){Ve=Ke}(ft=l())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Ke){if(Ke&&Ve&&typeof Ke.stack=="string")return[Ke.stack,Ve.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=b.DetermineComponentFrameRoot(),W=O[0],Q=O[1];if(W&&Q){var ce=W.split(`
`),xe=Q.split(`
`);for(M=b=0;b<ce.length&&!ce[b].includes("DetermineComponentFrameRoot");)b++;for(;M<xe.length&&!xe[M].includes("DetermineComponentFrameRoot");)M++;if(b===ce.length||M===xe.length)for(b=ce.length-1,M=xe.length-1;1<=b&&0<=M&&ce[b]!==xe[M];)M--;for(;1<=b&&0<=M;b--,M--)if(ce[b]!==xe[M]){if(b!==1||M!==1)do if(b--,M--,0>M||ce[b]!==xe[M]){var Ze=`
`+ce[b].replace(" at new "," at ");return l.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",l.displayName)),Ze}while(1<=b&&0<=M);break}}}finally{re=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?G(g):""}function K(l){switch(l.tag){case 26:case 27:case 5:return G(l.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 15:return l=de(l.type,!1),l;case 11:return l=de(l.type.render,!1),l;case 1:return l=de(l.type,!0),l;default:return""}}function ue(l){try{var h="";do h+=K(l),l=l.return;while(l);return h}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ne(l){var h=l,g=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,(h.flags&4098)!==0&&(g=h.return),l=h.return;while(l)}return h.tag===3?g:null}function ve(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function Z(l){if(ne(l)!==l)throw Error(i(188))}function le(l){var h=l.alternate;if(!h){if(h=ne(l),h===null)throw Error(i(188));return h!==l?null:l}for(var g=l,b=h;;){var M=g.return;if(M===null)break;var O=M.alternate;if(O===null){if(b=M.return,b!==null){g=b;continue}break}if(M.child===O.child){for(O=M.child;O;){if(O===g)return Z(M),l;if(O===b)return Z(M),h;O=O.sibling}throw Error(i(188))}if(g.return!==b.return)g=M,b=O;else{for(var W=!1,Q=M.child;Q;){if(Q===g){W=!0,g=M,b=O;break}if(Q===b){W=!0,b=M,g=O;break}Q=Q.sibling}if(!W){for(Q=O.child;Q;){if(Q===g){W=!0,g=O,b=M;break}if(Q===b){W=!0,b=O,g=M;break}Q=Q.sibling}if(!W)throw Error(i(189))}}if(g.alternate!==b)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:h}function Ae(l){var h=l.tag;if(h===5||h===26||h===27||h===6)return l;for(l=l.child;l!==null;){if(h=Ae(l),h!==null)return h;l=l.sibling}return null}var De=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Ie=[],je=-1;function tt(l){return{current:l}}function wt(l){0>je||(l.current=Ie[je],Ie[je]=null,je--)}function Qe(l,h){je++,Ie[je]=l.current,l.current=h}var qt=tt(null),Ge=tt(null),Ye=tt(null),se=tt(null);function bt(l,h){switch(Qe(Ye,h),Qe(Ge,l),Qe(qt,null),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?s2(h):0;break;default:if(l=l===8?h.parentNode:h,h=l.tagName,l=l.namespaceURI)l=s2(l),h=a2(l,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}wt(qt),Qe(qt,h)}function Je(){wt(qt),wt(Ge),wt(Ye)}function dt(l){l.memoizedState!==null&&Qe(se,l);var h=qt.current,g=a2(h,l.type);h!==g&&(Qe(Ge,l),Qe(qt,g))}function pt(l){Ge.current===l&&(wt(qt),wt(Ge)),se.current===l&&(wt(se),ab._currentValue=Oe)}var It=Object.prototype.hasOwnProperty,Et=n.unstable_scheduleCallback,te=n.unstable_cancelCallback,Y=n.unstable_shouldYield,we=n.unstable_requestPaint,Fe=n.unstable_now,it=n.unstable_getCurrentPriorityLevel,ze=n.unstable_ImmediatePriority,yt=n.unstable_UserBlockingPriority,_t=n.unstable_NormalPriority,Nt=n.unstable_LowPriority,hn=n.unstable_IdlePriority,st=n.log,Ct=n.unstable_setDisableYieldValue,Wt=null,Vt=null;function Pt(l){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Wt,l,void 0,(l.current.flags&128)===128)}catch{}}function pe(l){if(typeof st=="function"&&Ct(l),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Wt,l)}catch{}}var Be=Math.clz32?Math.clz32:ht,Tt=Math.log,he=Math.LN2;function ht(l){return l>>>=0,l===0?32:31-(Tt(l)/he|0)|0}var Le=128,We=4194304;function Xe(l){var h=l&42;if(h!==0)return h;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function rt(l,h){var g=l.pendingLanes;if(g===0)return 0;var b=0,M=l.suspendedLanes,O=l.pingedLanes,W=l.warmLanes;l=l.finishedLanes!==0;var Q=g&134217727;return Q!==0?(g=Q&~M,g!==0?b=Xe(g):(O&=Q,O!==0?b=Xe(O):l||(W=Q&~W,W!==0&&(b=Xe(W))))):(Q=g&~M,Q!==0?b=Xe(Q):O!==0?b=Xe(O):l||(W=g&~W,W!==0&&(b=Xe(W)))),b===0?0:h!==0&&h!==b&&(h&M)===0&&(M=b&-b,W=h&-h,M>=W||M===32&&(W&4194176)!==0)?h:b}function Dt(l,h){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&h)===0}function sn(l,h){switch(l){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var l=Le;return Le<<=1,(Le&4194176)===0&&(Le=128),l}function ae(){var l=We;return We<<=1,(We&62914560)===0&&(We=4194304),l}function ge(l){for(var h=[],g=0;31>g;g++)h.push(l);return h}function Ee(l,h){l.pendingLanes|=h,h!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function et(l,h,g,b,M,O){var W=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var Q=l.entanglements,ce=l.expirationTimes,xe=l.hiddenUpdates;for(g=W&~g;0<g;){var Ze=31-Be(g),ft=1<<Ze;Q[Ze]=0,ce[Ze]=-1;var Ve=xe[Ze];if(Ve!==null)for(xe[Ze]=null,Ze=0;Ze<Ve.length;Ze++){var Ke=Ve[Ze];Ke!==null&&(Ke.lane&=-536870913)}g&=~ft}b!==0&&xt(l,b,0),O!==0&&M===0&&l.tag!==0&&(l.suspendedLanes|=O&~(W&~h))}function xt(l,h,g){l.pendingLanes|=h,l.suspendedLanes&=~h;var b=31-Be(h);l.entangledLanes|=h,l.entanglements[b]=l.entanglements[b]|1073741824|g&4194218}function Bt(l,h){var g=l.entangledLanes|=h;for(l=l.entanglements;g;){var b=31-Be(g),M=1<<b;M&h|l[b]&h&&(l[b]|=h),g&=~M}}function Yt(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Gt(){var l=oe.p;return l!==0?l:(l=window.event,l===void 0?32:w2(l.type))}function kt(l,h){var g=oe.p;try{return oe.p=l,h()}finally{oe.p=g}}var gt=Math.random().toString(36).slice(2),Kt="__reactFiber$"+gt,Ot="__reactProps$"+gt,zn="__reactContainer$"+gt,_i="__reactEvents$"+gt,ai="__reactListeners$"+gt,Vn="__reactHandles$"+gt,Ui="__reactResources$"+gt,$="__reactMarker$"+gt;function be(l){delete l[Kt],delete l[Ot],delete l[_i],delete l[ai],delete l[Vn]}function Ne(l){var h=l[Kt];if(h)return h;for(var g=l.parentNode;g;){if(h=g[zn]||g[Kt]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(l=c2(l);l!==null;){if(g=l[Kt])return g;l=c2(l)}return h}l=g,g=l.parentNode}return null}function Te(l){if(l=l[Kt]||l[zn]){var h=l.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return l}return null}function me(l){var h=l.tag;if(h===5||h===26||h===27||h===6)return l.stateNode;throw Error(i(33))}function ut(l){var h=l[Ui];return h||(h=l[Ui]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function ct(l){l[$]=!0}var Xt=new Set,zt={};function At(l,h){Ft(l,h),Ft(l+"Capture",h)}function Ft(l,h){for(zt[l]=h,l=0;l<h.length;l++)Xt.add(h[l])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ln={},Bn={};function Ji(l){return It.call(Bn,l)?!0:It.call(ln,l)?!1:Cn.test(l)?Bn[l]=!0:(ln[l]=!0,!1)}function Dn(l,h,g){if(Ji(h))if(g===null)l.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(h);return;case"boolean":var b=h.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(h);return}}l.setAttribute(h,""+g)}}function Zt(l,h,g){if(g===null)l.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttribute(h,""+g)}}function Xi(l,h,g,b){if(b===null)l.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(h,g,""+b)}}function Sn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ds(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Do(l){var h=ds(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),b=""+l[h];if(!l.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var M=g.get,O=g.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return M.call(this)},set:function(W){b=""+W,O.call(this,W)}}),Object.defineProperty(l,h,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(W){b=""+W},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function rr(l){l._valueTracker||(l._valueTracker=Do(l))}function $a(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var g=h.getValue(),b="";return l&&(b=ds(l)?l.checked?"true":"false":l.value),l=b,l!==g?(h.setValue(l),!0):!1}function ti(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ur=/[\n"\\]/g;function Ti(l){return l.replace(ur,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function sr(l,h,g,b,M,O,W,Q){l.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?l.type=W:l.removeAttribute("type"),h!=null?W==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+Sn(h)):l.value!==""+Sn(h)&&(l.value=""+Sn(h)):W!=="submit"&&W!=="reset"||l.removeAttribute("value"),h!=null?ps(l,W,Sn(h)):g!=null?ps(l,W,Sn(g)):b!=null&&l.removeAttribute("value"),M==null&&O!=null&&(l.defaultChecked=!!O),M!=null&&(l.checked=M&&typeof M!="function"&&typeof M!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?l.name=""+Sn(Q):l.removeAttribute("name")}function rs(l,h,g,b,M,O,W,Q){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.type=O),h!=null||g!=null){if(!(O!=="submit"&&O!=="reset"||h!=null))return;g=g!=null?""+Sn(g):"",h=h!=null?""+Sn(h):g,Q||h===l.value||(l.value=h),l.defaultValue=h}b=b??M,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=Q?l.checked:!!b,l.defaultChecked=!!b,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(l.name=W)}function ps(l,h,g){h==="number"&&ti(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function ei(l,h,g,b){if(l=l.options,h){h={};for(var M=0;M<g.length;M++)h["$"+g[M]]=!0;for(g=0;g<l.length;g++)M=h.hasOwnProperty("$"+l[g].value),l[g].selected!==M&&(l[g].selected=M),M&&b&&(l[g].defaultSelected=!0)}else{for(g=""+Sn(g),h=null,M=0;M<l.length;M++){if(l[M].value===g){l[M].selected=!0,b&&(l[M].defaultSelected=!0);return}h!==null||l[M].disabled||(h=l[M])}h!==null&&(h.selected=!0)}}function Gc(l,h,g){if(h!=null&&(h=""+Sn(h),h!==l.value&&(l.value=h),g==null)){l.defaultValue!==h&&(l.defaultValue=h);return}l.defaultValue=g!=null?""+Sn(g):""}function Ma(l,h,g,b){if(h==null){if(b!=null){if(g!=null)throw Error(i(92));if(De(b)){if(1<b.length)throw Error(i(93));b=b[0]}g=b}g==null&&(g=""),h=g}g=Sn(h),l.defaultValue=g,b=l.textContent,b===g&&b!==""&&b!==null&&(l.value=b)}function Aa(l,h){if(h){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=h;return}}l.textContent=h}var xf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qc(l,h,g){var b=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?l.setProperty(h,""):h==="float"?l.cssFloat="":l[h]="":b?l.setProperty(h,g):typeof g!="number"||g===0||xf.has(h)?h==="float"?l.cssFloat=g:l[h]=(""+g).trim():l[h]=g+"px"}function rp(l,h,g){if(h!=null&&typeof h!="object")throw Error(i(62));if(l=l.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||h!=null&&h.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var M in h)b=h[M],h.hasOwnProperty(M)&&g[M]!==b&&qc(l,M,b)}else for(var O in h)h.hasOwnProperty(O)&&qc(l,O,h[O])}function hh(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(l){return wg.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Ca=null;function Wc(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ll=null,cl=null;function No(l){var h=Te(l);if(h&&(l=h.stateNode)){var g=l[Ot]||null;e:switch(l=h.stateNode,h.type){case"input":if(sr(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ti(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var b=g[h];if(b!==l&&b.form===l.form){var M=b[Ot]||null;if(!M)throw Error(i(90));sr(b,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(h=0;h<g.length;h++)b=g[h],b.form===l.form&&$a(b)}break e;case"textarea":Gc(l,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&ei(l,!!g.multiple,h,!1)}}}var Sf=!1;function sp(l,h,g){if(Sf)return l(h,g);Sf=!0;try{var b=l(h);return b}finally{if(Sf=!1,(ll!==null||cl!==null)&&(Vh(),ll&&(h=ll,l=cl,cl=ll=null,No(h),l)))for(h=0;h<l.length;h++)No(l[h])}}function Xc(l,h){var g=l.stateNode;if(g===null)return null;var b=g[Ot]||null;if(b===null)return null;g=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,h,typeof g));return g}var Xs=!1;if(Ut)try{var Yc={};Object.defineProperty(Yc,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{Xs=!1}var Po=null,Kc=null,Vl=null;function Ef(){if(Vl)return Vl;var l,h=Kc,g=h.length,b,M="value"in Po?Po.value:Po.textContent,O=M.length;for(l=0;l<g&&h[l]===M[l];l++);var W=g-l;for(b=1;b<=W&&h[g-b]===M[O-b];b++);return Vl=M.slice(l,1<b?1-b:void 0)}function Ys(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function Za(){return!0}function $c(){return!1}function Br(l){function h(g,b,M,O,W){this._reactName=g,this._targetInst=M,this.type=b,this.nativeEvent=O,this.target=W,this.currentTarget=null;for(var Q in l)l.hasOwnProperty(Q)&&(g=l[Q],this[Q]=g?g(O):O[Q]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Za:$c,this.isPropagationStopped=$c,this}return L(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),h}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Br(gi),Qc=L({},gi,{view:0,detail:0}),ap=Br(Qc),Qa,Bl,Io,kl=L({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Io&&(Io&&l.type==="mousemove"?(Qa=l.screenX-Io.screenX,Bl=l.screenY-Io.screenY):Bl=Qa=0,Io=l),Qa)},movementY:function(l){return"movementY"in l?l.movementY:Bl}}),Ra=Br(kl),op=L({},kl,{dataTransfer:0}),f0=Br(op),er=L({},Qc,{relatedTarget:0}),fh=Br(er),wf=L({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=Br(wf),lp=L({},gi,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ph=Br(lp),mh=L({},gi,{data:0}),gh=Br(mh),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=up[l])?!!h[l]:!1}function Fl(){return vh}var hp=L({},Qc,{key:function(l){if(l.key){var h=Jc[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=Ys(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?cp[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(l){return l.type==="keypress"?Ys(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ys(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),eu=Br(hp),Tf=L({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=Br(Tf),ul=L({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),Mf=Br(ul),fp=L({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ja=Br(fp),Af=L({},kl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Cf=Br(Af),ms=L({},gi,{newState:0,oldState:0}),Lo=Br(ms),eo=[9,13,27,32],to=Ut&&"CompositionEvent"in window,T=null;Ut&&"documentMode"in document&&(T=document.documentMode);var F=Ut&&"TextEvent"in window&&!T,q=Ut&&(!to||T&&8<T&&11>=T),ee=" ",Se=!1;function He(l,h){switch(l){case"keyup":return eo.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rt(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var $n=!1;function tr(l,h){switch(l){case"compositionend":return Rt(h);case"keypress":return h.which!==32?null:(Se=!0,ee);case"textInput":return l=h.data,l===ee&&Se?null:l;default:return null}}function Zn(l,h){if($n)return l==="compositionend"||!to&&He(l,h)?(l=Ef(),Vl=Kc=Po=null,$n=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return q&&h.locale!=="ko"?null:h.data;default:return null}}var hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!hr[l.type]:h==="textarea"}function fr(l,h,g,b){ll?cl?cl.push(b):cl=[b]:ll=b,h=k1(h,"onChange"),0<h.length&&(g=new Zc("onChange","change",null,g,b),l.push({event:g,listeners:h}))}var Xr=null,no=null;function Rf(l){e2(l,0)}function dp(l){var h=me(l);if($a(h))return l}function Tg(l,h){if(l==="change")return h}var Mg=!1;if(Ut){var Ag;if(Ut){var Df="oninput"in document;if(!Df){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),Df=typeof Of.oninput=="function"}Ag=Df}else Ag=!1;Mg=Ag&&(!document.documentMode||9<document.documentMode)}function Yi(){Xr&&(Xr.detachEvent("onpropertychange",Hx),no=Xr=null)}function Hx(l){if(l.propertyName==="value"&&dp(no)){var h=[];fr(h,no,l,Wc(l)),sp(Rf,h)}}function DA(l,h,g){l==="focusin"?(Yi(),Xr=h,no=g,Xr.attachEvent("onpropertychange",Hx)):l==="focusout"&&Yi()}function jx(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return dp(no)}function pp(l,h){if(l==="click")return dp(h)}function tu(l,h){if(l==="input"||l==="change")return dp(h)}function Gx(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var Ks=typeof Object.is=="function"?Object.is:Gx;function Uo(l,h){if(Ks(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var g=Object.keys(l),b=Object.keys(h);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var M=g[b];if(!It.call(h,M)||!Ks(l[M],h[M]))return!1}return!0}function $s(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function d0(l,h){var g=$s(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=h&&b>=h)return{node:g,offset:h-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=$s(g)}}function p0(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?p0(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function m0(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var h=ti(l.document);h instanceof l.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)l=h.contentWindow;else break;h=ti(l.document)}return h}function mp(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function g0(l,h){var g=m0(h);h=l.focusedElem;var b=l.selectionRange;if(g!==h&&h&&h.ownerDocument&&p0(h.ownerDocument.documentElement,h)){if(b!==null&&mp(h)){if(l=b.start,g=b.end,g===void 0&&(g=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(g,h.value.length);else if(g=(l=h.ownerDocument||document)&&l.defaultView||window,g.getSelection){g=g.getSelection();var M=h.textContent.length,O=Math.min(b.start,M);b=b.end===void 0?O:Math.min(b.end,M),!g.extend&&O>b&&(M=b,b=O,O=M),M=d0(h,O);var W=d0(h,b);M&&W&&(g.rangeCount!==1||g.anchorNode!==M.node||g.anchorOffset!==M.offset||g.focusNode!==W.node||g.focusOffset!==W.offset)&&(l=l.createRange(),l.setStart(M.node,M.offset),g.removeAllRanges(),O>b?(g.addRange(l),g.extend(W.node,W.offset)):(l.setEnd(W.node,W.offset),g.addRange(l)))}}for(l=[],g=h;g=g.parentNode;)g.nodeType===1&&l.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)g=l[h],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Cg=Ut&&"documentMode"in document&&11>=document.documentMode,bh=null,v0=null,Nf=null,Rg=!1;function io(l,h,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Rg||bh==null||bh!==ti(b)||(b=bh,"selectionStart"in b&&mp(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Nf&&Uo(Nf,b)||(Nf=b,b=k1(v0,"onSelect"),0<b.length&&(h=new Zc("onSelect","select",null,h,g),l.push({event:h,listeners:b}),h.target=bh)))}function Hl(l,h){var g={};return g[l.toLowerCase()]=h.toLowerCase(),g["Webkit"+l]="webkit"+h,g["Moz"+l]="moz"+h,g}var _h={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionrun:Hl("Transition","TransitionRun"),transitionstart:Hl("Transition","TransitionStart"),transitioncancel:Hl("Transition","TransitionCancel"),transitionend:Hl("Transition","TransitionEnd")},y0={},Dg={};Ut&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete _h.animationend.animation,delete _h.animationiteration.animation,delete _h.animationstart.animation),"TransitionEvent"in window||delete _h.transitionend.transition);function Mr(l){if(y0[l])return y0[l];if(!_h[l])return l;var h=_h[l],g;for(g in h)if(h.hasOwnProperty(g)&&g in Dg)return y0[l]=h[g];return l}var b0=Mr("animationend"),Zs=Mr("animationiteration"),_0=Mr("animationstart"),jl=Mr("transitionrun"),Pf=Mr("transitionstart"),nu=Mr("transitioncancel"),Og=Mr("transitionend"),Ng=new Map,Gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ro(l,h){Ng.set(l,h),At(h,[l])}var ss=[],hl=0,ql=0;function gp(){for(var l=hl,h=ql=hl=0;h<l;){var g=ss[h];ss[h++]=null;var b=ss[h];ss[h++]=null;var M=ss[h];ss[h++]=null;var O=ss[h];if(ss[h++]=null,b!==null&&M!==null){var W=b.pending;W===null?M.next=M:(M.next=W.next,W.next=M),b.pending=M}O!==0&&yp(g,M,O)}}function vp(l,h,g,b){ss[hl++]=l,ss[hl++]=h,ss[hl++]=g,ss[hl++]=b,ql|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function xh(l,h,g,b){return vp(l,h,g,b),bp(l)}function Wl(l,h){return vp(l,null,null,h),bp(l)}function yp(l,h,g){l.lanes|=g;var b=l.alternate;b!==null&&(b.lanes|=g);for(var M=!1,O=l.return;O!==null;)O.childLanes|=g,b=O.alternate,b!==null&&(b.childLanes|=g),O.tag===22&&(l=O.stateNode,l===null||l._visibility&1||(M=!0)),l=O,O=O.return;M&&h!==null&&l.tag===3&&(O=l.stateNode,M=31-Be(g),O=O.hiddenUpdates,l=O[M],l===null?O[M]=[h]:l.push(h),h.lane=g|536870912)}function bp(l){if(50<mo)throw mo=0,dc=null,Error(i(185));for(var h=l.return;h!==null;)l=h,h=l.return;return l.tag===3?l.stateNode:null}var iu={},Pg=new WeakMap;function Qs(l,h){if(typeof l=="object"&&l!==null){var g=Pg.get(l);return g!==void 0?g:(h={value:l,source:h,stack:ue(h)},Pg.set(l,h),h)}return{value:l,source:h,stack:ue(h)}}var Sh=[],ru=0,gs=null,_p=0,ki=[],Da=0,Xl=null,fl=1,Yl="";function Ns(l,h){Sh[ru++]=_p,Sh[ru++]=gs,gs=l,_p=h}function x0(l,h,g){ki[Da++]=fl,ki[Da++]=Yl,ki[Da++]=Xl,Xl=l;var b=fl;l=Yl;var M=32-Be(b)-1;b&=~(1<<M),g+=1;var O=32-Be(h)+M;if(30<O){var W=M-M%5;O=(b&(1<<W)-1).toString(32),b>>=W,M-=W,fl=1<<32-Be(h)+M|g<<M|b,Yl=O+l}else fl=1<<O|g<<M|b,Yl=l}function xp(l){l.return!==null&&(Ns(l,1),x0(l,1,0))}function su(l){for(;l===gs;)gs=Sh[--ru],Sh[ru]=null,_p=Sh[--ru],Sh[ru]=null;for(;l===Xl;)Xl=ki[--Da],ki[Da]=null,Yl=ki[--Da],ki[Da]=null,fl=ki[--Da],ki[Da]=null}var vs=null,Yr=null,oi=!1,so=null,ao=!1,Sp=Error(i(519));function Eh(l){var h=Error(i(418,""));throw dl(Qs(h,l)),Sp}function qx(l){var h=l.stateNode,g=l.type,b=l.memoizedProps;switch(h[Kt]=l,h[Ot]=b,g){case"dialog":ci("cancel",h),ci("close",h);break;case"iframe":case"object":case"embed":ci("load",h);break;case"video":case"audio":for(g=0;g<tb.length;g++)ci(tb[g],h);break;case"source":ci("error",h);break;case"img":case"image":case"link":ci("error",h),ci("load",h);break;case"details":ci("toggle",h);break;case"input":ci("invalid",h),rs(h,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),rr(h);break;case"select":ci("invalid",h);break;case"textarea":ci("invalid",h),Ma(h,b.value,b.defaultValue,b.children),rr(h)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||b.suppressHydrationWarning===!0||r2(h.textContent,g)?(b.popover!=null&&(ci("beforetoggle",h),ci("toggle",h)),b.onScroll!=null&&ci("scroll",h),b.onScrollEnd!=null&&ci("scrollend",h),b.onClick!=null&&(h.onclick=F1),h=!0):h=!1,h||Eh(l)}function Wx(l){for(vs=l.return;vs;)switch(vs.tag){case 3:case 27:ao=!0;return;case 5:case 13:ao=!1;return;default:vs=vs.return}}function If(l){if(l!==vs)return!1;if(!oi)return Wx(l),oi=!0,!1;var h=!1,g;if((g=l.tag!==3&&l.tag!==27)&&((g=l.tag===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||$A(l.type,l.memoizedProps)),g=!g),g&&(h=!0),h&&Yr&&Eh(l),Wx(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(h===0){Yr=mc(l.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++;l=l.nextSibling}Yr=null}}else Yr=vs?mc(l.stateNode.nextSibling):null;return!0}function Lf(){Yr=vs=null,oi=!1}function dl(l){so===null?so=[l]:so.push(l)}var au=Error(i(460)),S0=Error(i(474)),Ig={then:function(){}};function Xx(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ep(){}function ou(l,h,g){switch(g=l[g],g===void 0?l.push(h):g!==h&&(h.then(Ep,Ep),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw l=h.reason,l===au?Error(i(483)):l;default:if(typeof h.status=="string")h.then(Ep,Ep);else{if(l=Di,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=h,l.status="pending",l.then(function(b){if(h.status==="pending"){var M=h;M.status="fulfilled",M.value=b}},function(b){if(h.status==="pending"){var M=h;M.status="rejected",M.reason=b}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw l=h.reason,l===au?Error(i(483)):l}throw Uf=h,au}}var Uf=null;function xi(){if(Uf===null)throw Error(i(459));var l=Uf;return Uf=null,l}var lu=null,wp=0;function Tp(l){var h=wp;return wp+=1,lu===null&&(lu=[]),ou(lu,l,h)}function Mp(l,h){h=h.props.ref,l.ref=h!==void 0?h:null}function Lg(l,h){throw h.$$typeof===s?Error(i(525)):(l=Object.prototype.toString.call(h),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l)))}function Yx(l){var h=l._init;return h(l._payload)}function Kx(l){function h(Ce,_e){if(l){var Pe=Ce.deletions;Pe===null?(Ce.deletions=[_e],Ce.flags|=16):Pe.push(_e)}}function g(Ce,_e){if(!l)return null;for(;_e!==null;)h(Ce,_e),_e=_e.sibling;return null}function b(Ce){for(var _e=new Map;Ce!==null;)Ce.key!==null?_e.set(Ce.key,Ce):_e.set(Ce.index,Ce),Ce=Ce.sibling;return _e}function M(Ce,_e){return Ce=Us(Ce,_e),Ce.index=0,Ce.sibling=null,Ce}function O(Ce,_e,Pe){return Ce.index=Pe,l?(Pe=Ce.alternate,Pe!==null?(Pe=Pe.index,Pe<_e?(Ce.flags|=33554434,_e):Pe):(Ce.flags|=33554434,_e)):(Ce.flags|=1048576,_e)}function W(Ce){return l&&Ce.alternate===null&&(Ce.flags|=33554434),Ce}function Q(Ce,_e,Pe,at){return _e===null||_e.tag!==6?(_e=Dr(Pe,Ce.mode,at),_e.return=Ce,_e):(_e=M(_e,Pe),_e.return=Ce,_e)}function ce(Ce,_e,Pe,at){var en=Pe.type;return en===c?Ze(Ce,_e,Pe.props.children,at,Pe.key):_e!==null&&(_e.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===A&&Yx(en)===_e.type)?(_e=M(_e,Pe.props),Mp(_e,Pe),_e.return=Ce,_e):(_e=Zf(Pe.type,Pe.key,Pe.props,null,Ce.mode,at),Mp(_e,Pe),_e.return=Ce,_e)}function xe(Ce,_e,Pe,at){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Pe.containerInfo||_e.stateNode.implementation!==Pe.implementation?(_e=Vp(Pe,Ce.mode,at),_e.return=Ce,_e):(_e=M(_e,Pe.children||[]),_e.return=Ce,_e)}function Ze(Ce,_e,Pe,at,en){return _e===null||_e.tag!==7?(_e=Au(Pe,Ce.mode,at,en),_e.return=Ce,_e):(_e=M(_e,Pe),_e.return=Ce,_e)}function ft(Ce,_e,Pe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Dr(""+_e,Ce.mode,Pe),_e.return=Ce,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case a:return Pe=Zf(_e.type,_e.key,_e.props,null,Ce.mode,Pe),Mp(Pe,_e),Pe.return=Ce,Pe;case o:return _e=Vp(_e,Ce.mode,Pe),_e.return=Ce,_e;case A:var at=_e._init;return _e=at(_e._payload),ft(Ce,_e,Pe)}if(De(_e)||N(_e))return _e=Au(_e,Ce.mode,Pe,null),_e.return=Ce,_e;if(typeof _e.then=="function")return ft(Ce,Tp(_e),Pe);if(_e.$$typeof===y)return ft(Ce,Qg(Ce,_e),Pe);Lg(Ce,_e)}return null}function Ve(Ce,_e,Pe,at){var en=_e!==null?_e.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return en!==null?null:Q(Ce,_e,""+Pe,at);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case a:return Pe.key===en?ce(Ce,_e,Pe,at):null;case o:return Pe.key===en?xe(Ce,_e,Pe,at):null;case A:return en=Pe._init,Pe=en(Pe._payload),Ve(Ce,_e,Pe,at)}if(De(Pe)||N(Pe))return en!==null?null:Ze(Ce,_e,Pe,at,null);if(typeof Pe.then=="function")return Ve(Ce,_e,Tp(Pe),at);if(Pe.$$typeof===y)return Ve(Ce,_e,Qg(Ce,Pe),at);Lg(Ce,Pe)}return null}function Ke(Ce,_e,Pe,at,en){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Ce=Ce.get(Pe)||null,Q(_e,Ce,""+at,en);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case a:return Ce=Ce.get(at.key===null?Pe:at.key)||null,ce(_e,Ce,at,en);case o:return Ce=Ce.get(at.key===null?Pe:at.key)||null,xe(_e,Ce,at,en);case A:var Jn=at._init;return at=Jn(at._payload),Ke(Ce,_e,Pe,at,en)}if(De(at)||N(at))return Ce=Ce.get(Pe)||null,Ze(_e,Ce,at,en,null);if(typeof at.then=="function")return Ke(Ce,_e,Pe,Tp(at),en);if(at.$$typeof===y)return Ke(Ce,_e,Pe,Qg(_e,at),en);Lg(_e,at)}return null}function on(Ce,_e,Pe,at){for(var en=null,Jn=null,cn=_e,bn=_e=0,ws=null;cn!==null&&bn<Pe.length;bn++){cn.index>bn?(ws=cn,cn=null):ws=cn.sibling;var Si=Ve(Ce,cn,Pe[bn],at);if(Si===null){cn===null&&(cn=ws);break}l&&cn&&Si.alternate===null&&h(Ce,cn),_e=O(Si,_e,bn),Jn===null?en=Si:Jn.sibling=Si,Jn=Si,cn=ws}if(bn===Pe.length)return g(Ce,cn),oi&&Ns(Ce,bn),en;if(cn===null){for(;bn<Pe.length;bn++)cn=ft(Ce,Pe[bn],at),cn!==null&&(_e=O(cn,_e,bn),Jn===null?en=cn:Jn.sibling=cn,Jn=cn);return oi&&Ns(Ce,bn),en}for(cn=b(cn);bn<Pe.length;bn++)ws=Ke(cn,Ce,bn,Pe[bn],at),ws!==null&&(l&&ws.alternate!==null&&cn.delete(ws.key===null?bn:ws.key),_e=O(ws,_e,bn),Jn===null?en=ws:Jn.sibling=ws,Jn=ws);return l&&cn.forEach(function(ad){return h(Ce,ad)}),oi&&Ns(Ce,bn),en}function On(Ce,_e,Pe,at){if(Pe==null)throw Error(i(151));for(var en=null,Jn=null,cn=_e,bn=_e=0,ws=null,Si=Pe.next();cn!==null&&!Si.done;bn++,Si=Pe.next()){cn.index>bn?(ws=cn,cn=null):ws=cn.sibling;var ad=Ve(Ce,cn,Si.value,at);if(ad===null){cn===null&&(cn=ws);break}l&&cn&&ad.alternate===null&&h(Ce,cn),_e=O(ad,_e,bn),Jn===null?en=ad:Jn.sibling=ad,Jn=ad,cn=ws}if(Si.done)return g(Ce,cn),oi&&Ns(Ce,bn),en;if(cn===null){for(;!Si.done;bn++,Si=Pe.next())Si=ft(Ce,Si.value,at),Si!==null&&(_e=O(Si,_e,bn),Jn===null?en=Si:Jn.sibling=Si,Jn=Si);return oi&&Ns(Ce,bn),en}for(cn=b(cn);!Si.done;bn++,Si=Pe.next())Si=Ke(cn,Ce,bn,Si.value,at),Si!==null&&(l&&Si.alternate!==null&&cn.delete(Si.key===null?bn:Si.key),_e=O(Si,_e,bn),Jn===null?en=Si:Jn.sibling=Si,Jn=Si);return l&&cn.forEach(function(yX){return h(Ce,yX)}),oi&&Ns(Ce,bn),en}function Pr(Ce,_e,Pe,at){if(typeof Pe=="object"&&Pe!==null&&Pe.type===c&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case a:e:{for(var en=Pe.key;_e!==null;){if(_e.key===en){if(en=Pe.type,en===c){if(_e.tag===7){g(Ce,_e.sibling),at=M(_e,Pe.props.children),at.return=Ce,Ce=at;break e}}else if(_e.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===A&&Yx(en)===_e.type){g(Ce,_e.sibling),at=M(_e,Pe.props),Mp(at,Pe),at.return=Ce,Ce=at;break e}g(Ce,_e);break}else h(Ce,_e);_e=_e.sibling}Pe.type===c?(at=Au(Pe.props.children,Ce.mode,at,Pe.key),at.return=Ce,Ce=at):(at=Zf(Pe.type,Pe.key,Pe.props,null,Ce.mode,at),Mp(at,Pe),at.return=Ce,Ce=at)}return W(Ce);case o:e:{for(en=Pe.key;_e!==null;){if(_e.key===en)if(_e.tag===4&&_e.stateNode.containerInfo===Pe.containerInfo&&_e.stateNode.implementation===Pe.implementation){g(Ce,_e.sibling),at=M(_e,Pe.children||[]),at.return=Ce,Ce=at;break e}else{g(Ce,_e);break}else h(Ce,_e);_e=_e.sibling}at=Vp(Pe,Ce.mode,at),at.return=Ce,Ce=at}return W(Ce);case A:return en=Pe._init,Pe=en(Pe._payload),Pr(Ce,_e,Pe,at)}if(De(Pe))return on(Ce,_e,Pe,at);if(N(Pe)){if(en=N(Pe),typeof en!="function")throw Error(i(150));return Pe=en.call(Pe),On(Ce,_e,Pe,at)}if(typeof Pe.then=="function")return Pr(Ce,_e,Tp(Pe),at);if(Pe.$$typeof===y)return Pr(Ce,_e,Qg(Ce,Pe),at);Lg(Ce,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,_e!==null&&_e.tag===6?(g(Ce,_e.sibling),at=M(_e,Pe),at.return=Ce,Ce=at):(g(Ce,_e),at=Dr(Pe,Ce.mode,at),at.return=Ce,Ce=at),W(Ce)):g(Ce,_e)}return function(Ce,_e,Pe,at){try{wp=0;var en=Pr(Ce,_e,Pe,at);return lu=null,en}catch(cn){if(cn===au)throw cn;var Jn=br(29,cn,null,Ce.mode);return Jn.lanes=at,Jn.return=Ce,Jn}finally{}}}var Kl=Kx(!0),$l=Kx(!1),wh=tt(null),Th=tt(0);function cu(l,h){l=fc,Qe(Th,l),Qe(wh,h),fc=l|h.baseLanes}function Ug(){Qe(Th,fc),Qe(wh,wh.current)}function Ap(){fc=Th.current,wt(wh),wt(Th)}var Js=tt(null),pl=null;function Zl(l){var h=l.alternate;Qe(Ar,Ar.current&1),Qe(Js,l),pl===null&&(h===null||wh.current!==null||h.memoizedState!==null)&&(pl=l)}function E0(l){if(l.tag===22){if(Qe(Ar,Ar.current),Qe(Js,l),pl===null){var h=l.alternate;h!==null&&h.memoizedState!==null&&(pl=l)}}else Ql()}function Ql(){Qe(Ar,Ar.current),Qe(Js,Js.current)}function ml(l){wt(Js),pl===l&&(pl=null),wt(Ar)}var Ar=tt(0);function zf(l){for(var h=l;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Xn=typeof AbortController<"u"?AbortController:function(){var l=[],h=this.signal={aborted:!1,addEventListener:function(g,b){l.push(b)}};this.abort=function(){h.aborted=!0,l.forEach(function(g){return g()})}},OA=n.unstable_scheduleCallback,Oa=n.unstable_NormalPriority,dr={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function w0(){return{controller:new Xn,data:new Map,refCount:0}}function uu(l){l.refCount--,l.refCount===0&&OA(Oa,function(){l.controller.abort()})}var gl=null,hu=0,Mh=0,fu=null;function NA(l,h){if(gl===null){var g=gl=[];hu=0,Mh=FA(),fu={status:"pending",value:void 0,then:function(b){g.push(b)}}}return hu++,h.then(T0,T0),h}function T0(){if(--hu===0&&gl!==null){fu!==null&&(fu.status="fulfilled");var l=gl;gl=null,Mh=0,fu=null;for(var h=0;h<l.length;h++)(0,l[h])()}}function du(l,h){var g=[],b={status:"pending",value:null,reason:null,then:function(M){g.push(M)}};return l.then(function(){b.status="fulfilled",b.value=h;for(var M=0;M<g.length;M++)(0,g[M])(h)},function(M){for(b.status="rejected",b.reason=M,M=0;M<g.length;M++)(0,g[M])(void 0)}),b}var zg=I.S;I.S=function(l,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&NA(l,h),zg!==null&&zg(l,h)};var Jl=tt(null);function Cp(){var l=Jl.current;return l!==null?l:Di.pooledCache}function Vf(l,h){h===null?Qe(Jl,Jl.current):Qe(Jl,h.pool)}function ec(){var l=Cp();return l===null?null:{parent:dr._currentValue,pool:l}}var tc=0,kn=null,Mi=null,Cr=null,yn=!1,pu=!1,mu=!1,Bf=0,gu=0,kf=null,PA=0;function ar(){throw Error(i(321))}function Ah(l,h){if(h===null)return!1;for(var g=0;g<h.length&&g<l.length;g++)if(!Ks(l[g],h[g]))return!1;return!0}function M0(l,h,g,b,M,O){return tc=O,kn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,I.H=l===null||l.memoizedState===null?yu:ic,mu=!1,O=g(b,M),mu=!1,pu&&(O=Zx(h,g,b,M)),$x(l),O}function $x(l){I.H=yl;var h=Mi!==null&&Mi.next!==null;if(tc=0,Cr=Mi=kn=null,yn=!1,gu=0,kf=null,h)throw Error(i(300));l===null||kr||(l=l.dependencies,l!==null&&qf(l)&&(kr=!0))}function Zx(l,h,g,b){kn=l;var M=0;do{if(pu&&(kf=null),gu=0,pu=!1,25<=M)throw Error(i(301));if(M+=1,Cr=Mi=null,l.updateQueue!=null){var O=l.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}I.H=Dh,O=h(g,b)}while(pu);return O}function IA(){var l=I.H,h=l.useState()[0];return h=typeof h.then=="function"?Dp(h):h,l=l.useState()[0],(Mi!==null?Mi.memoizedState:null)!==l&&(kn.flags|=1024),h}function A0(){var l=Bf!==0;return Bf=0,l}function Rp(l,h,g){h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~g}function Vg(l){if(yn){for(l=l.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}yn=!1}tc=0,Cr=Mi=kn=null,pu=!1,gu=Bf=0,kf=null}function as(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?kn.memoizedState=Cr=l:Cr=Cr.next=l,Cr}function pr(){if(Mi===null){var l=kn.alternate;l=l!==null?l.memoizedState:null}else l=Mi.next;var h=Cr===null?kn.memoizedState:Cr.next;if(h!==null)Cr=h,Mi=l;else{if(l===null)throw kn.alternate===null?Error(i(467)):Error(i(310));Mi=l,l={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},Cr===null?kn.memoizedState=Cr=l:Cr=Cr.next=l}return Cr}var Bg;Bg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Dp(l){var h=gu;return gu+=1,kf===null&&(kf=[]),l=ou(kf,l,h),h=kn,(Cr===null?h.memoizedState:Cr.next)===null&&(h=h.alternate,I.H=h===null||h.memoizedState===null?yu:ic),l}function Ff(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Dp(l);if(l.$$typeof===y)return ys(l)}throw Error(i(438,String(l)))}function zo(l){var h=null,g=kn.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var b=kn.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(h={data:b.data.map(function(M){return M.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=Bg(),kn.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(l),b=0;b<l;b++)g[b]=D;return h.index++,g}function Ki(l,h){return typeof h=="function"?h(l):h}function Vo(l){var h=pr();return ea(h,Mi,l)}function ea(l,h,g){var b=l.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=g;var M=l.baseQueue,O=b.pending;if(O!==null){if(M!==null){var W=M.next;M.next=O.next,O.next=W}h.baseQueue=M=O,b.pending=null}if(O=l.baseState,M===null)l.memoizedState=O;else{h=M.next;var Q=W=null,ce=null,xe=h,Ze=!1;do{var ft=xe.lane&-536870913;if(ft!==xe.lane?(pn&ft)===ft:(tc&ft)===ft){var Ve=xe.revertLane;if(Ve===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),ft===Mh&&(Ze=!0);else if((tc&Ve)===Ve){xe=xe.next,Ve===Mh&&(Ze=!0);continue}else ft={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ce===null?(Q=ce=ft,W=O):ce=ce.next=ft,kn.lanes|=Ve,qo|=Ve;ft=xe.action,mu&&g(O,ft),O=xe.hasEagerState?xe.eagerState:g(O,ft)}else Ve={lane:ft,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ce===null?(Q=ce=Ve,W=O):ce=ce.next=Ve,kn.lanes|=ft,qo|=ft;xe=xe.next}while(xe!==null&&xe!==h);if(ce===null?W=O:ce.next=Q,!Ks(O,l.memoizedState)&&(kr=!0,Ze&&(g=fu,g!==null)))throw g;l.memoizedState=O,l.baseState=W,l.baseQueue=ce,b.lastRenderedState=O}return M===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function kg(l){var h=pr(),g=h.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var b=g.dispatch,M=g.pending,O=h.memoizedState;if(M!==null){g.pending=null;var W=M=M.next;do O=l(O,W.action),W=W.next;while(W!==M);Ks(O,h.memoizedState)||(kr=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),g.lastRenderedState=O}return[O,b]}function Qx(l,h,g){var b=kn,M=pr(),O=oi;if(O){if(g===void 0)throw Error(i(407));g=g()}else g=h();var W=!Ks((Mi||M).memoizedState,g);if(W&&(M.memoizedState=g,kr=!0),M=M.queue,O0(Jx.bind(null,b,M,l),[l]),M.getSnapshot!==h||W||Cr!==null&&Cr.memoizedState.tag&1){if(b.flags|=2048,vl(9,vu.bind(null,b,M,g,h),{destroy:void 0},null),Di===null)throw Error(i(349));O||(tc&60)!==0||Ps(b,h,g)}return g}function Ps(l,h,g){l.flags|=16384,l={getSnapshot:h,value:g},h=kn.updateQueue,h===null?(h=Bg(),kn.updateQueue=h,h.stores=[l]):(g=h.stores,g===null?h.stores=[l]:g.push(l))}function vu(l,h,g,b){h.value=g,h.getSnapshot=b,e1(h)&&t1(l)}function Jx(l,h,g){return g(function(){e1(h)&&t1(l)})}function e1(l){var h=l.getSnapshot;l=l.value;try{var g=h();return!Ks(l,g)}catch{return!0}}function t1(l){var h=Wl(l,2);h!==null&&Nr(h,l,2)}function C0(l){var h=as();if(typeof l=="function"){var g=l;if(l=g(),mu){pe(!0);try{g()}finally{pe(!1)}}}return h.memoizedState=h.baseState=l,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:l},h}function R0(l,h,g,b){return l.baseState=g,ea(l,Mi,typeof b=="function"?b:Ki)}function LA(l,h,g,b,M){if(qg(l))throw Error(i(485));if(l=h.action,l!==null){var O={payload:M,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){O.listeners.push(W)}};I.T!==null?g(!0):O.isTransition=!1,b(O),g=h.pending,g===null?(O.next=h.pending=O,D0(h,O)):(O.next=g.next,h.pending=g.next=O)}}function D0(l,h){var g=h.action,b=h.payload,M=l.state;if(h.isTransition){var O=I.T,W={};I.T=W;try{var Q=g(M,b),ce=I.S;ce!==null&&ce(W,Q),n1(l,h,Q)}catch(xe){nc(l,h,xe)}finally{I.T=O}}else try{O=g(M,b),n1(l,h,O)}catch(xe){nc(l,h,xe)}}function n1(l,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){Ch(l,h,b)},function(b){return nc(l,h,b)}):Ch(l,h,g)}function Ch(l,h,g){h.status="fulfilled",h.value=g,i1(h),l.state=g,h=l.pending,h!==null&&(g=h.next,g===h?l.pending=null:(g=g.next,h.next=g,D0(l,g)))}function nc(l,h,g){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do h.status="rejected",h.reason=g,i1(h),h=h.next;while(h!==b)}l.action=null}function i1(l){l=l.listeners;for(var h=0;h<l.length;h++)(0,l[h])()}function r1(l,h){return h}function s1(l,h){if(oi){var g=Di.formState;if(g!==null){e:{var b=kn;if(oi){if(Yr){t:{for(var M=Yr,O=ao;M.nodeType!==8;){if(!O){M=null;break t}if(M=mc(M.nextSibling),M===null){M=null;break t}}O=M.data,M=O==="F!"||O==="F"?M:null}if(M){Yr=mc(M.nextSibling),b=M.data==="F!";break e}}Eh(b)}b=!1}b&&(h=g[0])}}return g=as(),g.memoizedState=g.baseState=h,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r1,lastRenderedState:h},g.queue=b,g=L0.bind(null,kn,b),b.dispatch=g,b=C0(!1),O=Op.bind(null,kn,!1,b.queue),b=as(),M={state:h,dispatch:null,action:l,pending:null},b.queue=M,g=LA.bind(null,kn,M,O,g),M.dispatch=g,b.memoizedState=l,[h,g,!1]}function Hf(l){var h=pr();return a1(h,Mi,l)}function a1(l,h,g){h=ea(l,h,r1)[0],l=Vo(Ki)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Dp(h):h;var b=pr(),M=b.queue,O=M.dispatch;return g!==b.memoizedState&&(kn.flags|=2048,vl(9,UA.bind(null,M,g),{destroy:void 0},null)),[h,O,l]}function UA(l,h){l.action=h}function o1(l){var h=pr(),g=Mi;if(g!==null)return a1(h,g,l);pr(),h=h.memoizedState,g=pr();var b=g.queue.dispatch;return g.memoizedState=l,[h,b,!1]}function vl(l,h,g,b){return l={tag:l,create:h,inst:g,deps:b,next:null},h=kn.updateQueue,h===null&&(h=Bg(),kn.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,h.lastEffect=l),l}function l1(){return pr().memoizedState}function Fg(l,h,g,b){var M=as();kn.flags|=l,M.memoizedState=vl(1|h,g,{destroy:void 0},b===void 0?null:b)}function Hg(l,h,g,b){var M=pr();b=b===void 0?null:b;var O=M.memoizedState.inst;Mi!==null&&b!==null&&Ah(b,Mi.memoizedState.deps)?M.memoizedState=vl(h,g,O,b):(kn.flags|=l,M.memoizedState=vl(1|h,g,O,b))}function c1(l,h){Fg(8390656,8,l,h)}function O0(l,h){Hg(2048,8,l,h)}function u1(l,h){return Hg(4,2,l,h)}function h1(l,h){return Hg(4,4,l,h)}function f1(l,h){if(typeof h=="function"){l=l();var g=h(l);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function d1(l,h,g){g=g!=null?g.concat([l]):null,Hg(4,4,f1.bind(null,h,l),g)}function N0(){}function p1(l,h){var g=pr();h=h===void 0?null:h;var b=g.memoizedState;return h!==null&&Ah(h,b[1])?b[0]:(g.memoizedState=[l,h],l)}function m1(l,h){var g=pr();h=h===void 0?null:h;var b=g.memoizedState;if(h!==null&&Ah(h,b[1]))return b[0];if(b=l(),mu){pe(!0);try{l()}finally{pe(!1)}}return g.memoizedState=[b,h],b}function jg(l,h,g){return g===void 0||(tc&1073741824)!==0?l.memoizedState=h:(l.memoizedState=g,l=Ua(),kn.lanes|=l,qo|=l,g)}function g1(l,h,g,b){return Ks(g,h)?g:wh.current!==null?(l=jg(l,g,b),Ks(l,h)||(kr=!0),l):(tc&42)===0?(kr=!0,l.memoizedState=g):(l=Ua(),kn.lanes|=l,qo|=l,h)}function v1(l,h,g,b,M){var O=oe.p;oe.p=O!==0&&8>O?O:8;var W=I.T,Q={};I.T=Q,Op(l,!1,h,g);try{var ce=M(),xe=I.S;if(xe!==null&&xe(Q,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ze=du(ce,b);Rh(l,h,Ze,Vs(l))}else Rh(l,h,b,Vs(l))}catch(ft){Rh(l,h,{then:function(){},status:"rejected",reason:ft},Vs())}finally{oe.p=O,I.T=W}}function zA(){}function P0(l,h,g,b){if(l.tag!==5)throw Error(i(476));var M=y1(l).queue;v1(l,M,h,Oe,g===null?zA:function(){return b1(l),g(b)})}function y1(l){var h=l.memoizedState;if(h!==null)return h;h={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:Oe},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:g},next:null},l.memoizedState=h,l=l.alternate,l!==null&&(l.memoizedState=h),h}function b1(l){var h=y1(l).next.queue;Rh(l,h,{},Vs())}function Gg(){return ys(ab)}function I0(){return pr().memoizedState}function _1(){return pr().memoizedState}function x1(l){for(var h=l.return;h!==null;){switch(h.tag){case 24:case 3:var g=Vs();l=Ia(g);var b=La(h,l,g);b!==null&&(Nr(b,h,g),xu(b,h,g)),h={cache:w0()},l.payload=h;return}h=h.return}}function S1(l,h,g){var b=Vs();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},qg(l)?E1(h,g):(g=xh(l,h,g,b),g!==null&&(Nr(g,l,b),w1(g,h,b)))}function L0(l,h,g){var b=Vs();Rh(l,h,g,b)}function Rh(l,h,g,b){var M={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(qg(l))E1(h,M);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var W=h.lastRenderedState,Q=O(W,g);if(M.hasEagerState=!0,M.eagerState=Q,Ks(Q,W))return vp(l,h,M,0),Di===null&&gp(),!1}catch{}finally{}if(g=xh(l,h,M,b),g!==null)return Nr(g,l,b),w1(g,h,b),!0}return!1}function Op(l,h,g,b){if(b={lane:2,revertLane:FA(),action:b,hasEagerState:!1,eagerState:null,next:null},qg(l)){if(h)throw Error(i(479))}else h=xh(l,g,b,2),h!==null&&Nr(h,l,2)}function qg(l){var h=l.alternate;return l===kn||h!==null&&h===kn}function E1(l,h){pu=yn=!0;var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}function w1(l,h,g){if((g&4194176)!==0){var b=h.lanes;b&=l.pendingLanes,g|=b,h.lanes=g,Bt(l,g)}}var yl={readContext:ys,use:Ff,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar};yl.useCacheRefresh=ar,yl.useMemoCache=ar,yl.useHostTransitionStatus=ar,yl.useFormState=ar,yl.useActionState=ar,yl.useOptimistic=ar;var yu={readContext:ys,use:Ff,useCallback:function(l,h){return as().memoizedState=[l,h===void 0?null:h],l},useContext:ys,useEffect:c1,useImperativeHandle:function(l,h,g){g=g!=null?g.concat([l]):null,Fg(4194308,4,f1.bind(null,h,l),g)},useLayoutEffect:function(l,h){return Fg(4194308,4,l,h)},useInsertionEffect:function(l,h){Fg(4,2,l,h)},useMemo:function(l,h){var g=as();h=h===void 0?null:h;var b=l();if(mu){pe(!0);try{l()}finally{pe(!1)}}return g.memoizedState=[b,h],b},useReducer:function(l,h,g){var b=as();if(g!==void 0){var M=g(h);if(mu){pe(!0);try{g(h)}finally{pe(!1)}}}else M=h;return b.memoizedState=b.baseState=M,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:M},b.queue=l,l=l.dispatch=S1.bind(null,kn,l),[b.memoizedState,l]},useRef:function(l){var h=as();return l={current:l},h.memoizedState=l},useState:function(l){l=C0(l);var h=l.queue,g=L0.bind(null,kn,h);return h.dispatch=g,[l.memoizedState,g]},useDebugValue:N0,useDeferredValue:function(l,h){var g=as();return jg(g,l,h)},useTransition:function(){var l=C0(!1);return l=v1.bind(null,kn,l.queue,!0,!1),as().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,h,g){var b=kn,M=as();if(oi){if(g===void 0)throw Error(i(407));g=g()}else{if(g=h(),Di===null)throw Error(i(349));(pn&60)!==0||Ps(b,h,g)}M.memoizedState=g;var O={value:g,getSnapshot:h};return M.queue=O,c1(Jx.bind(null,b,O,l),[l]),b.flags|=2048,vl(9,vu.bind(null,b,O,g,h),{destroy:void 0},null),g},useId:function(){var l=as(),h=Di.identifierPrefix;if(oi){var g=Yl,b=fl;g=(b&~(1<<32-Be(b)-1)).toString(32)+g,h=":"+h+"R"+g,g=Bf++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=PA++,h=":"+h+"r"+g.toString(32)+":";return l.memoizedState=h},useCacheRefresh:function(){return as().memoizedState=x1.bind(null,kn)}};yu.useMemoCache=zo,yu.useHostTransitionStatus=Gg,yu.useFormState=s1,yu.useActionState=s1,yu.useOptimistic=function(l){var h=as();h.memoizedState=h.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=Op.bind(null,kn,!0,g),g.dispatch=h,[l,h]};var ic={readContext:ys,use:Ff,useCallback:p1,useContext:ys,useEffect:O0,useImperativeHandle:d1,useInsertionEffect:u1,useLayoutEffect:h1,useMemo:m1,useReducer:Vo,useRef:l1,useState:function(){return Vo(Ki)},useDebugValue:N0,useDeferredValue:function(l,h){var g=pr();return g1(g,Mi.memoizedState,l,h)},useTransition:function(){var l=Vo(Ki)[0],h=pr().memoizedState;return[typeof l=="boolean"?l:Dp(l),h]},useSyncExternalStore:Qx,useId:I0};ic.useCacheRefresh=_1,ic.useMemoCache=zo,ic.useHostTransitionStatus=Gg,ic.useFormState=Hf,ic.useActionState=Hf,ic.useOptimistic=function(l,h){var g=pr();return R0(g,Mi,l,h)};var Dh={readContext:ys,use:Ff,useCallback:p1,useContext:ys,useEffect:O0,useImperativeHandle:d1,useInsertionEffect:u1,useLayoutEffect:h1,useMemo:m1,useReducer:kg,useRef:l1,useState:function(){return kg(Ki)},useDebugValue:N0,useDeferredValue:function(l,h){var g=pr();return Mi===null?jg(g,l,h):g1(g,Mi.memoizedState,l,h)},useTransition:function(){var l=kg(Ki)[0],h=pr().memoizedState;return[typeof l=="boolean"?l:Dp(l),h]},useSyncExternalStore:Qx,useId:I0};Dh.useCacheRefresh=_1,Dh.useMemoCache=zo,Dh.useHostTransitionStatus=Gg,Dh.useFormState=o1,Dh.useActionState=o1,Dh.useOptimistic=function(l,h){var g=pr();return Mi!==null?R0(g,Mi,l,h):(g.baseState=l,[l,g.queue.dispatch])};function U0(l,h,g,b){h=l.memoizedState,g=g(b,h),g=g==null?h:L({},h,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var z0={isMounted:function(l){return(l=l._reactInternals)?ne(l)===l:!1},enqueueSetState:function(l,h,g){l=l._reactInternals;var b=Vs(),M=Ia(b);M.payload=h,g!=null&&(M.callback=g),h=La(l,M,b),h!==null&&(Nr(h,l,b),xu(h,l,b))},enqueueReplaceState:function(l,h,g){l=l._reactInternals;var b=Vs(),M=Ia(b);M.tag=1,M.payload=h,g!=null&&(M.callback=g),h=La(l,M,b),h!==null&&(Nr(h,l,b),xu(h,l,b))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var g=Vs(),b=Ia(g);b.tag=2,h!=null&&(b.callback=h),h=La(l,b,g),h!==null&&(Nr(h,l,g),xu(h,l,g))}};function T1(l,h,g,b,M,O,W){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,O,W):h.prototype&&h.prototype.isPureReactComponent?!Uo(g,b)||!Uo(M,O):!0}function M1(l,h,g,b){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,b),h.state!==l&&z0.enqueueReplaceState(h,h.state,null)}function Oh(l,h){var g=h;if("ref"in h){g={};for(var b in h)b!=="ref"&&(g[b]=h[b])}if(l=l.defaultProps){g===h&&(g=L({},g));for(var M in l)g[M]===void 0&&(g[M]=l[M])}return g}var Wg=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function A1(l){Wg(l)}function C1(l){console.error(l)}function R1(l){Wg(l)}function Xg(l,h){try{var g=l.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(b){setTimeout(function(){throw b})}}function D1(l,h,g){try{var b=l.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function V0(l,h,g){return g=Ia(g),g.tag=3,g.payload={element:null},g.callback=function(){Xg(l,h)},g}function B0(l){return l=Ia(l),l.tag=3,l}function O1(l,h,g,b){var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var O=b.value;l.payload=function(){return M(O)},l.callback=function(){D1(h,g,b)}}var W=g.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(l.callback=function(){D1(h,g,b),typeof M!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var Q=b.stack;this.componentDidCatch(b.value,{componentStack:Q!==null?Q:""})})}function VA(l,h,g,b,M){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(h=g.alternate,h!==null&&Pp(h,g,M,!0),g=Js.current,g!==null){switch(g.tag){case 13:return pl===null?Fp():g.alternate===null&&Wi===0&&(Wi=3),g.flags&=-257,g.flags|=65536,g.lanes=M,b===Ig?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([b]):h.add(b),An(l,b,M)),!1;case 22:return g.flags|=65536,b===Ig?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([b]):g.add(b)),An(l,b,M)),!1}throw Error(i(435,g.tag))}return An(l,b,M),Fp(),!1}if(oi)return h=Js.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=M,b!==Sp&&(l=Error(i(422),{cause:b}),dl(Qs(l,g)))):(b!==Sp&&(h=Error(i(423),{cause:b}),dl(Qs(h,g))),l=l.current.alternate,l.flags|=65536,M&=-M,l.lanes|=M,b=Qs(b,g),M=V0(l.stateNode,b,M),Xf(l,M),Wi!==4&&(Wi=2)),!1;var O=Error(i(520),{cause:b});if(O=Qs(O,g),kp===null?kp=[O]:kp.push(O),Wi!==4&&(Wi=2),h===null)return!0;b=Qs(b,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,l=M&-M,g.lanes|=l,l=V0(g.stateNode,b,l),Xf(g,l),!1;case 1:if(h=g.type,O=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Or===null||!Or.has(O))))return g.flags|=65536,M&=-M,g.lanes|=M,M=B0(M),O1(M,l,g,b),Xf(g,M),!1}g=g.return}while(g!==null);return!1}var Na=Error(i(461)),kr=!1;function Fr(l,h,g,b){h.child=l===null?$l(h,null,g,b):Kl(h,l.child,g,b)}function k0(l,h,g,b,M){g=g.render;var O=h.ref;if("ref"in b){var W={};for(var Q in b)Q!=="ref"&&(W[Q]=b[Q])}else W=b;return Ph(h),b=M0(l,h,g,W,O,M),Q=A0(),l!==null&&!kr?(Rp(l,h,M),mr(l,h,M)):(oi&&Q&&xp(h),h.flags|=1,Fr(l,h,b,M),h.child)}function F0(l,h,g,b,M){if(l===null){var O=g.type;return typeof O=="function"&&!uc(O)&&O.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=O,H0(l,h,O,b,M)):(l=Zf(g.type,null,b,h,h.mode,M),l.ref=h.ref,l.return=h,h.child=l)}if(O=l.child,!K0(l,M)){var W=O.memoizedProps;if(g=g.compare,g=g!==null?g:Uo,g(W,b)&&l.ref===h.ref)return mr(l,h,M)}return h.flags|=1,l=Us(O,b),l.ref=h.ref,l.return=h,h.child=l}function H0(l,h,g,b,M){if(l!==null){var O=l.memoizedProps;if(Uo(O,b)&&l.ref===h.ref)if(kr=!1,h.pendingProps=b=O,K0(l,M))(l.flags&131072)!==0&&(kr=!0);else return h.lanes=l.lanes,mr(l,h,M)}return G0(l,h,g,b,M)}function N1(l,h,g){var b=h.pendingProps,M=b.children,O=(h.stateNode._pendingVisibility&2)!==0,W=l!==null?l.memoizedState:null;if(jf(l,h),b.mode==="hidden"||O){if((h.flags&128)!==0){if(b=W!==null?W.baseLanes|g:g,l!==null){for(M=h.child=l.child,O=0;M!==null;)O=O|M.lanes|M.childLanes,M=M.sibling;h.childLanes=O&~b}else h.childLanes=0,h.child=null;return j0(l,h,b,g)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},l!==null&&Vf(h,W!==null?W.cachePool:null),W!==null?cu(h,W):Ug(),E0(h);else return h.lanes=h.childLanes=536870912,j0(l,h,W!==null?W.baseLanes|g:g,g)}else W!==null?(Vf(h,W.cachePool),cu(h,W),Ql(),h.memoizedState=null):(l!==null&&Vf(h,null),Ug(),Ql());return Fr(l,h,M,g),h.child}function j0(l,h,g,b){var M=Cp();return M=M===null?null:{parent:dr._currentValue,pool:M},h.memoizedState={baseLanes:g,cachePool:M},l!==null&&Vf(h,null),Ug(),E0(h),l!==null&&Pp(l,h,b,!0),null}function jf(l,h){var g=h.ref;if(g===null)l!==null&&l.ref!==null&&(h.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(h.flags|=2097664)}}function G0(l,h,g,b,M){return Ph(h),g=M0(l,h,g,b,void 0,M),b=A0(),l!==null&&!kr?(Rp(l,h,M),mr(l,h,M)):(oi&&b&&xp(h),h.flags|=1,Fr(l,h,g,M),h.child)}function P1(l,h,g,b,M,O){return Ph(h),h.updateQueue=null,g=Zx(h,b,g,M),$x(l),b=A0(),l!==null&&!kr?(Rp(l,h,O),mr(l,h,O)):(oi&&b&&xp(h),h.flags|=1,Fr(l,h,g,O),h.child)}function I1(l,h,g,b,M){if(Ph(h),h.stateNode===null){var O=iu,W=g.contextType;typeof W=="object"&&W!==null&&(O=ys(W)),O=new g(b,O),h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=z0,h.stateNode=O,O._reactInternals=h,O=h.stateNode,O.props=b,O.state=h.memoizedState,O.refs={},Is(h),W=g.contextType,O.context=typeof W=="object"&&W!==null?ys(W):iu,O.state=h.memoizedState,W=g.getDerivedStateFromProps,typeof W=="function"&&(U0(h,g,W,b),O.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(W=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),W!==O.state&&z0.enqueueReplaceState(O,O.state,null),ko(h,b,O,M),bs(),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308),b=!0}else if(l===null){O=h.stateNode;var Q=h.memoizedProps,ce=Oh(g,Q);O.props=ce;var xe=O.context,Ze=g.contextType;W=iu,typeof Ze=="object"&&Ze!==null&&(W=ys(Ze));var ft=g.getDerivedStateFromProps;Ze=typeof ft=="function"||typeof O.getSnapshotBeforeUpdate=="function",Q=h.pendingProps!==Q,Ze||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Q||xe!==W)&&M1(h,O,b,W),Rr=!1;var Ve=h.memoizedState;O.state=Ve,ko(h,b,O,M),bs(),xe=h.memoizedState,Q||Ve!==xe||Rr?(typeof ft=="function"&&(U0(h,g,ft,b),xe=h.memoizedState),(ce=Rr||T1(h,g,ce,b,Ve,xe,W))?(Ze||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(h.flags|=4194308)):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=xe),O.props=b,O.state=xe,O.context=W,b=ce):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{O=h.stateNode,Jg(l,h),W=h.memoizedProps,Ze=Oh(g,W),O.props=Ze,ft=h.pendingProps,Ve=O.context,xe=g.contextType,ce=iu,typeof xe=="object"&&xe!==null&&(ce=ys(xe)),Q=g.getDerivedStateFromProps,(xe=typeof Q=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==ft||Ve!==ce)&&M1(h,O,b,ce),Rr=!1,Ve=h.memoizedState,O.state=Ve,ko(h,b,O,M),bs();var Ke=h.memoizedState;W!==ft||Ve!==Ke||Rr||l!==null&&l.dependencies!==null&&qf(l.dependencies)?(typeof Q=="function"&&(U0(h,g,Q,b),Ke=h.memoizedState),(Ze=Rr||T1(h,g,Ze,b,Ve,Ke,ce)||l!==null&&l.dependencies!==null&&qf(l.dependencies))?(xe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(b,Ke,ce),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(b,Ke,ce)),typeof O.componentDidUpdate=="function"&&(h.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===l.memoizedProps&&Ve===l.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Ve===l.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=Ke),O.props=b,O.state=Ke,O.context=ce,b=Ze):(typeof O.componentDidUpdate!="function"||W===l.memoizedProps&&Ve===l.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===l.memoizedProps&&Ve===l.memoizedState||(h.flags|=1024),b=!1)}return O=b,jf(l,h),b=(h.flags&128)!==0,O||b?(O=h.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:O.render(),h.flags|=1,l!==null&&b?(h.child=Kl(h,l.child,null,M),h.child=Kl(h,null,g,M)):Fr(l,h,g,M),h.memoizedState=O.state,l=h.child):l=mr(l,h,M),l}function q0(l,h,g,b){return Lf(),h.flags|=256,Fr(l,h,g,b),h.child}var W0={dehydrated:null,treeContext:null,retryLane:0};function Kr(l){return{baseLanes:l,cachePool:ec()}}function Yg(l,h,g){return l=l!==null?l.childLanes&~g:0,h&&(l|=zs),l}function L1(l,h,g){var b=h.pendingProps,M=!1,O=(h.flags&128)!==0,W;if((W=O)||(W=l!==null&&l.memoizedState===null?!1:(Ar.current&2)!==0),W&&(M=!0,h.flags&=-129),W=(h.flags&32)!==0,h.flags&=-33,l===null){if(oi){if(M?Zl(h):Ql(),oi){var Q=Yr,ce;if(ce=Q){e:{for(ce=Q,Q=ao;ce.nodeType!==8;){if(!Q){Q=null;break e}if(ce=mc(ce.nextSibling),ce===null){Q=null;break e}}Q=ce}Q!==null?(h.memoizedState={dehydrated:Q,treeContext:Xl!==null?{id:fl,overflow:Yl}:null,retryLane:536870912},ce=br(18,null,null,0),ce.stateNode=Q,ce.return=h,h.child=ce,vs=h,Yr=null,ce=!0):ce=!1}ce||Eh(h)}if(Q=h.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Q.data==="$!"?h.lanes=16:h.lanes=536870912,null;ml(h)}return Q=b.children,b=b.fallback,M?(Ql(),M=h.mode,Q=Y0({mode:"hidden",children:Q},M),b=Au(b,M,g,null),Q.return=h,b.return=h,Q.sibling=b,h.child=Q,M=h.child,M.memoizedState=Kr(g),M.childLanes=Yg(l,W,g),h.memoizedState=W0,b):(Zl(h),X0(h,Q))}if(ce=l.memoizedState,ce!==null&&(Q=ce.dehydrated,Q!==null)){if(O)h.flags&256?(Zl(h),h.flags&=-257,h=Kg(l,h,g)):h.memoizedState!==null?(Ql(),h.child=l.child,h.flags|=128,h=null):(Ql(),M=b.fallback,Q=h.mode,b=Y0({mode:"visible",children:b.children},Q),M=Au(M,Q,g,null),M.flags|=2,b.return=h,M.return=h,b.sibling=M,h.child=b,Kl(h,l.child,null,g),b=h.child,b.memoizedState=Kr(g),b.childLanes=Yg(l,W,g),h.memoizedState=W0,h=M);else if(Zl(h),Q.data==="$!"){if(W=Q.nextSibling&&Q.nextSibling.dataset,W)var xe=W.dgst;W=xe,b=Error(i(419)),b.stack="",b.digest=W,dl({value:b,source:null,stack:null}),h=Kg(l,h,g)}else if(kr||Pp(l,h,g,!1),W=(g&l.childLanes)!==0,kr||W){if(W=Di,W!==null){if(b=g&-g,(b&42)!==0)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=(b&(W.suspendedLanes|g))!==0?0:b,b!==0&&b!==ce.retryLane)throw ce.retryLane=b,Wl(l,b),Nr(W,l,b),Na}Q.data==="$?"||Fp(),h=Kg(l,h,g)}else Q.data==="$?"?(h.flags|=128,h.child=l.child,h=kh.bind(null,l),Q._reactRetry=h,h=null):(l=ce.treeContext,Yr=mc(Q.nextSibling),vs=h,oi=!0,so=null,ao=!1,l!==null&&(ki[Da++]=fl,ki[Da++]=Yl,ki[Da++]=Xl,fl=l.id,Yl=l.overflow,Xl=h),h=X0(h,b.children),h.flags|=4096);return h}return M?(Ql(),M=b.fallback,Q=h.mode,ce=l.child,xe=ce.sibling,b=Us(ce,{mode:"hidden",children:b.children}),b.subtreeFlags=ce.subtreeFlags&31457280,xe!==null?M=Us(xe,M):(M=Au(M,Q,g,null),M.flags|=2),M.return=h,b.return=h,b.sibling=M,h.child=b,b=M,M=h.child,Q=l.child.memoizedState,Q===null?Q=Kr(g):(ce=Q.cachePool,ce!==null?(xe=dr._currentValue,ce=ce.parent!==xe?{parent:xe,pool:xe}:ce):ce=ec(),Q={baseLanes:Q.baseLanes|g,cachePool:ce}),M.memoizedState=Q,M.childLanes=Yg(l,W,g),h.memoizedState=W0,b):(Zl(h),g=l.child,l=g.sibling,g=Us(g,{mode:"visible",children:b.children}),g.return=h,g.sibling=null,l!==null&&(W=h.deletions,W===null?(h.deletions=[l],h.flags|=16):W.push(l)),h.child=g,h.memoizedState=null,g)}function X0(l,h){return h=Y0({mode:"visible",children:h},l.mode),h.return=l,l.child=h}function Y0(l,h){return Z0(l,h,0,null)}function Kg(l,h,g){return Kl(h,l.child,null,g),l=X0(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function $g(l,h,g){l.lanes|=h;var b=l.alternate;b!==null&&(b.lanes|=h),Pa(l.return,h,g)}function bu(l,h,g,b,M){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:M}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=g,O.tailMode=M)}function Nh(l,h,g){var b=h.pendingProps,M=b.revealOrder,O=b.tail;if(Fr(l,h,b.children,g),b=Ar.current,(b&2)!==0)b=b&1|2,h.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&$g(l,g,h);else if(l.tag===19)$g(l,g,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}switch(Qe(Ar,b),M){case"forwards":for(g=h.child,M=null;g!==null;)l=g.alternate,l!==null&&zf(l)===null&&(M=g),g=g.sibling;g=M,g===null?(M=h.child,h.child=null):(M=g.sibling,g.sibling=null),bu(h,!1,M,g,O);break;case"backwards":for(g=null,M=h.child,h.child=null;M!==null;){if(l=M.alternate,l!==null&&zf(l)===null){h.child=M;break}l=M.sibling,M.sibling=g,g=M,M=l}bu(h,!0,g,null,O);break;case"together":bu(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function mr(l,h,g){if(l!==null&&(h.dependencies=l.dependencies),qo|=h.lanes,(g&h.childLanes)===0)if(l!==null){if(Pp(l,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(l!==null&&h.child!==l.child)throw Error(i(153));if(h.child!==null){for(l=h.child,g=Us(l,l.pendingProps),h.child=g,g.return=h;l.sibling!==null;)l=l.sibling,g=g.sibling=Us(l,l.pendingProps),g.return=h;g.sibling=null}return h.child}function K0(l,h){return(l.lanes&h)!==0?!0:(l=l.dependencies,!!(l!==null&&qf(l)))}function BA(l,h,g){switch(h.tag){case 3:bt(h,h.stateNode.containerInfo),_u(h,dr,l.memoizedState.cache),Lf();break;case 27:case 5:dt(h);break;case 4:bt(h,h.stateNode.containerInfo);break;case 10:_u(h,h.type,h.memoizedProps.value);break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(Zl(h),h.flags|=128,null):(g&h.child.childLanes)!==0?L1(l,h,g):(Zl(h),l=mr(l,h,g),l!==null?l.sibling:null);Zl(h);break;case 19:var M=(l.flags&128)!==0;if(b=(g&h.childLanes)!==0,b||(Pp(l,h,g,!1),b=(g&h.childLanes)!==0),M){if(b)return Nh(l,h,g);h.flags|=128}if(M=h.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Qe(Ar,Ar.current),b)break;return null;case 22:case 23:return h.lanes=0,N1(l,h,g);case 24:_u(h,dr,l.memoizedState.cache)}return mr(l,h,g)}function Np(l,h,g){if(l!==null)if(l.memoizedProps!==h.pendingProps)kr=!0;else{if(!K0(l,g)&&(h.flags&128)===0)return kr=!1,BA(l,h,g);kr=(l.flags&131072)!==0}else kr=!1,oi&&(h.flags&1048576)!==0&&x0(h,_p,h.index);switch(h.lanes=0,h.tag){case 16:e:{l=h.pendingProps;var b=h.elementType,M=b._init;if(b=M(b._payload),h.type=b,typeof b=="function")uc(b)?(l=Oh(b,l),h.tag=1,h=I1(null,h,b,l,g)):(h.tag=0,h=G0(null,h,b,l,g));else{if(b!=null){if(M=b.$$typeof,M===_){h.tag=11,h=k0(null,h,b,l,g);break e}else if(M===E){h.tag=14,h=F0(null,h,b,l,g);break e}}throw h=V(b)||b,Error(i(306,h,""))}}return h;case 0:return G0(l,h,h.type,h.pendingProps,g);case 1:return b=h.type,M=Oh(b,h.pendingProps),I1(l,h,b,M,g);case 3:e:{if(bt(h,h.stateNode.containerInfo),l===null)throw Error(i(387));var O=h.pendingProps;M=h.memoizedState,b=M.element,Jg(l,h),ko(h,O,null,g);var W=h.memoizedState;if(O=W.cache,_u(h,dr,O),O!==M.cache&&Zg(h,[dr],g,!0),bs(),O=W.element,M.isDehydrated)if(M={element:O,isDehydrated:!1,cache:W.cache},h.updateQueue.baseState=M,h.memoizedState=M,h.flags&256){h=q0(l,h,O,g);break e}else if(O!==b){b=Qs(Error(i(424)),h),dl(b),h=q0(l,h,O,g);break e}else for(Yr=mc(h.stateNode.containerInfo.firstChild),vs=h,oi=!0,so=null,ao=!0,g=$l(h,null,O,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Lf(),O===b){h=mr(l,h,g);break e}Fr(l,h,O,g)}h=h.child}return h;case 26:return jf(l,h),l===null?(g=d2(h.type,null,h.pendingProps,null))?h.memoizedState=g:oi||(g=h.type,l=h.pendingProps,b=H1(Ye.current).createElement(g),b[Kt]=h,b[Ot]=l,Bs(b,g,l),ct(b),h.stateNode=b):h.memoizedState=d2(h.type,l.memoizedProps,h.pendingProps,l.memoizedState),null;case 27:return dt(h),l===null&&oi&&(b=h.stateNode=u2(h.type,h.pendingProps,Ye.current),vs=h,ao=!0,Yr=mc(b.firstChild)),b=h.pendingProps.children,l!==null||oi?Fr(l,h,b,g):h.child=Kl(h,null,b,g),jf(l,h),h.child;case 5:return l===null&&oi&&((M=b=Yr)&&(b=YW(b,h.type,h.pendingProps,ao),b!==null?(h.stateNode=b,vs=h,Yr=mc(b.firstChild),ao=!1,M=!0):M=!1),M||Eh(h)),dt(h),M=h.type,O=h.pendingProps,W=l!==null?l.memoizedProps:null,b=O.children,$A(M,O)?b=null:W!==null&&$A(M,W)&&(h.flags|=32),h.memoizedState!==null&&(M=M0(l,h,IA,null,null,g),ab._currentValue=M),jf(l,h),Fr(l,h,b,g),h.child;case 6:return l===null&&oi&&((l=g=Yr)&&(g=KW(g,h.pendingProps,ao),g!==null?(h.stateNode=g,vs=h,Yr=null,l=!0):l=!1),l||Eh(h)),null;case 13:return L1(l,h,g);case 4:return bt(h,h.stateNode.containerInfo),b=h.pendingProps,l===null?h.child=Kl(h,null,b,g):Fr(l,h,b,g),h.child;case 11:return k0(l,h,h.type,h.pendingProps,g);case 7:return Fr(l,h,h.pendingProps,g),h.child;case 8:return Fr(l,h,h.pendingProps.children,g),h.child;case 12:return Fr(l,h,h.pendingProps.children,g),h.child;case 10:return b=h.pendingProps,_u(h,h.type,b.value),Fr(l,h,b.children,g),h.child;case 9:return M=h.type._context,b=h.pendingProps.children,Ph(h),M=ys(M),b=b(M),h.flags|=1,Fr(l,h,b,g),h.child;case 14:return F0(l,h,h.type,h.pendingProps,g);case 15:return H0(l,h,h.type,h.pendingProps,g);case 19:return Nh(l,h,g);case 22:return N1(l,h,g);case 24:return Ph(h),b=ys(dr),l===null?(M=Cp(),M===null&&(M=Di,O=w0(),M.pooledCache=O,O.refCount++,O!==null&&(M.pooledCacheLanes|=g),M=O),h.memoizedState={parent:b,cache:M},Is(h),_u(h,dr,M)):((l.lanes&g)!==0&&(Jg(l,h),ko(h,null,null,g),bs()),M=l.memoizedState,O=h.memoizedState,M.parent!==b?(M={parent:b,cache:b},h.memoizedState=M,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=M),_u(h,dr,b)):(b=O.cache,_u(h,dr,b),b!==M.cache&&Zg(h,[dr],g,!0))),Fr(l,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}var Gf=tt(null),bl=null,Bo=null;function _u(l,h,g){Qe(Gf,h._currentValue),h._currentValue=g}function rc(l){l._currentValue=Gf.current,wt(Gf)}function Pa(l,h,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),l===g)break;l=l.return}}function Zg(l,h,g,b){var M=l.child;for(M!==null&&(M.return=l);M!==null;){var O=M.dependencies;if(O!==null){var W=M.child;O=O.firstContext;e:for(;O!==null;){var Q=O;O=M;for(var ce=0;ce<h.length;ce++)if(Q.context===h[ce]){O.lanes|=g,Q=O.alternate,Q!==null&&(Q.lanes|=g),Pa(O.return,g,l),b||(W=null);break e}O=Q.next}}else if(M.tag===18){if(W=M.return,W===null)throw Error(i(341));W.lanes|=g,O=W.alternate,O!==null&&(O.lanes|=g),Pa(W,g,l),W=null}else W=M.child;if(W!==null)W.return=M;else for(W=M;W!==null;){if(W===l){W=null;break}if(M=W.sibling,M!==null){M.return=W.return,W=M;break}W=W.return}M=W}}function Pp(l,h,g,b){l=null;for(var M=h,O=!1;M!==null;){if(!O){if((M.flags&524288)!==0)O=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var W=M.alternate;if(W===null)throw Error(i(387));if(W=W.memoizedProps,W!==null){var Q=M.type;Ks(M.pendingProps.value,W.value)||(l!==null?l.push(Q):l=[Q])}}else if(M===se.current){if(W=M.alternate,W===null)throw Error(i(387));W.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(l!==null?l.push(ab):l=[ab])}M=M.return}l!==null&&Zg(h,l,g,b),h.flags|=262144}function qf(l){for(l=l.firstContext;l!==null;){if(!Ks(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ph(l){bl=l,Bo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ys(l){return Wf(bl,l)}function Qg(l,h){return bl===null&&Ph(l),Wf(l,h)}function Wf(l,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},Bo===null){if(l===null)throw Error(i(308));Bo=h,l.dependencies={lanes:0,firstContext:h},l.flags|=524288}else Bo=Bo.next=h;return g}var Rr=!1;function Is(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jg(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ia(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function La(l,h,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Mn&2)!==0){var M=b.pending;return M===null?h.next=h:(h.next=M.next,M.next=h),b.pending=h,h=bp(l),yp(l,null,g),h}return vp(l,b,h,g),bp(l)}function xu(l,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194176)!==0)){var b=h.lanes;b&=l.pendingLanes,g|=b,h.lanes=g,Bt(l,g)}}function Xf(l,h){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var M=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var W={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};O===null?M=O=W:O=O.next=W,g=g.next}while(g!==null);O===null?M=O=h:O=O.next=h}else M=O=h;g={baseState:b.baseState,firstBaseUpdate:M,lastBaseUpdate:O,shared:b.shared,callbacks:b.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=h:l.next=h,g.lastBaseUpdate=h}var ta=!1;function bs(){if(ta){var l=fu;if(l!==null)throw l}}function ko(l,h,g,b){ta=!1;var M=l.updateQueue;Rr=!1;var O=M.firstBaseUpdate,W=M.lastBaseUpdate,Q=M.shared.pending;if(Q!==null){M.shared.pending=null;var ce=Q,xe=ce.next;ce.next=null,W===null?O=xe:W.next=xe,W=ce;var Ze=l.alternate;Ze!==null&&(Ze=Ze.updateQueue,Q=Ze.lastBaseUpdate,Q!==W&&(Q===null?Ze.firstBaseUpdate=xe:Q.next=xe,Ze.lastBaseUpdate=ce))}if(O!==null){var ft=M.baseState;W=0,Ze=xe=ce=null,Q=O;do{var Ve=Q.lane&-536870913,Ke=Ve!==Q.lane;if(Ke?(pn&Ve)===Ve:(b&Ve)===Ve){Ve!==0&&Ve===Mh&&(ta=!0),Ze!==null&&(Ze=Ze.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var on=l,On=Q;Ve=h;var Pr=g;switch(On.tag){case 1:if(on=On.payload,typeof on=="function"){ft=on.call(Pr,ft,Ve);break e}ft=on;break e;case 3:on.flags=on.flags&-65537|128;case 0:if(on=On.payload,Ve=typeof on=="function"?on.call(Pr,ft,Ve):on,Ve==null)break e;ft=L({},ft,Ve);break e;case 2:Rr=!0}}Ve=Q.callback,Ve!==null&&(l.flags|=64,Ke&&(l.flags|=8192),Ke=M.callbacks,Ke===null?M.callbacks=[Ve]:Ke.push(Ve))}else Ke={lane:Ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ze===null?(xe=Ze=Ke,ce=ft):Ze=Ze.next=Ke,W|=Ve;if(Q=Q.next,Q===null){if(Q=M.shared.pending,Q===null)break;Ke=Q,Q=Ke.next,Ke.next=null,M.lastBaseUpdate=Ke,M.shared.pending=null}}while(!0);Ze===null&&(ce=ft),M.baseState=ce,M.firstBaseUpdate=xe,M.lastBaseUpdate=Ze,O===null&&(M.shared.lanes=0),qo|=W,l.lanes=W,l.memoizedState=ft}}function _l(l,h){if(typeof l!="function")throw Error(i(191,l));l.call(h)}function xl(l,h){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)_l(g[l],h)}function gr(l,h){try{var g=h.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var M=b.next;g=M;do{if((g.tag&l)===l){b=void 0;var O=g.create,W=g.inst;b=O(),W.destroy=b}g=g.next}while(g!==M)}}catch(Q){vt(h,h.return,Q)}}function oo(l,h,g){try{var b=h.updateQueue,M=b!==null?b.lastEffect:null;if(M!==null){var O=M.next;b=O;do{if((b.tag&l)===l){var W=b.inst,Q=W.destroy;if(Q!==void 0){W.destroy=void 0,M=h;var ce=g;try{Q()}catch(xe){vt(M,ce,xe)}}}b=b.next}while(b!==O)}}catch(xe){vt(h,h.return,xe)}}function sc(l){var h=l.updateQueue;if(h!==null){var g=l.stateNode;try{xl(h,g)}catch(b){vt(l,l.return,b)}}}function Ip(l,h,g){g.props=Oh(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(b){vt(l,h,b)}}function vr(l,h){try{var g=l.ref;if(g!==null){var b=l.stateNode;switch(l.tag){case 26:case 27:case 5:var M=b;break;default:M=b}typeof g=="function"?l.refCleanup=g(M):g.current=M}}catch(O){vt(l,h,O)}}function Ri(l,h){var g=l.ref,b=l.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(M){vt(l,h,M)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(M){vt(l,h,M)}else g.current=null}function li(l){var h=l.type,g=l.memoizedProps,b=l.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(M){vt(l,l.return,M)}}function lo(l,h,g){try{var b=l.stateNode;jW(b,l.type,g,h),b[Ot]=h}catch(M){vt(l,l.return,M)}}function Fo(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27||l.tag===4}function Lp(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Fo(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==27&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function na(l,h,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(l,h):g.insertBefore(l,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(l,g)):(h=g,h.appendChild(l)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=F1));else if(b!==4&&b!==27&&(l=l.child,l!==null))for(na(l,h,g),l=l.sibling;l!==null;)na(l,h,g),l=l.sibling}function ac(l,h,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,h?g.insertBefore(l,h):g.appendChild(l);else if(b!==4&&b!==27&&(l=l.child,l!==null))for(ac(l,h,g),l=l.sibling;l!==null;)ac(l,h,g),l=l.sibling}var Ho=!1,Gi=!1,Su=!1,ev=typeof WeakSet=="function"?WeakSet:Set,yr=null,tv=!1;function Yf(l,h){if(l=l.containerInfo,YA=Y1,l=m0(l),mp(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var M=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var W=0,Q=-1,ce=-1,xe=0,Ze=0,ft=l,Ve=null;t:for(;;){for(var Ke;ft!==g||M!==0&&ft.nodeType!==3||(Q=W+M),ft!==O||b!==0&&ft.nodeType!==3||(ce=W+b),ft.nodeType===3&&(W+=ft.nodeValue.length),(Ke=ft.firstChild)!==null;)Ve=ft,ft=Ke;for(;;){if(ft===l)break t;if(Ve===g&&++xe===M&&(Q=W),Ve===O&&++Ze===b&&(ce=W),(Ke=ft.nextSibling)!==null)break;ft=Ve,Ve=ft.parentNode}ft=Ke}g=Q===-1||ce===-1?null:{start:Q,end:ce}}else g=null}g=g||{start:0,end:0}}else g=null;for(KA={focusedElem:l,selectionRange:g},Y1=!1,yr=h;yr!==null;)if(h=yr,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,yr=l;else for(;yr!==null;){switch(h=yr,O=h.alternate,l=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&O!==null){l=void 0,g=h,M=O.memoizedProps,O=O.memoizedState,b=g.stateNode;try{var on=Oh(g.type,M,g.elementType===g.type);l=b.getSnapshotBeforeUpdate(on,O),b.__reactInternalSnapshotBeforeUpdate=l}catch(On){vt(g,g.return,On)}}break;case 3:if((l&1024)!==0){if(l=h.stateNode.containerInfo,g=l.nodeType,g===9)JA(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":JA(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=h.sibling,l!==null){l.return=h.return,yr=l;break}yr=h.return}return on=tv,tv=!1,on}function Kf(l,h,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:Sl(l,g),b&4&&gr(5,g);break;case 1:if(Sl(l,g),b&4)if(l=g.stateNode,h===null)try{l.componentDidMount()}catch(Q){vt(g,g.return,Q)}else{var M=Oh(g.type,h.memoizedProps);h=h.memoizedState;try{l.componentDidUpdate(M,h,l.__reactInternalSnapshotBeforeUpdate)}catch(Q){vt(g,g.return,Q)}}b&64&&sc(g),b&512&&vr(g,g.return);break;case 3:if(Sl(l,g),b&64&&(b=g.updateQueue,b!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=g.child.stateNode;break;case 1:l=g.child.stateNode}try{xl(b,l)}catch(Q){vt(g,g.return,Q)}}break;case 26:Sl(l,g),b&512&&vr(g,g.return);break;case 27:case 5:Sl(l,g),h===null&&b&4&&li(g),b&512&&vr(g,g.return);break;case 12:Sl(l,g);break;case 13:Sl(l,g),b&4&&U1(l,g);break;case 22:if(M=g.memoizedState!==null||Ho,!M){h=h!==null&&h.memoizedState!==null||Gi;var O=Ho,W=Gi;Ho=M,(Gi=h)&&!W?Go(l,g,(g.subtreeFlags&8772)!==0):Sl(l,g),Ho=O,Gi=W}b&512&&(g.memoizedProps.mode==="manual"?vr(g,g.return):Ri(g,g.return));break;default:Sl(l,g)}}function nv(l){var h=l.alternate;h!==null&&(l.alternate=null,nv(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&be(h)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var qi=null,$r=!1;function _s(l,h,g){for(g=g.child;g!==null;)iv(l,h,g),g=g.sibling}function iv(l,h,g){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Wt,g)}catch{}switch(g.tag){case 26:Gi||Ri(g,h),_s(l,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Gi||Ri(g,h);var b=qi,M=$r;for(qi=g.stateNode,_s(l,h,g),g=g.stateNode,h=g.attributes;h.length;)g.removeAttributeNode(h[0]);be(g),qi=b,$r=M;break;case 5:Gi||Ri(g,h);case 6:M=qi;var O=$r;if(qi=null,_s(l,h,g),qi=M,$r=O,qi!==null)if($r)try{l=qi,b=g.stateNode,l.nodeType===8?l.parentNode.removeChild(b):l.removeChild(b)}catch(W){vt(g,h,W)}else try{qi.removeChild(g.stateNode)}catch(W){vt(g,h,W)}break;case 18:qi!==null&&($r?(h=qi,g=g.stateNode,h.nodeType===8?QA(h.parentNode,g):h.nodeType===1&&QA(h,g),ub(h)):QA(qi,g.stateNode));break;case 4:b=qi,M=$r,qi=g.stateNode.containerInfo,$r=!0,_s(l,h,g),qi=b,$r=M;break;case 0:case 11:case 14:case 15:Gi||oo(2,g,h),Gi||oo(4,g,h),_s(l,h,g);break;case 1:Gi||(Ri(g,h),b=g.stateNode,typeof b.componentWillUnmount=="function"&&Ip(g,h,b)),_s(l,h,g);break;case 21:_s(l,h,g);break;case 22:Gi||Ri(g,h),Gi=(b=Gi)||g.memoizedState!==null,_s(l,h,g),Gi=b;break;default:_s(l,h,g)}}function U1(l,h){if(h.memoizedState===null&&(l=h.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{ub(l)}catch(g){vt(h,h.return,g)}}function Up(l){switch(l.tag){case 13:case 19:var h=l.stateNode;return h===null&&(h=l.stateNode=new ev),h;case 22:return l=l.stateNode,h=l._retryCache,h===null&&(h=l._retryCache=new ev),h;default:throw Error(i(435,l.tag))}}function zp(l,h){var g=Up(l);h.forEach(function(b){var M=Ue.bind(null,l,b);g.has(b)||(g.add(b),b.then(M,M))})}function Ls(l,h){var g=h.deletions;if(g!==null)for(var b=0;b<g.length;b++){var M=g[b],O=l,W=h,Q=W;e:for(;Q!==null;){switch(Q.tag){case 27:case 5:qi=Q.stateNode,$r=!1;break e;case 3:qi=Q.stateNode.containerInfo,$r=!0;break e;case 4:qi=Q.stateNode.containerInfo,$r=!0;break e}Q=Q.return}if(qi===null)throw Error(i(160));iv(O,W,M),qi=null,$r=!1,O=M.alternate,O!==null&&(O.return=null),M.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Ih(h,l),h=h.sibling}var xs=null;function Ih(l,h){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ls(h,l),Ss(l),b&4&&(oo(3,l,l.return),gr(3,l),oo(5,l,l.return));break;case 1:Ls(h,l),Ss(l),b&512&&(Gi||g===null||Ri(g,g.return)),b&64&&Ho&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var M=xs;if(Ls(h,l),Ss(l),b&512&&(Gi||g===null||Ri(g,g.return)),b&4){var O=g!==null?g.memoizedState:null;if(b=l.memoizedState,g===null)if(b===null)if(l.stateNode===null){e:{b=l.type,g=l.memoizedProps,M=M.ownerDocument||M;t:switch(b){case"title":O=M.getElementsByTagName("title")[0],(!O||O[$]||O[Kt]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=M.createElement(b),M.head.insertBefore(O,M.querySelector("head > title"))),Bs(O,b,g),O[Kt]=l,ct(O),b=O;break e;case"link":var W=g2("link","href",M).get(b+(g.href||""));if(W){for(var Q=0;Q<W.length;Q++)if(O=W[Q],O.getAttribute("href")===(g.href==null?null:g.href)&&O.getAttribute("rel")===(g.rel==null?null:g.rel)&&O.getAttribute("title")===(g.title==null?null:g.title)&&O.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){W.splice(Q,1);break t}}O=M.createElement(b),Bs(O,b,g),M.head.appendChild(O);break;case"meta":if(W=g2("meta","content",M).get(b+(g.content||""))){for(Q=0;Q<W.length;Q++)if(O=W[Q],O.getAttribute("content")===(g.content==null?null:""+g.content)&&O.getAttribute("name")===(g.name==null?null:g.name)&&O.getAttribute("property")===(g.property==null?null:g.property)&&O.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&O.getAttribute("charset")===(g.charSet==null?null:g.charSet)){W.splice(Q,1);break t}}O=M.createElement(b),Bs(O,b,g),M.head.appendChild(O);break;default:throw Error(i(468,b))}O[Kt]=l,ct(O),b=O}l.stateNode=b}else v2(M,l.type,l.stateNode);else l.stateNode=m2(M,b,l.memoizedProps);else O!==b?(O===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):O.count--,b===null?v2(M,l.type,l.stateNode):m2(M,b,l.memoizedProps)):b===null&&l.stateNode!==null&&lo(l,l.memoizedProps,g.memoizedProps)}break;case 27:if(b&4&&l.alternate===null){M=l.stateNode,O=l.memoizedProps;try{for(var ce=M.firstChild;ce;){var xe=ce.nextSibling,Ze=ce.nodeName;ce[$]||Ze==="HEAD"||Ze==="BODY"||Ze==="SCRIPT"||Ze==="STYLE"||Ze==="LINK"&&ce.rel.toLowerCase()==="stylesheet"||M.removeChild(ce),ce=xe}for(var ft=l.type,Ve=M.attributes;Ve.length;)M.removeAttributeNode(Ve[0]);Bs(M,ft,O),M[Kt]=l,M[Ot]=O}catch(on){vt(l,l.return,on)}}case 5:if(Ls(h,l),Ss(l),b&512&&(Gi||g===null||Ri(g,g.return)),l.flags&32){M=l.stateNode;try{Aa(M,"")}catch(on){vt(l,l.return,on)}}b&4&&l.stateNode!=null&&(M=l.memoizedProps,lo(l,M,g!==null?g.memoizedProps:M)),b&1024&&(Su=!0);break;case 6:if(Ls(h,l),Ss(l),b&4){if(l.stateNode===null)throw Error(i(162));b=l.memoizedProps,g=l.stateNode;try{g.nodeValue=b}catch(on){vt(l,l.return,on)}}break;case 3:if(q1=null,M=xs,xs=j1(h.containerInfo),Ls(h,l),xs=M,Ss(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{ub(h.containerInfo)}catch(on){vt(l,l.return,on)}Su&&(Su=!1,Eu(l));break;case 4:b=xs,xs=j1(l.stateNode.containerInfo),Ls(h,l),Ss(l),xs=b;break;case 12:Ls(h,l),Ss(l);break;case 13:Ls(h,l),Ss(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Fn=Fe()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,zp(l,b)));break;case 22:if(b&512&&(Gi||g===null||Ri(g,g.return)),ce=l.memoizedState!==null,xe=g!==null&&g.memoizedState!==null,Ze=Ho,ft=Gi,Ho=Ze||ce,Gi=ft||xe,Ls(h,l),Gi=ft,Ho=Ze,Ss(l),h=l.stateNode,h._current=l,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,b&8192&&(h._visibility=ce?h._visibility&-2:h._visibility|1,ce&&(h=Ho||Gi,g===null||xe||h||jo(l)),l.memoizedProps===null||l.memoizedProps.mode!=="manual"))e:for(g=null,h=l;;){if(h.tag===5||h.tag===26||h.tag===27){if(g===null){xe=g=h;try{if(M=xe.stateNode,ce)O=M.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{W=xe.stateNode,Q=xe.memoizedProps.style;var Ke=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;W.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(on){vt(xe,xe.return,on)}}}else if(h.tag===6){if(g===null){xe=h;try{xe.stateNode.nodeValue=ce?"":xe.memoizedProps}catch(on){vt(xe,xe.return,on)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===l)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break e;for(;h.sibling===null;){if(h.return===null||h.return===l)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}b&4&&(b=l.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,zp(l,g))));break;case 19:Ls(h,l),Ss(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,zp(l,b)));break;case 21:break;default:Ls(h,l),Ss(l)}}function Ss(l){var h=l.flags;if(h&2){try{if(l.tag!==27){e:{for(var g=l.return;g!==null;){if(Fo(g)){var b=g;break e}g=g.return}throw Error(i(160))}switch(b.tag){case 27:var M=b.stateNode,O=Lp(l);ac(l,O,M);break;case 5:var W=b.stateNode;b.flags&32&&(Aa(W,""),b.flags&=-33);var Q=Lp(l);ac(l,Q,W);break;case 3:case 4:var ce=b.stateNode.containerInfo,xe=Lp(l);na(l,xe,ce);break;default:throw Error(i(161))}}}catch(Ze){vt(l,l.return,Ze)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function Eu(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var h=l;Eu(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),l=l.sibling}}function Sl(l,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Kf(l,h.alternate,h),h=h.sibling}function jo(l){for(l=l.child;l!==null;){var h=l;switch(h.tag){case 0:case 11:case 14:case 15:oo(4,h,h.return),jo(h);break;case 1:Ri(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&Ip(h,h.return,g),jo(h);break;case 26:case 27:case 5:Ri(h,h.return),jo(h);break;case 22:Ri(h,h.return),h.memoizedState===null&&jo(h);break;default:jo(h)}l=l.sibling}}function Go(l,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var b=h.alternate,M=l,O=h,W=O.flags;switch(O.tag){case 0:case 11:case 15:Go(M,O,g),gr(4,O);break;case 1:if(Go(M,O,g),b=O,M=b.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(xe){vt(b,b.return,xe)}if(b=O,M=b.updateQueue,M!==null){var Q=b.stateNode;try{var ce=M.shared.hiddenCallbacks;if(ce!==null)for(M.shared.hiddenCallbacks=null,M=0;M<ce.length;M++)_l(ce[M],Q)}catch(xe){vt(b,b.return,xe)}}g&&W&64&&sc(O),vr(O,O.return);break;case 26:case 27:case 5:Go(M,O,g),g&&b===null&&W&4&&li(O),vr(O,O.return);break;case 12:Go(M,O,g);break;case 13:Go(M,O,g),g&&W&4&&U1(M,O);break;case 22:O.memoizedState===null&&Go(M,O,g),vr(O,O.return);break;default:Go(M,O,g)}h=h.sibling}}function ia(l,h){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(l=h.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&uu(g))}function co(l,h){l=null,h.alternate!==null&&(l=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==l&&(h.refCount++,l!=null&&uu(l))}function Fi(l,h,g,b){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)oc(l,h,g,b),h=h.sibling}function oc(l,h,g,b){var M=h.flags;switch(h.tag){case 0:case 11:case 15:Fi(l,h,g,b),M&2048&&gr(9,h);break;case 3:Fi(l,h,g,b),M&2048&&(l=null,h.alternate!==null&&(l=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==l&&(h.refCount++,l!=null&&uu(l)));break;case 12:if(M&2048){Fi(l,h,g,b),l=h.stateNode;try{var O=h.memoizedProps,W=O.id,Q=O.onPostCommit;typeof Q=="function"&&Q(W,h.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ce){vt(h,h.return,ce)}}else Fi(l,h,g,b);break;case 23:break;case 22:O=h.stateNode,h.memoizedState!==null?O._visibility&4?Fi(l,h,g,b):fi(l,h):O._visibility&4?Fi(l,h,g,b):(O._visibility|=4,Tn(l,h,g,b,(h.subtreeFlags&10256)!==0)),M&2048&&ia(h.alternate,h);break;case 24:Fi(l,h,g,b),M&2048&&co(h.alternate,h);break;default:Fi(l,h,g,b)}}function Tn(l,h,g,b,M){for(M=M&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var O=l,W=h,Q=g,ce=b,xe=W.flags;switch(W.tag){case 0:case 11:case 15:Tn(O,W,Q,ce,M),gr(8,W);break;case 23:break;case 22:var Ze=W.stateNode;W.memoizedState!==null?Ze._visibility&4?Tn(O,W,Q,ce,M):fi(O,W):(Ze._visibility|=4,Tn(O,W,Q,ce,M)),M&&xe&2048&&ia(W.alternate,W);break;case 24:Tn(O,W,Q,ce,M),M&&xe&2048&&co(W.alternate,W);break;default:Tn(O,W,Q,ce,M)}h=h.sibling}}function fi(l,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=l,b=h,M=b.flags;switch(b.tag){case 22:fi(g,b),M&2048&&ia(b.alternate,b);break;case 24:fi(g,b),M&2048&&co(b.alternate,b);break;default:fi(g,b)}h=h.sibling}}var $i=8192;function lc(l){if(l.subtreeFlags&$i)for(l=l.child;l!==null;)Lh(l),l=l.sibling}function Lh(l){switch(l.tag){case 26:lc(l),l.flags&$i&&l.memoizedState!==null&&lX(xs,l.memoizedState,l.memoizedProps);break;case 5:lc(l);break;case 3:case 4:var h=xs;xs=j1(l.stateNode.containerInfo),lc(l),xs=h;break;case 22:l.memoizedState===null&&(h=l.alternate,h!==null&&h.memoizedState!==null?(h=$i,$i=16777216,lc(l),$i=h):lc(l));break;default:lc(l)}}function wu(l){var h=l.alternate;if(h!==null&&(l=h.child,l!==null)){h.child=null;do h=l.sibling,l.sibling=null,l=h;while(l!==null)}}function Tu(l){var h=l.deletions;if((l.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];yr=b,z1(b,l)}wu(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)$f(l),l=l.sibling}function $f(l){switch(l.tag){case 0:case 11:case 15:Tu(l),l.flags&2048&&oo(9,l,l.return);break;case 3:Tu(l);break;case 12:Tu(l);break;case 22:var h=l.stateNode;l.memoizedState!==null&&h._visibility&4&&(l.return===null||l.return.tag!==13)?(h._visibility&=-5,cc(l)):Tu(l);break;default:Tu(l)}}function cc(l){var h=l.deletions;if((l.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];yr=b,z1(b,l)}wu(l)}for(l=l.child;l!==null;){switch(h=l,h.tag){case 0:case 11:case 15:oo(8,h,h.return),cc(h);break;case 22:g=h.stateNode,g._visibility&4&&(g._visibility&=-5,cc(h));break;default:cc(h)}l=l.sibling}}function z1(l,h){for(;yr!==null;){var g=yr;switch(g.tag){case 0:case 11:case 15:oo(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:uu(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,yr=b;else e:for(g=l;yr!==null;){b=yr;var M=b.sibling,O=b.return;if(nv(b),b===g){yr=null;break e}if(M!==null){M.return=O,yr=M;break e}yr=O}}}function $0(l,h,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(l,h,g,b){return new $0(l,h,g,b)}function uc(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Us(l,h){var g=l.alternate;return g===null?(g=br(l.tag,h,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=h,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&31457280,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,h=l.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Mu(l,h){l.flags&=31457282;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=h,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,h=g.dependencies,l.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),l}function Zf(l,h,g,b,M,O){var W=0;if(b=l,typeof l=="function")uc(l)&&(W=1);else if(typeof l=="string")W=aX(l,g,qt.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case c:return Au(g.children,M,O,h);case u:W=8,M|=24;break;case d:return l=br(12,g,h,M|2),l.elementType=d,l.lanes=O,l;case w:return l=br(13,g,h,M),l.elementType=w,l.lanes=O,l;case S:return l=br(19,g,h,M),l.elementType=S,l.lanes=O,l;case R:return Z0(g,M,O,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case p:case y:W=10;break e;case v:W=9;break e;case _:W=11;break e;case E:W=14;break e;case A:W=16,b=null;break e}W=29,g=Error(i(130,l===null?"null":typeof l,"")),b=null}return h=br(W,g,h,M),h.elementType=l,h.type=b,h.lanes=O,h}function Au(l,h,g,b){return l=br(7,l,b,h),l.lanes=g,l}function Z0(l,h,g,b){l=br(22,l,b,h),l.elementType=R,l.lanes=g;var M={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=M._current;if(O===null)throw Error(i(456));if((M._pendingVisibility&2)===0){var W=Wl(O,2);W!==null&&(M._pendingVisibility|=2,Nr(W,O,2))}},attach:function(){var O=M._current;if(O===null)throw Error(i(456));if((M._pendingVisibility&2)!==0){var W=Wl(O,2);W!==null&&(M._pendingVisibility&=-3,Nr(W,O,2))}}};return l.stateNode=M,l}function Dr(l,h,g){return l=br(6,l,null,h),l.lanes=g,l}function Vp(l,h,g){return h=br(4,l.children!==null?l.children:[],l.key,h),h.lanes=g,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function uo(l){l.flags|=4}function Cu(l,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!y2(h)){if(h=Js.current,h!==null&&((pn&4194176)===pn?pl!==null:(pn&62914560)!==pn&&(pn&536870912)===0||h!==pl))throw Uf=Ig,S0;l.flags|=8192}}function ho(l,h){h!==null&&(l.flags|=4),l.flags&16384&&(h=l.tag!==22?ae():536870912,l.lanes|=h,wl|=h)}function Bp(l,h){if(!oi)switch(l.tailMode){case"hidden":h=l.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function nr(l){var h=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(h)for(var M=l.child;M!==null;)g|=M.lanes|M.childLanes,b|=M.subtreeFlags&31457280,b|=M.flags&31457280,M.return=l,M=M.sibling;else for(M=l.child;M!==null;)g|=M.lanes|M.childLanes,b|=M.subtreeFlags,b|=M.flags,M.return=l,M=M.sibling;return l.subtreeFlags|=b,l.childLanes=g,h}function kA(l,h,g){var b=h.pendingProps;switch(su(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(h),null;case 1:return nr(h),null;case 3:return g=h.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),rc(dr),Je(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(If(h)?uo(h):l===null||l.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,so!==null&&(go(so),so=null))),nr(h),null;case 26:return g=h.memoizedState,l===null?(uo(h),g!==null?(nr(h),Cu(h,g)):(nr(h),h.flags&=-16777217)):g?g!==l.memoizedState?(uo(h),nr(h),Cu(h,g)):(nr(h),h.flags&=-16777217):(l.memoizedProps!==b&&uo(h),nr(h),h.flags&=-16777217),null;case 27:pt(h),g=Ye.current;var M=h.type;if(l!==null&&h.stateNode!=null)l.memoizedProps!==b&&uo(h);else{if(!b){if(h.stateNode===null)throw Error(i(166));return nr(h),null}l=qt.current,If(h)?qx(h):(l=u2(M,b,g),h.stateNode=l,uo(h))}return nr(h),null;case 5:if(pt(h),g=h.type,l!==null&&h.stateNode!=null)l.memoizedProps!==b&&uo(h);else{if(!b){if(h.stateNode===null)throw Error(i(166));return nr(h),null}if(l=qt.current,If(h))qx(h);else{switch(M=H1(Ye.current),l){case 1:l=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=M.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof b.is=="string"?M.createElement("select",{is:b.is}):M.createElement("select"),b.multiple?l.multiple=!0:b.size&&(l.size=b.size);break;default:l=typeof b.is=="string"?M.createElement(g,{is:b.is}):M.createElement(g)}}l[Kt]=h,l[Ot]=b;e:for(M=h.child;M!==null;){if(M.tag===5||M.tag===6)l.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break e;for(;M.sibling===null;){if(M.return===null||M.return===h)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}h.stateNode=l;e:switch(Bs(l,g,b),g){case"button":case"input":case"select":case"textarea":l=!!b.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&uo(h)}}return nr(h),h.flags&=-16777217,null;case 6:if(l&&h.stateNode!=null)l.memoizedProps!==b&&uo(h);else{if(typeof b!="string"&&h.stateNode===null)throw Error(i(166));if(l=Ye.current,If(h)){if(l=h.stateNode,g=h.memoizedProps,b=null,M=vs,M!==null)switch(M.tag){case 27:case 5:b=M.memoizedProps}l[Kt]=h,l=!!(l.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||r2(l.nodeValue,g)),l||Eh(h)}else l=H1(l).createTextNode(b),l[Kt]=h,h.stateNode=l}return nr(h),null;case 13:if(b=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(M=If(h),b!==null&&b.dehydrated!==null){if(l===null){if(!M)throw Error(i(318));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));M[Kt]=h}else Lf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;nr(h),M=!1}else so!==null&&(go(so),so=null),M=!0;if(!M)return h.flags&256?(ml(h),h):(ml(h),null)}if(ml(h),(h.flags&128)!==0)return h.lanes=g,h;if(g=b!==null,l=l!==null&&l.memoizedState!==null,g){b=h.child,M=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(M=b.alternate.memoizedState.cachePool.pool);var O=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(O=b.memoizedState.cachePool.pool),O!==M&&(b.flags|=2048)}return g!==l&&g&&(h.child.flags|=8192),ho(h,h.updateQueue),nr(h),null;case 4:return Je(),l===null&&qA(h.stateNode.containerInfo),nr(h),null;case 10:return rc(h.type),nr(h),null;case 19:if(wt(Ar),M=h.memoizedState,M===null)return nr(h),null;if(b=(h.flags&128)!==0,O=M.rendering,O===null)if(b)Bp(M,!1);else{if(Wi!==0||l!==null&&(l.flags&128)!==0)for(l=h.child;l!==null;){if(O=zf(l),O!==null){for(h.flags|=128,Bp(M,!1),l=O.updateQueue,h.updateQueue=l,ho(h,l),h.subtreeFlags=0,l=g,g=h.child;g!==null;)Mu(g,l),g=g.sibling;return Qe(Ar,Ar.current&1|2),h.child}l=l.sibling}M.tail!==null&&Fe()>Kn&&(h.flags|=128,b=!0,Bp(M,!1),h.lanes=4194304)}else{if(!b)if(l=zf(O),l!==null){if(h.flags|=128,b=!0,l=l.updateQueue,h.updateQueue=l,ho(h,l),Bp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!O.alternate&&!oi)return nr(h),null}else 2*Fe()-M.renderingStartTime>Kn&&g!==536870912&&(h.flags|=128,b=!0,Bp(M,!1),h.lanes=4194304);M.isBackwards?(O.sibling=h.child,h.child=O):(l=M.last,l!==null?l.sibling=O:h.child=O,M.last=O)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=Fe(),h.sibling=null,l=Ar.current,Qe(Ar,b?l&1|2:l&1),h):(nr(h),null);case 22:case 23:return ml(h),Ap(),b=h.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(h.flags|=8192):b&&(h.flags|=8192),b?(g&536870912)!==0&&(h.flags&128)===0&&(nr(h),h.subtreeFlags&6&&(h.flags|=8192)):nr(h),g=h.updateQueue,g!==null&&ho(h,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048),l!==null&&wt(Jl),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),rc(dr),nr(h),null;case 25:return null}throw Error(i(156,h.tag))}function or(l,h){switch(su(h),h.tag){case 1:return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return rc(dr),Je(),l=h.flags,(l&65536)!==0&&(l&128)===0?(h.flags=l&-65537|128,h):null;case 26:case 27:case 5:return pt(h),null;case 13:if(ml(h),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(i(340));Lf()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return wt(Ar),null;case 4:return Je(),null;case 10:return rc(h.type),null;case 22:case 23:return ml(h),Ap(),l!==null&&wt(Jl),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 24:return rc(dr),null;case 25:return null;default:return null}}function Q0(l,h){switch(su(h),h.tag){case 3:rc(dr),Je();break;case 26:case 27:case 5:pt(h);break;case 4:Je();break;case 13:ml(h);break;case 19:wt(Ar);break;case 10:rc(h.type);break;case 22:case 23:ml(h),Ap(),l!==null&&wt(Jl);break;case 24:rc(dr)}}var Uh={getCacheForType:function(l){var h=ys(dr),g=h.data.get(l);return g===void 0&&(g=l(),h.data.set(l,g)),g}},hc=typeof WeakMap=="function"?WeakMap:Map,Mn=0,Di=null,qn=null,pn=0,zi=0,di=null,_r=!1,Es=!1,Ru=!1,fc=0,Wi=0,qo=0,El=0,Qf=0,zs=0,wl=0,kp=null,Yn=null,Oi=!1,Fn=0,Kn=1/0,Ai=null,Or=null,fo=!1,po=null,zh=0,Wo=0,Zi=null,mo=0,dc=null;function Vs(){if((Mn&2)!==0&&pn!==0)return pn&-pn;if(I.T!==null){var l=Mh;return l!==0?l:FA()}return Gt()}function Ua(){zs===0&&(zs=(pn&536870912)===0||oi?Un():536870912);var l=Js.current;return l!==null&&(l.flags|=32),zs}function Nr(l,h,g){(l===Di&&zi===2||l.cancelPendingCommit!==null)&&(pc(l,0),za(l,pn,zs,!1)),Ee(l,g),((Mn&2)===0||l!==Di)&&(l===Di&&((Mn&2)===0&&(El|=g),Wi===4&&za(l,pn,zs,!1)),Vi(l))}function Jf(l,h,g){if((Mn&6)!==0)throw Error(i(327));var b=!g&&(h&60)===0&&(h&l.expiredLanes)===0||Dt(l,h),M=b?f(l,h):Bh(l,h,!0),O=b;do{if(M===0){Es&&!b&&za(l,h,0,!1);break}else if(M===6)za(l,h,0,!_r);else{if(g=l.current.alternate,O&&!J0(g)){M=Bh(l,h,!1),O=!1;continue}if(M===2){if(O=h,l.errorRecoveryDisabledLanes&O)var W=0;else W=l.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){h=W;e:{var Q=l;M=kp;var ce=Q.current.memoizedState.isDehydrated;if(ce&&(pc(Q,W).flags|=256),W=Bh(Q,W,!1),W!==2){if(Ru&&!ce){Q.errorRecoveryDisabledLanes|=O,El|=O,M=4;break e}O=Yn,Yn=M,O!==null&&go(O)}M=W}if(O=!1,M!==2)continue}}if(M===1){pc(l,0),za(l,h,0,!0);break}e:{switch(b=l,M){case 0:case 1:throw Error(i(345));case 4:if((h&4194176)===h){za(b,h,zs,!_r);break e}break;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(b.finishedWork=g,b.finishedLanes=h,(h&62914560)===h&&(O=Fn+300-Fe(),10<O)){if(za(b,h,zs,!_r),rt(b,0)!==0)break e;b.timeoutHandle=o2(rv.bind(null,b,g,Yn,Ai,Oi,h,zs,El,wl,_r,2,-0,0),O);break e}rv(b,g,Yn,Ai,Oi,h,zs,El,wl,_r,0,-0,0)}}break}while(!0);Vi(l)}function go(l){Yn===null?Yn=l:Yn.push.apply(Yn,l)}function rv(l,h,g,b,M,O,W,Q,ce,xe,Ze,ft,Ve){var Ke=h.subtreeFlags;if((Ke&8192||(Ke&16785408)===16785408)&&(sb={stylesheets:null,count:0,unsuspend:oX},Lh(h),h=cX(),h!==null)){l.cancelPendingCommit=h(fe.bind(null,l,g,b,M,W,Q,ce,1,ft,Ve)),za(l,O,W,!xe);return}fe(l,g,b,M,W,Q,ce,Ze,ft,Ve)}function J0(l){for(var h=l;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var M=g[b],O=M.getSnapshot;M=M.value;try{if(!Ks(O(),M))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function za(l,h,g,b){h&=~Qf,h&=~El,l.suspendedLanes|=h,l.pingedLanes&=~h,b&&(l.warmLanes|=h),b=l.expirationTimes;for(var M=h;0<M;){var O=31-Be(M),W=1<<O;b[O]=-1,M&=~W}g!==0&&xt(l,g,h)}function Vh(){return(Mn&6)===0?(Qn(0),!1):!0}function Tl(){if(qn!==null){if(zi===0)var l=qn.return;else l=qn,Bo=bl=null,Vg(l),lu=null,wp=0,l=qn;for(;l!==null;)Q0(l.alternate,l),l=l.return;qn=null}}function pc(l,h){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,qW(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Tl(),Di=l,qn=g=Us(l.current,null),pn=h,zi=0,di=null,_r=!1,Es=Dt(l,h),Ru=!1,wl=zs=Qf=El=qo=Wi=0,Yn=kp=null,Oi=!1,(h&8)!==0&&(h|=h&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=h;0<b;){var M=31-Be(b),O=1<<M;h|=l[M],b&=~O}return fc=h,gp(),g}function Du(l,h){kn=null,I.H=yl,h===au?(h=xi(),zi=3):h===S0?(h=xi(),zi=4):zi=h===Na?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,di=h,qn===null&&(Wi=1,Xg(l,Qs(h,l.current)))}function ed(){var l=I.H;return I.H=yl,l===null?yl:l}function sv(){var l=I.A;return I.A=Uh,l}function Fp(){Wi=4,_r||(pn&4194176)!==pn&&Js.current!==null||(Es=!0),(qo&134217727)===0&&(El&134217727)===0||Di===null||za(Di,pn,zs,!1)}function Bh(l,h,g){var b=Mn;Mn|=2;var M=ed(),O=sv();(Di!==l||pn!==h)&&(Ai=null,pc(l,h)),h=!1;var W=Wi;e:do try{if(zi!==0&&qn!==null){var Q=qn,ce=di;switch(zi){case 8:Tl(),W=6;break e;case 3:case 2:case 6:Js.current===null&&(h=!0);var xe=zi;if(zi=0,di=null,P(l,Q,ce,xe),g&&Es){W=0;break e}break;default:xe=zi,zi=0,di=null,P(l,Q,ce,xe)}}eb(),W=Wi;break}catch(Ze){Du(l,Ze)}while(!0);return h&&l.shellSuspendCounter++,Bo=bl=null,Mn=b,I.H=M,I.A=O,qn===null&&(Di=null,pn=0,gp()),W}function eb(){for(;qn!==null;)x(qn)}function f(l,h){var g=Mn;Mn|=2;var b=ed(),M=sv();Di!==l||pn!==h?(Ai=null,Kn=Fe()+500,pc(l,h)):Es=Dt(l,h);e:do try{if(zi!==0&&qn!==null){h=qn;var O=di;t:switch(zi){case 1:zi=0,di=null,P(l,h,O,1);break;case 2:if(Xx(O)){zi=0,di=null,C(h);break}h=function(){zi===2&&Di===l&&(zi=7),Vi(l)},O.then(h,h);break e;case 3:zi=7;break e;case 4:zi=5;break e;case 7:Xx(O)?(zi=0,di=null,C(h)):(zi=0,di=null,P(l,h,O,7));break;case 5:var W=null;switch(qn.tag){case 26:W=qn.memoizedState;case 5:case 27:var Q=qn;if(!W||y2(W)){zi=0,di=null;var ce=Q.sibling;if(ce!==null)qn=ce;else{var xe=Q.return;xe!==null?(qn=xe,H(xe)):qn=null}break t}}zi=0,di=null,P(l,h,O,5);break;case 6:zi=0,di=null,P(l,h,O,6);break;case 8:Tl(),Wi=6;break e;default:throw Error(i(462))}}m();break}catch(Ze){Du(l,Ze)}while(!0);return Bo=bl=null,I.H=b,I.A=M,Mn=g,qn!==null?0:(Di=null,pn=0,gp(),Wi)}function m(){for(;qn!==null&&!Y();)x(qn)}function x(l){var h=Np(l.alternate,l,fc);l.memoizedProps=l.pendingProps,h===null?H(l):qn=h}function C(l){var h=l,g=h.alternate;switch(h.tag){case 15:case 0:h=P1(g,h,h.pendingProps,h.type,void 0,pn);break;case 11:h=P1(g,h,h.pendingProps,h.type.render,h.ref,pn);break;case 5:Vg(h);default:Q0(g,h),h=qn=Mu(h,fc),h=Np(g,h,fc)}l.memoizedProps=l.pendingProps,h===null?H(l):qn=h}function P(l,h,g,b){Bo=bl=null,Vg(h),lu=null,wp=0;var M=h.return;try{if(VA(l,M,h,g,pn)){Wi=1,Xg(l,Qs(g,l.current)),qn=null;return}}catch(O){if(M!==null)throw qn=M,O;Wi=1,Xg(l,Qs(g,l.current)),qn=null;return}h.flags&32768?(oi||b===1?l=!0:Es||(pn&536870912)!==0?l=!1:(_r=l=!0,(b===2||b===3||b===6)&&(b=Js.current,b!==null&&b.tag===13&&(b.flags|=16384))),J(h,l)):H(h)}function H(l){var h=l;do{if((h.flags&32768)!==0){J(h,_r);return}l=h.return;var g=kA(h.alternate,h,fc);if(g!==null){qn=g;return}if(h=h.sibling,h!==null){qn=h;return}qn=h=l}while(h!==null);Wi===0&&(Wi=5)}function J(l,h){do{var g=or(l.alternate,l);if(g!==null){g.flags&=32767,qn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(l=l.sibling,l!==null)){qn=l;return}qn=l=g}while(l!==null);Wi=6,qn=null}function fe(l,h,g,b,M,O,W,Q,ce,xe){var Ze=I.T,ft=oe.p;try{oe.p=2,I.T=null,Re(l,h,g,b,ft,M,O,W,Q,ce,xe)}finally{I.T=Ze,oe.p=ft}}function Re(l,h,g,b,M,O,W,Q){do St();while(po!==null);if((Mn&6)!==0)throw Error(i(327));var ce=l.finishedWork;if(b=l.finishedLanes,ce===null)return null;if(l.finishedWork=null,l.finishedLanes=0,ce===l.current)throw Error(i(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var xe=ce.lanes|ce.childLanes;if(xe|=ql,et(l,b,xe,O,W,Q),l===Di&&(qn=Di=null,pn=0),(ce.subtreeFlags&10256)===0&&(ce.flags&10256)===0||fo||(fo=!0,Wo=xe,Zi=g,Me(_t,function(){return St(),null})),g=(ce.flags&15990)!==0,(ce.subtreeFlags&15990)!==0||g?(g=I.T,I.T=null,O=oe.p,oe.p=2,W=Mn,Mn|=4,Yf(l,ce),Ih(ce,l),g0(KA,l.containerInfo),Y1=!!YA,KA=YA=null,l.current=ce,Kf(l,ce.alternate,ce),we(),Mn=W,oe.p=O,I.T=g):l.current=ce,fo?(fo=!1,po=l,zh=b):$e(l,xe),xe=l.pendingLanes,xe===0&&(Or=null),Pt(ce.stateNode),Vi(l),h!==null)for(M=l.onRecoverableError,ce=0;ce<h.length;ce++)xe=h[ce],M(xe.value,{componentStack:xe.stack});return(zh&3)!==0&&St(),xe=l.pendingLanes,(b&4194218)!==0&&(xe&42)!==0?l===dc?mo++:(mo=0,dc=l):mo=0,Qn(0),null}function $e(l,h){(l.pooledCacheLanes&=h)===0&&(h=l.pooledCache,h!=null&&(l.pooledCache=null,uu(h)))}function St(){if(po!==null){var l=po,h=Wo;Wo=0;var g=Yt(zh),b=I.T,M=oe.p;try{if(oe.p=32>g?32:g,I.T=null,po===null)var O=!1;else{g=Zi,Zi=null;var W=po,Q=zh;if(po=null,zh=0,(Mn&6)!==0)throw Error(i(331));var ce=Mn;if(Mn|=4,$f(W.current),oc(W,W.current,Q,g),Mn=ce,Qn(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Wt,W)}catch{}O=!0}return O}finally{oe.p=M,I.T=b,$e(l,h)}}return!1}function Ht(l,h,g){h=Qs(g,h),h=V0(l.stateNode,h,2),l=La(l,h,2),l!==null&&(Ee(l,2),Vi(l))}function vt(l,h,g){if(l.tag===3)Ht(l,l,g);else for(;h!==null;){if(h.tag===3){Ht(h,l,g);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Or===null||!Or.has(b))){l=Qs(g,l),g=B0(2),b=La(h,g,2),b!==null&&(O1(g,b,h,l),Ee(b,2),Vi(b));break}}h=h.return}}function An(l,h,g){var b=l.pingCache;if(b===null){b=l.pingCache=new hc;var M=new Set;b.set(h,M)}else M=b.get(h),M===void 0&&(M=new Set,b.set(h,M));M.has(g)||(Ru=!0,M.add(g),l=vo.bind(null,l,h,g),h.then(l,l))}function vo(l,h,g){var b=l.pingCache;b!==null&&b.delete(h),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Di===l&&(pn&g)===g&&(Wi===4||Wi===3&&(pn&62914560)===pn&&300>Fe()-Fn?(Mn&2)===0&&pc(l,0):Qf|=g,wl===pn&&(wl=0)),Vi(l)}function td(l,h){h===0&&(h=ae()),l=Wl(l,h),l!==null&&(Ee(l,h),Vi(l))}function kh(l){var h=l.memoizedState,g=0;h!==null&&(g=h.retryLane),td(l,g)}function Ue(l,h){var g=0;switch(l.tag){case 13:var b=l.stateNode,M=l.memoizedState;M!==null&&(g=M.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(h),td(l,g)}function Me(l,h){return Et(l,h)}var ke=null,mt=null,an=!1,Ni=!1,vn=!1,Wn=0;function Vi(l){l!==mt&&l.next===null&&(mt===null?ke=mt=l:mt=mt.next=l),Ni=!0,an||(an=!0,UW(Ou))}function Qn(l,h){if(!vn&&Ni){vn=!0;do for(var g=!1,b=ke;b!==null;){if(l!==0){var M=b.pendingLanes;if(M===0)var O=0;else{var W=b.suspendedLanes,Q=b.pingedLanes;O=(1<<31-Be(42|l)+1)-1,O&=M&~(W&~Q),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(g=!0,ZI(b,O))}else O=pn,O=rt(b,b===Di?O:0),(O&3)===0||Dt(b,O)||(g=!0,ZI(b,O));b=b.next}while(g);vn=!1}}function Ou(){Ni=an=!1;var l=0;Wn!==0&&(GW()&&(l=Wn),Wn=0);for(var h=Fe(),g=null,b=ke;b!==null;){var M=b.next,O=V1(b,h);O===0?(b.next=null,g===null?ke=M:g.next=M,M===null&&(mt=g)):(g=b,(l!==0||(O&3)!==0)&&(Ni=!0)),b=M}Qn(l)}function V1(l,h){for(var g=l.suspendedLanes,b=l.pingedLanes,M=l.expirationTimes,O=l.pendingLanes&-62914561;0<O;){var W=31-Be(O),Q=1<<W,ce=M[W];ce===-1?((Q&g)===0||(Q&b)!==0)&&(M[W]=sn(Q,h)):ce<=h&&(l.expiredLanes|=Q),O&=~Q}if(h=Di,g=pn,g=rt(l,l===h?g:0),b=l.callbackNode,g===0||l===h&&zi===2||l.cancelPendingCommit!==null)return b!==null&&b!==null&&te(b),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Dt(l,g)){if(h=g&-g,h===l.callbackPriority)return h;switch(b!==null&&te(b),Yt(g)){case 2:case 8:g=yt;break;case 32:g=_t;break;case 268435456:g=hn;break;default:g=_t}return b=$I.bind(null,l),g=Et(g,b),l.callbackPriority=h,l.callbackNode=g,h}return b!==null&&b!==null&&te(b),l.callbackPriority=2,l.callbackNode=null,2}function $I(l,h){var g=l.callbackNode;if(St()&&l.callbackNode!==g)return null;var b=pn;return b=rt(l,l===Di?b:0),b===0?null:(Jf(l,b,h),V1(l,Fe()),l.callbackNode!=null&&l.callbackNode===g?$I.bind(null,l):null)}function ZI(l,h){if(St())return null;Jf(l,h,!0)}function UW(l){WW(function(){(Mn&6)!==0?Et(ze,l):l()})}function FA(){return Wn===0&&(Wn=Un()),Wn}function QI(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Oo(""+l)}function JI(l,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,l.id&&g.setAttribute("form",l.id),h.parentNode.insertBefore(g,h),l=new FormData(l),g.parentNode.removeChild(g),l}function zW(l,h,g,b,M){if(h==="submit"&&g&&g.stateNode===M){var O=QI((M[Ot]||null).action),W=b.submitter;W&&(h=(h=W[Ot]||null)?QI(h.formAction):W.getAttribute("formAction"),h!==null&&(O=h,W=null));var Q=new Zc("action","action",null,b,M);l.push({event:Q,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Wn!==0){var ce=W?JI(M,W):new FormData(M);P0(g,{pending:!0,data:ce,method:M.method,action:O},null,ce)}}else typeof O=="function"&&(Q.preventDefault(),ce=W?JI(M,W):new FormData(M),P0(g,{pending:!0,data:ce,method:M.method,action:O},O,ce))},currentTarget:M}]})}}for(var HA=0;HA<Gl.length;HA++){var jA=Gl[HA],VW=jA.toLowerCase(),BW=jA[0].toUpperCase()+jA.slice(1);ro(VW,"on"+BW)}ro(b0,"onAnimationEnd"),ro(Zs,"onAnimationIteration"),ro(_0,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(jl,"onTransitionRun"),ro(Pf,"onTransitionStart"),ro(nu,"onTransitionCancel"),ro(Og,"onTransitionEnd"),Ft("onMouseEnter",["mouseout","mouseover"]),Ft("onMouseLeave",["mouseout","mouseover"]),Ft("onPointerEnter",["pointerout","pointerover"]),Ft("onPointerLeave",["pointerout","pointerover"]),At("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),At("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),At("onBeforeInput",["compositionend","keypress","textInput","paste"]),At("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),At("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tb));function e2(l,h){h=(h&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],M=b.event;b=b.listeners;e:{var O=void 0;if(h)for(var W=b.length-1;0<=W;W--){var Q=b[W],ce=Q.instance,xe=Q.currentTarget;if(Q=Q.listener,ce!==O&&M.isPropagationStopped())break e;O=Q,M.currentTarget=xe;try{O(M)}catch(Ze){Wg(Ze)}M.currentTarget=null,O=ce}else for(W=0;W<b.length;W++){if(Q=b[W],ce=Q.instance,xe=Q.currentTarget,Q=Q.listener,ce!==O&&M.isPropagationStopped())break e;O=Q,M.currentTarget=xe;try{O(M)}catch(Ze){Wg(Ze)}M.currentTarget=null,O=ce}}}}function ci(l,h){var g=h[_i];g===void 0&&(g=h[_i]=new Set);var b=l+"__bubble";g.has(b)||(t2(h,l,2,!1),g.add(b))}function GA(l,h,g){var b=0;h&&(b|=4),t2(g,l,b,h)}var B1="_reactListening"+Math.random().toString(36).slice(2);function qA(l){if(!l[B1]){l[B1]=!0,Xt.forEach(function(g){g!=="selectionchange"&&(kW.has(g)||GA(g,!1,l),GA(g,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[B1]||(h[B1]=!0,GA("selectionchange",!1,h))}}function t2(l,h,g,b){switch(w2(h)){case 2:var M=fX;break;case 8:M=dX;break;default:M=rC}g=M.bind(null,h,g,l),M=void 0,!Xs||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(M=!0),b?M!==void 0?l.addEventListener(h,g,{capture:!0,passive:M}):l.addEventListener(h,g,!0):M!==void 0?l.addEventListener(h,g,{passive:M}):l.addEventListener(h,g,!1)}function WA(l,h,g,b,M){var O=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var W=b.tag;if(W===3||W===4){var Q=b.stateNode.containerInfo;if(Q===M||Q.nodeType===8&&Q.parentNode===M)break;if(W===4)for(W=b.return;W!==null;){var ce=W.tag;if((ce===3||ce===4)&&(ce=W.stateNode.containerInfo,ce===M||ce.nodeType===8&&ce.parentNode===M))return;W=W.return}for(;Q!==null;){if(W=Ne(Q),W===null)return;if(ce=W.tag,ce===5||ce===6||ce===26||ce===27){b=O=W;continue e}Q=Q.parentNode}}b=b.return}sp(function(){var xe=O,Ze=Wc(g),ft=[];e:{var Ve=Ng.get(l);if(Ve!==void 0){var Ke=Zc,on=l;switch(l){case"keypress":if(Ys(g)===0)break e;case"keydown":case"keyup":Ke=eu;break;case"focusin":on="focus",Ke=fh;break;case"focusout":on="blur",Ke=fh;break;case"beforeblur":case"afterblur":Ke=fh;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=Mf;break;case b0:case Zs:case _0:Ke=dh;break;case Og:Ke=Ja;break;case"scroll":case"scrollend":Ke=ap;break;case"wheel":Ke=Cf;break;case"copy":case"cut":case"paste":Ke=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=yh;break;case"toggle":case"beforetoggle":Ke=Lo}var On=(h&4)!==0,Pr=!On&&(l==="scroll"||l==="scrollend"),Ce=On?Ve!==null?Ve+"Capture":null:Ve;On=[];for(var _e=xe,Pe;_e!==null;){var at=_e;if(Pe=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Pe===null||Ce===null||(at=Xc(_e,Ce),at!=null&&On.push(nb(_e,at,Pe))),Pr)break;_e=_e.return}0<On.length&&(Ve=new Ke(Ve,on,null,g,Ze),ft.push({event:Ve,listeners:On}))}}if((h&7)===0){e:{if(Ve=l==="mouseover"||l==="pointerover",Ke=l==="mouseout"||l==="pointerout",Ve&&g!==Ca&&(on=g.relatedTarget||g.fromElement)&&(Ne(on)||on[zn]))break e;if((Ke||Ve)&&(Ve=Ze.window===Ze?Ze:(Ve=Ze.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ke?(on=g.relatedTarget||g.toElement,Ke=xe,on=on?Ne(on):null,on!==null&&(Pr=ne(on),On=on.tag,on!==Pr||On!==5&&On!==27&&On!==6)&&(on=null)):(Ke=null,on=xe),Ke!==on)){if(On=Ra,at="onMouseLeave",Ce="onMouseEnter",_e="mouse",(l==="pointerout"||l==="pointerover")&&(On=yh,at="onPointerLeave",Ce="onPointerEnter",_e="pointer"),Pr=Ke==null?Ve:me(Ke),Pe=on==null?Ve:me(on),Ve=new On(at,_e+"leave",Ke,g,Ze),Ve.target=Pr,Ve.relatedTarget=Pe,at=null,Ne(Ze)===xe&&(On=new On(Ce,_e+"enter",on,g,Ze),On.target=Pe,On.relatedTarget=Pr,at=On),Pr=at,Ke&&on)t:{for(On=Ke,Ce=on,_e=0,Pe=On;Pe;Pe=av(Pe))_e++;for(Pe=0,at=Ce;at;at=av(at))Pe++;for(;0<_e-Pe;)On=av(On),_e--;for(;0<Pe-_e;)Ce=av(Ce),Pe--;for(;_e--;){if(On===Ce||Ce!==null&&On===Ce.alternate)break t;On=av(On),Ce=av(Ce)}On=null}else On=null;Ke!==null&&n2(ft,Ve,Ke,On,!1),on!==null&&Pr!==null&&n2(ft,Pr,on,On,!0)}}e:{if(Ve=xe?me(xe):window,Ke=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Ve.type==="file")var en=Tg;else if(Tr(Ve))if(Mg)en=tu;else{en=jx;var Jn=DA}else Ke=Ve.nodeName,!Ke||Ke.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?xe&&hh(xe.elementType)&&(en=Tg):en=pp;if(en&&(en=en(l,xe))){fr(ft,en,g,Ze);break e}Jn&&Jn(l,Ve,xe),l==="focusout"&&xe&&Ve.type==="number"&&xe.memoizedProps.value!=null&&ps(Ve,"number",Ve.value)}switch(Jn=xe?me(xe):window,l){case"focusin":(Tr(Jn)||Jn.contentEditable==="true")&&(bh=Jn,v0=xe,Nf=null);break;case"focusout":Nf=v0=bh=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,io(ft,g,Ze);break;case"selectionchange":if(Cg)break;case"keydown":case"keyup":io(ft,g,Ze)}var cn;if(to)e:{switch(l){case"compositionstart":var bn="onCompositionStart";break e;case"compositionend":bn="onCompositionEnd";break e;case"compositionupdate":bn="onCompositionUpdate";break e}bn=void 0}else $n?He(l,g)&&(bn="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(bn="onCompositionStart");bn&&(q&&g.locale!=="ko"&&($n||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&$n&&(cn=Ef()):(Po=Ze,Kc="value"in Po?Po.value:Po.textContent,$n=!0)),Jn=k1(xe,bn),0<Jn.length&&(bn=new gh(bn,l,null,g,Ze),ft.push({event:bn,listeners:Jn}),cn?bn.data=cn:(cn=Rt(g),cn!==null&&(bn.data=cn)))),(cn=F?tr(l,g):Zn(l,g))&&(bn=k1(xe,"onBeforeInput"),0<bn.length&&(Jn=new gh("onBeforeInput","beforeinput",null,g,Ze),ft.push({event:Jn,listeners:bn}),Jn.data=cn)),zW(ft,l,xe,g,Ze)}e2(ft,h)})}function nb(l,h,g){return{instance:l,listener:h,currentTarget:g}}function k1(l,h){for(var g=h+"Capture",b=[];l!==null;){var M=l,O=M.stateNode;M=M.tag,M!==5&&M!==26&&M!==27||O===null||(M=Xc(l,g),M!=null&&b.unshift(nb(l,M,O)),M=Xc(l,h),M!=null&&b.push(nb(l,M,O))),l=l.return}return b}function av(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function n2(l,h,g,b,M){for(var O=h._reactName,W=[];g!==null&&g!==b;){var Q=g,ce=Q.alternate,xe=Q.stateNode;if(Q=Q.tag,ce!==null&&ce===b)break;Q!==5&&Q!==26&&Q!==27||xe===null||(ce=xe,M?(xe=Xc(g,O),xe!=null&&W.unshift(nb(g,xe,ce))):M||(xe=Xc(g,O),xe!=null&&W.push(nb(g,xe,ce)))),g=g.return}W.length!==0&&l.push({event:h,listeners:W})}var FW=/\r\n?/g,HW=/\u0000|\uFFFD/g;function i2(l){return(typeof l=="string"?l:""+l).replace(FW,`
`).replace(HW,"")}function r2(l,h){return h=i2(h),i2(l)===h}function F1(){}function Hi(l,h,g,b,M,O){switch(g){case"children":typeof b=="string"?h==="body"||h==="textarea"&&b===""||Aa(l,b):(typeof b=="number"||typeof b=="bigint")&&h!=="body"&&Aa(l,""+b);break;case"className":Zt(l,"class",b);break;case"tabIndex":Zt(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Zt(l,g,b);break;case"style":rp(l,b,O);break;case"data":if(h!=="object"){Zt(l,"data",b);break}case"src":case"href":if(b===""&&(h!=="a"||g!=="href")){l.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=Oo(""+b),l.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(g==="formAction"?(h!=="input"&&Hi(l,h,"name",M.name,M,null),Hi(l,h,"formEncType",M.formEncType,M,null),Hi(l,h,"formMethod",M.formMethod,M,null),Hi(l,h,"formTarget",M.formTarget,M,null)):(Hi(l,h,"encType",M.encType,M,null),Hi(l,h,"method",M.method,M,null),Hi(l,h,"target",M.target,M,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=Oo(""+b),l.setAttribute(g,b);break;case"onClick":b!=null&&(l.onclick=F1);break;case"onScroll":b!=null&&ci("scroll",l);break;case"onScrollEnd":b!=null&&ci("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(M.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}g=Oo(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""+b):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":b===!0?l.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,b):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(g,b):l.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(g):l.setAttribute(g,b);break;case"popover":ci("beforetoggle",l),ci("toggle",l),Dn(l,"popover",b);break;case"xlinkActuate":Xi(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Xi(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Xi(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Xi(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Xi(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Xi(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Xi(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Xi(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Xi(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Dn(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Eg.get(g)||g,Dn(l,g,b))}}function XA(l,h,g,b,M,O){switch(g){case"style":rp(l,b,O);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(M.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof b=="string"?Aa(l,b):(typeof b=="number"||typeof b=="bigint")&&Aa(l,""+b);break;case"onScroll":b!=null&&ci("scroll",l);break;case"onScrollEnd":b!=null&&ci("scrollend",l);break;case"onClick":b!=null&&(l.onclick=F1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(M=g.endsWith("Capture"),h=g.slice(2,M?g.length-7:void 0),O=l[Ot]||null,O=O!=null?O[g]:null,typeof O=="function"&&l.removeEventListener(h,O,M),typeof b=="function")){typeof O!="function"&&O!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(h,b,M);break e}g in l?l[g]=b:b===!0?l.setAttribute(g,""):Dn(l,g,b)}}}function Bs(l,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ci("error",l),ci("load",l);var b=!1,M=!1,O;for(O in g)if(g.hasOwnProperty(O)){var W=g[O];if(W!=null)switch(O){case"src":b=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:Hi(l,h,O,W,g,null)}}M&&Hi(l,h,"srcSet",g.srcSet,g,null),b&&Hi(l,h,"src",g.src,g,null);return;case"input":ci("invalid",l);var Q=O=W=M=null,ce=null,xe=null;for(b in g)if(g.hasOwnProperty(b)){var Ze=g[b];if(Ze!=null)switch(b){case"name":M=Ze;break;case"type":W=Ze;break;case"checked":ce=Ze;break;case"defaultChecked":xe=Ze;break;case"value":O=Ze;break;case"defaultValue":Q=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(i(137,h));break;default:Hi(l,h,b,Ze,g,null)}}rs(l,O,Q,ce,xe,W,M,!1),rr(l);return;case"select":ci("invalid",l),b=W=O=null;for(M in g)if(g.hasOwnProperty(M)&&(Q=g[M],Q!=null))switch(M){case"value":O=Q;break;case"defaultValue":W=Q;break;case"multiple":b=Q;default:Hi(l,h,M,Q,g,null)}h=O,g=W,l.multiple=!!b,h!=null?ei(l,!!b,h,!1):g!=null&&ei(l,!!b,g,!0);return;case"textarea":ci("invalid",l),O=M=b=null;for(W in g)if(g.hasOwnProperty(W)&&(Q=g[W],Q!=null))switch(W){case"value":b=Q;break;case"defaultValue":M=Q;break;case"children":O=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:Hi(l,h,W,Q,g,null)}Ma(l,b,M,O),rr(l);return;case"option":for(ce in g)if(g.hasOwnProperty(ce)&&(b=g[ce],b!=null))switch(ce){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Hi(l,h,ce,b,g,null)}return;case"dialog":ci("cancel",l),ci("close",l);break;case"iframe":case"object":ci("load",l);break;case"video":case"audio":for(b=0;b<tb.length;b++)ci(tb[b],l);break;case"image":ci("error",l),ci("load",l);break;case"details":ci("toggle",l);break;case"embed":case"source":case"link":ci("error",l),ci("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in g)if(g.hasOwnProperty(xe)&&(b=g[xe],b!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:Hi(l,h,xe,b,g,null)}return;default:if(hh(h)){for(Ze in g)g.hasOwnProperty(Ze)&&(b=g[Ze],b!==void 0&&XA(l,h,Ze,b,g,void 0));return}}for(Q in g)g.hasOwnProperty(Q)&&(b=g[Q],b!=null&&Hi(l,h,Q,b,g,null))}function jW(l,h,g,b){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,O=null,W=null,Q=null,ce=null,xe=null,Ze=null;for(Ke in g){var ft=g[Ke];if(g.hasOwnProperty(Ke)&&ft!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":ce=ft;default:b.hasOwnProperty(Ke)||Hi(l,h,Ke,null,b,ft)}}for(var Ve in b){var Ke=b[Ve];if(ft=g[Ve],b.hasOwnProperty(Ve)&&(Ke!=null||ft!=null))switch(Ve){case"type":O=Ke;break;case"name":M=Ke;break;case"checked":xe=Ke;break;case"defaultChecked":Ze=Ke;break;case"value":W=Ke;break;case"defaultValue":Q=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,h));break;default:Ke!==ft&&Hi(l,h,Ve,Ke,b,ft)}}sr(l,W,Q,ce,xe,Ze,O,M);return;case"select":Ke=W=Q=Ve=null;for(O in g)if(ce=g[O],g.hasOwnProperty(O)&&ce!=null)switch(O){case"value":break;case"multiple":Ke=ce;default:b.hasOwnProperty(O)||Hi(l,h,O,null,b,ce)}for(M in b)if(O=b[M],ce=g[M],b.hasOwnProperty(M)&&(O!=null||ce!=null))switch(M){case"value":Ve=O;break;case"defaultValue":Q=O;break;case"multiple":W=O;default:O!==ce&&Hi(l,h,M,O,b,ce)}h=Q,g=W,b=Ke,Ve!=null?ei(l,!!g,Ve,!1):!!b!=!!g&&(h!=null?ei(l,!!g,h,!0):ei(l,!!g,g?[]:"",!1));return;case"textarea":Ke=Ve=null;for(Q in g)if(M=g[Q],g.hasOwnProperty(Q)&&M!=null&&!b.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Hi(l,h,Q,null,b,M)}for(W in b)if(M=b[W],O=g[W],b.hasOwnProperty(W)&&(M!=null||O!=null))switch(W){case"value":Ve=M;break;case"defaultValue":Ke=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:M!==O&&Hi(l,h,W,M,b,O)}Gc(l,Ve,Ke);return;case"option":for(var on in g)if(Ve=g[on],g.hasOwnProperty(on)&&Ve!=null&&!b.hasOwnProperty(on))switch(on){case"selected":l.selected=!1;break;default:Hi(l,h,on,null,b,Ve)}for(ce in b)if(Ve=b[ce],Ke=g[ce],b.hasOwnProperty(ce)&&Ve!==Ke&&(Ve!=null||Ke!=null))switch(ce){case"selected":l.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Hi(l,h,ce,Ve,b,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var On in g)Ve=g[On],g.hasOwnProperty(On)&&Ve!=null&&!b.hasOwnProperty(On)&&Hi(l,h,On,null,b,Ve);for(xe in b)if(Ve=b[xe],Ke=g[xe],b.hasOwnProperty(xe)&&Ve!==Ke&&(Ve!=null||Ke!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,h));break;default:Hi(l,h,xe,Ve,b,Ke)}return;default:if(hh(h)){for(var Pr in g)Ve=g[Pr],g.hasOwnProperty(Pr)&&Ve!==void 0&&!b.hasOwnProperty(Pr)&&XA(l,h,Pr,void 0,b,Ve);for(Ze in b)Ve=b[Ze],Ke=g[Ze],!b.hasOwnProperty(Ze)||Ve===Ke||Ve===void 0&&Ke===void 0||XA(l,h,Ze,Ve,b,Ke);return}}for(var Ce in g)Ve=g[Ce],g.hasOwnProperty(Ce)&&Ve!=null&&!b.hasOwnProperty(Ce)&&Hi(l,h,Ce,null,b,Ve);for(ft in b)Ve=b[ft],Ke=g[ft],!b.hasOwnProperty(ft)||Ve===Ke||Ve==null&&Ke==null||Hi(l,h,ft,Ve,b,Ke)}var YA=null,KA=null;function H1(l){return l.nodeType===9?l:l.ownerDocument}function s2(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a2(l,h){if(l===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&h==="foreignObject"?0:l}function $A(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var ZA=null;function GW(){var l=window.event;return l&&l.type==="popstate"?l===ZA?!1:(ZA=l,!0):(ZA=null,!1)}var o2=typeof setTimeout=="function"?setTimeout:void 0,qW=typeof clearTimeout=="function"?clearTimeout:void 0,l2=typeof Promise=="function"?Promise:void 0,WW=typeof queueMicrotask=="function"?queueMicrotask:typeof l2<"u"?function(l){return l2.resolve(null).then(l).catch(XW)}:o2;function XW(l){setTimeout(function(){throw l})}function QA(l,h){var g=h,b=0;do{var M=g.nextSibling;if(l.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"){if(b===0){l.removeChild(M),ub(h);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=M}while(g);ub(h)}function JA(l){var h=l.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":JA(g),be(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function YW(l,h,g,b){for(;l.nodeType===1;){var M=g;if(l.nodeName.toLowerCase()!==h.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[$])switch(h){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(O=l.getAttribute("rel"),O==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(O!==M.rel||l.getAttribute("href")!==(M.href==null?null:M.href)||l.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||l.getAttribute("title")!==(M.title==null?null:M.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(O=l.getAttribute("src"),(O!==(M.src==null?null:M.src)||l.getAttribute("type")!==(M.type==null?null:M.type)||l.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&O&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(h==="input"&&l.type==="hidden"){var O=M.name==null?null:""+M.name;if(M.type==="hidden"&&l.getAttribute("name")===O)return l}else return l;if(l=mc(l.nextSibling),l===null)break}return null}function KW(l,h,g){if(h==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=mc(l.nextSibling),l===null))return null;return l}function mc(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return l}function c2(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return l;h--}else g==="/$"&&h++}l=l.previousSibling}return null}function u2(l,h,g){switch(h=H1(g),l){case"html":if(l=h.documentElement,!l)throw Error(i(452));return l;case"head":if(l=h.head,!l)throw Error(i(453));return l;case"body":if(l=h.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}var Ml=new Map,h2=new Set;function j1(l){return typeof l.getRootNode=="function"?l.getRootNode():l.ownerDocument}var Fh=oe.d;oe.d={f:$W,r:ZW,D:QW,C:JW,L:eX,m:tX,X:iX,S:nX,M:rX};function $W(){var l=Fh.f(),h=Vh();return l||h}function ZW(l){var h=Te(l);h!==null&&h.tag===5&&h.type==="form"?b1(h):Fh.r(l)}var ov=typeof document>"u"?null:document;function f2(l,h,g){var b=ov;if(b&&typeof h=="string"&&h){var M=Ti(h);M='link[rel="'+l+'"][href="'+M+'"]',typeof g=="string"&&(M+='[crossorigin="'+g+'"]'),h2.has(M)||(h2.add(M),l={rel:l,crossOrigin:g,href:h},b.querySelector(M)===null&&(h=b.createElement("link"),Bs(h,"link",l),ct(h),b.head.appendChild(h)))}}function QW(l){Fh.D(l),f2("dns-prefetch",l,null)}function JW(l,h){Fh.C(l,h),f2("preconnect",l,h)}function eX(l,h,g){Fh.L(l,h,g);var b=ov;if(b&&l&&h){var M='link[rel="preload"][as="'+Ti(h)+'"]';h==="image"&&g&&g.imageSrcSet?(M+='[imagesrcset="'+Ti(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(M+='[imagesizes="'+Ti(g.imageSizes)+'"]')):M+='[href="'+Ti(l)+'"]';var O=M;switch(h){case"style":O=lv(l);break;case"script":O=cv(l)}Ml.has(O)||(l=L({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:l,as:h},g),Ml.set(O,l),b.querySelector(M)!==null||h==="style"&&b.querySelector(ib(O))||h==="script"&&b.querySelector(rb(O))||(h=b.createElement("link"),Bs(h,"link",l),ct(h),b.head.appendChild(h)))}}function tX(l,h){Fh.m(l,h);var g=ov;if(g&&l){var b=h&&typeof h.as=="string"?h.as:"script",M='link[rel="modulepreload"][as="'+Ti(b)+'"][href="'+Ti(l)+'"]',O=M;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=cv(l)}if(!Ml.has(O)&&(l=L({rel:"modulepreload",href:l},h),Ml.set(O,l),g.querySelector(M)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(rb(O)))return}b=g.createElement("link"),Bs(b,"link",l),ct(b),g.head.appendChild(b)}}}function nX(l,h,g){Fh.S(l,h,g);var b=ov;if(b&&l){var M=ut(b).hoistableStyles,O=lv(l);h=h||"default";var W=M.get(O);if(!W){var Q={loading:0,preload:null};if(W=b.querySelector(ib(O)))Q.loading=5;else{l=L({rel:"stylesheet",href:l,"data-precedence":h},g),(g=Ml.get(O))&&eC(l,g);var ce=W=b.createElement("link");ct(ce),Bs(ce,"link",l),ce._p=new Promise(function(xe,Ze){ce.onload=xe,ce.onerror=Ze}),ce.addEventListener("load",function(){Q.loading|=1}),ce.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,G1(W,h,b)}W={type:"stylesheet",instance:W,count:1,state:Q},M.set(O,W)}}}function iX(l,h){Fh.X(l,h);var g=ov;if(g&&l){var b=ut(g).hoistableScripts,M=cv(l),O=b.get(M);O||(O=g.querySelector(rb(M)),O||(l=L({src:l,async:!0},h),(h=Ml.get(M))&&tC(l,h),O=g.createElement("script"),ct(O),Bs(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(M,O))}}function rX(l,h){Fh.M(l,h);var g=ov;if(g&&l){var b=ut(g).hoistableScripts,M=cv(l),O=b.get(M);O||(O=g.querySelector(rb(M)),O||(l=L({src:l,async:!0,type:"module"},h),(h=Ml.get(M))&&tC(l,h),O=g.createElement("script"),ct(O),Bs(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(M,O))}}function d2(l,h,g,b){var M=(M=Ye.current)?j1(M):null;if(!M)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=lv(g.href),g=ut(M).hoistableStyles,b=g.get(h),b||(b={type:"style",instance:null,count:0,state:null},g.set(h,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=lv(g.href);var O=ut(M).hoistableStyles,W=O.get(l);if(W||(M=M.ownerDocument||M,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(l,W),(O=M.querySelector(ib(l)))&&!O._p&&(W.instance=O,W.state.loading=5),Ml.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ml.set(l,g),O||sX(M,l,g,W.state))),h&&b===null)throw Error(i(528,""));return W}if(h&&b!==null)throw Error(i(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=cv(g),g=ut(M).hoistableScripts,b=g.get(h),b||(b={type:"script",instance:null,count:0,state:null},g.set(h,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function lv(l){return'href="'+Ti(l)+'"'}function ib(l){return'link[rel="stylesheet"]['+l+"]"}function p2(l){return L({},l,{"data-precedence":l.precedence,precedence:null})}function sX(l,h,g,b){l.querySelector('link[rel="preload"][as="style"]['+h+"]")?b.loading=1:(h=l.createElement("link"),b.preload=h,h.addEventListener("load",function(){return b.loading|=1}),h.addEventListener("error",function(){return b.loading|=2}),Bs(h,"link",g),ct(h),l.head.appendChild(h))}function cv(l){return'[src="'+Ti(l)+'"]'}function rb(l){return"script[async]"+l}function m2(l,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var b=l.querySelector('style[data-href~="'+Ti(g.href)+'"]');if(b)return h.instance=b,ct(b),b;var M=L({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),ct(b),Bs(b,"style",M),G1(b,g.precedence,l),h.instance=b;case"stylesheet":M=lv(g.href);var O=l.querySelector(ib(M));if(O)return h.state.loading|=4,h.instance=O,ct(O),O;b=p2(g),(M=Ml.get(M))&&eC(b,M),O=(l.ownerDocument||l).createElement("link"),ct(O);var W=O;return W._p=new Promise(function(Q,ce){W.onload=Q,W.onerror=ce}),Bs(O,"link",b),h.state.loading|=4,G1(O,g.precedence,l),h.instance=O;case"script":return O=cv(g.src),(M=l.querySelector(rb(O)))?(h.instance=M,ct(M),M):(b=g,(M=Ml.get(O))&&(b=L({},g),tC(b,M)),l=l.ownerDocument||l,M=l.createElement("script"),ct(M),Bs(M,"link",b),l.head.appendChild(M),h.instance=M);case"void":return null;default:throw Error(i(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(b=h.instance,h.state.loading|=4,G1(b,g.precedence,l));return h.instance}function G1(l,h,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=b.length?b[b.length-1]:null,O=M,W=0;W<b.length;W++){var Q=b[W];if(Q.dataset.precedence===h)O=Q;else if(O!==M)break}O?O.parentNode.insertBefore(l,O.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(l,h.firstChild))}function eC(l,h){l.crossOrigin==null&&(l.crossOrigin=h.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=h.referrerPolicy),l.title==null&&(l.title=h.title)}function tC(l,h){l.crossOrigin==null&&(l.crossOrigin=h.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=h.referrerPolicy),l.integrity==null&&(l.integrity=h.integrity)}var q1=null;function g2(l,h,g){if(q1===null){var b=new Map,M=q1=new Map;M.set(g,b)}else M=q1,b=M.get(g),b||(b=new Map,M.set(g,b));if(b.has(l))return b;for(b.set(l,null),g=g.getElementsByTagName(l),M=0;M<g.length;M++){var O=g[M];if(!(O[$]||O[Kt]||l==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var W=O.getAttribute(h)||"";W=l+W;var Q=b.get(W);Q?Q.push(O):b.set(W,[O])}}return b}function v2(l,h,g){l=l.ownerDocument||l,l.head.insertBefore(g,h==="title"?l.querySelector("head > title"):null)}function aX(l,h,g){if(g===1||h.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return l=h.disabled,typeof h.precedence=="string"&&l==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function y2(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var sb=null;function oX(){}function lX(l,h,g){if(sb===null)throw Error(i(475));var b=sb;if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var M=lv(g.href),O=l.querySelector(ib(M));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(b.count++,b=W1.bind(b),l.then(b,b)),h.state.loading|=4,h.instance=O,ct(O);return}O=l.ownerDocument||l,g=p2(g),(M=Ml.get(M))&&eC(g,M),O=O.createElement("link"),ct(O);var W=O;W._p=new Promise(function(Q,ce){W.onload=Q,W.onerror=ce}),Bs(O,"link",g),h.instance=O}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(b.count++,h=W1.bind(b),l.addEventListener("load",h),l.addEventListener("error",h))}}function cX(){if(sb===null)throw Error(i(475));var l=sb;return l.stylesheets&&l.count===0&&nC(l,l.stylesheets),0<l.count?function(h){var g=setTimeout(function(){if(l.stylesheets&&nC(l,l.stylesheets),l.unsuspend){var b=l.unsuspend;l.unsuspend=null,b()}},6e4);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(g)}}:null}function W1(){if(this.count--,this.count===0){if(this.stylesheets)nC(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var X1=null;function nC(l,h){l.stylesheets=null,l.unsuspend!==null&&(l.count++,X1=new Map,h.forEach(uX,l),X1=null,W1.call(l))}function uX(l,h){if(!(h.state.loading&4)){var g=X1.get(l);if(g)var b=g.get(null);else{g=new Map,X1.set(l,g);for(var M=l.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<M.length;O++){var W=M[O];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(g.set(W.dataset.precedence,W),b=W)}b&&g.set(null,b)}M=h.instance,W=M.getAttribute("data-precedence"),O=g.get(W)||b,O===b&&g.set(null,M),g.set(W,M),this.count++,b=W1.bind(this),M.addEventListener("load",b),M.addEventListener("error",b),O?O.parentNode.insertBefore(M,O.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(M,l.firstChild)),h.state.loading|=4}}var ab={$$typeof:y,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function hX(l,h,g,b,M,O,W,Q){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ge(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.hiddenUpdates=ge(null),this.identifierPrefix=b,this.onUncaughtError=M,this.onCaughtError=O,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function b2(l,h,g,b,M,O,W,Q,ce,xe,Ze,ft){return l=new hX(l,h,g,W,Q,ce,xe,ft),h=1,O===!0&&(h|=24),O=br(3,null,null,h),l.current=O,O.stateNode=l,h=w0(),h.refCount++,l.pooledCache=h,h.refCount++,O.memoizedState={element:b,isDehydrated:g,cache:h},Is(O),l}function _2(l){return l?(l=iu,l):iu}function x2(l,h,g,b,M,O){M=_2(M),b.context===null?b.context=M:b.pendingContext=M,b=Ia(h),b.payload={element:g},O=O===void 0?null:O,O!==null&&(b.callback=O),g=La(l,b,h),g!==null&&(Nr(g,l,h),xu(g,l,h))}function S2(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<h?g:h}}function iC(l,h){S2(l,h),(l=l.alternate)&&S2(l,h)}function E2(l){if(l.tag===13){var h=Wl(l,67108864);h!==null&&Nr(h,l,67108864),iC(l,67108864)}}var Y1=!0;function fX(l,h,g,b){var M=I.T;I.T=null;var O=oe.p;try{oe.p=2,rC(l,h,g,b)}finally{oe.p=O,I.T=M}}function dX(l,h,g,b){var M=I.T;I.T=null;var O=oe.p;try{oe.p=8,rC(l,h,g,b)}finally{oe.p=O,I.T=M}}function rC(l,h,g,b){if(Y1){var M=sC(b);if(M===null)WA(l,h,b,K1,g),T2(l,b);else if(mX(M,l,h,g,b))b.stopPropagation();else if(T2(l,b),h&4&&-1<pX.indexOf(l)){for(;M!==null;){var O=Te(M);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var W=Xe(O.pendingLanes);if(W!==0){var Q=O;for(Q.pendingLanes|=2,Q.entangledLanes|=2;W;){var ce=1<<31-Be(W);Q.entanglements[1]|=ce,W&=~ce}Vi(O),(Mn&6)===0&&(Kn=Fe()+500,Qn(0))}}break;case 13:Q=Wl(O,2),Q!==null&&Nr(Q,O,2),Vh(),iC(O,2)}if(O=sC(b),O===null&&WA(l,h,b,K1,g),O===M)break;M=O}M!==null&&b.stopPropagation()}else WA(l,h,b,null,g)}}function sC(l){return l=Wc(l),aC(l)}var K1=null;function aC(l){if(K1=null,l=Ne(l),l!==null){var h=ne(l);if(h===null)l=null;else{var g=h.tag;if(g===13){if(l=ve(h),l!==null)return l;l=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null)}}return K1=l,null}function w2(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case ze:return 2;case yt:return 8;case _t:case Nt:return 32;case hn:return 268435456;default:return 32}default:return 32}}var oC=!1,nd=null,id=null,rd=null,ob=new Map,lb=new Map,sd=[],pX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T2(l,h){switch(l){case"focusin":case"focusout":nd=null;break;case"dragenter":case"dragleave":id=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":ob.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":lb.delete(h.pointerId)}}function cb(l,h,g,b,M,O){return l===null||l.nativeEvent!==O?(l={blockedOn:h,domEventName:g,eventSystemFlags:b,nativeEvent:O,targetContainers:[M]},h!==null&&(h=Te(h),h!==null&&E2(h)),l):(l.eventSystemFlags|=b,h=l.targetContainers,M!==null&&h.indexOf(M)===-1&&h.push(M),l)}function mX(l,h,g,b,M){switch(h){case"focusin":return nd=cb(nd,l,h,g,b,M),!0;case"dragenter":return id=cb(id,l,h,g,b,M),!0;case"mouseover":return rd=cb(rd,l,h,g,b,M),!0;case"pointerover":var O=M.pointerId;return ob.set(O,cb(ob.get(O)||null,l,h,g,b,M)),!0;case"gotpointercapture":return O=M.pointerId,lb.set(O,cb(lb.get(O)||null,l,h,g,b,M)),!0}return!1}function M2(l){var h=Ne(l.target);if(h!==null){var g=ne(h);if(g!==null){if(h=g.tag,h===13){if(h=ve(g),h!==null){l.blockedOn=h,kt(l.priority,function(){if(g.tag===13){var b=Vs(),M=Wl(g,b);M!==null&&Nr(M,g,b),iC(g,b)}});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function $1(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var g=sC(l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);Ca=b,g.target.dispatchEvent(b),Ca=null}else return h=Te(g),h!==null&&E2(h),l.blockedOn=g,!1;h.shift()}return!0}function A2(l,h,g){$1(l)&&g.delete(h)}function gX(){oC=!1,nd!==null&&$1(nd)&&(nd=null),id!==null&&$1(id)&&(id=null),rd!==null&&$1(rd)&&(rd=null),ob.forEach(A2),lb.forEach(A2)}function Z1(l,h){l.blockedOn===h&&(l.blockedOn=null,oC||(oC=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gX)))}var Q1=null;function C2(l){Q1!==l&&(Q1=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Q1===l&&(Q1=null);for(var h=0;h<l.length;h+=3){var g=l[h],b=l[h+1],M=l[h+2];if(typeof b!="function"){if(aC(b||g)===null)continue;break}var O=Te(g);O!==null&&(l.splice(h,3),h-=3,P0(O,{pending:!0,data:M,method:g.method,action:b},b,M))}}))}function ub(l){function h(ce){return Z1(ce,l)}nd!==null&&Z1(nd,l),id!==null&&Z1(id,l),rd!==null&&Z1(rd,l),ob.forEach(h),lb.forEach(h);for(var g=0;g<sd.length;g++){var b=sd[g];b.blockedOn===l&&(b.blockedOn=null)}for(;0<sd.length&&(g=sd[0],g.blockedOn===null);)M2(g),g.blockedOn===null&&sd.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var M=g[b],O=g[b+1],W=M[Ot]||null;if(typeof O=="function")W||C2(g);else if(W){var Q=null;if(O&&O.hasAttribute("formAction")){if(M=O,W=O[Ot]||null)Q=W.formAction;else if(aC(M)!==null)continue}else Q=W.action;typeof Q=="function"?g[b+1]=Q:(g.splice(b,3),b-=3),C2(g)}}}function lC(l){this._internalRoot=l}J1.prototype.render=lC.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(i(409));var g=h.current,b=Vs();x2(g,b,l,h,null,null)},J1.prototype.unmount=lC.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;l.tag===0&&St(),x2(l.current,2,null,l,null,null),Vh(),h[zn]=null}};function J1(l){this._internalRoot=l}J1.prototype.unstable_scheduleHydration=function(l){if(l){var h=Gt();l={blockedOn:null,target:l,priority:h};for(var g=0;g<sd.length&&h!==0&&h<sd[g].priority;g++);sd.splice(g,0,l),g===0&&M2(l)}};var R2=e.version;if(R2!=="19.0.0")throw Error(i(527,R2,"19.0.0"));oe.findDOMNode=function(l){var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=le(h),l=l!==null?Ae(l):null,l=l===null?null:l.stateNode,l};var vX={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Ne,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eS.isDisabled&&eS.supportsFiber)try{Wt=eS.inject(vX),Vt=eS}catch{}}return bb.createRoot=function(l,h){if(!r(l))throw Error(i(299));var g=!1,b="",M=A1,O=C1,W=R1,Q=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(M=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Q=h.unstable_transitionCallbacks)),h=b2(l,1,!1,null,null,g,b,M,O,W,Q,null),l[zn]=h.current,qA(l.nodeType===8?l.parentNode:l),new lC(h)},bb.hydrateRoot=function(l,h,g){if(!r(l))throw Error(i(299));var b=!1,M="",O=A1,W=C1,Q=R1,ce=null,xe=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onUncaughtError!==void 0&&(O=g.onUncaughtError),g.onCaughtError!==void 0&&(W=g.onCaughtError),g.onRecoverableError!==void 0&&(Q=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ce=g.unstable_transitionCallbacks),g.formState!==void 0&&(xe=g.formState)),h=b2(l,1,!0,h,g??null,b,M,O,W,Q,ce,xe),h.context=_2(null),g=h.current,b=Vs(),M=Ia(b),M.callback=null,La(g,M,b),h.current.lanes=b,Ee(h,b),Vi(h),l[zn]=h.current,qA(l),new J1(h)},bb.version="19.0.0",bb}var V5;function ble(){if(V5)return KC.exports;V5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),KC.exports=yle(),KC.exports}var _le=ble();/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mM="170",um={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},hm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},FH=0,x3=1,HH=2,xle=3,jH=0,gM=1,Jb=2,xc=3,ff=0,Wa=1,Vu=2,of=0,Lm=1,S3=2,E3=3,w3=4,GH=5,Sd=100,qH=101,WH=102,XH=103,YH=104,KH=200,$H=201,ZH=202,QH=203,Uw=204,zw=205,JH=206,e9=207,t9=208,n9=209,i9=210,r9=211,s9=212,a9=213,o9=214,Vw=0,Bw=1,kw=2,Ym=3,Fw=4,Hw=5,jw=6,Gw=7,bx=0,l9=1,c9=2,Yu=0,u9=1,h9=2,f9=3,FN=4,d9=5,p9=6,m9=7,T3="attached",g9="detached",vM=300,df=301,Vd=302,C_=303,R_=304,Yy=306,D_=1e3,Il=1001,O_=1002,qs=1003,HN=1004,Sle=1004,Jv=1005,Ele=1005,ls=1006,e_=1007,wle=1007,ju=1008,Tle=1008,Pc=1009,jN=1010,GN=1011,Ty=1012,yM=1013,pf=1014,wo=1015,Ky=1016,bM=1017,_M=1018,Km=1020,qN=35902,WN=1021,XN=1022,ba=1023,YN=1024,KN=1025,Um=1026,$m=1027,xM=1028,_x=1029,$N=1030,SM=1031,Mle=1032,EM=1033,t_=33776,n_=33777,i_=33778,r_=33779,qw=35840,Ww=35841,Xw=35842,Yw=35843,Kw=36196,$w=37492,Zw=37496,Qw=37808,Jw=37809,eT=37810,tT=37811,nT=37812,iT=37813,rT=37814,sT=37815,aT=37816,oT=37817,lT=37818,cT=37819,uT=37820,hT=37821,s_=36492,fT=36494,dT=36495,ZN=36283,pT=36284,mT=36285,gT=36286,v9=2200,y9=2201,b9=2202,N_=2300,vT=2301,HE=2302,Mm=2400,Am=2401,P_=2402,wM=2500,QN=2501,Ale=0,Cle=1,Rle=2,_9=3200,x9=3201,Dle=3202,Ole=3203,Qd=0,S9=1,Jh="",fa="srgb",Jd="srgb-linear",xx="linear",Bi="srgb",Nle=0,fm=7680,Ple=7681,Ile=7682,Lle=7683,Ule=34055,zle=34056,Vle=5386,Ble=512,kle=513,Fle=514,Hle=515,jle=516,Gle=517,qle=518,M3=519,E9=512,w9=513,T9=514,JN=515,M9=516,A9=517,C9=518,R9=519,I_=35044,Wle=35048,Xle=35040,Yle=35045,Kle=35049,$le=35041,Zle=35046,Qle=35050,Jle=35042,ece="100",A3="300 es",Gu=2e3,L_=2001;let lh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const sa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let B5=1234567;const zm=Math.PI/180,My=180/Math.PI;function tl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(sa[n&255]+sa[n>>8&255]+sa[n>>16&255]+sa[n>>24&255]+"-"+sa[e&255]+sa[e>>8&255]+"-"+sa[e>>16&15|64]+sa[e>>24&255]+"-"+sa[t&63|128]+sa[t>>8&255]+"-"+sa[t>>16&255]+sa[t>>24&255]+sa[i&255]+sa[i>>8&255]+sa[i>>16&255]+sa[i>>24&255]).toLowerCase()}function Vr(n,e,t){return Math.max(e,Math.min(t,n))}function eP(n,e){return(n%e+e)%e}function tce(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function nce(n,e,t){return n!==e?(t-n)/(e-n):0}function a_(n,e,t){return(1-t)*n+t*e}function ice(n,e,t,i){return a_(n,e,1-Math.exp(-t*i))}function rce(n,e=1){return e-Math.abs(eP(n,e*2)-e)}function sce(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function ace(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function oce(n,e){return n+Math.floor(Math.random()*(e-n+1))}function lce(n,e){return n+Math.random()*(e-n)}function cce(n){return n*(.5-Math.random())}function uce(n){n!==void 0&&(B5=n);let e=B5+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function hce(n){return n*zm}function fce(n){return n*My}function dce(n){return(n&n-1)===0&&n!==0}function pce(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function mce(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function gce(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),c=a(t/2),u=s((e+i)/2),d=a((e+i)/2),p=s((e-i)/2),v=a((e-i)/2),y=s((i-e)/2),_=a((i-e)/2);switch(r){case"XYX":n.set(o*d,c*p,c*v,o*u);break;case"YZY":n.set(c*v,o*d,c*p,o*u);break;case"ZXZ":n.set(c*p,c*v,o*d,o*u);break;case"XZX":n.set(o*d,c*_,c*y,o*u);break;case"YXY":n.set(c*y,o*d,c*_,o*u);break;case"ZYZ":n.set(c*_,c*y,o*d,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ha(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function In(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const vce={DEG2RAD:zm,RAD2DEG:My,generateUUID:tl,clamp:Vr,euclideanModulo:eP,mapLinear:tce,inverseLerp:nce,lerp:a_,damp:ice,pingpong:rce,smoothstep:sce,smootherstep:ace,randInt:oce,randFloat:lce,randFloatSpread:cce,seededRandom:uce,degToRad:hce,radToDeg:fce,isPowerOfTwo:dce,ceilPowerOfTwo:pce,floorPowerOfTwo:mce,setQuaternionFromProperEuler:gce,normalize:In,denormalize:Ha};class nt{constructor(e=0,t=0){nt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Pn{constructor(e,t,i,r,s,a,o,c,u){Pn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,c,u)}set(e,t,i,r,s,a,o,c,u){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=t,d[4]=s,d[5]=c,d[6]=i,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],c=i[6],u=i[1],d=i[4],p=i[7],v=i[2],y=i[5],_=i[8],w=r[0],S=r[3],E=r[6],A=r[1],R=r[4],D=r[7],k=r[2],N=r[5],z=r[8];return s[0]=a*w+o*A+c*k,s[3]=a*S+o*R+c*N,s[6]=a*E+o*D+c*z,s[1]=u*w+d*A+p*k,s[4]=u*S+d*R+p*N,s[7]=u*E+d*D+p*z,s[2]=v*w+y*A+_*k,s[5]=v*S+y*R+_*N,s[8]=v*E+y*D+_*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8];return t*a*d-t*o*u-i*s*d+i*o*c+r*s*u-r*a*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8],p=d*a-o*u,v=o*c-d*s,y=u*s-a*c,_=t*p+i*v+r*y;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=p*w,e[1]=(r*u-d*i)*w,e[2]=(o*i-r*a)*w,e[3]=v*w,e[4]=(d*t-r*c)*w,e[5]=(r*s-o*t)*w,e[6]=y*w,e[7]=(i*c-u*t)*w,e[8]=(a*t-i*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const c=Math.cos(s),u=Math.sin(s);return this.set(i*c,i*u,-i*(c*a+u*o)+a+e,-r*u,r*c,-r*(-u*a+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(QC.makeScale(e,t)),this}rotate(e){return this.premultiply(QC.makeRotation(-e)),this}translate(e,t){return this.premultiply(QC.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const QC=new Pn;function D9(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const yce={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ey(n,e){return new yce[n](e)}function U_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function O9(){const n=U_("canvas");return n.style.display="block",n}const k5={};function Bb(n){n in k5||(k5[n]=!0,console.warn(n))}function bce(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function _ce(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function xce(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const ii={enabled:!0,workingColorSpace:Jd,spaces:{},convert:function(n,e,t){return this.enabled===!1||e===t||!e||!t||(this.spaces[e].transfer===Bi&&(n.r=lf(n.r),n.g=lf(n.g),n.b=lf(n.b)),this.spaces[e].primaries!==this.spaces[t].primaries&&(n.applyMatrix3(this.spaces[e].toXYZ),n.applyMatrix3(this.spaces[t].fromXYZ)),this.spaces[t].transfer===Bi&&(n.r=hy(n.r),n.g=hy(n.g),n.b=hy(n.b))),n},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)},getPrimaries:function(n){return this.spaces[n].primaries},getTransfer:function(n){return n===Jh?xx:this.spaces[n].transfer},getLuminanceCoefficients:function(n,e=this.workingColorSpace){return n.fromArray(this.spaces[e].luminanceCoefficients)},define:function(n){Object.assign(this.spaces,n)},_getMatrix:function(n,e,t){return n.copy(this.spaces[e].toXYZ).multiply(this.spaces[t].fromXYZ)},_getDrawingBufferColorSpace:function(n){return this.spaces[n].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(n=this.workingColorSpace){return this.spaces[n].workingColorSpaceConfig.unpackColorSpace}};function lf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function hy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const F5=[.64,.33,.3,.6,.15,.06],H5=[.2126,.7152,.0722],j5=[.3127,.329],G5=new Pn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),q5=new Pn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);ii.define({[Jd]:{primaries:F5,whitePoint:j5,transfer:xx,toXYZ:G5,fromXYZ:q5,luminanceCoefficients:H5,workingColorSpaceConfig:{unpackColorSpace:fa},outputColorSpaceConfig:{drawingBufferColorSpace:fa}},[fa]:{primaries:F5,whitePoint:j5,transfer:Bi,toXYZ:G5,fromXYZ:q5,luminanceCoefficients:H5,outputColorSpaceConfig:{drawingBufferColorSpace:fa}}});let mv;class N9{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{mv===void 0&&(mv=U_("canvas")),mv.width=e.width,mv.height=e.height;const i=mv.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=mv}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=U_("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=lf(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(lf(t[i]/255)*255):t[i]=lf(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Sce=0;class Cm{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Sce++}),this.uuid=tl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(JC(r[a].image)):s.push(JC(r[a]))}else s=JC(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function JC(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?N9.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ece=0;class cr extends lh{constructor(e=cr.DEFAULT_IMAGE,t=cr.DEFAULT_MAPPING,i=Il,r=Il,s=ls,a=ju,o=ba,c=Pc,u=cr.DEFAULT_ANISOTROPY,d=Jh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ece++}),this.uuid=tl(),this.name="",this.source=new Cm(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=c,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case D_:e.x=e.x-Math.floor(e.x);break;case Il:e.x=e.x<0?0:1;break;case O_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case D_:e.y=e.y-Math.floor(e.y);break;case Il:e.y=e.y<0?0:1;break;case O_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}cr.DEFAULT_IMAGE=null;cr.DEFAULT_MAPPING=vM;cr.DEFAULT_ANISOTROPY=1;class yi{constructor(e=0,t=0,i=0,r=1){yi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,u=c[0],d=c[4],p=c[8],v=c[1],y=c[5],_=c[9],w=c[2],S=c[6],E=c[10];if(Math.abs(d-v)<.01&&Math.abs(p-w)<.01&&Math.abs(_-S)<.01){if(Math.abs(d+v)<.1&&Math.abs(p+w)<.1&&Math.abs(_+S)<.1&&Math.abs(u+y+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const R=(u+1)/2,D=(y+1)/2,k=(E+1)/2,N=(d+v)/4,z=(p+w)/4,V=(_+S)/4;return R>D&&R>k?R<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(R),r=N/i,s=z/i):D>k?D<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(D),i=N/r,s=V/r):k<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(k),i=z/s,r=V/s),this.set(i,r,s,t),this}let A=Math.sqrt((S-_)*(S-_)+(p-w)*(p-w)+(v-d)*(v-d));return Math.abs(A)<.001&&(A=1),this.x=(S-_)/A,this.y=(p-w)/A,this.z=(v-d)/A,this.w=Math.acos((u+y+E-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class P9 extends lh{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new yi(0,0,e,t),this.scissorTest=!1,this.viewport=new yi(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ls,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new cr(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Cm(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ic extends P9{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class TM extends cr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=qs,this.minFilter=qs,this.wrapR=Il,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wce extends Ic{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new TM(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class tP extends cr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=qs,this.minFilter=qs,this.wrapR=Il,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Tce extends Ic{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new tP(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class xa{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let c=i[r+0],u=i[r+1],d=i[r+2],p=i[r+3];const v=s[a+0],y=s[a+1],_=s[a+2],w=s[a+3];if(o===0){e[t+0]=c,e[t+1]=u,e[t+2]=d,e[t+3]=p;return}if(o===1){e[t+0]=v,e[t+1]=y,e[t+2]=_,e[t+3]=w;return}if(p!==w||c!==v||u!==y||d!==_){let S=1-o;const E=c*v+u*y+d*_+p*w,A=E>=0?1:-1,R=1-E*E;if(R>Number.EPSILON){const k=Math.sqrt(R),N=Math.atan2(k,E*A);S=Math.sin(S*N)/k,o=Math.sin(o*N)/k}const D=o*A;if(c=c*S+v*D,u=u*S+y*D,d=d*S+_*D,p=p*S+w*D,S===1-o){const k=1/Math.sqrt(c*c+u*u+d*d+p*p);c*=k,u*=k,d*=k,p*=k}}e[t]=c,e[t+1]=u,e[t+2]=d,e[t+3]=p}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],c=i[r+1],u=i[r+2],d=i[r+3],p=s[a],v=s[a+1],y=s[a+2],_=s[a+3];return e[t]=o*_+d*p+c*y-u*v,e[t+1]=c*_+d*v+u*p-o*y,e[t+2]=u*_+d*y+o*v-c*p,e[t+3]=d*_-o*p-c*v-u*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,u=o(i/2),d=o(r/2),p=o(s/2),v=c(i/2),y=c(r/2),_=c(s/2);switch(a){case"XYZ":this._x=v*d*p+u*y*_,this._y=u*y*p-v*d*_,this._z=u*d*_+v*y*p,this._w=u*d*p-v*y*_;break;case"YXZ":this._x=v*d*p+u*y*_,this._y=u*y*p-v*d*_,this._z=u*d*_-v*y*p,this._w=u*d*p+v*y*_;break;case"ZXY":this._x=v*d*p-u*y*_,this._y=u*y*p+v*d*_,this._z=u*d*_+v*y*p,this._w=u*d*p-v*y*_;break;case"ZYX":this._x=v*d*p-u*y*_,this._y=u*y*p+v*d*_,this._z=u*d*_-v*y*p,this._w=u*d*p+v*y*_;break;case"YZX":this._x=v*d*p+u*y*_,this._y=u*y*p+v*d*_,this._z=u*d*_-v*y*p,this._w=u*d*p-v*y*_;break;case"XZY":this._x=v*d*p-u*y*_,this._y=u*y*p-v*d*_,this._z=u*d*_+v*y*p,this._w=u*d*p+v*y*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],c=t[9],u=t[2],d=t[6],p=t[10],v=i+o+p;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(d-c)*y,this._y=(s-u)*y,this._z=(a-r)*y}else if(i>o&&i>p){const y=2*Math.sqrt(1+i-o-p);this._w=(d-c)/y,this._x=.25*y,this._y=(r+a)/y,this._z=(s+u)/y}else if(o>p){const y=2*Math.sqrt(1+o-i-p);this._w=(s-u)/y,this._x=(r+a)/y,this._y=.25*y,this._z=(c+d)/y}else{const y=2*Math.sqrt(1+p-i-o);this._w=(a-r)/y,this._x=(s+u)/y,this._y=(c+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vr(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,c=t._y,u=t._z,d=t._w;return this._x=i*d+a*o+r*u-s*c,this._y=r*d+a*c+s*o-i*u,this._z=s*d+a*u+i*c-r*o,this._w=a*d-i*o-r*c-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const y=1-t;return this._w=y*a+t*this._w,this._x=y*i+t*this._x,this._y=y*r+t*this._y,this._z=y*s+t*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,o),p=Math.sin((1-t)*d)/u,v=Math.sin(t*d)/u;return this._w=a*p+this._w*v,this._x=i*p+this._x*v,this._y=r*p+this._y*v,this._z=s*p+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(e=0,t=0,i=0){ie.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(W5.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(W5.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,c=e.w,u=2*(a*r-o*i),d=2*(o*t-s*r),p=2*(s*i-a*t);return this.x=t+c*u+a*p-o*d,this.y=i+c*d+o*u-s*p,this.z=r+c*p+s*d-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,c=t.z;return this.x=r*c-s*o,this.y=s*a-i*c,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return eR.copy(this).projectOnVector(e),this.sub(eR)}reflect(e){return this.sub(eR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Vr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const eR=new ie,W5=new xa;class Xa{constructor(e=new ie(1/0,1/0,1/0),t=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(gc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(gc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=gc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,gc):gc.fromBufferAttribute(s,a),gc.applyMatrix4(e.matrixWorld),this.expandByPoint(gc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),vS.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),vS.copy(i.boundingBox)),vS.applyMatrix4(e.matrixWorld),this.union(vS)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,gc),gc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_b),yS.subVectors(this.max,_b),gv.subVectors(e.a,_b),vv.subVectors(e.b,_b),yv.subVectors(e.c,_b),ld.subVectors(vv,gv),cd.subVectors(yv,vv),$p.subVectors(gv,yv);let t=[0,-ld.z,ld.y,0,-cd.z,cd.y,0,-$p.z,$p.y,ld.z,0,-ld.x,cd.z,0,-cd.x,$p.z,0,-$p.x,-ld.y,ld.x,0,-cd.y,cd.x,0,-$p.y,$p.x,0];return!tR(t,gv,vv,yv,yS)||(t=[1,0,0,0,1,0,0,0,1],!tR(t,gv,vv,yv,yS))?!1:(bS.crossVectors(ld,cd),t=[bS.x,bS.y,bS.z],tR(t,gv,vv,yv,yS))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,gc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(gc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Hh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Hh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Hh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Hh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Hh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Hh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Hh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Hh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Hh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Hh=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],gc=new ie,vS=new Xa,gv=new ie,vv=new ie,yv=new ie,ld=new ie,cd=new ie,$p=new ie,_b=new ie,yS=new ie,bS=new ie,Zp=new ie;function tR(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Zp.fromArray(n,s);const o=r.x*Math.abs(Zp.x)+r.y*Math.abs(Zp.y)+r.z*Math.abs(Zp.z),c=e.dot(Zp),u=t.dot(Zp),d=i.dot(Zp);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>o)return!1}return!0}const Mce=new Xa,xb=new ie,nR=new ie;let Sa=class{constructor(e=new ie,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Mce.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xb.subVectors(e,this.center);const t=xb.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(xb,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(nR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xb.copy(e.center).add(nR)),this.expandByPoint(xb.copy(e.center).sub(nR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const jh=new ie,iR=new ie,_S=new ie,ud=new ie,rR=new ie,xS=new ie,sR=new ie;class pg{constructor(e=new ie,t=new ie(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,jh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=jh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(jh.copy(this.origin).addScaledVector(this.direction,t),jh.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){iR.copy(e).add(t).multiplyScalar(.5),_S.copy(t).sub(e).normalize(),ud.copy(this.origin).sub(iR);const s=e.distanceTo(t)*.5,a=-this.direction.dot(_S),o=ud.dot(this.direction),c=-ud.dot(_S),u=ud.lengthSq(),d=Math.abs(1-a*a);let p,v,y,_;if(d>0)if(p=a*c-o,v=a*o-c,_=s*d,p>=0)if(v>=-_)if(v<=_){const w=1/d;p*=w,v*=w,y=p*(p+a*v+2*o)+v*(a*p+v+2*c)+u}else v=s,p=Math.max(0,-(a*v+o)),y=-p*p+v*(v+2*c)+u;else v=-s,p=Math.max(0,-(a*v+o)),y=-p*p+v*(v+2*c)+u;else v<=-_?(p=Math.max(0,-(-a*s+o)),v=p>0?-s:Math.min(Math.max(-s,-c),s),y=-p*p+v*(v+2*c)+u):v<=_?(p=0,v=Math.min(Math.max(-s,-c),s),y=v*(v+2*c)+u):(p=Math.max(0,-(a*s+o)),v=p>0?s:Math.min(Math.max(-s,-c),s),y=-p*p+v*(v+2*c)+u);else v=a>0?-s:s,p=Math.max(0,-(a*v+o)),y=-p*p+v*(v+2*c)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(iR).addScaledVector(_S,v),y}intersectSphere(e,t){jh.subVectors(e.center,this.origin);const i=jh.dot(this.direction),r=jh.dot(jh)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,c=i+a;return c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,c;const u=1/this.direction.x,d=1/this.direction.y,p=1/this.direction.z,v=this.origin;return u>=0?(i=(e.min.x-v.x)*u,r=(e.max.x-v.x)*u):(i=(e.max.x-v.x)*u,r=(e.min.x-v.x)*u),d>=0?(s=(e.min.y-v.y)*d,a=(e.max.y-v.y)*d):(s=(e.max.y-v.y)*d,a=(e.min.y-v.y)*d),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),p>=0?(o=(e.min.z-v.z)*p,c=(e.max.z-v.z)*p):(o=(e.max.z-v.z)*p,c=(e.min.z-v.z)*p),i>c||o>r)||((o>i||i!==i)&&(i=o),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,jh)!==null}intersectTriangle(e,t,i,r,s){rR.subVectors(t,e),xS.subVectors(i,e),sR.crossVectors(rR,xS);let a=this.direction.dot(sR),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;ud.subVectors(this.origin,e);const c=o*this.direction.dot(xS.crossVectors(ud,xS));if(c<0)return null;const u=o*this.direction.dot(rR.cross(ud));if(u<0||c+u>a)return null;const d=-o*ud.dot(sR);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wn{constructor(e,t,i,r,s,a,o,c,u,d,p,v,y,_,w,S){wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,c,u,d,p,v,y,_,w,S)}set(e,t,i,r,s,a,o,c,u,d,p,v,y,_,w,S){const E=this.elements;return E[0]=e,E[4]=t,E[8]=i,E[12]=r,E[1]=s,E[5]=a,E[9]=o,E[13]=c,E[2]=u,E[6]=d,E[10]=p,E[14]=v,E[3]=y,E[7]=_,E[11]=w,E[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/bv.setFromMatrixColumn(e,0).length(),s=1/bv.setFromMatrixColumn(e,1).length(),a=1/bv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),c=Math.cos(r),u=Math.sin(r),d=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const v=a*d,y=a*p,_=o*d,w=o*p;t[0]=c*d,t[4]=-c*p,t[8]=u,t[1]=y+_*u,t[5]=v-w*u,t[9]=-o*c,t[2]=w-v*u,t[6]=_+y*u,t[10]=a*c}else if(e.order==="YXZ"){const v=c*d,y=c*p,_=u*d,w=u*p;t[0]=v+w*o,t[4]=_*o-y,t[8]=a*u,t[1]=a*p,t[5]=a*d,t[9]=-o,t[2]=y*o-_,t[6]=w+v*o,t[10]=a*c}else if(e.order==="ZXY"){const v=c*d,y=c*p,_=u*d,w=u*p;t[0]=v-w*o,t[4]=-a*p,t[8]=_+y*o,t[1]=y+_*o,t[5]=a*d,t[9]=w-v*o,t[2]=-a*u,t[6]=o,t[10]=a*c}else if(e.order==="ZYX"){const v=a*d,y=a*p,_=o*d,w=o*p;t[0]=c*d,t[4]=_*u-y,t[8]=v*u+w,t[1]=c*p,t[5]=w*u+v,t[9]=y*u-_,t[2]=-u,t[6]=o*c,t[10]=a*c}else if(e.order==="YZX"){const v=a*c,y=a*u,_=o*c,w=o*u;t[0]=c*d,t[4]=w-v*p,t[8]=_*p+y,t[1]=p,t[5]=a*d,t[9]=-o*d,t[2]=-u*d,t[6]=y*p+_,t[10]=v-w*p}else if(e.order==="XZY"){const v=a*c,y=a*u,_=o*c,w=o*u;t[0]=c*d,t[4]=-p,t[8]=u*d,t[1]=v*p+w,t[5]=a*d,t[9]=y*p-_,t[2]=_*p-y,t[6]=o*d,t[10]=w*p+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ace,e,Cce)}lookAt(e,t,i){const r=this.elements;return Xo.subVectors(e,t),Xo.lengthSq()===0&&(Xo.z=1),Xo.normalize(),hd.crossVectors(i,Xo),hd.lengthSq()===0&&(Math.abs(i.z)===1?Xo.x+=1e-4:Xo.z+=1e-4,Xo.normalize(),hd.crossVectors(i,Xo)),hd.normalize(),SS.crossVectors(Xo,hd),r[0]=hd.x,r[4]=SS.x,r[8]=Xo.x,r[1]=hd.y,r[5]=SS.y,r[9]=Xo.y,r[2]=hd.z,r[6]=SS.z,r[10]=Xo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],c=i[8],u=i[12],d=i[1],p=i[5],v=i[9],y=i[13],_=i[2],w=i[6],S=i[10],E=i[14],A=i[3],R=i[7],D=i[11],k=i[15],N=r[0],z=r[4],V=r[8],I=r[12],L=r[1],j=r[5],X=r[9],G=r[13],re=r[2],de=r[6],K=r[10],ue=r[14],ne=r[3],ve=r[7],Z=r[11],le=r[15];return s[0]=a*N+o*L+c*re+u*ne,s[4]=a*z+o*j+c*de+u*ve,s[8]=a*V+o*X+c*K+u*Z,s[12]=a*I+o*G+c*ue+u*le,s[1]=d*N+p*L+v*re+y*ne,s[5]=d*z+p*j+v*de+y*ve,s[9]=d*V+p*X+v*K+y*Z,s[13]=d*I+p*G+v*ue+y*le,s[2]=_*N+w*L+S*re+E*ne,s[6]=_*z+w*j+S*de+E*ve,s[10]=_*V+w*X+S*K+E*Z,s[14]=_*I+w*G+S*ue+E*le,s[3]=A*N+R*L+D*re+k*ne,s[7]=A*z+R*j+D*de+k*ve,s[11]=A*V+R*X+D*K+k*Z,s[15]=A*I+R*G+D*ue+k*le,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],c=e[9],u=e[13],d=e[2],p=e[6],v=e[10],y=e[14],_=e[3],w=e[7],S=e[11],E=e[15];return _*(+s*c*p-r*u*p-s*o*v+i*u*v+r*o*y-i*c*y)+w*(+t*c*y-t*u*v+s*a*v-r*a*y+r*u*d-s*c*d)+S*(+t*u*p-t*o*y-s*a*p+i*a*y+s*o*d-i*u*d)+E*(-r*o*d-t*c*p+t*o*v+r*a*p-i*a*v+i*c*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8],p=e[9],v=e[10],y=e[11],_=e[12],w=e[13],S=e[14],E=e[15],A=p*S*u-w*v*u+w*c*y-o*S*y-p*c*E+o*v*E,R=_*v*u-d*S*u-_*c*y+a*S*y+d*c*E-a*v*E,D=d*w*u-_*p*u+_*o*y-a*w*y-d*o*E+a*p*E,k=_*p*c-d*w*c-_*o*v+a*w*v+d*o*S-a*p*S,N=t*A+i*R+r*D+s*k;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/N;return e[0]=A*z,e[1]=(w*v*s-p*S*s-w*r*y+i*S*y+p*r*E-i*v*E)*z,e[2]=(o*S*s-w*c*s+w*r*u-i*S*u-o*r*E+i*c*E)*z,e[3]=(p*c*s-o*v*s-p*r*u+i*v*u+o*r*y-i*c*y)*z,e[4]=R*z,e[5]=(d*S*s-_*v*s+_*r*y-t*S*y-d*r*E+t*v*E)*z,e[6]=(_*c*s-a*S*s-_*r*u+t*S*u+a*r*E-t*c*E)*z,e[7]=(a*v*s-d*c*s+d*r*u-t*v*u-a*r*y+t*c*y)*z,e[8]=D*z,e[9]=(_*p*s-d*w*s-_*i*y+t*w*y+d*i*E-t*p*E)*z,e[10]=(a*w*s-_*o*s+_*i*u-t*w*u-a*i*E+t*o*E)*z,e[11]=(d*o*s-a*p*s-d*i*u+t*p*u+a*i*y-t*o*y)*z,e[12]=k*z,e[13]=(d*w*r-_*p*r+_*i*v-t*w*v-d*i*S+t*p*S)*z,e[14]=(_*o*r-a*w*r-_*i*c+t*w*c+a*i*S-t*o*S)*z,e[15]=(a*p*r-d*o*r+d*i*c-t*p*c-a*i*v+t*o*v)*z,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,c=e.z,u=s*a,d=s*o;return this.set(u*a+i,u*o-r*c,u*c+r*o,0,u*o+r*c,d*o+i,d*c-r*a,0,u*c-r*o,d*c+r*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,c=t._w,u=s+s,d=a+a,p=o+o,v=s*u,y=s*d,_=s*p,w=a*d,S=a*p,E=o*p,A=c*u,R=c*d,D=c*p,k=i.x,N=i.y,z=i.z;return r[0]=(1-(w+E))*k,r[1]=(y+D)*k,r[2]=(_-R)*k,r[3]=0,r[4]=(y-D)*N,r[5]=(1-(v+E))*N,r[6]=(S+A)*N,r[7]=0,r[8]=(_+R)*z,r[9]=(S-A)*z,r[10]=(1-(v+w))*z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=bv.set(r[0],r[1],r[2]).length();const a=bv.set(r[4],r[5],r[6]).length(),o=bv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],vc.copy(this);const u=1/s,d=1/a,p=1/o;return vc.elements[0]*=u,vc.elements[1]*=u,vc.elements[2]*=u,vc.elements[4]*=d,vc.elements[5]*=d,vc.elements[6]*=d,vc.elements[8]*=p,vc.elements[9]*=p,vc.elements[10]*=p,t.setFromRotationMatrix(vc),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Gu){const c=this.elements,u=2*s/(t-e),d=2*s/(i-r),p=(t+e)/(t-e),v=(i+r)/(i-r);let y,_;if(o===Gu)y=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===L_)y=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=d,c[9]=v,c[13]=0,c[2]=0,c[6]=0,c[10]=y,c[14]=_,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Gu){const c=this.elements,u=1/(t-e),d=1/(i-r),p=1/(a-s),v=(t+e)*u,y=(i+r)*d;let _,w;if(o===Gu)_=(a+s)*p,w=-2*p;else if(o===L_)_=s*p,w=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-v,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-y,c[2]=0,c[6]=0,c[10]=w,c[14]=-_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const bv=new ie,vc=new wn,Ace=new ie(0,0,0),Cce=new ie(1,1,1),hd=new ie,SS=new ie,Xo=new ie,X5=new wn,Y5=new xa;class al{constructor(e=0,t=0,i=0,r=al.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],c=r[1],u=r[5],d=r[9],p=r[2],v=r[6],y=r[10];switch(t){case"XYZ":this._y=Math.asin(Vr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(v,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Vr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vr(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-p,y),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Vr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Vr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(o,y));break;case"XZY":this._z=Math.asin(-Vr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(v,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return X5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(X5,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Y5.setFromEuler(this),this.setFromQuaternion(Y5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}al.DEFAULT_ORDER="XYZ";class Ay{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Rce=0;const K5=new ie,_v=new xa,Gh=new wn,ES=new ie,Sb=new ie,Dce=new ie,Oce=new xa,$5=new ie(1,0,0),Z5=new ie(0,1,0),Q5=new ie(0,0,1),J5={type:"added"},Nce={type:"removed"},xv={type:"childadded",child:null},aR={type:"childremoved",child:null};class bi extends lh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Rce++}),this.uuid=tl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bi.DEFAULT_UP.clone();const e=new ie,t=new al,i=new xa,r=new ie(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new wn},normalMatrix:{value:new Pn}}),this.matrix=new wn,this.matrixWorld=new wn,this.matrixAutoUpdate=bi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=bi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ay,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _v.setFromAxisAngle(e,t),this.quaternion.multiply(_v),this}rotateOnWorldAxis(e,t){return _v.setFromAxisAngle(e,t),this.quaternion.premultiply(_v),this}rotateX(e){return this.rotateOnAxis($5,e)}rotateY(e){return this.rotateOnAxis(Z5,e)}rotateZ(e){return this.rotateOnAxis(Q5,e)}translateOnAxis(e,t){return K5.copy(e).applyQuaternion(this.quaternion),this.position.add(K5.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis($5,e)}translateY(e){return this.translateOnAxis(Z5,e)}translateZ(e){return this.translateOnAxis(Q5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Gh.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?ES.copy(e):ES.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Sb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Gh.lookAt(Sb,ES,this.up):Gh.lookAt(ES,Sb,this.up),this.quaternion.setFromRotationMatrix(Gh),r&&(Gh.extractRotation(r.matrixWorld),_v.setFromRotationMatrix(Gh),this.quaternion.premultiply(_v.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(J5),xv.child=e,this.dispatchEvent(xv),xv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Nce),aR.child=e,this.dispatchEvent(aR),aR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Gh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Gh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Gh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(J5),xv.child=e,this.dispatchEvent(xv),xv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sb,e,Dce),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sb,Oce,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const p=c[u];s(e.shapes,p)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,u=this.material.length;c<u;c++)o.push(s(e.materials,this.material[c]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];r.animations.push(s(e.animations,c))}}if(t){const o=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),p=a(e.shapes),v=a(e.skeletons),y=a(e.animations),_=a(e.nodes);o.length>0&&(i.geometries=o),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),p.length>0&&(i.shapes=p),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),_.length>0&&(i.nodes=_)}return i.object=r,i;function a(o){const c=[];for(const u in o){const d=o[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}bi.DEFAULT_UP=new ie(0,1,0);bi.DEFAULT_MATRIX_AUTO_UPDATE=!0;bi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yc=new ie,qh=new ie,oR=new ie,Wh=new ie,Sv=new ie,Ev=new ie,e4=new ie,lR=new ie,cR=new ie,uR=new ie,hR=new yi,fR=new yi,dR=new yi;class Eo{constructor(e=new ie,t=new ie,i=new ie){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),yc.subVectors(e,t),r.cross(yc);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){yc.subVectors(r,t),qh.subVectors(i,t),oR.subVectors(e,t);const a=yc.dot(yc),o=yc.dot(qh),c=yc.dot(oR),u=qh.dot(qh),d=qh.dot(oR),p=a*u-o*o;if(p===0)return s.set(0,0,0),null;const v=1/p,y=(u*c-o*d)*v,_=(a*d-o*c)*v;return s.set(1-y-_,_,y)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Wh)===null?!1:Wh.x>=0&&Wh.y>=0&&Wh.x+Wh.y<=1}static getInterpolation(e,t,i,r,s,a,o,c){return this.getBarycoord(e,t,i,r,Wh)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,Wh.x),c.addScaledVector(a,Wh.y),c.addScaledVector(o,Wh.z),c)}static getInterpolatedAttribute(e,t,i,r,s,a){return hR.setScalar(0),fR.setScalar(0),dR.setScalar(0),hR.fromBufferAttribute(e,t),fR.fromBufferAttribute(e,i),dR.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(hR,s.x),a.addScaledVector(fR,s.y),a.addScaledVector(dR,s.z),a}static isFrontFacing(e,t,i,r){return yc.subVectors(i,t),qh.subVectors(e,t),yc.cross(qh).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yc.subVectors(this.c,this.b),qh.subVectors(this.a,this.b),yc.cross(qh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Eo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Eo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Eo.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Eo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Eo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;Sv.subVectors(r,i),Ev.subVectors(s,i),lR.subVectors(e,i);const c=Sv.dot(lR),u=Ev.dot(lR);if(c<=0&&u<=0)return t.copy(i);cR.subVectors(e,r);const d=Sv.dot(cR),p=Ev.dot(cR);if(d>=0&&p<=d)return t.copy(r);const v=c*p-d*u;if(v<=0&&c>=0&&d<=0)return a=c/(c-d),t.copy(i).addScaledVector(Sv,a);uR.subVectors(e,s);const y=Sv.dot(uR),_=Ev.dot(uR);if(_>=0&&y<=_)return t.copy(s);const w=y*u-c*_;if(w<=0&&u>=0&&_<=0)return o=u/(u-_),t.copy(i).addScaledVector(Ev,o);const S=d*_-y*p;if(S<=0&&p-d>=0&&y-_>=0)return e4.subVectors(s,r),o=(p-d)/(p-d+(y-_)),t.copy(r).addScaledVector(e4,o);const E=1/(S+w+v);return a=w*E,o=v*E,t.copy(i).addScaledVector(Sv,a).addScaledVector(Ev,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const I9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fd={h:0,s:0,l:0},wS={h:0,s:0,l:0};function pR(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class $t{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ii.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=ii.workingColorSpace){return this.r=e,this.g=t,this.b=i,ii.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=ii.workingColorSpace){if(e=eP(e,1),t=Vr(t,0,1),i=Vr(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=pR(a,s,e+1/3),this.g=pR(a,s,e),this.b=pR(a,s,e-1/3)}return ii.toWorkingColorSpace(this,r),this}setStyle(e,t=fa){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=fa){const i=I9[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=lf(e.r),this.g=lf(e.g),this.b=lf(e.b),this}copyLinearToSRGB(e){return this.r=hy(e.r),this.g=hy(e.g),this.b=hy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fa){return ii.fromWorkingColorSpace(aa.copy(this),e),Math.round(Vr(aa.r*255,0,255))*65536+Math.round(Vr(aa.g*255,0,255))*256+Math.round(Vr(aa.b*255,0,255))}getHexString(e=fa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ii.workingColorSpace){ii.fromWorkingColorSpace(aa.copy(this),t);const i=aa.r,r=aa.g,s=aa.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let c,u;const d=(o+a)/2;if(o===a)c=0,u=0;else{const p=a-o;switch(u=d<=.5?p/(a+o):p/(2-a-o),a){case i:c=(r-s)/p+(r<s?6:0);break;case r:c=(s-i)/p+2;break;case s:c=(i-r)/p+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,t=ii.workingColorSpace){return ii.fromWorkingColorSpace(aa.copy(this),t),e.r=aa.r,e.g=aa.g,e.b=aa.b,e}getStyle(e=fa){ii.fromWorkingColorSpace(aa.copy(this),e);const t=aa.r,i=aa.g,r=aa.b;return e!==fa?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(fd),this.setHSL(fd.h+e,fd.s+t,fd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(fd),e.getHSL(wS);const i=a_(fd.h,wS.h,t),r=a_(fd.s,wS.s,t),s=a_(fd.l,wS.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const aa=new $t;$t.NAMES=I9;let Pce=0;class wa extends lh{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Pce++}),this.uuid=tl(),this.name="",this.blending=Lm,this.side=ff,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Uw,this.blendDst=zw,this.blendEquation=Sd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new $t(0,0,0),this.blendAlpha=0,this.depthFunc=Ym,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=M3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=fm,this.stencilZFail=fm,this.stencilZPass=fm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Lm&&(i.blending=this.blending),this.side!==ff&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Uw&&(i.blendSrc=this.blendSrc),this.blendDst!==zw&&(i.blendDst=this.blendDst),this.blendEquation!==Sd&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Ym&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==M3&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==fm&&(i.stencilFail=this.stencilFail),this.stencilZFail!==fm&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==fm&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class ep extends wa{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=bx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ef=Ice();function Ice(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):u<-14?(i[c]=1024>>-u-14,i[c|256]=1024>>-u-14|32768,r[c]=-u-1,r[c|256]=-u-1):u<=15?(i[c]=u+15<<10,i[c|256]=u+15<<10|32768,r[c]=13,r[c|256]=13):u<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[c]=u|d}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)a[c]=c<<23;a[31]=1199570944,a[32]=2147483648;for(let c=33;c<63;++c)a[c]=2147483648+(c-32<<23);a[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function _o(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Vr(n,-65504,65504),ef.floatView[0]=n;const e=ef.uint32View[0],t=e>>23&511;return ef.baseTable[t]+((e&8388607)>>ef.shiftTable[t])}function kb(n){const e=n>>10;return ef.uint32View[0]=ef.mantissaTable[ef.offsetTable[e]+(n&1023)]+ef.exponentTable[e],ef.floatView[0]}const Lce={toHalfFloat:_o,fromHalfFloat:kb},Zr=new ie,TS=new nt;class ji{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=I_,this.updateRanges=[],this.gpuType=wo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)TS.fromBufferAttribute(this,t),TS.applyMatrix3(e),this.setXY(t,TS.x,TS.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Zr.fromBufferAttribute(this,t),Zr.applyMatrix3(e),this.setXYZ(t,Zr.x,Zr.y,Zr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Zr.fromBufferAttribute(this,t),Zr.applyMatrix4(e),this.setXYZ(t,Zr.x,Zr.y,Zr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Zr.fromBufferAttribute(this,t),Zr.applyNormalMatrix(e),this.setXYZ(t,Zr.x,Zr.y,Zr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Zr.fromBufferAttribute(this,t),Zr.transformDirection(e),this.setXYZ(t,Zr.x,Zr.y,Zr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ha(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=In(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ha(t,this.array)),t}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ha(t,this.array)),t}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ha(t,this.array)),t}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ha(t,this.array)),t}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),r=In(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),r=In(r,this.array),s=In(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==I_&&(e.usage=this.usage),e}}class Uce extends ji{constructor(e,t,i){super(new Int8Array(e),t,i)}}class zce extends ji{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Vce extends ji{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Bce extends ji{constructor(e,t,i){super(new Int16Array(e),t,i)}}class nP extends ji{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class kce extends ji{constructor(e,t,i){super(new Int32Array(e),t,i)}}class iP extends ji{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Fce extends ji{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=kb(this.array[e*this.itemSize]);return this.normalized&&(t=Ha(t,this.array)),t}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize]=_o(t),this}getY(e){let t=kb(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ha(t,this.array)),t}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+1]=_o(t),this}getZ(e){let t=kb(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ha(t,this.array)),t}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+2]=_o(t),this}getW(e){let t=kb(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ha(t,this.array)),t}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+3]=_o(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array)),this.array[e+0]=_o(t),this.array[e+1]=_o(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),r=In(r,this.array)),this.array[e+0]=_o(t),this.array[e+1]=_o(i),this.array[e+2]=_o(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),r=In(r,this.array),s=In(s,this.array)),this.array[e+0]=_o(t),this.array[e+1]=_o(i),this.array[e+2]=_o(r),this.array[e+3]=_o(s),this}}class rn extends ji{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Hce=0;const Rl=new wn,mR=new bi,wv=new ie,Yo=new Xa,Eb=new Xa,Ms=new ie;class Gn extends lh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Hce++}),this.uuid=tl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(D9(e)?iP:nP)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Pn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Rl.makeRotationFromQuaternion(e),this.applyMatrix4(Rl),this}rotateX(e){return Rl.makeRotationX(e),this.applyMatrix4(Rl),this}rotateY(e){return Rl.makeRotationY(e),this.applyMatrix4(Rl),this}rotateZ(e){return Rl.makeRotationZ(e),this.applyMatrix4(Rl),this}translate(e,t,i){return Rl.makeTranslation(e,t,i),this.applyMatrix4(Rl),this}scale(e,t,i){return Rl.makeScale(e,t,i),this.applyMatrix4(Rl),this}lookAt(e){return mR.lookAt(e),mR.updateMatrix(),this.applyMatrix4(mR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(wv).negate(),this.translate(wv.x,wv.y,wv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new rn(i,3))}else{for(let i=0,r=t.count;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Yo.setFromBufferAttribute(s),this.morphTargetsRelative?(Ms.addVectors(this.boundingBox.min,Yo.min),this.boundingBox.expandByPoint(Ms),Ms.addVectors(this.boundingBox.max,Yo.max),this.boundingBox.expandByPoint(Ms)):(this.boundingBox.expandByPoint(Yo.min),this.boundingBox.expandByPoint(Yo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ie,1/0);return}if(e){const i=this.boundingSphere.center;if(Yo.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];Eb.setFromBufferAttribute(o),this.morphTargetsRelative?(Ms.addVectors(Yo.min,Eb.min),Yo.expandByPoint(Ms),Ms.addVectors(Yo.max,Eb.max),Yo.expandByPoint(Ms)):(Yo.expandByPoint(Eb.min),Yo.expandByPoint(Eb.max))}Yo.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Ms.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ms));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],c=this.morphTargetsRelative;for(let u=0,d=o.count;u<d;u++)Ms.fromBufferAttribute(o,u),c&&(wv.fromBufferAttribute(e,u),Ms.add(wv)),r=Math.max(r,i.distanceToSquared(Ms))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ji(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],c=[];for(let V=0;V<i.count;V++)o[V]=new ie,c[V]=new ie;const u=new ie,d=new ie,p=new ie,v=new nt,y=new nt,_=new nt,w=new ie,S=new ie;function E(V,I,L){u.fromBufferAttribute(i,V),d.fromBufferAttribute(i,I),p.fromBufferAttribute(i,L),v.fromBufferAttribute(s,V),y.fromBufferAttribute(s,I),_.fromBufferAttribute(s,L),d.sub(u),p.sub(u),y.sub(v),_.sub(v);const j=1/(y.x*_.y-_.x*y.y);isFinite(j)&&(w.copy(d).multiplyScalar(_.y).addScaledVector(p,-y.y).multiplyScalar(j),S.copy(p).multiplyScalar(y.x).addScaledVector(d,-_.x).multiplyScalar(j),o[V].add(w),o[I].add(w),o[L].add(w),c[V].add(S),c[I].add(S),c[L].add(S))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let V=0,I=A.length;V<I;++V){const L=A[V],j=L.start,X=L.count;for(let G=j,re=j+X;G<re;G+=3)E(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const R=new ie,D=new ie,k=new ie,N=new ie;function z(V){k.fromBufferAttribute(r,V),N.copy(k);const I=o[V];R.copy(I),R.sub(k.multiplyScalar(k.dot(I))).normalize(),D.crossVectors(N,I);const j=D.dot(c[V])<0?-1:1;a.setXYZW(V,R.x,R.y,R.z,j)}for(let V=0,I=A.length;V<I;++V){const L=A[V],j=L.start,X=L.count;for(let G=j,re=j+X;G<re;G+=3)z(e.getX(G+0)),z(e.getX(G+1)),z(e.getX(G+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ji(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const r=new ie,s=new ie,a=new ie,o=new ie,c=new ie,u=new ie,d=new ie,p=new ie;if(e)for(let v=0,y=e.count;v<y;v+=3){const _=e.getX(v+0),w=e.getX(v+1),S=e.getX(v+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,w),a.fromBufferAttribute(t,S),d.subVectors(a,s),p.subVectors(r,s),d.cross(p),o.fromBufferAttribute(i,_),c.fromBufferAttribute(i,w),u.fromBufferAttribute(i,S),o.add(d),c.add(d),u.add(d),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(w,c.x,c.y,c.z),i.setXYZ(S,u.x,u.y,u.z)}else for(let v=0,y=t.count;v<y;v+=3)r.fromBufferAttribute(t,v+0),s.fromBufferAttribute(t,v+1),a.fromBufferAttribute(t,v+2),d.subVectors(a,s),p.subVectors(r,s),d.cross(p),i.setXYZ(v+0,d.x,d.y,d.z),i.setXYZ(v+1,d.x,d.y,d.z),i.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ms.fromBufferAttribute(e,t),Ms.normalize(),e.setXYZ(t,Ms.x,Ms.y,Ms.z)}toNonIndexed(){function e(o,c){const u=o.array,d=o.itemSize,p=o.normalized,v=new u.constructor(c.length*d);let y=0,_=0;for(let w=0,S=c.length;w<S;w++){o.isInterleavedBufferAttribute?y=c[w]*o.data.stride+o.offset:y=c[w]*d;for(let E=0;E<d;E++)v[_++]=u[y++]}return new ji(v,d,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Gn,i=this.index.array,r=this.attributes;for(const o in r){const c=r[o],u=e(c,i);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const c=[],u=s[o];for(let d=0,p=u.length;d<p;d++){const v=u[d],y=e(v,i);c.push(y)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i){const u=i[c];e.data.attributes[c]=u.toJSON(e.data)}const r={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let p=0,v=u.length;p<v;p++){const y=u[p];d.push(y.toJSON(e.data))}d.length>0&&(r[c]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const d=r[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],p=s[u];for(let v=0,y=p.length;v<y;v++)d.push(p[v].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const p=a[u];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const t4=new wn,Qp=new pg,MS=new Sa,n4=new ie,AS=new ie,CS=new ie,RS=new ie,gR=new ie,DS=new ie,i4=new ie,OS=new ie;class is extends bi{constructor(e=new Gn,t=new ep){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){DS.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const d=o[c],p=s[c];d!==0&&(gR.fromBufferAttribute(p,e),a?DS.addScaledVector(gR,d):DS.addScaledVector(gR.sub(t),d))}t.add(DS)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),MS.copy(i.boundingSphere),MS.applyMatrix4(s),Qp.copy(e.ray).recast(e.near),!(MS.containsPoint(Qp.origin)===!1&&(Qp.intersectSphere(MS,n4)===null||Qp.origin.distanceToSquared(n4)>(e.far-e.near)**2))&&(t4.copy(s).invert(),Qp.copy(e.ray).applyMatrix4(t4),!(i.boundingBox!==null&&Qp.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Qp)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,c=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,p=s.attributes.normal,v=s.groups,y=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,w=v.length;_<w;_++){const S=v[_],E=a[S.materialIndex],A=Math.max(S.start,y.start),R=Math.min(o.count,Math.min(S.start+S.count,y.start+y.count));for(let D=A,k=R;D<k;D+=3){const N=o.getX(D),z=o.getX(D+1),V=o.getX(D+2);r=NS(this,E,e,i,u,d,p,N,z,V),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=S.materialIndex,t.push(r))}}else{const _=Math.max(0,y.start),w=Math.min(o.count,y.start+y.count);for(let S=_,E=w;S<E;S+=3){const A=o.getX(S),R=o.getX(S+1),D=o.getX(S+2);r=NS(this,a,e,i,u,d,p,A,R,D),r&&(r.faceIndex=Math.floor(S/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(a))for(let _=0,w=v.length;_<w;_++){const S=v[_],E=a[S.materialIndex],A=Math.max(S.start,y.start),R=Math.min(c.count,Math.min(S.start+S.count,y.start+y.count));for(let D=A,k=R;D<k;D+=3){const N=D,z=D+1,V=D+2;r=NS(this,E,e,i,u,d,p,N,z,V),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=S.materialIndex,t.push(r))}}else{const _=Math.max(0,y.start),w=Math.min(c.count,y.start+y.count);for(let S=_,E=w;S<E;S+=3){const A=S,R=S+1,D=S+2;r=NS(this,a,e,i,u,d,p,A,R,D),r&&(r.faceIndex=Math.floor(S/3),t.push(r))}}}}function jce(n,e,t,i,r,s,a,o){let c;if(e.side===Wa?c=i.intersectTriangle(a,s,r,!0,o):c=i.intersectTriangle(r,s,a,e.side===ff,o),c===null)return null;OS.copy(o),OS.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(OS);return u<t.near||u>t.far?null:{distance:u,point:OS.clone(),object:n}}function NS(n,e,t,i,r,s,a,o,c,u){n.getVertexPosition(o,AS),n.getVertexPosition(c,CS),n.getVertexPosition(u,RS);const d=jce(n,e,t,i,AS,CS,RS,i4);if(d){const p=new ie;Eo.getBarycoord(i4,AS,CS,RS,p),r&&(d.uv=Eo.getInterpolatedAttribute(r,o,c,u,p,new nt)),s&&(d.uv1=Eo.getInterpolatedAttribute(s,o,c,u,p,new nt)),a&&(d.normal=Eo.getInterpolatedAttribute(a,o,c,u,p,new ie),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const v={a:o,b:c,c:u,normal:new ie,materialIndex:0};Eo.getNormal(AS,CS,RS,v.normal),d.face=v,d.barycoord=p}return d}class mg extends Gn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],d=[],p=[];let v=0,y=0;_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,r,a,2),_("x","z","y",1,-1,e,i,-t,r,a,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new rn(u,3)),this.setAttribute("normal",new rn(d,3)),this.setAttribute("uv",new rn(p,2));function _(w,S,E,A,R,D,k,N,z,V,I){const L=D/z,j=k/V,X=D/2,G=k/2,re=N/2,de=z+1,K=V+1;let ue=0,ne=0;const ve=new ie;for(let Z=0;Z<K;Z++){const le=Z*j-G;for(let Ae=0;Ae<de;Ae++){const De=Ae*L-X;ve[w]=De*A,ve[S]=le*R,ve[E]=re,u.push(ve.x,ve.y,ve.z),ve[w]=0,ve[S]=0,ve[E]=N>0?1:-1,d.push(ve.x,ve.y,ve.z),p.push(Ae/z),p.push(1-Z/V),ue+=1}}for(let Z=0;Z<V;Z++)for(let le=0;le<z;le++){const Ae=v+le+de*Z,De=v+le+de*(Z+1),oe=v+(le+1)+de*(Z+1),Oe=v+(le+1)+de*Z;c.push(Ae,De,Oe),c.push(De,oe,Oe),ne+=6}o.addGroup(y,ne,I),y+=ne,v+=ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Cy(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Ba(n){const e={};for(let t=0;t<n.length;t++){const i=Cy(n[t]);for(const r in i)e[r]=i[r]}return e}function Gce(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function L9(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ii.workingColorSpace}const U9={clone:Cy,merge:Ba};var qce=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Wce=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Lc extends wa{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qce,this.fragmentShader=Wce,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Cy(e.uniforms),this.uniformsGroups=Gce(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class MM extends bi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wn,this.projectionMatrix=new wn,this.projectionMatrixInverse=new wn,this.coordinateSystem=Gu}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const dd=new ie,r4=new nt,s4=new nt;class qr extends MM{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=My*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(zm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return My*2*Math.atan(Math.tan(zm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){dd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(dd.x,dd.y).multiplyScalar(-e/dd.z),dd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(dd.x,dd.y).multiplyScalar(-e/dd.z)}getViewSize(e,t){return this.getViewBounds(e,r4,s4),t.subVectors(s4,r4)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(zm*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*i/u,r*=a.width/c,i*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Tv=-90,Mv=1;class z9 extends bi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new qr(Tv,Mv,e,t);r.layers=this.layers,this.add(r);const s=new qr(Tv,Mv,e,t);s.layers=this.layers,this.add(s);const a=new qr(Tv,Mv,e,t);a.layers=this.layers,this.add(a);const o=new qr(Tv,Mv,e,t);o.layers=this.layers,this.add(o);const c=new qr(Tv,Mv,e,t);c.layers=this.layers,this.add(c);const u=new qr(Tv,Mv,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,c]=t;for(const u of t)this.remove(u);if(e===Gu)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===L_)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,c,u,d]=this.children,p=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,c),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(p,v,y),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class Sx extends cr{constructor(e,t,i,r,s,a,o,c,u,d){e=e!==void 0?e:[],t=t!==void 0?t:df,super(e,t,i,r,s,a,o,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class V9 extends Ic{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Sx(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ls}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new mg(5,5,5),s=new Lc({name:"CubemapFromEquirect",uniforms:Cy(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Wa,blending:of});s.uniforms.tEquirect.value=t;const a=new is(r,s),o=t.minFilter;return t.minFilter===ju&&(t.minFilter=ls),new z9(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}const vR=new ie,Xce=new ie,Yce=new Pn;class Zh{constructor(e=new ie(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=vR.subVectors(i,t).cross(Xce.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(vR),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Yce.getNormalMatrix(e),r=this.coplanarPoint(vR).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Jp=new Sa,PS=new ie;class Ex{constructor(e=new Zh,t=new Zh,i=new Zh,r=new Zh,s=new Zh,a=new Zh){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Gu){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],c=r[3],u=r[4],d=r[5],p=r[6],v=r[7],y=r[8],_=r[9],w=r[10],S=r[11],E=r[12],A=r[13],R=r[14],D=r[15];if(i[0].setComponents(c-s,v-u,S-y,D-E).normalize(),i[1].setComponents(c+s,v+u,S+y,D+E).normalize(),i[2].setComponents(c+a,v+d,S+_,D+A).normalize(),i[3].setComponents(c-a,v-d,S-_,D-A).normalize(),i[4].setComponents(c-o,v-p,S-w,D-R).normalize(),t===Gu)i[5].setComponents(c+o,v+p,S+w,D+R).normalize();else if(t===L_)i[5].setComponents(o,p,w,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Jp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Jp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Jp)}intersectsSprite(e){return Jp.center.set(0,0,0),Jp.radius=.7071067811865476,Jp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Jp)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(PS.x=r.normal.x>0?e.max.x:e.min.x,PS.y=r.normal.y>0?e.max.y:e.min.y,PS.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(PS)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function B9(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Kce(n){const e=new WeakMap;function t(o,c){const u=o.array,d=o.usage,p=u.byteLength,v=n.createBuffer();n.bindBuffer(c,v),n.bufferData(c,u,d),o.onUploadCallback();let y;if(u instanceof Float32Array)y=n.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?y=n.HALF_FLOAT:y=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)y=n.SHORT;else if(u instanceof Uint32Array)y=n.UNSIGNED_INT;else if(u instanceof Int32Array)y=n.INT;else if(u instanceof Int8Array)y=n.BYTE;else if(u instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:v,type:y,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:p}}function i(o,c,u){const d=c.array,p=c.updateRanges;if(n.bindBuffer(u,o),p.length===0)n.bufferSubData(u,0,d);else{p.sort((y,_)=>y.start-_.start);let v=0;for(let y=1;y<p.length;y++){const _=p[v],w=p[y];w.start<=_.start+_.count+1?_.count=Math.max(_.count,w.start+w.count-_.start):(++v,p[v]=w)}p.length=v+1;for(let y=0,_=p.length;y<_;y++){const w=p[y];n.bufferSubData(u,w.start*d.BYTES_PER_ELEMENT,d,w.start,w.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const c=e.get(o);c&&(n.deleteBuffer(c.buffer),e.delete(o))}function a(o,c){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,c));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,c),u.version=o.version}}return{get:r,remove:s,update:a}}class $y extends Gn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),c=Math.floor(r),u=o+1,d=c+1,p=e/o,v=t/c,y=[],_=[],w=[],S=[];for(let E=0;E<d;E++){const A=E*v-a;for(let R=0;R<u;R++){const D=R*p-s;_.push(D,-A,0),w.push(0,0,1),S.push(R/o),S.push(1-E/c)}}for(let E=0;E<c;E++)for(let A=0;A<o;A++){const R=A+u*E,D=A+u*(E+1),k=A+1+u*(E+1),N=A+1+u*E;y.push(R,D,N),y.push(D,k,N)}this.setIndex(y),this.setAttribute("position",new rn(_,3)),this.setAttribute("normal",new rn(w,3)),this.setAttribute("uv",new rn(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $y(e.width,e.height,e.widthSegments,e.heightSegments)}}var $ce=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Zce=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Qce=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Jce=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eue=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,tue=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nue=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iue=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rue=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,sue=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,aue=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,oue=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lue=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,cue=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uue=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,hue=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,fue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,due=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pue=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mue=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,gue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,yue=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,bue=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,_ue=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xue=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Sue=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Eue=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,wue=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Tue=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Mue="gl_FragColor = linearToOutputTexel( gl_FragColor );",Aue=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Cue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Rue=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Due=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Oue=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Nue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Pue=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Iue=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Lue=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Uue=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zue=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Vue=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Bue=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kue=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Fue=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Hue=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,jue=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Gue=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,que=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Wue=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Xue=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Yue=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Kue=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$ue=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Zue=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Que=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Jue=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ehe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,the=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,nhe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ihe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,rhe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,she=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ahe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ohe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lhe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,che=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,uhe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hhe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,fhe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,dhe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,phe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mhe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ghe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vhe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yhe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bhe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,_he=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,xhe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,She=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ehe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,whe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,The=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Mhe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ahe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Che=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Rhe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Dhe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ohe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Nhe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Phe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ihe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Lhe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Uhe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,zhe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Vhe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Bhe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,khe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Fhe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Hhe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,jhe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ghe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,qhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Whe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Xhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Yhe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Khe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$he=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Qhe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Jhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,efe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nfe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ife=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,rfe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,sfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,afe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ofe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lfe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ufe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hfe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ffe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dfe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pfe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mfe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gfe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vfe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yfe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bfe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,_fe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xfe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sfe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Efe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,wfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Tfe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mfe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Afe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Cfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,jn={alphahash_fragment:$ce,alphahash_pars_fragment:Zce,alphamap_fragment:Qce,alphamap_pars_fragment:Jce,alphatest_fragment:eue,alphatest_pars_fragment:tue,aomap_fragment:nue,aomap_pars_fragment:iue,batching_pars_vertex:rue,batching_vertex:sue,begin_vertex:aue,beginnormal_vertex:oue,bsdfs:lue,iridescence_fragment:cue,bumpmap_pars_fragment:uue,clipping_planes_fragment:hue,clipping_planes_pars_fragment:fue,clipping_planes_pars_vertex:due,clipping_planes_vertex:pue,color_fragment:mue,color_pars_fragment:gue,color_pars_vertex:vue,color_vertex:yue,common:bue,cube_uv_reflection_fragment:_ue,defaultnormal_vertex:xue,displacementmap_pars_vertex:Sue,displacementmap_vertex:Eue,emissivemap_fragment:wue,emissivemap_pars_fragment:Tue,colorspace_fragment:Mue,colorspace_pars_fragment:Aue,envmap_fragment:Cue,envmap_common_pars_fragment:Rue,envmap_pars_fragment:Due,envmap_pars_vertex:Oue,envmap_physical_pars_fragment:Hue,envmap_vertex:Nue,fog_vertex:Pue,fog_pars_vertex:Iue,fog_fragment:Lue,fog_pars_fragment:Uue,gradientmap_pars_fragment:zue,lightmap_pars_fragment:Vue,lights_lambert_fragment:Bue,lights_lambert_pars_fragment:kue,lights_pars_begin:Fue,lights_toon_fragment:jue,lights_toon_pars_fragment:Gue,lights_phong_fragment:que,lights_phong_pars_fragment:Wue,lights_physical_fragment:Xue,lights_physical_pars_fragment:Yue,lights_fragment_begin:Kue,lights_fragment_maps:$ue,lights_fragment_end:Zue,logdepthbuf_fragment:Que,logdepthbuf_pars_fragment:Jue,logdepthbuf_pars_vertex:ehe,logdepthbuf_vertex:the,map_fragment:nhe,map_pars_fragment:ihe,map_particle_fragment:rhe,map_particle_pars_fragment:she,metalnessmap_fragment:ahe,metalnessmap_pars_fragment:ohe,morphinstance_vertex:lhe,morphcolor_vertex:che,morphnormal_vertex:uhe,morphtarget_pars_vertex:hhe,morphtarget_vertex:fhe,normal_fragment_begin:dhe,normal_fragment_maps:phe,normal_pars_fragment:mhe,normal_pars_vertex:ghe,normal_vertex:vhe,normalmap_pars_fragment:yhe,clearcoat_normal_fragment_begin:bhe,clearcoat_normal_fragment_maps:_he,clearcoat_pars_fragment:xhe,iridescence_pars_fragment:She,opaque_fragment:Ehe,packing:whe,premultiplied_alpha_fragment:The,project_vertex:Mhe,dithering_fragment:Ahe,dithering_pars_fragment:Che,roughnessmap_fragment:Rhe,roughnessmap_pars_fragment:Dhe,shadowmap_pars_fragment:Ohe,shadowmap_pars_vertex:Nhe,shadowmap_vertex:Phe,shadowmask_pars_fragment:Ihe,skinbase_vertex:Lhe,skinning_pars_vertex:Uhe,skinning_vertex:zhe,skinnormal_vertex:Vhe,specularmap_fragment:Bhe,specularmap_pars_fragment:khe,tonemapping_fragment:Fhe,tonemapping_pars_fragment:Hhe,transmission_fragment:jhe,transmission_pars_fragment:Ghe,uv_pars_fragment:qhe,uv_pars_vertex:Whe,uv_vertex:Xhe,worldpos_vertex:Yhe,background_vert:Khe,background_frag:$he,backgroundCube_vert:Zhe,backgroundCube_frag:Qhe,cube_vert:Jhe,cube_frag:efe,depth_vert:tfe,depth_frag:nfe,distanceRGBA_vert:ife,distanceRGBA_frag:rfe,equirect_vert:sfe,equirect_frag:afe,linedashed_vert:ofe,linedashed_frag:lfe,meshbasic_vert:cfe,meshbasic_frag:ufe,meshlambert_vert:hfe,meshlambert_frag:ffe,meshmatcap_vert:dfe,meshmatcap_frag:pfe,meshnormal_vert:mfe,meshnormal_frag:gfe,meshphong_vert:vfe,meshphong_frag:yfe,meshphysical_vert:bfe,meshphysical_frag:_fe,meshtoon_vert:xfe,meshtoon_frag:Sfe,points_vert:Efe,points_frag:wfe,shadow_vert:Tfe,shadow_frag:Mfe,sprite_vert:Afe,sprite_frag:Cfe},jt={common:{diffuse:{value:new $t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Pn},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Pn}},envmap:{envMap:{value:null},envMapRotation:{value:new Pn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Pn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Pn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Pn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Pn},normalScale:{value:new nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Pn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Pn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Pn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Pn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0},uvTransform:{value:new Pn}},sprite:{diffuse:{value:new $t(16777215)},opacity:{value:1},center:{value:new nt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Pn},alphaMap:{value:null},alphaMapTransform:{value:new Pn},alphaTest:{value:0}}},Ec={basic:{uniforms:Ba([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.fog]),vertexShader:jn.meshbasic_vert,fragmentShader:jn.meshbasic_frag},lambert:{uniforms:Ba([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,jt.lights,{emissive:{value:new $t(0)}}]),vertexShader:jn.meshlambert_vert,fragmentShader:jn.meshlambert_frag},phong:{uniforms:Ba([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,jt.lights,{emissive:{value:new $t(0)},specular:{value:new $t(1118481)},shininess:{value:30}}]),vertexShader:jn.meshphong_vert,fragmentShader:jn.meshphong_frag},standard:{uniforms:Ba([jt.common,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.roughnessmap,jt.metalnessmap,jt.fog,jt.lights,{emissive:{value:new $t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag},toon:{uniforms:Ba([jt.common,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.gradientmap,jt.fog,jt.lights,{emissive:{value:new $t(0)}}]),vertexShader:jn.meshtoon_vert,fragmentShader:jn.meshtoon_frag},matcap:{uniforms:Ba([jt.common,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,{matcap:{value:null}}]),vertexShader:jn.meshmatcap_vert,fragmentShader:jn.meshmatcap_frag},points:{uniforms:Ba([jt.points,jt.fog]),vertexShader:jn.points_vert,fragmentShader:jn.points_frag},dashed:{uniforms:Ba([jt.common,jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jn.linedashed_vert,fragmentShader:jn.linedashed_frag},depth:{uniforms:Ba([jt.common,jt.displacementmap]),vertexShader:jn.depth_vert,fragmentShader:jn.depth_frag},normal:{uniforms:Ba([jt.common,jt.bumpmap,jt.normalmap,jt.displacementmap,{opacity:{value:1}}]),vertexShader:jn.meshnormal_vert,fragmentShader:jn.meshnormal_frag},sprite:{uniforms:Ba([jt.sprite,jt.fog]),vertexShader:jn.sprite_vert,fragmentShader:jn.sprite_frag},background:{uniforms:{uvTransform:{value:new Pn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jn.background_vert,fragmentShader:jn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Pn}},vertexShader:jn.backgroundCube_vert,fragmentShader:jn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jn.cube_vert,fragmentShader:jn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jn.equirect_vert,fragmentShader:jn.equirect_frag},distanceRGBA:{uniforms:Ba([jt.common,jt.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jn.distanceRGBA_vert,fragmentShader:jn.distanceRGBA_frag},shadow:{uniforms:Ba([jt.lights,jt.fog,{color:{value:new $t(0)},opacity:{value:1}}]),vertexShader:jn.shadow_vert,fragmentShader:jn.shadow_frag}};Ec.physical={uniforms:Ba([Ec.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Pn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Pn},clearcoatNormalScale:{value:new nt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Pn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Pn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Pn},sheen:{value:0},sheenColor:{value:new $t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Pn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Pn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Pn},transmissionSamplerSize:{value:new nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Pn},attenuationDistance:{value:0},attenuationColor:{value:new $t(0)},specularColor:{value:new $t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Pn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Pn},anisotropyVector:{value:new nt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Pn}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag};const IS={r:0,b:0,g:0},em=new al,Rfe=new wn;function Dfe(n,e,t,i,r,s,a){const o=new $t(0);let c=s===!0?0:1,u,d,p=null,v=0,y=null;function _(A){let R=A.isScene===!0?A.background:null;return R&&R.isTexture&&(R=(A.backgroundBlurriness>0?t:e).get(R)),R}function w(A){let R=!1;const D=_(A);D===null?E(o,c):D&&D.isColor&&(E(D,1),R=!0);const k=n.xr.getEnvironmentBlendMode();k==="additive"?i.buffers.color.setClear(0,0,0,1,a):k==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function S(A,R){const D=_(R);D&&(D.isCubeTexture||D.mapping===Yy)?(d===void 0&&(d=new is(new mg(1,1,1),new Lc({name:"BackgroundCubeMaterial",uniforms:Cy(Ec.backgroundCube.uniforms),vertexShader:Ec.backgroundCube.vertexShader,fragmentShader:Ec.backgroundCube.fragmentShader,side:Wa,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(k,N,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),em.copy(R.backgroundRotation),em.x*=-1,em.y*=-1,em.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(em.y*=-1,em.z*=-1),d.material.uniforms.envMap.value=D,d.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(Rfe.makeRotationFromEuler(em)),d.material.toneMapped=ii.getTransfer(D.colorSpace)!==Bi,(p!==D||v!==D.version||y!==n.toneMapping)&&(d.material.needsUpdate=!0,p=D,v=D.version,y=n.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null)):D&&D.isTexture&&(u===void 0&&(u=new is(new $y(2,2),new Lc({name:"BackgroundMaterial",uniforms:Cy(Ec.background.uniforms),vertexShader:Ec.background.vertexShader,fragmentShader:Ec.background.fragmentShader,side:ff,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=D,u.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,u.material.toneMapped=ii.getTransfer(D.colorSpace)!==Bi,D.matrixAutoUpdate===!0&&D.updateMatrix(),u.material.uniforms.uvTransform.value.copy(D.matrix),(p!==D||v!==D.version||y!==n.toneMapping)&&(u.material.needsUpdate=!0,p=D,v=D.version,y=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function E(A,R){A.getRGB(IS,L9(n)),i.buffers.color.setClear(IS.r,IS.g,IS.b,R,a)}return{getClearColor:function(){return o},setClearColor:function(A,R=1){o.set(A),c=R,E(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(A){c=A,E(o,c)},render:w,addToRenderList:S}}function Ofe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=v(null);let s=r,a=!1;function o(L,j,X,G,re){let de=!1;const K=p(G,X,j);s!==K&&(s=K,u(s.object)),de=y(L,G,X,re),de&&_(L,G,X,re),re!==null&&e.update(re,n.ELEMENT_ARRAY_BUFFER),(de||a)&&(a=!1,D(L,j,X,G),re!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(re).buffer))}function c(){return n.createVertexArray()}function u(L){return n.bindVertexArray(L)}function d(L){return n.deleteVertexArray(L)}function p(L,j,X){const G=X.wireframe===!0;let re=i[L.id];re===void 0&&(re={},i[L.id]=re);let de=re[j.id];de===void 0&&(de={},re[j.id]=de);let K=de[G];return K===void 0&&(K=v(c()),de[G]=K),K}function v(L){const j=[],X=[],G=[];for(let re=0;re<t;re++)j[re]=0,X[re]=0,G[re]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:X,attributeDivisors:G,object:L,attributes:{},index:null}}function y(L,j,X,G){const re=s.attributes,de=j.attributes;let K=0;const ue=X.getAttributes();for(const ne in ue)if(ue[ne].location>=0){const Z=re[ne];let le=de[ne];if(le===void 0&&(ne==="instanceMatrix"&&L.instanceMatrix&&(le=L.instanceMatrix),ne==="instanceColor"&&L.instanceColor&&(le=L.instanceColor)),Z===void 0||Z.attribute!==le||le&&Z.data!==le.data)return!0;K++}return s.attributesNum!==K||s.index!==G}function _(L,j,X,G){const re={},de=j.attributes;let K=0;const ue=X.getAttributes();for(const ne in ue)if(ue[ne].location>=0){let Z=de[ne];Z===void 0&&(ne==="instanceMatrix"&&L.instanceMatrix&&(Z=L.instanceMatrix),ne==="instanceColor"&&L.instanceColor&&(Z=L.instanceColor));const le={};le.attribute=Z,Z&&Z.data&&(le.data=Z.data),re[ne]=le,K++}s.attributes=re,s.attributesNum=K,s.index=G}function w(){const L=s.newAttributes;for(let j=0,X=L.length;j<X;j++)L[j]=0}function S(L){E(L,0)}function E(L,j){const X=s.newAttributes,G=s.enabledAttributes,re=s.attributeDivisors;X[L]=1,G[L]===0&&(n.enableVertexAttribArray(L),G[L]=1),re[L]!==j&&(n.vertexAttribDivisor(L,j),re[L]=j)}function A(){const L=s.newAttributes,j=s.enabledAttributes;for(let X=0,G=j.length;X<G;X++)j[X]!==L[X]&&(n.disableVertexAttribArray(X),j[X]=0)}function R(L,j,X,G,re,de,K){K===!0?n.vertexAttribIPointer(L,j,X,re,de):n.vertexAttribPointer(L,j,X,G,re,de)}function D(L,j,X,G){w();const re=G.attributes,de=X.getAttributes(),K=j.defaultAttributeValues;for(const ue in de){const ne=de[ue];if(ne.location>=0){let ve=re[ue];if(ve===void 0&&(ue==="instanceMatrix"&&L.instanceMatrix&&(ve=L.instanceMatrix),ue==="instanceColor"&&L.instanceColor&&(ve=L.instanceColor)),ve!==void 0){const Z=ve.normalized,le=ve.itemSize,Ae=e.get(ve);if(Ae===void 0)continue;const De=Ae.buffer,oe=Ae.type,Oe=Ae.bytesPerElement,Ie=oe===n.INT||oe===n.UNSIGNED_INT||ve.gpuType===yM;if(ve.isInterleavedBufferAttribute){const je=ve.data,tt=je.stride,wt=ve.offset;if(je.isInstancedInterleavedBuffer){for(let Qe=0;Qe<ne.locationSize;Qe++)E(ne.location+Qe,je.meshPerAttribute);L.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let Qe=0;Qe<ne.locationSize;Qe++)S(ne.location+Qe);n.bindBuffer(n.ARRAY_BUFFER,De);for(let Qe=0;Qe<ne.locationSize;Qe++)R(ne.location+Qe,le/ne.locationSize,oe,Z,tt*Oe,(wt+le/ne.locationSize*Qe)*Oe,Ie)}else{if(ve.isInstancedBufferAttribute){for(let je=0;je<ne.locationSize;je++)E(ne.location+je,ve.meshPerAttribute);L.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let je=0;je<ne.locationSize;je++)S(ne.location+je);n.bindBuffer(n.ARRAY_BUFFER,De);for(let je=0;je<ne.locationSize;je++)R(ne.location+je,le/ne.locationSize,oe,Z,le*Oe,le/ne.locationSize*je*Oe,Ie)}}else if(K!==void 0){const Z=K[ue];if(Z!==void 0)switch(Z.length){case 2:n.vertexAttrib2fv(ne.location,Z);break;case 3:n.vertexAttrib3fv(ne.location,Z);break;case 4:n.vertexAttrib4fv(ne.location,Z);break;default:n.vertexAttrib1fv(ne.location,Z)}}}}A()}function k(){V();for(const L in i){const j=i[L];for(const X in j){const G=j[X];for(const re in G)d(G[re].object),delete G[re];delete j[X]}delete i[L]}}function N(L){if(i[L.id]===void 0)return;const j=i[L.id];for(const X in j){const G=j[X];for(const re in G)d(G[re].object),delete G[re];delete j[X]}delete i[L.id]}function z(L){for(const j in i){const X=i[j];if(X[L.id]===void 0)continue;const G=X[L.id];for(const re in G)d(G[re].object),delete G[re];delete X[L.id]}}function V(){I(),a=!0,s!==r&&(s=r,u(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:V,resetDefaultState:I,dispose:k,releaseStatesOfGeometry:N,releaseStatesOfProgram:z,initAttributes:w,enableAttribute:S,disableUnusedAttributes:A}}function Nfe(n,e,t){let i;function r(u){i=u}function s(u,d){n.drawArrays(i,u,d),t.update(d,i,1)}function a(u,d,p){p!==0&&(n.drawArraysInstanced(i,u,d,p),t.update(d,i,p))}function o(u,d,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,d,0,p);let y=0;for(let _=0;_<p;_++)y+=d[_];t.update(y,i,1)}function c(u,d,p,v){if(p===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let _=0;_<u.length;_++)a(u[_],d[_],v[_]);else{y.multiDrawArraysInstancedWEBGL(i,u,0,d,0,v,0,p);let _=0;for(let w=0;w<p;w++)_+=d[w]*v[w];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=c}function Pfe(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(z){return!(z!==ba&&i.convert(z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(z){const V=z===Ky&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(z!==Pc&&i.convert(z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&z!==wo&&!V)}function c(z){if(z==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";z="mediump"}return z==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=c(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const p=t.logarithmicDepthBuffer===!0,v=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),y=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=n.getParameter(n.MAX_TEXTURE_SIZE),S=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),E=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),R=n.getParameter(n.MAX_VARYING_VECTORS),D=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),k=_>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:p,reverseDepthBuffer:v,maxTextures:y,maxVertexTextures:_,maxTextureSize:w,maxCubemapSize:S,maxAttributes:E,maxVertexUniforms:A,maxVaryings:R,maxFragmentUniforms:D,vertexTextures:k,maxSamples:N}}function Ife(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new Zh,o=new Pn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(p,v){const y=p.length!==0||v||i!==0||r;return r=v,i=p.length,y},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,v){t=d(p,v,0)},this.setState=function(p,v,y){const _=p.clippingPlanes,w=p.clipIntersection,S=p.clipShadows,E=n.get(p);if(!r||_===null||_.length===0||s&&!S)s?d(null):u();else{const A=s?0:i,R=A*4;let D=E.clippingState||null;c.value=D,D=d(_,v,R,y);for(let k=0;k!==R;++k)D[k]=t[k];E.clippingState=D,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=A}};function u(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(p,v,y,_){const w=p!==null?p.length:0;let S=null;if(w!==0){if(S=c.value,_!==!0||S===null){const E=y+w*4,A=v.matrixWorldInverse;o.getNormalMatrix(A),(S===null||S.length<E)&&(S=new Float32Array(E));for(let R=0,D=y;R!==w;++R,D+=4)a.copy(p[R]).applyMatrix4(A,o),a.normal.toArray(S,D),S[D+3]=a.constant}c.value=S,c.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,S}}function Lfe(n){let e=new WeakMap;function t(a,o){return o===C_?a.mapping=df:o===R_&&(a.mapping=Vd),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===C_||o===R_)if(e.has(a)){const c=e.get(a).texture;return t(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new V9(c.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Cd extends MM{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=d*this.view.offsetY,c=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const ty=4,a4=[.125,.215,.35,.446,.526,.582],vm=20,yR=new Cd,o4=new $t;let bR=null,_R=0,xR=0,SR=!1;const dm=(1+Math.sqrt(5))/2,Av=1/dm,l4=[new ie(-dm,Av,0),new ie(dm,Av,0),new ie(-Av,0,dm),new ie(Av,0,dm),new ie(0,dm,-Av),new ie(0,dm,Av),new ie(-1,1,-1),new ie(1,1,-1),new ie(-1,1,1),new ie(1,1,1)];class C3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){bR=this._renderer.getRenderTarget(),_R=this._renderer.getActiveCubeFace(),xR=this._renderer.getActiveMipmapLevel(),SR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=h4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=u4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(bR,_R,xR),this._renderer.xr.enabled=SR,e.scissorTest=!1,LS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===df||e.mapping===Vd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),bR=this._renderer.getRenderTarget(),_R=this._renderer.getActiveCubeFace(),xR=this._renderer.getActiveMipmapLevel(),SR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ls,minFilter:ls,generateMipmaps:!1,type:Ky,format:ba,colorSpace:Jd,depthBuffer:!1},r=c4(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=c4(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ufe(s)),this._blurMaterial=zfe(s,e,t)}return r}_compileMaterial(e){const t=new is(this._lodPlanes[0],e);this._renderer.compile(t,yR)}_sceneToCubeUV(e,t,i,r){const o=new qr(90,1,t,i),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,v=d.toneMapping;d.getClearColor(o4),d.toneMapping=Yu,d.autoClear=!1;const y=new ep({name:"PMREM.Background",side:Wa,depthWrite:!1,depthTest:!1}),_=new is(new mg,y);let w=!1;const S=e.background;S?S.isColor&&(y.color.copy(S),e.background=null,w=!0):(y.color.copy(o4),w=!0);for(let E=0;E<6;E++){const A=E%3;A===0?(o.up.set(0,c[E],0),o.lookAt(u[E],0,0)):A===1?(o.up.set(0,0,c[E]),o.lookAt(0,u[E],0)):(o.up.set(0,c[E],0),o.lookAt(0,0,u[E]));const R=this._cubeSize;LS(r,A*R,E>2?R:0,R,R),d.setRenderTarget(r),w&&d.render(_,o),d.render(e,o)}_.geometry.dispose(),_.material.dispose(),d.toneMapping=v,d.autoClear=p,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===df||e.mapping===Vd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=h4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=u4());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new is(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const c=this._cubeSize;LS(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(a,yR)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=l4[(r-s-1)%l4.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,p=new is(this._lodPlanes[r],u),v=u.uniforms,y=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*y):2*Math.PI/(2*vm-1),w=s/_,S=isFinite(s)?1+Math.floor(d*w):vm;S>vm&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${vm}`);const E=[];let A=0;for(let z=0;z<vm;++z){const V=z/w,I=Math.exp(-V*V/2);E.push(I),z===0?A+=I:z<S&&(A+=2*I)}for(let z=0;z<E.length;z++)E[z]=E[z]/A;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=E,v.latitudinal.value=a==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:R}=this;v.dTheta.value=_,v.mipInt.value=R-i;const D=this._sizeLods[r],k=3*D*(r>R-ty?r-R+ty:0),N=4*(this._cubeSize-D);LS(t,k,N,3*D,2*D),c.setRenderTarget(t),c.render(p,yR)}}function Ufe(n){const e=[],t=[],i=[];let r=n;const s=n-ty+1+a4.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let c=1/o;a>n-ty?c=a4[a-n+ty-1]:a===0&&(c=0),i.push(c);const u=1/(o-2),d=-u,p=1+u,v=[d,d,p,d,p,p,d,d,p,p,d,p],y=6,_=6,w=3,S=2,E=1,A=new Float32Array(w*_*y),R=new Float32Array(S*_*y),D=new Float32Array(E*_*y);for(let N=0;N<y;N++){const z=N%3*2/3-1,V=N>2?0:-1,I=[z,V,0,z+2/3,V,0,z+2/3,V+1,0,z,V,0,z+2/3,V+1,0,z,V+1,0];A.set(I,w*_*N),R.set(v,S*_*N);const L=[N,N,N,N,N,N];D.set(L,E*_*N)}const k=new Gn;k.setAttribute("position",new ji(A,w)),k.setAttribute("uv",new ji(R,S)),k.setAttribute("faceIndex",new ji(D,E)),e.push(k),r>ty&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function c4(n,e,t){const i=new Ic(n,e,t);return i.texture.mapping=Yy,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function LS(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function zfe(n,e,t){const i=new Float32Array(vm),r=new ie(0,1,0);return new Lc({name:"SphericalGaussianBlur",defines:{n:vm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:rP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:of,depthTest:!1,depthWrite:!1})}function u4(){return new Lc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:rP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:of,depthTest:!1,depthWrite:!1})}function h4(){return new Lc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:rP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:of,depthTest:!1,depthWrite:!1})}function rP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Vfe(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const c=o.mapping,u=c===C_||c===R_,d=c===df||c===Vd;if(u||d){let p=e.get(o);const v=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==v)return t===null&&(t=new C3(n)),p=u?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const y=o.image;return u&&y&&y.height>0||d&&y&&r(y)?(t===null&&(t=new C3(n)),p=u?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",s),p.texture):null}}}return o}function r(o){let c=0;const u=6;for(let d=0;d<u;d++)o[d]!==void 0&&c++;return c===u}function s(o){const c=o.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function Bfe(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Bb("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function kfe(n,e,t,i){const r={},s=new WeakMap;function a(p){const v=p.target;v.index!==null&&e.remove(v.index);for(const _ in v.attributes)e.remove(v.attributes[_]);for(const _ in v.morphAttributes){const w=v.morphAttributes[_];for(let S=0,E=w.length;S<E;S++)e.remove(w[S])}v.removeEventListener("dispose",a),delete r[v.id];const y=s.get(v);y&&(e.remove(y),s.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function o(p,v){return r[v.id]===!0||(v.addEventListener("dispose",a),r[v.id]=!0,t.memory.geometries++),v}function c(p){const v=p.attributes;for(const _ in v)e.update(v[_],n.ARRAY_BUFFER);const y=p.morphAttributes;for(const _ in y){const w=y[_];for(let S=0,E=w.length;S<E;S++)e.update(w[S],n.ARRAY_BUFFER)}}function u(p){const v=[],y=p.index,_=p.attributes.position;let w=0;if(y!==null){const A=y.array;w=y.version;for(let R=0,D=A.length;R<D;R+=3){const k=A[R+0],N=A[R+1],z=A[R+2];v.push(k,N,N,z,z,k)}}else if(_!==void 0){const A=_.array;w=_.version;for(let R=0,D=A.length/3-1;R<D;R+=3){const k=R+0,N=R+1,z=R+2;v.push(k,N,N,z,z,k)}}else return;const S=new(D9(v)?iP:nP)(v,1);S.version=w;const E=s.get(p);E&&e.remove(E),s.set(p,S)}function d(p){const v=s.get(p);if(v){const y=p.index;y!==null&&v.version<y.version&&u(p)}else u(p);return s.get(p)}return{get:o,update:c,getWireframeAttribute:d}}function Ffe(n,e,t){let i;function r(v){i=v}let s,a;function o(v){s=v.type,a=v.bytesPerElement}function c(v,y){n.drawElements(i,y,s,v*a),t.update(y,i,1)}function u(v,y,_){_!==0&&(n.drawElementsInstanced(i,y,s,v*a,_),t.update(y,i,_))}function d(v,y,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,s,v,0,_);let S=0;for(let E=0;E<_;E++)S+=y[E];t.update(S,i,1)}function p(v,y,_,w){if(_===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let E=0;E<v.length;E++)u(v[E]/a,y[E],w[E]);else{S.multiDrawElementsInstancedWEBGL(i,y,0,s,v,0,w,0,_);let E=0;for(let A=0;A<_;A++)E+=y[A]*w[A];t.update(E,i,1)}}this.setMode=r,this.setIndex=o,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=p}function Hfe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function jfe(n,e,t){const i=new WeakMap,r=new yi;function s(a,o,c){const u=a.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=d!==void 0?d.length:0;let v=i.get(o);if(v===void 0||v.count!==p){let y=function(){V.dispose(),i.delete(o),o.removeEventListener("dispose",y)};v!==void 0&&v.texture.dispose();const _=o.morphAttributes.position!==void 0,w=o.morphAttributes.normal!==void 0,S=o.morphAttributes.color!==void 0,E=o.morphAttributes.position||[],A=o.morphAttributes.normal||[],R=o.morphAttributes.color||[];let D=0;_===!0&&(D=1),w===!0&&(D=2),S===!0&&(D=3);let k=o.attributes.position.count*D,N=1;k>e.maxTextureSize&&(N=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const z=new Float32Array(k*N*4*p),V=new TM(z,k,N,p);V.type=wo,V.needsUpdate=!0;const I=D*4;for(let L=0;L<p;L++){const j=E[L],X=A[L],G=R[L],re=k*N*4*L;for(let de=0;de<j.count;de++){const K=de*I;_===!0&&(r.fromBufferAttribute(j,de),z[re+K+0]=r.x,z[re+K+1]=r.y,z[re+K+2]=r.z,z[re+K+3]=0),w===!0&&(r.fromBufferAttribute(X,de),z[re+K+4]=r.x,z[re+K+5]=r.y,z[re+K+6]=r.z,z[re+K+7]=0),S===!0&&(r.fromBufferAttribute(G,de),z[re+K+8]=r.x,z[re+K+9]=r.y,z[re+K+10]=r.z,z[re+K+11]=G.itemSize===4?r.w:1)}}v={count:p,texture:V,size:new nt(k,N)},i.set(o,v),o.addEventListener("dispose",y)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let y=0;for(let w=0;w<u.length;w++)y+=u[w];const _=o.morphTargetsRelative?1:1-y;c.getUniforms().setValue(n,"morphTargetBaseInfluence",_),c.getUniforms().setValue(n,"morphTargetInfluences",u)}c.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),c.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:s}}function Gfe(n,e,t,i){let r=new WeakMap;function s(c){const u=i.render.frame,d=c.geometry,p=e.get(c,d);if(r.get(p)!==u&&(e.update(p),r.set(p,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),r.get(c)!==u&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,u))),c.isSkinnedMesh){const v=c.skeleton;r.get(v)!==u&&(v.update(),r.set(v,u))}return p}function a(){r=new WeakMap}function o(c){const u=c.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}class sP extends cr{constructor(e,t,i,r,s,a,o,c,u,d=Um){if(d!==Um&&d!==$m)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Um&&(i=pf),i===void 0&&d===$m&&(i=Km),super(null,r,s,a,o,c,d,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:qs,this.minFilter=c!==void 0?c:qs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const k9=new cr,f4=new sP(1,1),F9=new TM,H9=new tP,j9=new Sx,d4=[],p4=[],m4=new Float32Array(16),g4=new Float32Array(9),v4=new Float32Array(4);function Zy(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=d4[r];if(s===void 0&&(s=new Float32Array(r),d4[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function hs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function fs(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function AM(n,e){let t=p4[e];t===void 0&&(t=new Int32Array(e),p4[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function qfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Wfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(hs(t,e))return;n.uniform2fv(this.addr,e),fs(t,e)}}function Xfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(hs(t,e))return;n.uniform3fv(this.addr,e),fs(t,e)}}function Yfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(hs(t,e))return;n.uniform4fv(this.addr,e),fs(t,e)}}function Kfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(hs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),fs(t,e)}else{if(hs(t,i))return;v4.set(i),n.uniformMatrix2fv(this.addr,!1,v4),fs(t,i)}}function $fe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(hs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),fs(t,e)}else{if(hs(t,i))return;g4.set(i),n.uniformMatrix3fv(this.addr,!1,g4),fs(t,i)}}function Zfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(hs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),fs(t,e)}else{if(hs(t,i))return;m4.set(i),n.uniformMatrix4fv(this.addr,!1,m4),fs(t,i)}}function Qfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Jfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(hs(t,e))return;n.uniform2iv(this.addr,e),fs(t,e)}}function ede(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(hs(t,e))return;n.uniform3iv(this.addr,e),fs(t,e)}}function tde(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(hs(t,e))return;n.uniform4iv(this.addr,e),fs(t,e)}}function nde(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ide(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(hs(t,e))return;n.uniform2uiv(this.addr,e),fs(t,e)}}function rde(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(hs(t,e))return;n.uniform3uiv(this.addr,e),fs(t,e)}}function sde(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(hs(t,e))return;n.uniform4uiv(this.addr,e),fs(t,e)}}function ade(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(f4.compareFunction=JN,s=f4):s=k9,t.setTexture2D(e||s,r)}function ode(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||H9,r)}function lde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||j9,r)}function cde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||F9,r)}function ude(n){switch(n){case 5126:return qfe;case 35664:return Wfe;case 35665:return Xfe;case 35666:return Yfe;case 35674:return Kfe;case 35675:return $fe;case 35676:return Zfe;case 5124:case 35670:return Qfe;case 35667:case 35671:return Jfe;case 35668:case 35672:return ede;case 35669:case 35673:return tde;case 5125:return nde;case 36294:return ide;case 36295:return rde;case 36296:return sde;case 35678:case 36198:case 36298:case 36306:case 35682:return ade;case 35679:case 36299:case 36307:return ode;case 35680:case 36300:case 36308:case 36293:return lde;case 36289:case 36303:case 36311:case 36292:return cde}}function hde(n,e){n.uniform1fv(this.addr,e)}function fde(n,e){const t=Zy(e,this.size,2);n.uniform2fv(this.addr,t)}function dde(n,e){const t=Zy(e,this.size,3);n.uniform3fv(this.addr,t)}function pde(n,e){const t=Zy(e,this.size,4);n.uniform4fv(this.addr,t)}function mde(n,e){const t=Zy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function gde(n,e){const t=Zy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function vde(n,e){const t=Zy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function yde(n,e){n.uniform1iv(this.addr,e)}function bde(n,e){n.uniform2iv(this.addr,e)}function _de(n,e){n.uniform3iv(this.addr,e)}function xde(n,e){n.uniform4iv(this.addr,e)}function Sde(n,e){n.uniform1uiv(this.addr,e)}function Ede(n,e){n.uniform2uiv(this.addr,e)}function wde(n,e){n.uniform3uiv(this.addr,e)}function Tde(n,e){n.uniform4uiv(this.addr,e)}function Mde(n,e,t){const i=this.cache,r=e.length,s=AM(t,r);hs(i,s)||(n.uniform1iv(this.addr,s),fs(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||k9,s[a])}function Ade(n,e,t){const i=this.cache,r=e.length,s=AM(t,r);hs(i,s)||(n.uniform1iv(this.addr,s),fs(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||H9,s[a])}function Cde(n,e,t){const i=this.cache,r=e.length,s=AM(t,r);hs(i,s)||(n.uniform1iv(this.addr,s),fs(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||j9,s[a])}function Rde(n,e,t){const i=this.cache,r=e.length,s=AM(t,r);hs(i,s)||(n.uniform1iv(this.addr,s),fs(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||F9,s[a])}function Dde(n){switch(n){case 5126:return hde;case 35664:return fde;case 35665:return dde;case 35666:return pde;case 35674:return mde;case 35675:return gde;case 35676:return vde;case 5124:case 35670:return yde;case 35667:case 35671:return bde;case 35668:case 35672:return _de;case 35669:case 35673:return xde;case 5125:return Sde;case 36294:return Ede;case 36295:return wde;case 36296:return Tde;case 35678:case 36198:case 36298:case 36306:case 35682:return Mde;case 35679:case 36299:case 36307:return Ade;case 35680:case 36300:case 36308:case 36293:return Cde;case 36289:case 36303:case 36311:case 36292:return Rde}}class Ode{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=ude(t.type)}}class Nde{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Dde(t.type)}}class Pde{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const ER=/(\w+)(\])?(\[|\.)?/g;function y4(n,e){n.seq.push(e),n.map[e.id]=e}function Ide(n,e,t){const i=n.name,r=i.length;for(ER.lastIndex=0;;){const s=ER.exec(i),a=ER.lastIndex;let o=s[1];const c=s[2]==="]",u=s[3];if(c&&(o=o|0),u===void 0||u==="["&&a+2===r){y4(t,u===void 0?new Ode(o,n,e):new Nde(o,n,e));break}else{let p=t.map[o];p===void 0&&(p=new Pde(o),y4(t,p)),t=p}}}class jE{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);Ide(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],c=i[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function b4(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Lde=37297;let Ude=0;function zde(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const _4=new Pn;function Vde(n){ii._getMatrix(_4,ii.workingColorSpace,n);const e=`mat3( ${_4.elements.map(t=>t.toFixed(4))} )`;switch(ii.getTransfer(n)){case xx:return[e,"LinearTransferOETF"];case Bi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function x4(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+zde(n.getShaderSource(e),a)}else return r}function Bde(n,e){const t=Vde(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function kde(n,e){let t;switch(e){case u9:t="Linear";break;case h9:t="Reinhard";break;case f9:t="Cineon";break;case FN:t="ACESFilmic";break;case p9:t="AgX";break;case m9:t="Neutral";break;case d9:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const US=new ie;function Fde(){ii.getLuminanceCoefficients(US);const n=US.x.toFixed(4),e=US.y.toFixed(4),t=US.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Hde(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Fb).join(`
`)}function jde(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Gde(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function Fb(n){return n!==""}function S4(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function E4(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qde=/^[ \t]*#include +<([\w\d./]+)>/gm;function R3(n){return n.replace(qde,Xde)}const Wde=new Map;function Xde(n,e){let t=jn[e];if(t===void 0){const i=Wde.get(e);if(i!==void 0)t=jn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return R3(t)}const Yde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function w4(n){return n.replace(Yde,Kde)}function Kde(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function T4(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $de(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===gM?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Jb?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xc&&(e="SHADOWMAP_TYPE_VSM"),e}function Zde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case df:case Vd:e="ENVMAP_TYPE_CUBE";break;case Yy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Qde(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Vd:e="ENVMAP_MODE_REFRACTION";break}return e}function Jde(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case bx:e="ENVMAP_BLENDING_MULTIPLY";break;case l9:e="ENVMAP_BLENDING_MIX";break;case c9:e="ENVMAP_BLENDING_ADD";break}return e}function epe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function tpe(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const c=$de(t),u=Zde(t),d=Qde(t),p=Jde(t),v=epe(t),y=Hde(t),_=jde(s),w=r.createProgram();let S,E,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Fb).join(`
`),S.length>0&&(S+=`
`),E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Fb).join(`
`),E.length>0&&(E+=`
`)):(S=[T4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fb).join(`
`),E=[T4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Yu?"#define TONE_MAPPING":"",t.toneMapping!==Yu?jn.tonemapping_pars_fragment:"",t.toneMapping!==Yu?kde("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",jn.colorspace_pars_fragment,Bde("linearToOutputTexel",t.outputColorSpace),Fde(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Fb).join(`
`)),a=R3(a),a=S4(a,t),a=E4(a,t),o=R3(o),o=S4(o,t),o=E4(o,t),a=w4(a),o=w4(o),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,S=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,E=["#define varying in",t.glslVersion===A3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===A3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const R=A+S+a,D=A+E+o,k=b4(r,r.VERTEX_SHADER,R),N=b4(r,r.FRAGMENT_SHADER,D);r.attachShader(w,k),r.attachShader(w,N),t.index0AttributeName!==void 0?r.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function z(j){if(n.debug.checkShaderErrors){const X=r.getProgramInfoLog(w).trim(),G=r.getShaderInfoLog(k).trim(),re=r.getShaderInfoLog(N).trim();let de=!0,K=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(de=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,w,k,N);else{const ue=x4(r,k,"vertex"),ne=x4(r,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+X+`
`+ue+`
`+ne)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(G===""||re==="")&&(K=!1);K&&(j.diagnostics={runnable:de,programLog:X,vertexShader:{log:G,prefix:S},fragmentShader:{log:re,prefix:E}})}r.deleteShader(k),r.deleteShader(N),V=new jE(r,w),I=Gde(r,w)}let V;this.getUniforms=function(){return V===void 0&&z(this),V};let I;this.getAttributes=function(){return I===void 0&&z(this),I};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(w,Lde)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Ude++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=k,this.fragmentShader=N,this}let npe=0;class ipe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new rpe(e),t.set(e,i)),i}}class rpe{constructor(e){this.id=npe++,this.code=e,this.usedTimes=0}}function spe(n,e,t,i,r,s,a){const o=new Ay,c=new ipe,u=new Set,d=[],p=r.logarithmicDepthBuffer,v=r.vertexTextures;let y=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(I){return u.add(I),I===0?"uv":`uv${I}`}function S(I,L,j,X,G){const re=X.fog,de=G.geometry,K=I.isMeshStandardMaterial?X.environment:null,ue=(I.isMeshStandardMaterial?t:e).get(I.envMap||K),ne=ue&&ue.mapping===Yy?ue.image.height:null,ve=_[I.type];I.precision!==null&&(y=r.getMaxPrecision(I.precision),y!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",y,"instead."));const Z=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,le=Z!==void 0?Z.length:0;let Ae=0;de.morphAttributes.position!==void 0&&(Ae=1),de.morphAttributes.normal!==void 0&&(Ae=2),de.morphAttributes.color!==void 0&&(Ae=3);let De,oe,Oe,Ie;if(ve){const ae=Ec[ve];De=ae.vertexShader,oe=ae.fragmentShader}else De=I.vertexShader,oe=I.fragmentShader,c.update(I),Oe=c.getVertexShaderID(I),Ie=c.getFragmentShaderID(I);const je=n.getRenderTarget(),tt=n.state.buffers.depth.getReversed(),wt=G.isInstancedMesh===!0,Qe=G.isBatchedMesh===!0,qt=!!I.map,Ge=!!I.matcap,Ye=!!ue,se=!!I.aoMap,bt=!!I.lightMap,Je=!!I.bumpMap,dt=!!I.normalMap,pt=!!I.displacementMap,It=!!I.emissiveMap,Et=!!I.metalnessMap,te=!!I.roughnessMap,Y=I.anisotropy>0,we=I.clearcoat>0,Fe=I.dispersion>0,it=I.iridescence>0,ze=I.sheen>0,yt=I.transmission>0,_t=Y&&!!I.anisotropyMap,Nt=we&&!!I.clearcoatMap,hn=we&&!!I.clearcoatNormalMap,st=we&&!!I.clearcoatRoughnessMap,Ct=it&&!!I.iridescenceMap,Wt=it&&!!I.iridescenceThicknessMap,Vt=ze&&!!I.sheenColorMap,Pt=ze&&!!I.sheenRoughnessMap,pe=!!I.specularMap,Be=!!I.specularColorMap,Tt=!!I.specularIntensityMap,he=yt&&!!I.transmissionMap,ht=yt&&!!I.thicknessMap,Le=!!I.gradientMap,We=!!I.alphaMap,Xe=I.alphaTest>0,rt=!!I.alphaHash,Dt=!!I.extensions;let sn=Yu;I.toneMapped&&(je===null||je.isXRRenderTarget===!0)&&(sn=n.toneMapping);const Un={shaderID:ve,shaderType:I.type,shaderName:I.name,vertexShader:De,fragmentShader:oe,defines:I.defines,customVertexShaderID:Oe,customFragmentShaderID:Ie,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:y,batching:Qe,batchingColor:Qe&&G._colorsTexture!==null,instancing:wt,instancingColor:wt&&G.instanceColor!==null,instancingMorph:wt&&G.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:je===null?n.outputColorSpace:je.isXRRenderTarget===!0?je.texture.colorSpace:Jd,alphaToCoverage:!!I.alphaToCoverage,map:qt,matcap:Ge,envMap:Ye,envMapMode:Ye&&ue.mapping,envMapCubeUVHeight:ne,aoMap:se,lightMap:bt,bumpMap:Je,normalMap:dt,displacementMap:v&&pt,emissiveMap:It,normalMapObjectSpace:dt&&I.normalMapType===S9,normalMapTangentSpace:dt&&I.normalMapType===Qd,metalnessMap:Et,roughnessMap:te,anisotropy:Y,anisotropyMap:_t,clearcoat:we,clearcoatMap:Nt,clearcoatNormalMap:hn,clearcoatRoughnessMap:st,dispersion:Fe,iridescence:it,iridescenceMap:Ct,iridescenceThicknessMap:Wt,sheen:ze,sheenColorMap:Vt,sheenRoughnessMap:Pt,specularMap:pe,specularColorMap:Be,specularIntensityMap:Tt,transmission:yt,transmissionMap:he,thicknessMap:ht,gradientMap:Le,opaque:I.transparent===!1&&I.blending===Lm&&I.alphaToCoverage===!1,alphaMap:We,alphaTest:Xe,alphaHash:rt,combine:I.combine,mapUv:qt&&w(I.map.channel),aoMapUv:se&&w(I.aoMap.channel),lightMapUv:bt&&w(I.lightMap.channel),bumpMapUv:Je&&w(I.bumpMap.channel),normalMapUv:dt&&w(I.normalMap.channel),displacementMapUv:pt&&w(I.displacementMap.channel),emissiveMapUv:It&&w(I.emissiveMap.channel),metalnessMapUv:Et&&w(I.metalnessMap.channel),roughnessMapUv:te&&w(I.roughnessMap.channel),anisotropyMapUv:_t&&w(I.anisotropyMap.channel),clearcoatMapUv:Nt&&w(I.clearcoatMap.channel),clearcoatNormalMapUv:hn&&w(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&w(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Ct&&w(I.iridescenceMap.channel),iridescenceThicknessMapUv:Wt&&w(I.iridescenceThicknessMap.channel),sheenColorMapUv:Vt&&w(I.sheenColorMap.channel),sheenRoughnessMapUv:Pt&&w(I.sheenRoughnessMap.channel),specularMapUv:pe&&w(I.specularMap.channel),specularColorMapUv:Be&&w(I.specularColorMap.channel),specularIntensityMapUv:Tt&&w(I.specularIntensityMap.channel),transmissionMapUv:he&&w(I.transmissionMap.channel),thicknessMapUv:ht&&w(I.thicknessMap.channel),alphaMapUv:We&&w(I.alphaMap.channel),vertexTangents:!!de.attributes.tangent&&(dt||Y),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!de.attributes.uv&&(qt||We),fog:!!re,useFog:I.fog===!0,fogExp2:!!re&&re.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:tt,skinning:G.isSkinnedMesh===!0,morphTargets:de.morphAttributes.position!==void 0,morphNormals:de.morphAttributes.normal!==void 0,morphColors:de.morphAttributes.color!==void 0,morphTargetsCount:le,morphTextureStride:Ae,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&j.length>0,shadowMapType:n.shadowMap.type,toneMapping:sn,decodeVideoTexture:qt&&I.map.isVideoTexture===!0&&ii.getTransfer(I.map.colorSpace)===Bi,decodeVideoTextureEmissive:It&&I.emissiveMap.isVideoTexture===!0&&ii.getTransfer(I.emissiveMap.colorSpace)===Bi,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Vu,flipSided:I.side===Wa,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Dt&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Dt&&I.extensions.multiDraw===!0||Qe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return Un.vertexUv1s=u.has(1),Un.vertexUv2s=u.has(2),Un.vertexUv3s=u.has(3),u.clear(),Un}function E(I){const L=[];if(I.shaderID?L.push(I.shaderID):(L.push(I.customVertexShaderID),L.push(I.customFragmentShaderID)),I.defines!==void 0)for(const j in I.defines)L.push(j),L.push(I.defines[j]);return I.isRawShaderMaterial===!1&&(A(L,I),R(L,I),L.push(n.outputColorSpace)),L.push(I.customProgramCacheKey),L.join()}function A(I,L){I.push(L.precision),I.push(L.outputColorSpace),I.push(L.envMapMode),I.push(L.envMapCubeUVHeight),I.push(L.mapUv),I.push(L.alphaMapUv),I.push(L.lightMapUv),I.push(L.aoMapUv),I.push(L.bumpMapUv),I.push(L.normalMapUv),I.push(L.displacementMapUv),I.push(L.emissiveMapUv),I.push(L.metalnessMapUv),I.push(L.roughnessMapUv),I.push(L.anisotropyMapUv),I.push(L.clearcoatMapUv),I.push(L.clearcoatNormalMapUv),I.push(L.clearcoatRoughnessMapUv),I.push(L.iridescenceMapUv),I.push(L.iridescenceThicknessMapUv),I.push(L.sheenColorMapUv),I.push(L.sheenRoughnessMapUv),I.push(L.specularMapUv),I.push(L.specularColorMapUv),I.push(L.specularIntensityMapUv),I.push(L.transmissionMapUv),I.push(L.thicknessMapUv),I.push(L.combine),I.push(L.fogExp2),I.push(L.sizeAttenuation),I.push(L.morphTargetsCount),I.push(L.morphAttributeCount),I.push(L.numDirLights),I.push(L.numPointLights),I.push(L.numSpotLights),I.push(L.numSpotLightMaps),I.push(L.numHemiLights),I.push(L.numRectAreaLights),I.push(L.numDirLightShadows),I.push(L.numPointLightShadows),I.push(L.numSpotLightShadows),I.push(L.numSpotLightShadowsWithMaps),I.push(L.numLightProbes),I.push(L.shadowMapType),I.push(L.toneMapping),I.push(L.numClippingPlanes),I.push(L.numClipIntersection),I.push(L.depthPacking)}function R(I,L){o.disableAll(),L.supportsVertexTextures&&o.enable(0),L.instancing&&o.enable(1),L.instancingColor&&o.enable(2),L.instancingMorph&&o.enable(3),L.matcap&&o.enable(4),L.envMap&&o.enable(5),L.normalMapObjectSpace&&o.enable(6),L.normalMapTangentSpace&&o.enable(7),L.clearcoat&&o.enable(8),L.iridescence&&o.enable(9),L.alphaTest&&o.enable(10),L.vertexColors&&o.enable(11),L.vertexAlphas&&o.enable(12),L.vertexUv1s&&o.enable(13),L.vertexUv2s&&o.enable(14),L.vertexUv3s&&o.enable(15),L.vertexTangents&&o.enable(16),L.anisotropy&&o.enable(17),L.alphaHash&&o.enable(18),L.batching&&o.enable(19),L.dispersion&&o.enable(20),L.batchingColor&&o.enable(21),I.push(o.mask),o.disableAll(),L.fog&&o.enable(0),L.useFog&&o.enable(1),L.flatShading&&o.enable(2),L.logarithmicDepthBuffer&&o.enable(3),L.reverseDepthBuffer&&o.enable(4),L.skinning&&o.enable(5),L.morphTargets&&o.enable(6),L.morphNormals&&o.enable(7),L.morphColors&&o.enable(8),L.premultipliedAlpha&&o.enable(9),L.shadowMapEnabled&&o.enable(10),L.doubleSided&&o.enable(11),L.flipSided&&o.enable(12),L.useDepthPacking&&o.enable(13),L.dithering&&o.enable(14),L.transmission&&o.enable(15),L.sheen&&o.enable(16),L.opaque&&o.enable(17),L.pointsUvs&&o.enable(18),L.decodeVideoTexture&&o.enable(19),L.decodeVideoTextureEmissive&&o.enable(20),L.alphaToCoverage&&o.enable(21),I.push(o.mask)}function D(I){const L=_[I.type];let j;if(L){const X=Ec[L];j=U9.clone(X.uniforms)}else j=I.uniforms;return j}function k(I,L){let j;for(let X=0,G=d.length;X<G;X++){const re=d[X];if(re.cacheKey===L){j=re,++j.usedTimes;break}}return j===void 0&&(j=new tpe(n,L,I,s),d.push(j)),j}function N(I){if(--I.usedTimes===0){const L=d.indexOf(I);d[L]=d[d.length-1],d.pop(),I.destroy()}}function z(I){c.remove(I)}function V(){c.dispose()}return{getParameters:S,getProgramCacheKey:E,getUniforms:D,acquireProgram:k,releaseProgram:N,releaseShaderCache:z,programs:d,dispose:V}}function ape(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,c){n.get(a)[o]=c}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function ope(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function M4(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function A4(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(p,v,y,_,w,S){let E=n[e];return E===void 0?(E={id:p.id,object:p,geometry:v,material:y,groupOrder:_,renderOrder:p.renderOrder,z:w,group:S},n[e]=E):(E.id=p.id,E.object=p,E.geometry=v,E.material=y,E.groupOrder=_,E.renderOrder=p.renderOrder,E.z=w,E.group=S),e++,E}function o(p,v,y,_,w,S){const E=a(p,v,y,_,w,S);y.transmission>0?i.push(E):y.transparent===!0?r.push(E):t.push(E)}function c(p,v,y,_,w,S){const E=a(p,v,y,_,w,S);y.transmission>0?i.unshift(E):y.transparent===!0?r.unshift(E):t.unshift(E)}function u(p,v){t.length>1&&t.sort(p||ope),i.length>1&&i.sort(v||M4),r.length>1&&r.sort(v||M4)}function d(){for(let p=e,v=n.length;p<v;p++){const y=n[p];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:c,finish:d,sort:u}}function lpe(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new A4,n.set(i,[a])):r>=s.length?(a=new A4,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function cpe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ie,color:new $t};break;case"SpotLight":t={position:new ie,direction:new ie,color:new $t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ie,color:new $t,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ie,skyColor:new $t,groundColor:new $t};break;case"RectAreaLight":t={color:new $t,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return n[e.id]=t,t}}}function upe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let hpe=0;function fpe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function dpe(n){const e=new cpe,t=upe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new ie);const r=new ie,s=new wn,a=new wn;function o(u){let d=0,p=0,v=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let y=0,_=0,w=0,S=0,E=0,A=0,R=0,D=0,k=0,N=0,z=0;u.sort(fpe);for(let I=0,L=u.length;I<L;I++){const j=u[I],X=j.color,G=j.intensity,re=j.distance,de=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)d+=X.r*G,p+=X.g*G,v+=X.b*G;else if(j.isLightProbe){for(let K=0;K<9;K++)i.probe[K].addScaledVector(j.sh.coefficients[K],G);z++}else if(j.isDirectionalLight){const K=e.get(j);if(K.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const ue=j.shadow,ne=t.get(j);ne.shadowIntensity=ue.intensity,ne.shadowBias=ue.bias,ne.shadowNormalBias=ue.normalBias,ne.shadowRadius=ue.radius,ne.shadowMapSize=ue.mapSize,i.directionalShadow[y]=ne,i.directionalShadowMap[y]=de,i.directionalShadowMatrix[y]=j.shadow.matrix,A++}i.directional[y]=K,y++}else if(j.isSpotLight){const K=e.get(j);K.position.setFromMatrixPosition(j.matrixWorld),K.color.copy(X).multiplyScalar(G),K.distance=re,K.coneCos=Math.cos(j.angle),K.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),K.decay=j.decay,i.spot[w]=K;const ue=j.shadow;if(j.map&&(i.spotLightMap[k]=j.map,k++,ue.updateMatrices(j),j.castShadow&&N++),i.spotLightMatrix[w]=ue.matrix,j.castShadow){const ne=t.get(j);ne.shadowIntensity=ue.intensity,ne.shadowBias=ue.bias,ne.shadowNormalBias=ue.normalBias,ne.shadowRadius=ue.radius,ne.shadowMapSize=ue.mapSize,i.spotShadow[w]=ne,i.spotShadowMap[w]=de,D++}w++}else if(j.isRectAreaLight){const K=e.get(j);K.color.copy(X).multiplyScalar(G),K.halfWidth.set(j.width*.5,0,0),K.halfHeight.set(0,j.height*.5,0),i.rectArea[S]=K,S++}else if(j.isPointLight){const K=e.get(j);if(K.color.copy(j.color).multiplyScalar(j.intensity),K.distance=j.distance,K.decay=j.decay,j.castShadow){const ue=j.shadow,ne=t.get(j);ne.shadowIntensity=ue.intensity,ne.shadowBias=ue.bias,ne.shadowNormalBias=ue.normalBias,ne.shadowRadius=ue.radius,ne.shadowMapSize=ue.mapSize,ne.shadowCameraNear=ue.camera.near,ne.shadowCameraFar=ue.camera.far,i.pointShadow[_]=ne,i.pointShadowMap[_]=de,i.pointShadowMatrix[_]=j.shadow.matrix,R++}i.point[_]=K,_++}else if(j.isHemisphereLight){const K=e.get(j);K.skyColor.copy(j.color).multiplyScalar(G),K.groundColor.copy(j.groundColor).multiplyScalar(G),i.hemi[E]=K,E++}}S>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=jt.LTC_FLOAT_1,i.rectAreaLTC2=jt.LTC_FLOAT_2):(i.rectAreaLTC1=jt.LTC_HALF_1,i.rectAreaLTC2=jt.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=v;const V=i.hash;(V.directionalLength!==y||V.pointLength!==_||V.spotLength!==w||V.rectAreaLength!==S||V.hemiLength!==E||V.numDirectionalShadows!==A||V.numPointShadows!==R||V.numSpotShadows!==D||V.numSpotMaps!==k||V.numLightProbes!==z)&&(i.directional.length=y,i.spot.length=w,i.rectArea.length=S,i.point.length=_,i.hemi.length=E,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=D+k-N,i.spotLightMap.length=k,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=z,V.directionalLength=y,V.pointLength=_,V.spotLength=w,V.rectAreaLength=S,V.hemiLength=E,V.numDirectionalShadows=A,V.numPointShadows=R,V.numSpotShadows=D,V.numSpotMaps=k,V.numLightProbes=z,i.version=hpe++)}function c(u,d){let p=0,v=0,y=0,_=0,w=0;const S=d.matrixWorldInverse;for(let E=0,A=u.length;E<A;E++){const R=u[E];if(R.isDirectionalLight){const D=i.directional[p];D.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(S),p++}else if(R.isSpotLight){const D=i.spot[y];D.position.setFromMatrixPosition(R.matrixWorld),D.position.applyMatrix4(S),D.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(S),y++}else if(R.isRectAreaLight){const D=i.rectArea[_];D.position.setFromMatrixPosition(R.matrixWorld),D.position.applyMatrix4(S),a.identity(),s.copy(R.matrixWorld),s.premultiply(S),a.extractRotation(s),D.halfWidth.set(R.width*.5,0,0),D.halfHeight.set(0,R.height*.5,0),D.halfWidth.applyMatrix4(a),D.halfHeight.applyMatrix4(a),_++}else if(R.isPointLight){const D=i.point[v];D.position.setFromMatrixPosition(R.matrixWorld),D.position.applyMatrix4(S),v++}else if(R.isHemisphereLight){const D=i.hemi[w];D.direction.setFromMatrixPosition(R.matrixWorld),D.direction.transformDirection(S),w++}}}return{setup:o,setupView:c,state:i}}function C4(n){const e=new dpe(n),t=[],i=[];function r(d){u.camera=d,t.length=0,i.length=0}function s(d){t.push(d)}function a(d){i.push(d)}function o(){e.setup(t)}function c(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:c,pushLight:s,pushShadow:a}}function ppe(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new C4(n),e.set(r,[o])):s>=a.length?(o=new C4(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}class aP extends wa{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=_9,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class oP extends wa{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const mpe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,gpe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function vpe(n,e,t){let i=new Ex;const r=new nt,s=new nt,a=new yi,o=new aP({depthPacking:x9}),c=new oP,u={},d=t.maxTextureSize,p={[ff]:Wa,[Wa]:ff,[Vu]:Vu},v=new Lc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nt},radius:{value:4}},vertexShader:mpe,fragmentShader:gpe}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const _=new Gn;_.setAttribute("position",new ji(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new is(_,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=gM;let E=this.type;this.render=function(N,z,V){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||N.length===0)return;const I=n.getRenderTarget(),L=n.getActiveCubeFace(),j=n.getActiveMipmapLevel(),X=n.state;X.setBlending(of),X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const G=E!==xc&&this.type===xc,re=E===xc&&this.type!==xc;for(let de=0,K=N.length;de<K;de++){const ue=N[de],ne=ue.shadow;if(ne===void 0){console.warn("THREE.WebGLShadowMap:",ue,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;r.copy(ne.mapSize);const ve=ne.getFrameExtents();if(r.multiply(ve),s.copy(ne.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/ve.x),r.x=s.x*ve.x,ne.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/ve.y),r.y=s.y*ve.y,ne.mapSize.y=s.y)),ne.map===null||G===!0||re===!0){const le=this.type!==xc?{minFilter:qs,magFilter:qs}:{};ne.map!==null&&ne.map.dispose(),ne.map=new Ic(r.x,r.y,le),ne.map.texture.name=ue.name+".shadowMap",ne.camera.updateProjectionMatrix()}n.setRenderTarget(ne.map),n.clear();const Z=ne.getViewportCount();for(let le=0;le<Z;le++){const Ae=ne.getViewport(le);a.set(s.x*Ae.x,s.y*Ae.y,s.x*Ae.z,s.y*Ae.w),X.viewport(a),ne.updateMatrices(ue,le),i=ne.getFrustum(),D(z,V,ne.camera,ue,this.type)}ne.isPointLightShadow!==!0&&this.type===xc&&A(ne,V),ne.needsUpdate=!1}E=this.type,S.needsUpdate=!1,n.setRenderTarget(I,L,j)};function A(N,z){const V=e.update(w);v.defines.VSM_SAMPLES!==N.blurSamples&&(v.defines.VSM_SAMPLES=N.blurSamples,y.defines.VSM_SAMPLES=N.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new Ic(r.x,r.y)),v.uniforms.shadow_pass.value=N.map.texture,v.uniforms.resolution.value=N.mapSize,v.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(z,null,V,v,w,null),y.uniforms.shadow_pass.value=N.mapPass.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(z,null,V,y,w,null)}function R(N,z,V,I){let L=null;const j=V.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(j!==void 0)L=j;else if(L=V.isPointLight===!0?c:o,n.localClippingEnabled&&z.clipShadows===!0&&Array.isArray(z.clippingPlanes)&&z.clippingPlanes.length!==0||z.displacementMap&&z.displacementScale!==0||z.alphaMap&&z.alphaTest>0||z.map&&z.alphaTest>0){const X=L.uuid,G=z.uuid;let re=u[X];re===void 0&&(re={},u[X]=re);let de=re[G];de===void 0&&(de=L.clone(),re[G]=de,z.addEventListener("dispose",k)),L=de}if(L.visible=z.visible,L.wireframe=z.wireframe,I===xc?L.side=z.shadowSide!==null?z.shadowSide:z.side:L.side=z.shadowSide!==null?z.shadowSide:p[z.side],L.alphaMap=z.alphaMap,L.alphaTest=z.alphaTest,L.map=z.map,L.clipShadows=z.clipShadows,L.clippingPlanes=z.clippingPlanes,L.clipIntersection=z.clipIntersection,L.displacementMap=z.displacementMap,L.displacementScale=z.displacementScale,L.displacementBias=z.displacementBias,L.wireframeLinewidth=z.wireframeLinewidth,L.linewidth=z.linewidth,V.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const X=n.properties.get(L);X.light=V}return L}function D(N,z,V,I,L){if(N.visible===!1)return;if(N.layers.test(z.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&L===xc)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,N.matrixWorld);const G=e.update(N),re=N.material;if(Array.isArray(re)){const de=G.groups;for(let K=0,ue=de.length;K<ue;K++){const ne=de[K],ve=re[ne.materialIndex];if(ve&&ve.visible){const Z=R(N,ve,I,L);N.onBeforeShadow(n,N,z,V,G,Z,ne),n.renderBufferDirect(V,null,G,Z,N,ne),N.onAfterShadow(n,N,z,V,G,Z,ne)}}}else if(re.visible){const de=R(N,re,I,L);N.onBeforeShadow(n,N,z,V,G,de,null),n.renderBufferDirect(V,null,G,de,N,null),N.onAfterShadow(n,N,z,V,G,de,null)}}const X=N.children;for(let G=0,re=X.length;G<re;G++)D(X[G],z,V,I,L)}function k(N){N.target.removeEventListener("dispose",k);for(const V in u){const I=u[V],L=N.target.uuid;L in I&&(I[L].dispose(),delete I[L])}}}const ype={[Vw]:Bw,[kw]:jw,[Fw]:Gw,[Ym]:Hw,[Bw]:Vw,[jw]:kw,[Gw]:Fw,[Hw]:Ym};function bpe(n,e){function t(){let he=!1;const ht=new yi;let Le=null;const We=new yi(0,0,0,0);return{setMask:function(Xe){Le!==Xe&&!he&&(n.colorMask(Xe,Xe,Xe,Xe),Le=Xe)},setLocked:function(Xe){he=Xe},setClear:function(Xe,rt,Dt,sn,Un){Un===!0&&(Xe*=sn,rt*=sn,Dt*=sn),ht.set(Xe,rt,Dt,sn),We.equals(ht)===!1&&(n.clearColor(Xe,rt,Dt,sn),We.copy(ht))},reset:function(){he=!1,Le=null,We.set(-1,0,0,0)}}}function i(){let he=!1,ht=!1,Le=null,We=null,Xe=null;return{setReversed:function(rt){if(ht!==rt){const Dt=e.get("EXT_clip_control");ht?Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.ZERO_TO_ONE_EXT):Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.NEGATIVE_ONE_TO_ONE_EXT);const sn=Xe;Xe=null,this.setClear(sn)}ht=rt},getReversed:function(){return ht},setTest:function(rt){rt?je(n.DEPTH_TEST):tt(n.DEPTH_TEST)},setMask:function(rt){Le!==rt&&!he&&(n.depthMask(rt),Le=rt)},setFunc:function(rt){if(ht&&(rt=ype[rt]),We!==rt){switch(rt){case Vw:n.depthFunc(n.NEVER);break;case Bw:n.depthFunc(n.ALWAYS);break;case kw:n.depthFunc(n.LESS);break;case Ym:n.depthFunc(n.LEQUAL);break;case Fw:n.depthFunc(n.EQUAL);break;case Hw:n.depthFunc(n.GEQUAL);break;case jw:n.depthFunc(n.GREATER);break;case Gw:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}We=rt}},setLocked:function(rt){he=rt},setClear:function(rt){Xe!==rt&&(ht&&(rt=1-rt),n.clearDepth(rt),Xe=rt)},reset:function(){he=!1,Le=null,We=null,Xe=null,ht=!1}}}function r(){let he=!1,ht=null,Le=null,We=null,Xe=null,rt=null,Dt=null,sn=null,Un=null;return{setTest:function(ae){he||(ae?je(n.STENCIL_TEST):tt(n.STENCIL_TEST))},setMask:function(ae){ht!==ae&&!he&&(n.stencilMask(ae),ht=ae)},setFunc:function(ae,ge,Ee){(Le!==ae||We!==ge||Xe!==Ee)&&(n.stencilFunc(ae,ge,Ee),Le=ae,We=ge,Xe=Ee)},setOp:function(ae,ge,Ee){(rt!==ae||Dt!==ge||sn!==Ee)&&(n.stencilOp(ae,ge,Ee),rt=ae,Dt=ge,sn=Ee)},setLocked:function(ae){he=ae},setClear:function(ae){Un!==ae&&(n.clearStencil(ae),Un=ae)},reset:function(){he=!1,ht=null,Le=null,We=null,Xe=null,rt=null,Dt=null,sn=null,Un=null}}}const s=new t,a=new i,o=new r,c=new WeakMap,u=new WeakMap;let d={},p={},v=new WeakMap,y=[],_=null,w=!1,S=null,E=null,A=null,R=null,D=null,k=null,N=null,z=new $t(0,0,0),V=0,I=!1,L=null,j=null,X=null,G=null,re=null;const de=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,ue=0;const ne=n.getParameter(n.VERSION);ne.indexOf("WebGL")!==-1?(ue=parseFloat(/^WebGL (\d)/.exec(ne)[1]),K=ue>=1):ne.indexOf("OpenGL ES")!==-1&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(ne)[1]),K=ue>=2);let ve=null,Z={};const le=n.getParameter(n.SCISSOR_BOX),Ae=n.getParameter(n.VIEWPORT),De=new yi().fromArray(le),oe=new yi().fromArray(Ae);function Oe(he,ht,Le,We){const Xe=new Uint8Array(4),rt=n.createTexture();n.bindTexture(he,rt),n.texParameteri(he,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(he,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Dt=0;Dt<Le;Dt++)he===n.TEXTURE_3D||he===n.TEXTURE_2D_ARRAY?n.texImage3D(ht,0,n.RGBA,1,1,We,0,n.RGBA,n.UNSIGNED_BYTE,Xe):n.texImage2D(ht+Dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Xe);return rt}const Ie={};Ie[n.TEXTURE_2D]=Oe(n.TEXTURE_2D,n.TEXTURE_2D,1),Ie[n.TEXTURE_CUBE_MAP]=Oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ie[n.TEXTURE_2D_ARRAY]=Oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ie[n.TEXTURE_3D]=Oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),je(n.DEPTH_TEST),a.setFunc(Ym),Je(!1),dt(x3),je(n.CULL_FACE),se(of);function je(he){d[he]!==!0&&(n.enable(he),d[he]=!0)}function tt(he){d[he]!==!1&&(n.disable(he),d[he]=!1)}function wt(he,ht){return p[he]!==ht?(n.bindFramebuffer(he,ht),p[he]=ht,he===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=ht),he===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=ht),!0):!1}function Qe(he,ht){let Le=y,We=!1;if(he){Le=v.get(ht),Le===void 0&&(Le=[],v.set(ht,Le));const Xe=he.textures;if(Le.length!==Xe.length||Le[0]!==n.COLOR_ATTACHMENT0){for(let rt=0,Dt=Xe.length;rt<Dt;rt++)Le[rt]=n.COLOR_ATTACHMENT0+rt;Le.length=Xe.length,We=!0}}else Le[0]!==n.BACK&&(Le[0]=n.BACK,We=!0);We&&n.drawBuffers(Le)}function qt(he){return _!==he?(n.useProgram(he),_=he,!0):!1}const Ge={[Sd]:n.FUNC_ADD,[qH]:n.FUNC_SUBTRACT,[WH]:n.FUNC_REVERSE_SUBTRACT};Ge[XH]=n.MIN,Ge[YH]=n.MAX;const Ye={[KH]:n.ZERO,[$H]:n.ONE,[ZH]:n.SRC_COLOR,[Uw]:n.SRC_ALPHA,[i9]:n.SRC_ALPHA_SATURATE,[t9]:n.DST_COLOR,[JH]:n.DST_ALPHA,[QH]:n.ONE_MINUS_SRC_COLOR,[zw]:n.ONE_MINUS_SRC_ALPHA,[n9]:n.ONE_MINUS_DST_COLOR,[e9]:n.ONE_MINUS_DST_ALPHA,[r9]:n.CONSTANT_COLOR,[s9]:n.ONE_MINUS_CONSTANT_COLOR,[a9]:n.CONSTANT_ALPHA,[o9]:n.ONE_MINUS_CONSTANT_ALPHA};function se(he,ht,Le,We,Xe,rt,Dt,sn,Un,ae){if(he===of){w===!0&&(tt(n.BLEND),w=!1);return}if(w===!1&&(je(n.BLEND),w=!0),he!==GH){if(he!==S||ae!==I){if((E!==Sd||D!==Sd)&&(n.blendEquation(n.FUNC_ADD),E=Sd,D=Sd),ae)switch(he){case Lm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case S3:n.blendFunc(n.ONE,n.ONE);break;case E3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case w3:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case Lm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case S3:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case E3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case w3:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}A=null,R=null,k=null,N=null,z.set(0,0,0),V=0,S=he,I=ae}return}Xe=Xe||ht,rt=rt||Le,Dt=Dt||We,(ht!==E||Xe!==D)&&(n.blendEquationSeparate(Ge[ht],Ge[Xe]),E=ht,D=Xe),(Le!==A||We!==R||rt!==k||Dt!==N)&&(n.blendFuncSeparate(Ye[Le],Ye[We],Ye[rt],Ye[Dt]),A=Le,R=We,k=rt,N=Dt),(sn.equals(z)===!1||Un!==V)&&(n.blendColor(sn.r,sn.g,sn.b,Un),z.copy(sn),V=Un),S=he,I=!1}function bt(he,ht){he.side===Vu?tt(n.CULL_FACE):je(n.CULL_FACE);let Le=he.side===Wa;ht&&(Le=!Le),Je(Le),he.blending===Lm&&he.transparent===!1?se(of):se(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),a.setFunc(he.depthFunc),a.setTest(he.depthTest),a.setMask(he.depthWrite),s.setMask(he.colorWrite);const We=he.stencilWrite;o.setTest(We),We&&(o.setMask(he.stencilWriteMask),o.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),o.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),It(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?je(n.SAMPLE_ALPHA_TO_COVERAGE):tt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Je(he){L!==he&&(he?n.frontFace(n.CW):n.frontFace(n.CCW),L=he)}function dt(he){he!==FH?(je(n.CULL_FACE),he!==j&&(he===x3?n.cullFace(n.BACK):he===HH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):tt(n.CULL_FACE),j=he}function pt(he){he!==X&&(K&&n.lineWidth(he),X=he)}function It(he,ht,Le){he?(je(n.POLYGON_OFFSET_FILL),(G!==ht||re!==Le)&&(n.polygonOffset(ht,Le),G=ht,re=Le)):tt(n.POLYGON_OFFSET_FILL)}function Et(he){he?je(n.SCISSOR_TEST):tt(n.SCISSOR_TEST)}function te(he){he===void 0&&(he=n.TEXTURE0+de-1),ve!==he&&(n.activeTexture(he),ve=he)}function Y(he,ht,Le){Le===void 0&&(ve===null?Le=n.TEXTURE0+de-1:Le=ve);let We=Z[Le];We===void 0&&(We={type:void 0,texture:void 0},Z[Le]=We),(We.type!==he||We.texture!==ht)&&(ve!==Le&&(n.activeTexture(Le),ve=Le),n.bindTexture(he,ht||Ie[he]),We.type=he,We.texture=ht)}function we(){const he=Z[ve];he!==void 0&&he.type!==void 0&&(n.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function Fe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function it(){try{n.compressedTexImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ze(){try{n.texSubImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function yt(){try{n.texSubImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function _t(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Nt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function hn(){try{n.texStorage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function st(){try{n.texStorage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ct(){try{n.texImage2D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Wt(){try{n.texImage3D.apply(n,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Vt(he){De.equals(he)===!1&&(n.scissor(he.x,he.y,he.z,he.w),De.copy(he))}function Pt(he){oe.equals(he)===!1&&(n.viewport(he.x,he.y,he.z,he.w),oe.copy(he))}function pe(he,ht){let Le=u.get(ht);Le===void 0&&(Le=new WeakMap,u.set(ht,Le));let We=Le.get(he);We===void 0&&(We=n.getUniformBlockIndex(ht,he.name),Le.set(he,We))}function Be(he,ht){const We=u.get(ht).get(he);c.get(ht)!==We&&(n.uniformBlockBinding(ht,We,he.__bindingPointIndex),c.set(ht,We))}function Tt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},ve=null,Z={},p={},v=new WeakMap,y=[],_=null,w=!1,S=null,E=null,A=null,R=null,D=null,k=null,N=null,z=new $t(0,0,0),V=0,I=!1,L=null,j=null,X=null,G=null,re=null,De.set(0,0,n.canvas.width,n.canvas.height),oe.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:je,disable:tt,bindFramebuffer:wt,drawBuffers:Qe,useProgram:qt,setBlending:se,setMaterial:bt,setFlipSided:Je,setCullFace:dt,setLineWidth:pt,setPolygonOffset:It,setScissorTest:Et,activeTexture:te,bindTexture:Y,unbindTexture:we,compressedTexImage2D:Fe,compressedTexImage3D:it,texImage2D:Ct,texImage3D:Wt,updateUBOMapping:pe,uniformBlockBinding:Be,texStorage2D:hn,texStorage3D:st,texSubImage2D:ze,texSubImage3D:yt,compressedTexSubImage2D:_t,compressedTexSubImage3D:Nt,scissor:Vt,viewport:Pt,reset:Tt}}function _pe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function xpe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Spe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function D3(n,e,t,i){const r=Epe(i);switch(t){case WN:return n*e;case YN:return n*e;case KN:return n*e*2;case xM:return n*e/r.components*r.byteLength;case _x:return n*e/r.components*r.byteLength;case $N:return n*e*2/r.components*r.byteLength;case SM:return n*e*2/r.components*r.byteLength;case XN:return n*e*3/r.components*r.byteLength;case ba:return n*e*4/r.components*r.byteLength;case EM:return n*e*4/r.components*r.byteLength;case t_:case n_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case i_:case r_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Ww:case Yw:return Math.max(n,16)*Math.max(e,8)/4;case qw:case Xw:return Math.max(n,8)*Math.max(e,8)/2;case Kw:case $w:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Zw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Qw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Jw:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case eT:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case tT:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case nT:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case iT:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case rT:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case sT:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case aT:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case oT:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case lT:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case cT:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case uT:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case hT:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case s_:case fT:case dT:return Math.ceil(n/4)*Math.ceil(e/4)*16;case ZN:case pT:return Math.ceil(n/4)*Math.ceil(e/4)*8;case mT:case gT:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Epe(n){switch(n){case Pc:case jN:return{byteLength:1,components:1};case Ty:case GN:case Ky:return{byteLength:2,components:1};case bM:case _M:return{byteLength:2,components:4};case pf:case yM:case wo:return{byteLength:4,components:1};case qN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const wpe={contain:_pe,cover:xpe,fill:Spe,getByteLength:D3};function Tpe(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new nt,d=new WeakMap;let p;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(te,Y){return y?new OffscreenCanvas(te,Y):U_("canvas")}function w(te,Y,we){let Fe=1;const it=Et(te);if((it.width>we||it.height>we)&&(Fe=we/Math.max(it.width,it.height)),Fe<1)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const ze=Math.floor(Fe*it.width),yt=Math.floor(Fe*it.height);p===void 0&&(p=_(ze,yt));const _t=Y?_(ze,yt):p;return _t.width=ze,_t.height=yt,_t.getContext("2d").drawImage(te,0,0,ze,yt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+it.width+"x"+it.height+") to ("+ze+"x"+yt+")."),_t}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+it.width+"x"+it.height+")."),te;return te}function S(te){return te.generateMipmaps}function E(te){n.generateMipmap(te)}function A(te){return te.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:te.isWebGL3DRenderTarget?n.TEXTURE_3D:te.isWebGLArrayRenderTarget||te.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function R(te,Y,we,Fe,it=!1){if(te!==null){if(n[te]!==void 0)return n[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let ze=Y;if(Y===n.RED&&(we===n.FLOAT&&(ze=n.R32F),we===n.HALF_FLOAT&&(ze=n.R16F),we===n.UNSIGNED_BYTE&&(ze=n.R8)),Y===n.RED_INTEGER&&(we===n.UNSIGNED_BYTE&&(ze=n.R8UI),we===n.UNSIGNED_SHORT&&(ze=n.R16UI),we===n.UNSIGNED_INT&&(ze=n.R32UI),we===n.BYTE&&(ze=n.R8I),we===n.SHORT&&(ze=n.R16I),we===n.INT&&(ze=n.R32I)),Y===n.RG&&(we===n.FLOAT&&(ze=n.RG32F),we===n.HALF_FLOAT&&(ze=n.RG16F),we===n.UNSIGNED_BYTE&&(ze=n.RG8)),Y===n.RG_INTEGER&&(we===n.UNSIGNED_BYTE&&(ze=n.RG8UI),we===n.UNSIGNED_SHORT&&(ze=n.RG16UI),we===n.UNSIGNED_INT&&(ze=n.RG32UI),we===n.BYTE&&(ze=n.RG8I),we===n.SHORT&&(ze=n.RG16I),we===n.INT&&(ze=n.RG32I)),Y===n.RGB_INTEGER&&(we===n.UNSIGNED_BYTE&&(ze=n.RGB8UI),we===n.UNSIGNED_SHORT&&(ze=n.RGB16UI),we===n.UNSIGNED_INT&&(ze=n.RGB32UI),we===n.BYTE&&(ze=n.RGB8I),we===n.SHORT&&(ze=n.RGB16I),we===n.INT&&(ze=n.RGB32I)),Y===n.RGBA_INTEGER&&(we===n.UNSIGNED_BYTE&&(ze=n.RGBA8UI),we===n.UNSIGNED_SHORT&&(ze=n.RGBA16UI),we===n.UNSIGNED_INT&&(ze=n.RGBA32UI),we===n.BYTE&&(ze=n.RGBA8I),we===n.SHORT&&(ze=n.RGBA16I),we===n.INT&&(ze=n.RGBA32I)),Y===n.RGB&&we===n.UNSIGNED_INT_5_9_9_9_REV&&(ze=n.RGB9_E5),Y===n.RGBA){const yt=it?xx:ii.getTransfer(Fe);we===n.FLOAT&&(ze=n.RGBA32F),we===n.HALF_FLOAT&&(ze=n.RGBA16F),we===n.UNSIGNED_BYTE&&(ze=yt===Bi?n.SRGB8_ALPHA8:n.RGBA8),we===n.UNSIGNED_SHORT_4_4_4_4&&(ze=n.RGBA4),we===n.UNSIGNED_SHORT_5_5_5_1&&(ze=n.RGB5_A1)}return(ze===n.R16F||ze===n.R32F||ze===n.RG16F||ze===n.RG32F||ze===n.RGBA16F||ze===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function D(te,Y){let we;return te?Y===null||Y===pf||Y===Km?we=n.DEPTH24_STENCIL8:Y===wo?we=n.DEPTH32F_STENCIL8:Y===Ty&&(we=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Y===null||Y===pf||Y===Km?we=n.DEPTH_COMPONENT24:Y===wo?we=n.DEPTH_COMPONENT32F:Y===Ty&&(we=n.DEPTH_COMPONENT16),we}function k(te,Y){return S(te)===!0||te.isFramebufferTexture&&te.minFilter!==qs&&te.minFilter!==ls?Math.log2(Math.max(Y.width,Y.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?Y.mipmaps.length:1}function N(te){const Y=te.target;Y.removeEventListener("dispose",N),V(Y),Y.isVideoTexture&&d.delete(Y)}function z(te){const Y=te.target;Y.removeEventListener("dispose",z),L(Y)}function V(te){const Y=i.get(te);if(Y.__webglInit===void 0)return;const we=te.source,Fe=v.get(we);if(Fe){const it=Fe[Y.__cacheKey];it.usedTimes--,it.usedTimes===0&&I(te),Object.keys(Fe).length===0&&v.delete(we)}i.remove(te)}function I(te){const Y=i.get(te);n.deleteTexture(Y.__webglTexture);const we=te.source,Fe=v.get(we);delete Fe[Y.__cacheKey],a.memory.textures--}function L(te){const Y=i.get(te);if(te.depthTexture&&(te.depthTexture.dispose(),i.remove(te.depthTexture)),te.isWebGLCubeRenderTarget)for(let Fe=0;Fe<6;Fe++){if(Array.isArray(Y.__webglFramebuffer[Fe]))for(let it=0;it<Y.__webglFramebuffer[Fe].length;it++)n.deleteFramebuffer(Y.__webglFramebuffer[Fe][it]);else n.deleteFramebuffer(Y.__webglFramebuffer[Fe]);Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer[Fe])}else{if(Array.isArray(Y.__webglFramebuffer))for(let Fe=0;Fe<Y.__webglFramebuffer.length;Fe++)n.deleteFramebuffer(Y.__webglFramebuffer[Fe]);else n.deleteFramebuffer(Y.__webglFramebuffer);if(Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer)for(let Fe=0;Fe<Y.__webglColorRenderbuffer.length;Fe++)Y.__webglColorRenderbuffer[Fe]&&n.deleteRenderbuffer(Y.__webglColorRenderbuffer[Fe]);Y.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Y.__webglDepthRenderbuffer)}const we=te.textures;for(let Fe=0,it=we.length;Fe<it;Fe++){const ze=i.get(we[Fe]);ze.__webglTexture&&(n.deleteTexture(ze.__webglTexture),a.memory.textures--),i.remove(we[Fe])}i.remove(te)}let j=0;function X(){j=0}function G(){const te=j;return te>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+r.maxTextures),j+=1,te}function re(te){const Y=[];return Y.push(te.wrapS),Y.push(te.wrapT),Y.push(te.wrapR||0),Y.push(te.magFilter),Y.push(te.minFilter),Y.push(te.anisotropy),Y.push(te.internalFormat),Y.push(te.format),Y.push(te.type),Y.push(te.generateMipmaps),Y.push(te.premultiplyAlpha),Y.push(te.flipY),Y.push(te.unpackAlignment),Y.push(te.colorSpace),Y.join()}function de(te,Y){const we=i.get(te);if(te.isVideoTexture&&pt(te),te.isRenderTargetTexture===!1&&te.version>0&&we.__version!==te.version){const Fe=te.image;if(Fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(we,te,Y);return}}t.bindTexture(n.TEXTURE_2D,we.__webglTexture,n.TEXTURE0+Y)}function K(te,Y){const we=i.get(te);if(te.version>0&&we.__version!==te.version){oe(we,te,Y);return}t.bindTexture(n.TEXTURE_2D_ARRAY,we.__webglTexture,n.TEXTURE0+Y)}function ue(te,Y){const we=i.get(te);if(te.version>0&&we.__version!==te.version){oe(we,te,Y);return}t.bindTexture(n.TEXTURE_3D,we.__webglTexture,n.TEXTURE0+Y)}function ne(te,Y){const we=i.get(te);if(te.version>0&&we.__version!==te.version){Oe(we,te,Y);return}t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture,n.TEXTURE0+Y)}const ve={[D_]:n.REPEAT,[Il]:n.CLAMP_TO_EDGE,[O_]:n.MIRRORED_REPEAT},Z={[qs]:n.NEAREST,[HN]:n.NEAREST_MIPMAP_NEAREST,[Jv]:n.NEAREST_MIPMAP_LINEAR,[ls]:n.LINEAR,[e_]:n.LINEAR_MIPMAP_NEAREST,[ju]:n.LINEAR_MIPMAP_LINEAR},le={[E9]:n.NEVER,[R9]:n.ALWAYS,[w9]:n.LESS,[JN]:n.LEQUAL,[T9]:n.EQUAL,[C9]:n.GEQUAL,[M9]:n.GREATER,[A9]:n.NOTEQUAL};function Ae(te,Y){if(Y.type===wo&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===ls||Y.magFilter===e_||Y.magFilter===Jv||Y.magFilter===ju||Y.minFilter===ls||Y.minFilter===e_||Y.minFilter===Jv||Y.minFilter===ju)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(te,n.TEXTURE_WRAP_S,ve[Y.wrapS]),n.texParameteri(te,n.TEXTURE_WRAP_T,ve[Y.wrapT]),(te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY)&&n.texParameteri(te,n.TEXTURE_WRAP_R,ve[Y.wrapR]),n.texParameteri(te,n.TEXTURE_MAG_FILTER,Z[Y.magFilter]),n.texParameteri(te,n.TEXTURE_MIN_FILTER,Z[Y.minFilter]),Y.compareFunction&&(n.texParameteri(te,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(te,n.TEXTURE_COMPARE_FUNC,le[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Y.magFilter===qs||Y.minFilter!==Jv&&Y.minFilter!==ju||Y.type===wo&&e.has("OES_texture_float_linear")===!1)return;if(Y.anisotropy>1||i.get(Y).__currentAnisotropy){const we=e.get("EXT_texture_filter_anisotropic");n.texParameterf(te,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,r.getMaxAnisotropy())),i.get(Y).__currentAnisotropy=Y.anisotropy}}}function De(te,Y){let we=!1;te.__webglInit===void 0&&(te.__webglInit=!0,Y.addEventListener("dispose",N));const Fe=Y.source;let it=v.get(Fe);it===void 0&&(it={},v.set(Fe,it));const ze=re(Y);if(ze!==te.__cacheKey){it[ze]===void 0&&(it[ze]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,we=!0),it[ze].usedTimes++;const yt=it[te.__cacheKey];yt!==void 0&&(it[te.__cacheKey].usedTimes--,yt.usedTimes===0&&I(Y)),te.__cacheKey=ze,te.__webglTexture=it[ze].texture}return we}function oe(te,Y,we){let Fe=n.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(Fe=n.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(Fe=n.TEXTURE_3D);const it=De(te,Y),ze=Y.source;t.bindTexture(Fe,te.__webglTexture,n.TEXTURE0+we);const yt=i.get(ze);if(ze.version!==yt.__version||it===!0){t.activeTexture(n.TEXTURE0+we);const _t=ii.getPrimaries(ii.workingColorSpace),Nt=Y.colorSpace===Jh?null:ii.getPrimaries(Y.colorSpace),hn=Y.colorSpace===Jh||_t===Nt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,hn);let st=w(Y.image,!1,r.maxTextureSize);st=It(Y,st);const Ct=s.convert(Y.format,Y.colorSpace),Wt=s.convert(Y.type);let Vt=R(Y.internalFormat,Ct,Wt,Y.colorSpace,Y.isVideoTexture);Ae(Fe,Y);let Pt;const pe=Y.mipmaps,Be=Y.isVideoTexture!==!0,Tt=yt.__version===void 0||it===!0,he=ze.dataReady,ht=k(Y,st);if(Y.isDepthTexture)Vt=D(Y.format===$m,Y.type),Tt&&(Be?t.texStorage2D(n.TEXTURE_2D,1,Vt,st.width,st.height):t.texImage2D(n.TEXTURE_2D,0,Vt,st.width,st.height,0,Ct,Wt,null));else if(Y.isDataTexture)if(pe.length>0){Be&&Tt&&t.texStorage2D(n.TEXTURE_2D,ht,Vt,pe[0].width,pe[0].height);for(let Le=0,We=pe.length;Le<We;Le++)Pt=pe[Le],Be?he&&t.texSubImage2D(n.TEXTURE_2D,Le,0,0,Pt.width,Pt.height,Ct,Wt,Pt.data):t.texImage2D(n.TEXTURE_2D,Le,Vt,Pt.width,Pt.height,0,Ct,Wt,Pt.data);Y.generateMipmaps=!1}else Be?(Tt&&t.texStorage2D(n.TEXTURE_2D,ht,Vt,st.width,st.height),he&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,st.width,st.height,Ct,Wt,st.data)):t.texImage2D(n.TEXTURE_2D,0,Vt,st.width,st.height,0,Ct,Wt,st.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Be&&Tt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ht,Vt,pe[0].width,pe[0].height,st.depth);for(let Le=0,We=pe.length;Le<We;Le++)if(Pt=pe[Le],Y.format!==ba)if(Ct!==null)if(Be){if(he)if(Y.layerUpdates.size>0){const Xe=D3(Pt.width,Pt.height,Y.format,Y.type);for(const rt of Y.layerUpdates){const Dt=Pt.data.subarray(rt*Xe/Pt.data.BYTES_PER_ELEMENT,(rt+1)*Xe/Pt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,rt,Pt.width,Pt.height,1,Ct,Dt)}Y.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,0,Pt.width,Pt.height,st.depth,Ct,Pt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Le,Vt,Pt.width,Pt.height,st.depth,0,Pt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Be?he&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Le,0,0,0,Pt.width,Pt.height,st.depth,Ct,Wt,Pt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Le,Vt,Pt.width,Pt.height,st.depth,0,Ct,Wt,Pt.data)}else{Be&&Tt&&t.texStorage2D(n.TEXTURE_2D,ht,Vt,pe[0].width,pe[0].height);for(let Le=0,We=pe.length;Le<We;Le++)Pt=pe[Le],Y.format!==ba?Ct!==null?Be?he&&t.compressedTexSubImage2D(n.TEXTURE_2D,Le,0,0,Pt.width,Pt.height,Ct,Pt.data):t.compressedTexImage2D(n.TEXTURE_2D,Le,Vt,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Be?he&&t.texSubImage2D(n.TEXTURE_2D,Le,0,0,Pt.width,Pt.height,Ct,Wt,Pt.data):t.texImage2D(n.TEXTURE_2D,Le,Vt,Pt.width,Pt.height,0,Ct,Wt,Pt.data)}else if(Y.isDataArrayTexture)if(Be){if(Tt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ht,Vt,st.width,st.height,st.depth),he)if(Y.layerUpdates.size>0){const Le=D3(st.width,st.height,Y.format,Y.type);for(const We of Y.layerUpdates){const Xe=st.data.subarray(We*Le/st.data.BYTES_PER_ELEMENT,(We+1)*Le/st.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,We,st.width,st.height,1,Ct,Wt,Xe)}Y.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,st.width,st.height,st.depth,Ct,Wt,st.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Vt,st.width,st.height,st.depth,0,Ct,Wt,st.data);else if(Y.isData3DTexture)Be?(Tt&&t.texStorage3D(n.TEXTURE_3D,ht,Vt,st.width,st.height,st.depth),he&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,st.width,st.height,st.depth,Ct,Wt,st.data)):t.texImage3D(n.TEXTURE_3D,0,Vt,st.width,st.height,st.depth,0,Ct,Wt,st.data);else if(Y.isFramebufferTexture){if(Tt)if(Be)t.texStorage2D(n.TEXTURE_2D,ht,Vt,st.width,st.height);else{let Le=st.width,We=st.height;for(let Xe=0;Xe<ht;Xe++)t.texImage2D(n.TEXTURE_2D,Xe,Vt,Le,We,0,Ct,Wt,null),Le>>=1,We>>=1}}else if(pe.length>0){if(Be&&Tt){const Le=Et(pe[0]);t.texStorage2D(n.TEXTURE_2D,ht,Vt,Le.width,Le.height)}for(let Le=0,We=pe.length;Le<We;Le++)Pt=pe[Le],Be?he&&t.texSubImage2D(n.TEXTURE_2D,Le,0,0,Ct,Wt,Pt):t.texImage2D(n.TEXTURE_2D,Le,Vt,Ct,Wt,Pt);Y.generateMipmaps=!1}else if(Be){if(Tt){const Le=Et(st);t.texStorage2D(n.TEXTURE_2D,ht,Vt,Le.width,Le.height)}he&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ct,Wt,st)}else t.texImage2D(n.TEXTURE_2D,0,Vt,Ct,Wt,st);S(Y)&&E(Fe),yt.__version=ze.version,Y.onUpdate&&Y.onUpdate(Y)}te.__version=Y.version}function Oe(te,Y,we){if(Y.image.length!==6)return;const Fe=De(te,Y),it=Y.source;t.bindTexture(n.TEXTURE_CUBE_MAP,te.__webglTexture,n.TEXTURE0+we);const ze=i.get(it);if(it.version!==ze.__version||Fe===!0){t.activeTexture(n.TEXTURE0+we);const yt=ii.getPrimaries(ii.workingColorSpace),_t=Y.colorSpace===Jh?null:ii.getPrimaries(Y.colorSpace),Nt=Y.colorSpace===Jh||yt===_t?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nt);const hn=Y.isCompressedTexture||Y.image[0].isCompressedTexture,st=Y.image[0]&&Y.image[0].isDataTexture,Ct=[];for(let We=0;We<6;We++)!hn&&!st?Ct[We]=w(Y.image[We],!0,r.maxCubemapSize):Ct[We]=st?Y.image[We].image:Y.image[We],Ct[We]=It(Y,Ct[We]);const Wt=Ct[0],Vt=s.convert(Y.format,Y.colorSpace),Pt=s.convert(Y.type),pe=R(Y.internalFormat,Vt,Pt,Y.colorSpace),Be=Y.isVideoTexture!==!0,Tt=ze.__version===void 0||Fe===!0,he=it.dataReady;let ht=k(Y,Wt);Ae(n.TEXTURE_CUBE_MAP,Y);let Le;if(hn){Be&&Tt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ht,pe,Wt.width,Wt.height);for(let We=0;We<6;We++){Le=Ct[We].mipmaps;for(let Xe=0;Xe<Le.length;Xe++){const rt=Le[Xe];Y.format!==ba?Vt!==null?Be?he&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe,0,0,rt.width,rt.height,Vt,rt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe,pe,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Be?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe,0,0,rt.width,rt.height,Vt,Pt,rt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe,pe,rt.width,rt.height,0,Vt,Pt,rt.data)}}}else{if(Le=Y.mipmaps,Be&&Tt){Le.length>0&&ht++;const We=Et(Ct[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ht,pe,We.width,We.height)}for(let We=0;We<6;We++)if(st){Be?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Ct[We].width,Ct[We].height,Vt,Pt,Ct[We].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,pe,Ct[We].width,Ct[We].height,0,Vt,Pt,Ct[We].data);for(let Xe=0;Xe<Le.length;Xe++){const Dt=Le[Xe].image[We].image;Be?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe+1,0,0,Dt.width,Dt.height,Vt,Pt,Dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe+1,pe,Dt.width,Dt.height,0,Vt,Pt,Dt.data)}}else{Be?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Vt,Pt,Ct[We]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,pe,Vt,Pt,Ct[We]);for(let Xe=0;Xe<Le.length;Xe++){const rt=Le[Xe];Be?he&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe+1,0,0,Vt,Pt,rt.image[We]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Xe+1,pe,Vt,Pt,rt.image[We])}}}S(Y)&&E(n.TEXTURE_CUBE_MAP),ze.__version=it.version,Y.onUpdate&&Y.onUpdate(Y)}te.__version=Y.version}function Ie(te,Y,we,Fe,it,ze){const yt=s.convert(we.format,we.colorSpace),_t=s.convert(we.type),Nt=R(we.internalFormat,yt,_t,we.colorSpace),hn=i.get(Y),st=i.get(we);if(st.__renderTarget=Y,!hn.__hasExternalTextures){const Ct=Math.max(1,Y.width>>ze),Wt=Math.max(1,Y.height>>ze);it===n.TEXTURE_3D||it===n.TEXTURE_2D_ARRAY?t.texImage3D(it,ze,Nt,Ct,Wt,Y.depth,0,yt,_t,null):t.texImage2D(it,ze,Nt,Ct,Wt,0,yt,_t,null)}t.bindFramebuffer(n.FRAMEBUFFER,te),dt(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Fe,it,st.__webglTexture,0,Je(Y)):(it===n.TEXTURE_2D||it>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&it<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Fe,it,st.__webglTexture,ze),t.bindFramebuffer(n.FRAMEBUFFER,null)}function je(te,Y,we){if(n.bindRenderbuffer(n.RENDERBUFFER,te),Y.depthBuffer){const Fe=Y.depthTexture,it=Fe&&Fe.isDepthTexture?Fe.type:null,ze=D(Y.stencilBuffer,it),yt=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,_t=Je(Y);dt(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,_t,ze,Y.width,Y.height):we?n.renderbufferStorageMultisample(n.RENDERBUFFER,_t,ze,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,ze,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,yt,n.RENDERBUFFER,te)}else{const Fe=Y.textures;for(let it=0;it<Fe.length;it++){const ze=Fe[it],yt=s.convert(ze.format,ze.colorSpace),_t=s.convert(ze.type),Nt=R(ze.internalFormat,yt,_t,ze.colorSpace),hn=Je(Y);we&&dt(Y)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,hn,Nt,Y.width,Y.height):dt(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,hn,Nt,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,Nt,Y.width,Y.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function tt(te,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,te),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Fe=i.get(Y.depthTexture);Fe.__renderTarget=Y,(!Fe.__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),de(Y.depthTexture,0);const it=Fe.__webglTexture,ze=Je(Y);if(Y.depthTexture.format===Um)dt(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,it,0,ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,it,0);else if(Y.depthTexture.format===$m)dt(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,it,0,ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,it,0);else throw new Error("Unknown depthTexture format")}function wt(te){const Y=i.get(te),we=te.isWebGLCubeRenderTarget===!0;if(Y.__boundDepthTexture!==te.depthTexture){const Fe=te.depthTexture;if(Y.__depthDisposeCallback&&Y.__depthDisposeCallback(),Fe){const it=()=>{delete Y.__boundDepthTexture,delete Y.__depthDisposeCallback,Fe.removeEventListener("dispose",it)};Fe.addEventListener("dispose",it),Y.__depthDisposeCallback=it}Y.__boundDepthTexture=Fe}if(te.depthTexture&&!Y.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");tt(Y.__webglFramebuffer,te)}else if(we){Y.__webglDepthbuffer=[];for(let Fe=0;Fe<6;Fe++)if(t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[Fe]),Y.__webglDepthbuffer[Fe]===void 0)Y.__webglDepthbuffer[Fe]=n.createRenderbuffer(),je(Y.__webglDepthbuffer[Fe],te,!1);else{const it=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ze=Y.__webglDepthbuffer[Fe];n.bindRenderbuffer(n.RENDERBUFFER,ze),n.framebufferRenderbuffer(n.FRAMEBUFFER,it,n.RENDERBUFFER,ze)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer===void 0)Y.__webglDepthbuffer=n.createRenderbuffer(),je(Y.__webglDepthbuffer,te,!1);else{const Fe=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,it=Y.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,it),n.framebufferRenderbuffer(n.FRAMEBUFFER,Fe,n.RENDERBUFFER,it)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(te,Y,we){const Fe=i.get(te);Y!==void 0&&Ie(Fe.__webglFramebuffer,te,te.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),we!==void 0&&wt(te)}function qt(te){const Y=te.texture,we=i.get(te),Fe=i.get(Y);te.addEventListener("dispose",z);const it=te.textures,ze=te.isWebGLCubeRenderTarget===!0,yt=it.length>1;if(yt||(Fe.__webglTexture===void 0&&(Fe.__webglTexture=n.createTexture()),Fe.__version=Y.version,a.memory.textures++),ze){we.__webglFramebuffer=[];for(let _t=0;_t<6;_t++)if(Y.mipmaps&&Y.mipmaps.length>0){we.__webglFramebuffer[_t]=[];for(let Nt=0;Nt<Y.mipmaps.length;Nt++)we.__webglFramebuffer[_t][Nt]=n.createFramebuffer()}else we.__webglFramebuffer[_t]=n.createFramebuffer()}else{if(Y.mipmaps&&Y.mipmaps.length>0){we.__webglFramebuffer=[];for(let _t=0;_t<Y.mipmaps.length;_t++)we.__webglFramebuffer[_t]=n.createFramebuffer()}else we.__webglFramebuffer=n.createFramebuffer();if(yt)for(let _t=0,Nt=it.length;_t<Nt;_t++){const hn=i.get(it[_t]);hn.__webglTexture===void 0&&(hn.__webglTexture=n.createTexture(),a.memory.textures++)}if(te.samples>0&&dt(te)===!1){we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer);for(let _t=0;_t<it.length;_t++){const Nt=it[_t];we.__webglColorRenderbuffer[_t]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,we.__webglColorRenderbuffer[_t]);const hn=s.convert(Nt.format,Nt.colorSpace),st=s.convert(Nt.type),Ct=R(Nt.internalFormat,hn,st,Nt.colorSpace,te.isXRRenderTarget===!0),Wt=Je(te);n.renderbufferStorageMultisample(n.RENDERBUFFER,Wt,Ct,te.width,te.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+_t,n.RENDERBUFFER,we.__webglColorRenderbuffer[_t])}n.bindRenderbuffer(n.RENDERBUFFER,null),te.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),je(we.__webglDepthRenderbuffer,te,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ze){t.bindTexture(n.TEXTURE_CUBE_MAP,Fe.__webglTexture),Ae(n.TEXTURE_CUBE_MAP,Y);for(let _t=0;_t<6;_t++)if(Y.mipmaps&&Y.mipmaps.length>0)for(let Nt=0;Nt<Y.mipmaps.length;Nt++)Ie(we.__webglFramebuffer[_t][Nt],te,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+_t,Nt);else Ie(we.__webglFramebuffer[_t],te,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+_t,0);S(Y)&&E(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(yt){for(let _t=0,Nt=it.length;_t<Nt;_t++){const hn=it[_t],st=i.get(hn);t.bindTexture(n.TEXTURE_2D,st.__webglTexture),Ae(n.TEXTURE_2D,hn),Ie(we.__webglFramebuffer,te,hn,n.COLOR_ATTACHMENT0+_t,n.TEXTURE_2D,0),S(hn)&&E(n.TEXTURE_2D)}t.unbindTexture()}else{let _t=n.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(_t=te.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(_t,Fe.__webglTexture),Ae(_t,Y),Y.mipmaps&&Y.mipmaps.length>0)for(let Nt=0;Nt<Y.mipmaps.length;Nt++)Ie(we.__webglFramebuffer[Nt],te,Y,n.COLOR_ATTACHMENT0,_t,Nt);else Ie(we.__webglFramebuffer,te,Y,n.COLOR_ATTACHMENT0,_t,0);S(Y)&&E(_t),t.unbindTexture()}te.depthBuffer&&wt(te)}function Ge(te){const Y=te.textures;for(let we=0,Fe=Y.length;we<Fe;we++){const it=Y[we];if(S(it)){const ze=A(te),yt=i.get(it).__webglTexture;t.bindTexture(ze,yt),E(ze),t.unbindTexture()}}}const Ye=[],se=[];function bt(te){if(te.samples>0){if(dt(te)===!1){const Y=te.textures,we=te.width,Fe=te.height;let it=n.COLOR_BUFFER_BIT;const ze=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,yt=i.get(te),_t=Y.length>1;if(_t)for(let Nt=0;Nt<Y.length;Nt++)t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,yt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,yt.__webglFramebuffer);for(let Nt=0;Nt<Y.length;Nt++){if(te.resolveDepthBuffer&&(te.depthBuffer&&(it|=n.DEPTH_BUFFER_BIT),te.stencilBuffer&&te.resolveStencilBuffer&&(it|=n.STENCIL_BUFFER_BIT)),_t){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,yt.__webglColorRenderbuffer[Nt]);const hn=i.get(Y[Nt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,hn,0)}n.blitFramebuffer(0,0,we,Fe,0,0,we,Fe,it,n.NEAREST),c===!0&&(Ye.length=0,se.length=0,Ye.push(n.COLOR_ATTACHMENT0+Nt),te.depthBuffer&&te.resolveDepthBuffer===!1&&(Ye.push(ze),se.push(ze),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,se)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ye))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),_t)for(let Nt=0;Nt<Y.length;Nt++){t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.RENDERBUFFER,yt.__webglColorRenderbuffer[Nt]);const hn=i.get(Y[Nt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,yt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.TEXTURE_2D,hn,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,yt.__webglMultisampledFramebuffer)}else if(te.depthBuffer&&te.resolveDepthBuffer===!1&&c){const Y=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Y])}}}function Je(te){return Math.min(r.maxSamples,te.samples)}function dt(te){const Y=i.get(te);return te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function pt(te){const Y=a.render.frame;d.get(te)!==Y&&(d.set(te,Y),te.update())}function It(te,Y){const we=te.colorSpace,Fe=te.format,it=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||we!==Jd&&we!==Jh&&(ii.getTransfer(we)===Bi?(Fe!==ba||it!==Pc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",we)),Y}function Et(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(u.width=te.naturalWidth||te.width,u.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(u.width=te.displayWidth,u.height=te.displayHeight):(u.width=te.width,u.height=te.height),u}this.allocateTextureUnit=G,this.resetTextureUnits=X,this.setTexture2D=de,this.setTexture2DArray=K,this.setTexture3D=ue,this.setTextureCube=ne,this.rebindTextures=Qe,this.setupRenderTarget=qt,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=bt,this.setupDepthRenderbuffer=wt,this.setupFrameBufferTexture=Ie,this.useMultisampledRTT=dt}function G9(n,e){function t(i,r=Jh){let s;const a=ii.getTransfer(r);if(i===Pc)return n.UNSIGNED_BYTE;if(i===bM)return n.UNSIGNED_SHORT_4_4_4_4;if(i===_M)return n.UNSIGNED_SHORT_5_5_5_1;if(i===qN)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===jN)return n.BYTE;if(i===GN)return n.SHORT;if(i===Ty)return n.UNSIGNED_SHORT;if(i===yM)return n.INT;if(i===pf)return n.UNSIGNED_INT;if(i===wo)return n.FLOAT;if(i===Ky)return n.HALF_FLOAT;if(i===WN)return n.ALPHA;if(i===XN)return n.RGB;if(i===ba)return n.RGBA;if(i===YN)return n.LUMINANCE;if(i===KN)return n.LUMINANCE_ALPHA;if(i===Um)return n.DEPTH_COMPONENT;if(i===$m)return n.DEPTH_STENCIL;if(i===xM)return n.RED;if(i===_x)return n.RED_INTEGER;if(i===$N)return n.RG;if(i===SM)return n.RG_INTEGER;if(i===EM)return n.RGBA_INTEGER;if(i===t_||i===n_||i===i_||i===r_)if(a===Bi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===t_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===n_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===i_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===r_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===t_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===n_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===i_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===r_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===qw||i===Ww||i===Xw||i===Yw)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===qw)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Ww)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Xw)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Yw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Kw||i===$w||i===Zw)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Kw||i===$w)return a===Bi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===Zw)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Qw||i===Jw||i===eT||i===tT||i===nT||i===iT||i===rT||i===sT||i===aT||i===oT||i===lT||i===cT||i===uT||i===hT)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Qw)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Jw)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===eT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===tT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===nT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===iT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===rT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===sT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===aT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===oT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===lT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===cT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===uT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===hT)return a===Bi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===s_||i===fT||i===dT)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===s_)return a===Bi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===fT)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===dT)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===ZN||i===pT||i===mT||i===gT)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===s_)return s.COMPRESSED_RED_RGTC1_EXT;if(i===pT)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===mT)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===gT)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Km?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class q9 extends qr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ny extends bi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Mpe={type:"move"};class wR{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ny,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ny,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ny,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,c=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const w of e.hand.values()){const S=t.getJointPose(w,i),E=this._getHandJoint(u,w);S!==null&&(E.matrix.fromArray(S.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=S.radius),E.visible=S!==null}const d=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],v=d.position.distanceTo(p.position),y=.02,_=.005;u.inputState.pinching&&v>y+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=y-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Mpe)))}return o!==null&&(o.visible=r!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new ny;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const Ape=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Cpe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Rpe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new cr,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Lc({vertexShader:Ape,fragmentShader:Cpe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new is(new $y(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Dpe extends lh{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",c=1,u=null,d=null,p=null,v=null,y=null,_=null;const w=new Rpe,S=t.getContextAttributes();let E=null,A=null;const R=[],D=[],k=new nt;let N=null;const z=new qr;z.viewport=new yi;const V=new qr;V.viewport=new yi;const I=[z,V],L=new q9;let j=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let Oe=R[oe];return Oe===void 0&&(Oe=new wR,R[oe]=Oe),Oe.getTargetRaySpace()},this.getControllerGrip=function(oe){let Oe=R[oe];return Oe===void 0&&(Oe=new wR,R[oe]=Oe),Oe.getGripSpace()},this.getHand=function(oe){let Oe=R[oe];return Oe===void 0&&(Oe=new wR,R[oe]=Oe),Oe.getHandSpace()};function G(oe){const Oe=D.indexOf(oe.inputSource);if(Oe===-1)return;const Ie=R[Oe];Ie!==void 0&&(Ie.update(oe.inputSource,oe.frame,u||a),Ie.dispatchEvent({type:oe.type,data:oe.inputSource}))}function re(){r.removeEventListener("select",G),r.removeEventListener("selectstart",G),r.removeEventListener("selectend",G),r.removeEventListener("squeeze",G),r.removeEventListener("squeezestart",G),r.removeEventListener("squeezeend",G),r.removeEventListener("end",re),r.removeEventListener("inputsourceschange",de);for(let oe=0;oe<R.length;oe++){const Oe=D[oe];Oe!==null&&(D[oe]=null,R[oe].disconnect(Oe))}j=null,X=null,w.reset(),e.setRenderTarget(E),y=null,v=null,p=null,r=null,A=null,De.stop(),i.isPresenting=!1,e.setPixelRatio(N),e.setSize(k.width,k.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){s=oe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){o=oe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(oe){u=oe},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return p},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(oe){if(r=oe,r!==null){if(E=e.getRenderTarget(),r.addEventListener("select",G),r.addEventListener("selectstart",G),r.addEventListener("selectend",G),r.addEventListener("squeeze",G),r.addEventListener("squeezestart",G),r.addEventListener("squeezeend",G),r.addEventListener("end",re),r.addEventListener("inputsourceschange",de),S.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(k),r.renderState.layers===void 0){const Oe={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};y=new XRWebGLLayer(r,t,Oe),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),A=new Ic(y.framebufferWidth,y.framebufferHeight,{format:ba,type:Pc,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let Oe=null,Ie=null,je=null;S.depth&&(je=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Oe=S.stencil?$m:Um,Ie=S.stencil?Km:pf);const tt={colorFormat:t.RGBA8,depthFormat:je,scaleFactor:s};p=new XRWebGLBinding(r,t),v=p.createProjectionLayer(tt),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),A=new Ic(v.textureWidth,v.textureHeight,{format:ba,type:Pc,depthTexture:new sP(v.textureWidth,v.textureHeight,Ie,void 0,void 0,void 0,void 0,void 0,void 0,Oe),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await r.requestReferenceSpace(o),De.setContext(r),De.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function de(oe){for(let Oe=0;Oe<oe.removed.length;Oe++){const Ie=oe.removed[Oe],je=D.indexOf(Ie);je>=0&&(D[je]=null,R[je].disconnect(Ie))}for(let Oe=0;Oe<oe.added.length;Oe++){const Ie=oe.added[Oe];let je=D.indexOf(Ie);if(je===-1){for(let wt=0;wt<R.length;wt++)if(wt>=D.length){D.push(Ie),je=wt;break}else if(D[wt]===null){D[wt]=Ie,je=wt;break}if(je===-1)break}const tt=R[je];tt&&tt.connect(Ie)}}const K=new ie,ue=new ie;function ne(oe,Oe,Ie){K.setFromMatrixPosition(Oe.matrixWorld),ue.setFromMatrixPosition(Ie.matrixWorld);const je=K.distanceTo(ue),tt=Oe.projectionMatrix.elements,wt=Ie.projectionMatrix.elements,Qe=tt[14]/(tt[10]-1),qt=tt[14]/(tt[10]+1),Ge=(tt[9]+1)/tt[5],Ye=(tt[9]-1)/tt[5],se=(tt[8]-1)/tt[0],bt=(wt[8]+1)/wt[0],Je=Qe*se,dt=Qe*bt,pt=je/(-se+bt),It=pt*-se;if(Oe.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(It),oe.translateZ(pt),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert(),tt[10]===-1)oe.projectionMatrix.copy(Oe.projectionMatrix),oe.projectionMatrixInverse.copy(Oe.projectionMatrixInverse);else{const Et=Qe+pt,te=qt+pt,Y=Je-It,we=dt+(je-It),Fe=Ge*qt/te*Et,it=Ye*qt/te*Et;oe.projectionMatrix.makePerspective(Y,we,Fe,it,Et,te),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}}function ve(oe,Oe){Oe===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(Oe.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(r===null)return;let Oe=oe.near,Ie=oe.far;w.texture!==null&&(w.depthNear>0&&(Oe=w.depthNear),w.depthFar>0&&(Ie=w.depthFar)),L.near=V.near=z.near=Oe,L.far=V.far=z.far=Ie,(j!==L.near||X!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),j=L.near,X=L.far),z.layers.mask=oe.layers.mask|2,V.layers.mask=oe.layers.mask|4,L.layers.mask=z.layers.mask|V.layers.mask;const je=oe.parent,tt=L.cameras;ve(L,je);for(let wt=0;wt<tt.length;wt++)ve(tt[wt],je);tt.length===2?ne(L,z,V):L.projectionMatrix.copy(z.projectionMatrix),Z(oe,L,je)};function Z(oe,Oe,Ie){Ie===null?oe.matrix.copy(Oe.matrixWorld):(oe.matrix.copy(Ie.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(Oe.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0),oe.projectionMatrix.copy(Oe.projectionMatrix),oe.projectionMatrixInverse.copy(Oe.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=My*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(v===null&&y===null))return c},this.setFoveation=function(oe){c=oe,v!==null&&(v.fixedFoveation=oe),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=oe)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(L)};let le=null;function Ae(oe,Oe){if(d=Oe.getViewerPose(u||a),_=Oe,d!==null){const Ie=d.views;y!==null&&(e.setRenderTargetFramebuffer(A,y.framebuffer),e.setRenderTarget(A));let je=!1;Ie.length!==L.cameras.length&&(L.cameras.length=0,je=!0);for(let wt=0;wt<Ie.length;wt++){const Qe=Ie[wt];let qt=null;if(y!==null)qt=y.getViewport(Qe);else{const Ye=p.getViewSubImage(v,Qe);qt=Ye.viewport,wt===0&&(e.setRenderTargetTextures(A,Ye.colorTexture,v.ignoreDepthValues?void 0:Ye.depthStencilTexture),e.setRenderTarget(A))}let Ge=I[wt];Ge===void 0&&(Ge=new qr,Ge.layers.enable(wt),Ge.viewport=new yi,I[wt]=Ge),Ge.matrix.fromArray(Qe.transform.matrix),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),Ge.projectionMatrix.fromArray(Qe.projectionMatrix),Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert(),Ge.viewport.set(qt.x,qt.y,qt.width,qt.height),wt===0&&(L.matrix.copy(Ge.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),je===!0&&L.cameras.push(Ge)}const tt=r.enabledFeatures;if(tt&&tt.includes("depth-sensing")){const wt=p.getDepthInformation(Ie[0]);wt&&wt.isValid&&wt.texture&&w.init(e,wt,r.renderState)}}for(let Ie=0;Ie<R.length;Ie++){const je=D[Ie],tt=R[Ie];je!==null&&tt!==void 0&&tt.update(je,Oe,u||a)}le&&le(oe,Oe),Oe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Oe}),_=null}const De=new B9;De.setAnimationLoop(Ae),this.setAnimationLoop=function(oe){le=oe},this.dispose=function(){}}}const tm=new al,Ope=new wn;function Npe(n,e){function t(S,E){S.matrixAutoUpdate===!0&&S.updateMatrix(),E.value.copy(S.matrix)}function i(S,E){E.color.getRGB(S.fogColor.value,L9(n)),E.isFog?(S.fogNear.value=E.near,S.fogFar.value=E.far):E.isFogExp2&&(S.fogDensity.value=E.density)}function r(S,E,A,R,D){E.isMeshBasicMaterial||E.isMeshLambertMaterial?s(S,E):E.isMeshToonMaterial?(s(S,E),p(S,E)):E.isMeshPhongMaterial?(s(S,E),d(S,E)):E.isMeshStandardMaterial?(s(S,E),v(S,E),E.isMeshPhysicalMaterial&&y(S,E,D)):E.isMeshMatcapMaterial?(s(S,E),_(S,E)):E.isMeshDepthMaterial?s(S,E):E.isMeshDistanceMaterial?(s(S,E),w(S,E)):E.isMeshNormalMaterial?s(S,E):E.isLineBasicMaterial?(a(S,E),E.isLineDashedMaterial&&o(S,E)):E.isPointsMaterial?c(S,E,A,R):E.isSpriteMaterial?u(S,E):E.isShadowMaterial?(S.color.value.copy(E.color),S.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function s(S,E){S.opacity.value=E.opacity,E.color&&S.diffuse.value.copy(E.color),E.emissive&&S.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(S.map.value=E.map,t(E.map,S.mapTransform)),E.alphaMap&&(S.alphaMap.value=E.alphaMap,t(E.alphaMap,S.alphaMapTransform)),E.bumpMap&&(S.bumpMap.value=E.bumpMap,t(E.bumpMap,S.bumpMapTransform),S.bumpScale.value=E.bumpScale,E.side===Wa&&(S.bumpScale.value*=-1)),E.normalMap&&(S.normalMap.value=E.normalMap,t(E.normalMap,S.normalMapTransform),S.normalScale.value.copy(E.normalScale),E.side===Wa&&S.normalScale.value.negate()),E.displacementMap&&(S.displacementMap.value=E.displacementMap,t(E.displacementMap,S.displacementMapTransform),S.displacementScale.value=E.displacementScale,S.displacementBias.value=E.displacementBias),E.emissiveMap&&(S.emissiveMap.value=E.emissiveMap,t(E.emissiveMap,S.emissiveMapTransform)),E.specularMap&&(S.specularMap.value=E.specularMap,t(E.specularMap,S.specularMapTransform)),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest);const A=e.get(E),R=A.envMap,D=A.envMapRotation;R&&(S.envMap.value=R,tm.copy(D),tm.x*=-1,tm.y*=-1,tm.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(tm.y*=-1,tm.z*=-1),S.envMapRotation.value.setFromMatrix4(Ope.makeRotationFromEuler(tm)),S.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=E.reflectivity,S.ior.value=E.ior,S.refractionRatio.value=E.refractionRatio),E.lightMap&&(S.lightMap.value=E.lightMap,S.lightMapIntensity.value=E.lightMapIntensity,t(E.lightMap,S.lightMapTransform)),E.aoMap&&(S.aoMap.value=E.aoMap,S.aoMapIntensity.value=E.aoMapIntensity,t(E.aoMap,S.aoMapTransform))}function a(S,E){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,E.map&&(S.map.value=E.map,t(E.map,S.mapTransform))}function o(S,E){S.dashSize.value=E.dashSize,S.totalSize.value=E.dashSize+E.gapSize,S.scale.value=E.scale}function c(S,E,A,R){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,S.size.value=E.size*A,S.scale.value=R*.5,E.map&&(S.map.value=E.map,t(E.map,S.uvTransform)),E.alphaMap&&(S.alphaMap.value=E.alphaMap,t(E.alphaMap,S.alphaMapTransform)),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest)}function u(S,E){S.diffuse.value.copy(E.color),S.opacity.value=E.opacity,S.rotation.value=E.rotation,E.map&&(S.map.value=E.map,t(E.map,S.mapTransform)),E.alphaMap&&(S.alphaMap.value=E.alphaMap,t(E.alphaMap,S.alphaMapTransform)),E.alphaTest>0&&(S.alphaTest.value=E.alphaTest)}function d(S,E){S.specular.value.copy(E.specular),S.shininess.value=Math.max(E.shininess,1e-4)}function p(S,E){E.gradientMap&&(S.gradientMap.value=E.gradientMap)}function v(S,E){S.metalness.value=E.metalness,E.metalnessMap&&(S.metalnessMap.value=E.metalnessMap,t(E.metalnessMap,S.metalnessMapTransform)),S.roughness.value=E.roughness,E.roughnessMap&&(S.roughnessMap.value=E.roughnessMap,t(E.roughnessMap,S.roughnessMapTransform)),E.envMap&&(S.envMapIntensity.value=E.envMapIntensity)}function y(S,E,A){S.ior.value=E.ior,E.sheen>0&&(S.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),S.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(S.sheenColorMap.value=E.sheenColorMap,t(E.sheenColorMap,S.sheenColorMapTransform)),E.sheenRoughnessMap&&(S.sheenRoughnessMap.value=E.sheenRoughnessMap,t(E.sheenRoughnessMap,S.sheenRoughnessMapTransform))),E.clearcoat>0&&(S.clearcoat.value=E.clearcoat,S.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(S.clearcoatMap.value=E.clearcoatMap,t(E.clearcoatMap,S.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,t(E.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(S.clearcoatNormalMap.value=E.clearcoatNormalMap,t(E.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===Wa&&S.clearcoatNormalScale.value.negate())),E.dispersion>0&&(S.dispersion.value=E.dispersion),E.iridescence>0&&(S.iridescence.value=E.iridescence,S.iridescenceIOR.value=E.iridescenceIOR,S.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(S.iridescenceMap.value=E.iridescenceMap,t(E.iridescenceMap,S.iridescenceMapTransform)),E.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=E.iridescenceThicknessMap,t(E.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),E.transmission>0&&(S.transmission.value=E.transmission,S.transmissionSamplerMap.value=A.texture,S.transmissionSamplerSize.value.set(A.width,A.height),E.transmissionMap&&(S.transmissionMap.value=E.transmissionMap,t(E.transmissionMap,S.transmissionMapTransform)),S.thickness.value=E.thickness,E.thicknessMap&&(S.thicknessMap.value=E.thicknessMap,t(E.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=E.attenuationDistance,S.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(S.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(S.anisotropyMap.value=E.anisotropyMap,t(E.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=E.specularIntensity,S.specularColor.value.copy(E.specularColor),E.specularColorMap&&(S.specularColorMap.value=E.specularColorMap,t(E.specularColorMap,S.specularColorMapTransform)),E.specularIntensityMap&&(S.specularIntensityMap.value=E.specularIntensityMap,t(E.specularIntensityMap,S.specularIntensityMapTransform))}function _(S,E){E.matcap&&(S.matcap.value=E.matcap)}function w(S,E){const A=e.get(E).light;S.referencePosition.value.setFromMatrixPosition(A.matrixWorld),S.nearDistance.value=A.shadow.camera.near,S.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Ppe(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(A,R){const D=R.program;i.uniformBlockBinding(A,D)}function u(A,R){let D=r[A.id];D===void 0&&(_(A),D=d(A),r[A.id]=D,A.addEventListener("dispose",S));const k=R.program;i.updateUBOMapping(A,k);const N=e.render.frame;s[A.id]!==N&&(v(A),s[A.id]=N)}function d(A){const R=p();A.__bindingPointIndex=R;const D=n.createBuffer(),k=A.__size,N=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,k,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,R,D),D}function p(){for(let A=0;A<o;A++)if(a.indexOf(A)===-1)return a.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(A){const R=r[A.id],D=A.uniforms,k=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,R);for(let N=0,z=D.length;N<z;N++){const V=Array.isArray(D[N])?D[N]:[D[N]];for(let I=0,L=V.length;I<L;I++){const j=V[I];if(y(j,N,I,k)===!0){const X=j.__offset,G=Array.isArray(j.value)?j.value:[j.value];let re=0;for(let de=0;de<G.length;de++){const K=G[de],ue=w(K);typeof K=="number"||typeof K=="boolean"?(j.__data[0]=K,n.bufferSubData(n.UNIFORM_BUFFER,X+re,j.__data)):K.isMatrix3?(j.__data[0]=K.elements[0],j.__data[1]=K.elements[1],j.__data[2]=K.elements[2],j.__data[3]=0,j.__data[4]=K.elements[3],j.__data[5]=K.elements[4],j.__data[6]=K.elements[5],j.__data[7]=0,j.__data[8]=K.elements[6],j.__data[9]=K.elements[7],j.__data[10]=K.elements[8],j.__data[11]=0):(K.toArray(j.__data,re),re+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,X,j.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function y(A,R,D,k){const N=A.value,z=R+"_"+D;if(k[z]===void 0)return typeof N=="number"||typeof N=="boolean"?k[z]=N:k[z]=N.clone(),!0;{const V=k[z];if(typeof N=="number"||typeof N=="boolean"){if(V!==N)return k[z]=N,!0}else if(V.equals(N)===!1)return V.copy(N),!0}return!1}function _(A){const R=A.uniforms;let D=0;const k=16;for(let z=0,V=R.length;z<V;z++){const I=Array.isArray(R[z])?R[z]:[R[z]];for(let L=0,j=I.length;L<j;L++){const X=I[L],G=Array.isArray(X.value)?X.value:[X.value];for(let re=0,de=G.length;re<de;re++){const K=G[re],ue=w(K),ne=D%k,ve=ne%ue.boundary,Z=ne+ve;D+=ve,Z!==0&&k-Z<ue.storage&&(D+=k-Z),X.__data=new Float32Array(ue.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=D,D+=ue.storage}}}const N=D%k;return N>0&&(D+=k-N),A.__size=D,A.__cache={},this}function w(A){const R={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(R.boundary=4,R.storage=4):A.isVector2?(R.boundary=8,R.storage=8):A.isVector3||A.isColor?(R.boundary=16,R.storage=12):A.isVector4?(R.boundary=16,R.storage=16):A.isMatrix3?(R.boundary=48,R.storage=48):A.isMatrix4?(R.boundary=64,R.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),R}function S(A){const R=A.target;R.removeEventListener("dispose",S);const D=a.indexOf(R.__bindingPointIndex);a.splice(D,1),n.deleteBuffer(r[R.id]),delete r[R.id],delete s[R.id]}function E(){for(const A in r)n.deleteBuffer(r[A]);a=[],r={},s={}}return{bind:c,update:u,dispose:E}}class W9{constructor(e={}){const{canvas:t=O9(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let y;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=i.getContextAttributes().alpha}else y=a;const _=new Uint32Array(4),w=new Int32Array(4);let S=null,E=null;const A=[],R=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fa,this.toneMapping=Yu,this.toneMappingExposure=1;const D=this;let k=!1,N=0,z=0,V=null,I=-1,L=null;const j=new yi,X=new yi;let G=null;const re=new $t(0);let de=0,K=t.width,ue=t.height,ne=1,ve=null,Z=null;const le=new yi(0,0,K,ue),Ae=new yi(0,0,K,ue);let De=!1;const oe=new Ex;let Oe=!1,Ie=!1;const je=new wn,tt=new wn,wt=new ie,Qe=new yi,qt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ge=!1;function Ye(){return V===null?ne:1}let se=i;function bt($,be){return t.getContext($,be)}try{const $={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${mM}`),t.addEventListener("webglcontextlost",We,!1),t.addEventListener("webglcontextrestored",Xe,!1),t.addEventListener("webglcontextcreationerror",rt,!1),se===null){const be="webgl2";if(se=bt(be,$),se===null)throw bt(be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let Je,dt,pt,It,Et,te,Y,we,Fe,it,ze,yt,_t,Nt,hn,st,Ct,Wt,Vt,Pt,pe,Be,Tt,he;function ht(){Je=new Bfe(se),Je.init(),Be=new G9(se,Je),dt=new Pfe(se,Je,e,Be),pt=new bpe(se,Je),dt.reverseDepthBuffer&&v&&pt.buffers.depth.setReversed(!0),It=new Hfe(se),Et=new ape,te=new Tpe(se,Je,pt,Et,dt,Be,It),Y=new Lfe(D),we=new Vfe(D),Fe=new Kce(se),Tt=new Ofe(se,Fe),it=new kfe(se,Fe,It,Tt),ze=new Gfe(se,it,Fe,It),Vt=new jfe(se,dt,te),st=new Ife(Et),yt=new spe(D,Y,we,Je,dt,Tt,st),_t=new Npe(D,Et),Nt=new lpe,hn=new ppe(Je),Wt=new Dfe(D,Y,we,pt,ze,y,c),Ct=new vpe(D,ze,dt),he=new Ppe(se,It,dt,pt),Pt=new Nfe(se,Je,It),pe=new Ffe(se,Je,It),It.programs=yt.programs,D.capabilities=dt,D.extensions=Je,D.properties=Et,D.renderLists=Nt,D.shadowMap=Ct,D.state=pt,D.info=It}ht();const Le=new Dpe(D,se);this.xr=Le,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const $=Je.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=Je.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function($){$!==void 0&&(ne=$,this.setSize(K,ue,!1))},this.getSize=function($){return $.set(K,ue)},this.setSize=function($,be,Ne=!0){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=$,ue=be,t.width=Math.floor($*ne),t.height=Math.floor(be*ne),Ne===!0&&(t.style.width=$+"px",t.style.height=be+"px"),this.setViewport(0,0,$,be)},this.getDrawingBufferSize=function($){return $.set(K*ne,ue*ne).floor()},this.setDrawingBufferSize=function($,be,Ne){K=$,ue=be,ne=Ne,t.width=Math.floor($*Ne),t.height=Math.floor(be*Ne),this.setViewport(0,0,$,be)},this.getCurrentViewport=function($){return $.copy(j)},this.getViewport=function($){return $.copy(le)},this.setViewport=function($,be,Ne,Te){$.isVector4?le.set($.x,$.y,$.z,$.w):le.set($,be,Ne,Te),pt.viewport(j.copy(le).multiplyScalar(ne).round())},this.getScissor=function($){return $.copy(Ae)},this.setScissor=function($,be,Ne,Te){$.isVector4?Ae.set($.x,$.y,$.z,$.w):Ae.set($,be,Ne,Te),pt.scissor(X.copy(Ae).multiplyScalar(ne).round())},this.getScissorTest=function(){return De},this.setScissorTest=function($){pt.setScissorTest(De=$)},this.setOpaqueSort=function($){ve=$},this.setTransparentSort=function($){Z=$},this.getClearColor=function($){return $.copy(Wt.getClearColor())},this.setClearColor=function(){Wt.setClearColor.apply(Wt,arguments)},this.getClearAlpha=function(){return Wt.getClearAlpha()},this.setClearAlpha=function(){Wt.setClearAlpha.apply(Wt,arguments)},this.clear=function($=!0,be=!0,Ne=!0){let Te=0;if($){let me=!1;if(V!==null){const ut=V.texture.format;me=ut===EM||ut===SM||ut===_x}if(me){const ut=V.texture.type,ct=ut===Pc||ut===pf||ut===Ty||ut===Km||ut===bM||ut===_M,Xt=Wt.getClearColor(),zt=Wt.getClearAlpha(),At=Xt.r,Ft=Xt.g,Ut=Xt.b;ct?(_[0]=At,_[1]=Ft,_[2]=Ut,_[3]=zt,se.clearBufferuiv(se.COLOR,0,_)):(w[0]=At,w[1]=Ft,w[2]=Ut,w[3]=zt,se.clearBufferiv(se.COLOR,0,w))}else Te|=se.COLOR_BUFFER_BIT}be&&(Te|=se.DEPTH_BUFFER_BIT),Ne&&(Te|=se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se.clear(Te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",We,!1),t.removeEventListener("webglcontextrestored",Xe,!1),t.removeEventListener("webglcontextcreationerror",rt,!1),Nt.dispose(),hn.dispose(),Et.dispose(),Y.dispose(),we.dispose(),ze.dispose(),Tt.dispose(),he.dispose(),yt.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",et),Le.removeEventListener("sessionend",xt),Bt.stop()};function We($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1;const $=It.autoReset,be=Ct.enabled,Ne=Ct.autoUpdate,Te=Ct.needsUpdate,me=Ct.type;ht(),It.autoReset=$,Ct.enabled=be,Ct.autoUpdate=Ne,Ct.needsUpdate=Te,Ct.type=me}function rt($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function Dt($){const be=$.target;be.removeEventListener("dispose",Dt),sn(be)}function sn($){Un($),Et.remove($)}function Un($){const be=Et.get($).programs;be!==void 0&&(be.forEach(function(Ne){yt.releaseProgram(Ne)}),$.isShaderMaterial&&yt.releaseShaderCache($))}this.renderBufferDirect=function($,be,Ne,Te,me,ut){be===null&&(be=qt);const ct=me.isMesh&&me.matrixWorld.determinant()<0,Xt=ai($,be,Ne,Te,me);pt.setMaterial(Te,ct);let zt=Ne.index,At=1;if(Te.wireframe===!0){if(zt=it.getWireframeAttribute(Ne),zt===void 0)return;At=2}const Ft=Ne.drawRange,Ut=Ne.attributes.position;let Cn=Ft.start*At,ln=(Ft.start+Ft.count)*At;ut!==null&&(Cn=Math.max(Cn,ut.start*At),ln=Math.min(ln,(ut.start+ut.count)*At)),zt!==null?(Cn=Math.max(Cn,0),ln=Math.min(ln,zt.count)):Ut!=null&&(Cn=Math.max(Cn,0),ln=Math.min(ln,Ut.count));const Bn=ln-Cn;if(Bn<0||Bn===1/0)return;Tt.setup(me,Te,Xt,Ne,zt);let Ji,Dn=Pt;if(zt!==null&&(Ji=Fe.get(zt),Dn=pe,Dn.setIndex(Ji)),me.isMesh)Te.wireframe===!0?(pt.setLineWidth(Te.wireframeLinewidth*Ye()),Dn.setMode(se.LINES)):Dn.setMode(se.TRIANGLES);else if(me.isLine){let Zt=Te.linewidth;Zt===void 0&&(Zt=1),pt.setLineWidth(Zt*Ye()),me.isLineSegments?Dn.setMode(se.LINES):me.isLineLoop?Dn.setMode(se.LINE_LOOP):Dn.setMode(se.LINE_STRIP)}else me.isPoints?Dn.setMode(se.POINTS):me.isSprite&&Dn.setMode(se.TRIANGLES);if(me.isBatchedMesh)if(me._multiDrawInstances!==null)Dn.renderMultiDrawInstances(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount,me._multiDrawInstances);else if(Je.get("WEBGL_multi_draw"))Dn.renderMultiDraw(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount);else{const Zt=me._multiDrawStarts,Xi=me._multiDrawCounts,Sn=me._multiDrawCount,ds=zt?Fe.get(zt).bytesPerElement:1,Do=Et.get(Te).currentProgram.getUniforms();for(let rr=0;rr<Sn;rr++)Do.setValue(se,"_gl_DrawID",rr),Dn.render(Zt[rr]/ds,Xi[rr])}else if(me.isInstancedMesh)Dn.renderInstances(Cn,Bn,me.count);else if(Ne.isInstancedBufferGeometry){const Zt=Ne._maxInstanceCount!==void 0?Ne._maxInstanceCount:1/0,Xi=Math.min(Ne.instanceCount,Zt);Dn.renderInstances(Cn,Bn,Xi)}else Dn.render(Cn,Bn)};function ae($,be,Ne){$.transparent===!0&&$.side===Vu&&$.forceSinglePass===!1?($.side=Wa,$.needsUpdate=!0,Ot($,be,Ne),$.side=ff,$.needsUpdate=!0,Ot($,be,Ne),$.side=Vu):Ot($,be,Ne)}this.compile=function($,be,Ne=null){Ne===null&&(Ne=$),E=hn.get(Ne),E.init(be),R.push(E),Ne.traverseVisible(function(me){me.isLight&&me.layers.test(be.layers)&&(E.pushLight(me),me.castShadow&&E.pushShadow(me))}),$!==Ne&&$.traverseVisible(function(me){me.isLight&&me.layers.test(be.layers)&&(E.pushLight(me),me.castShadow&&E.pushShadow(me))}),E.setupLights();const Te=new Set;return $.traverse(function(me){if(!(me.isMesh||me.isPoints||me.isLine||me.isSprite))return;const ut=me.material;if(ut)if(Array.isArray(ut))for(let ct=0;ct<ut.length;ct++){const Xt=ut[ct];ae(Xt,Ne,me),Te.add(Xt)}else ae(ut,Ne,me),Te.add(ut)}),R.pop(),E=null,Te},this.compileAsync=function($,be,Ne=null){const Te=this.compile($,be,Ne);return new Promise(me=>{function ut(){if(Te.forEach(function(ct){Et.get(ct).currentProgram.isReady()&&Te.delete(ct)}),Te.size===0){me($);return}setTimeout(ut,10)}Je.get("KHR_parallel_shader_compile")!==null?ut():setTimeout(ut,10)})};let ge=null;function Ee($){ge&&ge($)}function et(){Bt.stop()}function xt(){Bt.start()}const Bt=new B9;Bt.setAnimationLoop(Ee),typeof self<"u"&&Bt.setContext(self),this.setAnimationLoop=function($){ge=$,Le.setAnimationLoop($),$===null?Bt.stop():Bt.start()},Le.addEventListener("sessionstart",et),Le.addEventListener("sessionend",xt),this.render=function($,be){if(be!==void 0&&be.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;if($.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),be.parent===null&&be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(be),be=Le.getCamera()),$.isScene===!0&&$.onBeforeRender(D,$,be,V),E=hn.get($,R.length),E.init(be),R.push(E),tt.multiplyMatrices(be.projectionMatrix,be.matrixWorldInverse),oe.setFromProjectionMatrix(tt),Ie=this.localClippingEnabled,Oe=st.init(this.clippingPlanes,Ie),S=Nt.get($,A.length),S.init(),A.push(S),Le.enabled===!0&&Le.isPresenting===!0){const ut=D.xr.getDepthSensingMesh();ut!==null&&Yt(ut,be,-1/0,D.sortObjects)}Yt($,be,0,D.sortObjects),S.finish(),D.sortObjects===!0&&S.sort(ve,Z),Ge=Le.enabled===!1||Le.isPresenting===!1||Le.hasDepthSensing()===!1,Ge&&Wt.addToRenderList(S,$),this.info.render.frame++,Oe===!0&&st.beginShadows();const Ne=E.state.shadowsArray;Ct.render(Ne,$,be),Oe===!0&&st.endShadows(),this.info.autoReset===!0&&this.info.reset();const Te=S.opaque,me=S.transmissive;if(E.setupLights(),be.isArrayCamera){const ut=be.cameras;if(me.length>0)for(let ct=0,Xt=ut.length;ct<Xt;ct++){const zt=ut[ct];kt(Te,me,$,zt)}Ge&&Wt.render($);for(let ct=0,Xt=ut.length;ct<Xt;ct++){const zt=ut[ct];Gt(S,$,zt,zt.viewport)}}else me.length>0&&kt(Te,me,$,be),Ge&&Wt.render($),Gt(S,$,be);V!==null&&(te.updateMultisampleRenderTarget(V),te.updateRenderTargetMipmap(V)),$.isScene===!0&&$.onAfterRender(D,$,be),Tt.resetDefaultState(),I=-1,L=null,R.pop(),R.length>0?(E=R[R.length-1],Oe===!0&&st.setGlobalState(D.clippingPlanes,E.state.camera)):E=null,A.pop(),A.length>0?S=A[A.length-1]:S=null};function Yt($,be,Ne,Te){if($.visible===!1)return;if($.layers.test(be.layers)){if($.isGroup)Ne=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(be);else if($.isLight)E.pushLight($),$.castShadow&&E.pushShadow($);else if($.isSprite){if(!$.frustumCulled||oe.intersectsSprite($)){Te&&Qe.setFromMatrixPosition($.matrixWorld).applyMatrix4(tt);const ct=ze.update($),Xt=$.material;Xt.visible&&S.push($,ct,Xt,Ne,Qe.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&(!$.frustumCulled||oe.intersectsObject($))){const ct=ze.update($),Xt=$.material;if(Te&&($.boundingSphere!==void 0?($.boundingSphere===null&&$.computeBoundingSphere(),Qe.copy($.boundingSphere.center)):(ct.boundingSphere===null&&ct.computeBoundingSphere(),Qe.copy(ct.boundingSphere.center)),Qe.applyMatrix4($.matrixWorld).applyMatrix4(tt)),Array.isArray(Xt)){const zt=ct.groups;for(let At=0,Ft=zt.length;At<Ft;At++){const Ut=zt[At],Cn=Xt[Ut.materialIndex];Cn&&Cn.visible&&S.push($,ct,Cn,Ne,Qe.z,Ut)}}else Xt.visible&&S.push($,ct,Xt,Ne,Qe.z,null)}}const ut=$.children;for(let ct=0,Xt=ut.length;ct<Xt;ct++)Yt(ut[ct],be,Ne,Te)}function Gt($,be,Ne,Te){const me=$.opaque,ut=$.transmissive,ct=$.transparent;E.setupLightsView(Ne),Oe===!0&&st.setGlobalState(D.clippingPlanes,Ne),Te&&pt.viewport(j.copy(Te)),me.length>0&&gt(me,be,Ne),ut.length>0&&gt(ut,be,Ne),ct.length>0&&gt(ct,be,Ne),pt.buffers.depth.setTest(!0),pt.buffers.depth.setMask(!0),pt.buffers.color.setMask(!0),pt.setPolygonOffset(!1)}function kt($,be,Ne,Te){if((Ne.isScene===!0?Ne.overrideMaterial:null)!==null)return;E.state.transmissionRenderTarget[Te.id]===void 0&&(E.state.transmissionRenderTarget[Te.id]=new Ic(1,1,{generateMipmaps:!0,type:Je.has("EXT_color_buffer_half_float")||Je.has("EXT_color_buffer_float")?Ky:Pc,minFilter:ju,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ii.workingColorSpace}));const ut=E.state.transmissionRenderTarget[Te.id],ct=Te.viewport||j;ut.setSize(ct.z,ct.w);const Xt=D.getRenderTarget();D.setRenderTarget(ut),D.getClearColor(re),de=D.getClearAlpha(),de<1&&D.setClearColor(16777215,.5),D.clear(),Ge&&Wt.render(Ne);const zt=D.toneMapping;D.toneMapping=Yu;const At=Te.viewport;if(Te.viewport!==void 0&&(Te.viewport=void 0),E.setupLightsView(Te),Oe===!0&&st.setGlobalState(D.clippingPlanes,Te),gt($,Ne,Te),te.updateMultisampleRenderTarget(ut),te.updateRenderTargetMipmap(ut),Je.has("WEBGL_multisampled_render_to_texture")===!1){let Ft=!1;for(let Ut=0,Cn=be.length;Ut<Cn;Ut++){const ln=be[Ut],Bn=ln.object,Ji=ln.geometry,Dn=ln.material,Zt=ln.group;if(Dn.side===Vu&&Bn.layers.test(Te.layers)){const Xi=Dn.side;Dn.side=Wa,Dn.needsUpdate=!0,Kt(Bn,Ne,Te,Ji,Dn,Zt),Dn.side=Xi,Dn.needsUpdate=!0,Ft=!0}}Ft===!0&&(te.updateMultisampleRenderTarget(ut),te.updateRenderTargetMipmap(ut))}D.setRenderTarget(Xt),D.setClearColor(re,de),At!==void 0&&(Te.viewport=At),D.toneMapping=zt}function gt($,be,Ne){const Te=be.isScene===!0?be.overrideMaterial:null;for(let me=0,ut=$.length;me<ut;me++){const ct=$[me],Xt=ct.object,zt=ct.geometry,At=Te===null?ct.material:Te,Ft=ct.group;Xt.layers.test(Ne.layers)&&Kt(Xt,be,Ne,zt,At,Ft)}}function Kt($,be,Ne,Te,me,ut){$.onBeforeRender(D,be,Ne,Te,me,ut),$.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),me.onBeforeRender(D,be,Ne,Te,$,ut),me.transparent===!0&&me.side===Vu&&me.forceSinglePass===!1?(me.side=Wa,me.needsUpdate=!0,D.renderBufferDirect(Ne,be,Te,me,$,ut),me.side=ff,me.needsUpdate=!0,D.renderBufferDirect(Ne,be,Te,me,$,ut),me.side=Vu):D.renderBufferDirect(Ne,be,Te,me,$,ut),$.onAfterRender(D,be,Ne,Te,me,ut)}function Ot($,be,Ne){be.isScene!==!0&&(be=qt);const Te=Et.get($),me=E.state.lights,ut=E.state.shadowsArray,ct=me.state.version,Xt=yt.getParameters($,me.state,ut,be,Ne),zt=yt.getProgramCacheKey(Xt);let At=Te.programs;Te.environment=$.isMeshStandardMaterial?be.environment:null,Te.fog=be.fog,Te.envMap=($.isMeshStandardMaterial?we:Y).get($.envMap||Te.environment),Te.envMapRotation=Te.environment!==null&&$.envMap===null?be.environmentRotation:$.envMapRotation,At===void 0&&($.addEventListener("dispose",Dt),At=new Map,Te.programs=At);let Ft=At.get(zt);if(Ft!==void 0){if(Te.currentProgram===Ft&&Te.lightsStateVersion===ct)return _i($,Xt),Ft}else Xt.uniforms=yt.getUniforms($),$.onBeforeCompile(Xt,D),Ft=yt.acquireProgram(Xt,zt),At.set(zt,Ft),Te.uniforms=Xt.uniforms;const Ut=Te.uniforms;return(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(Ut.clippingPlanes=st.uniform),_i($,Xt),Te.needsLights=Ui($),Te.lightsStateVersion=ct,Te.needsLights&&(Ut.ambientLightColor.value=me.state.ambient,Ut.lightProbe.value=me.state.probe,Ut.directionalLights.value=me.state.directional,Ut.directionalLightShadows.value=me.state.directionalShadow,Ut.spotLights.value=me.state.spot,Ut.spotLightShadows.value=me.state.spotShadow,Ut.rectAreaLights.value=me.state.rectArea,Ut.ltc_1.value=me.state.rectAreaLTC1,Ut.ltc_2.value=me.state.rectAreaLTC2,Ut.pointLights.value=me.state.point,Ut.pointLightShadows.value=me.state.pointShadow,Ut.hemisphereLights.value=me.state.hemi,Ut.directionalShadowMap.value=me.state.directionalShadowMap,Ut.directionalShadowMatrix.value=me.state.directionalShadowMatrix,Ut.spotShadowMap.value=me.state.spotShadowMap,Ut.spotLightMatrix.value=me.state.spotLightMatrix,Ut.spotLightMap.value=me.state.spotLightMap,Ut.pointShadowMap.value=me.state.pointShadowMap,Ut.pointShadowMatrix.value=me.state.pointShadowMatrix),Te.currentProgram=Ft,Te.uniformsList=null,Ft}function zn($){if($.uniformsList===null){const be=$.currentProgram.getUniforms();$.uniformsList=jE.seqWithValue(be.seq,$.uniforms)}return $.uniformsList}function _i($,be){const Ne=Et.get($);Ne.outputColorSpace=be.outputColorSpace,Ne.batching=be.batching,Ne.batchingColor=be.batchingColor,Ne.instancing=be.instancing,Ne.instancingColor=be.instancingColor,Ne.instancingMorph=be.instancingMorph,Ne.skinning=be.skinning,Ne.morphTargets=be.morphTargets,Ne.morphNormals=be.morphNormals,Ne.morphColors=be.morphColors,Ne.morphTargetsCount=be.morphTargetsCount,Ne.numClippingPlanes=be.numClippingPlanes,Ne.numIntersection=be.numClipIntersection,Ne.vertexAlphas=be.vertexAlphas,Ne.vertexTangents=be.vertexTangents,Ne.toneMapping=be.toneMapping}function ai($,be,Ne,Te,me){be.isScene!==!0&&(be=qt),te.resetTextureUnits();const ut=be.fog,ct=Te.isMeshStandardMaterial?be.environment:null,Xt=V===null?D.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Jd,zt=(Te.isMeshStandardMaterial?we:Y).get(Te.envMap||ct),At=Te.vertexColors===!0&&!!Ne.attributes.color&&Ne.attributes.color.itemSize===4,Ft=!!Ne.attributes.tangent&&(!!Te.normalMap||Te.anisotropy>0),Ut=!!Ne.morphAttributes.position,Cn=!!Ne.morphAttributes.normal,ln=!!Ne.morphAttributes.color;let Bn=Yu;Te.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Bn=D.toneMapping);const Ji=Ne.morphAttributes.position||Ne.morphAttributes.normal||Ne.morphAttributes.color,Dn=Ji!==void 0?Ji.length:0,Zt=Et.get(Te),Xi=E.state.lights;if(Oe===!0&&(Ie===!0||$!==L)){const sr=$===L&&Te.id===I;st.setState(Te,$,sr)}let Sn=!1;Te.version===Zt.__version?(Zt.needsLights&&Zt.lightsStateVersion!==Xi.state.version||Zt.outputColorSpace!==Xt||me.isBatchedMesh&&Zt.batching===!1||!me.isBatchedMesh&&Zt.batching===!0||me.isBatchedMesh&&Zt.batchingColor===!0&&me.colorTexture===null||me.isBatchedMesh&&Zt.batchingColor===!1&&me.colorTexture!==null||me.isInstancedMesh&&Zt.instancing===!1||!me.isInstancedMesh&&Zt.instancing===!0||me.isSkinnedMesh&&Zt.skinning===!1||!me.isSkinnedMesh&&Zt.skinning===!0||me.isInstancedMesh&&Zt.instancingColor===!0&&me.instanceColor===null||me.isInstancedMesh&&Zt.instancingColor===!1&&me.instanceColor!==null||me.isInstancedMesh&&Zt.instancingMorph===!0&&me.morphTexture===null||me.isInstancedMesh&&Zt.instancingMorph===!1&&me.morphTexture!==null||Zt.envMap!==zt||Te.fog===!0&&Zt.fog!==ut||Zt.numClippingPlanes!==void 0&&(Zt.numClippingPlanes!==st.numPlanes||Zt.numIntersection!==st.numIntersection)||Zt.vertexAlphas!==At||Zt.vertexTangents!==Ft||Zt.morphTargets!==Ut||Zt.morphNormals!==Cn||Zt.morphColors!==ln||Zt.toneMapping!==Bn||Zt.morphTargetsCount!==Dn)&&(Sn=!0):(Sn=!0,Zt.__version=Te.version);let ds=Zt.currentProgram;Sn===!0&&(ds=Ot(Te,be,me));let Do=!1,rr=!1,$a=!1;const ti=ds.getUniforms(),ur=Zt.uniforms;if(pt.useProgram(ds.program)&&(Do=!0,rr=!0,$a=!0),Te.id!==I&&(I=Te.id,rr=!0),Do||L!==$){pt.buffers.depth.getReversed()?(je.copy($.projectionMatrix),_ce(je),xce(je),ti.setValue(se,"projectionMatrix",je)):ti.setValue(se,"projectionMatrix",$.projectionMatrix),ti.setValue(se,"viewMatrix",$.matrixWorldInverse);const rs=ti.map.cameraPosition;rs!==void 0&&rs.setValue(se,wt.setFromMatrixPosition($.matrixWorld)),dt.logarithmicDepthBuffer&&ti.setValue(se,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),(Te.isMeshPhongMaterial||Te.isMeshToonMaterial||Te.isMeshLambertMaterial||Te.isMeshBasicMaterial||Te.isMeshStandardMaterial||Te.isShaderMaterial)&&ti.setValue(se,"isOrthographic",$.isOrthographicCamera===!0),L!==$&&(L=$,rr=!0,$a=!0)}if(me.isSkinnedMesh){ti.setOptional(se,me,"bindMatrix"),ti.setOptional(se,me,"bindMatrixInverse");const sr=me.skeleton;sr&&(sr.boneTexture===null&&sr.computeBoneTexture(),ti.setValue(se,"boneTexture",sr.boneTexture,te))}me.isBatchedMesh&&(ti.setOptional(se,me,"batchingTexture"),ti.setValue(se,"batchingTexture",me._matricesTexture,te),ti.setOptional(se,me,"batchingIdTexture"),ti.setValue(se,"batchingIdTexture",me._indirectTexture,te),ti.setOptional(se,me,"batchingColorTexture"),me._colorsTexture!==null&&ti.setValue(se,"batchingColorTexture",me._colorsTexture,te));const Ti=Ne.morphAttributes;if((Ti.position!==void 0||Ti.normal!==void 0||Ti.color!==void 0)&&Vt.update(me,Ne,ds),(rr||Zt.receiveShadow!==me.receiveShadow)&&(Zt.receiveShadow=me.receiveShadow,ti.setValue(se,"receiveShadow",me.receiveShadow)),Te.isMeshGouraudMaterial&&Te.envMap!==null&&(ur.envMap.value=zt,ur.flipEnvMap.value=zt.isCubeTexture&&zt.isRenderTargetTexture===!1?-1:1),Te.isMeshStandardMaterial&&Te.envMap===null&&be.environment!==null&&(ur.envMapIntensity.value=be.environmentIntensity),rr&&(ti.setValue(se,"toneMappingExposure",D.toneMappingExposure),Zt.needsLights&&Vn(ur,$a),ut&&Te.fog===!0&&_t.refreshFogUniforms(ur,ut),_t.refreshMaterialUniforms(ur,Te,ne,ue,E.state.transmissionRenderTarget[$.id]),jE.upload(se,zn(Zt),ur,te)),Te.isShaderMaterial&&Te.uniformsNeedUpdate===!0&&(jE.upload(se,zn(Zt),ur,te),Te.uniformsNeedUpdate=!1),Te.isSpriteMaterial&&ti.setValue(se,"center",me.center),ti.setValue(se,"modelViewMatrix",me.modelViewMatrix),ti.setValue(se,"normalMatrix",me.normalMatrix),ti.setValue(se,"modelMatrix",me.matrixWorld),Te.isShaderMaterial||Te.isRawShaderMaterial){const sr=Te.uniformsGroups;for(let rs=0,ps=sr.length;rs<ps;rs++){const ei=sr[rs];he.update(ei,ds),he.bind(ei,ds)}}return ds}function Vn($,be){$.ambientLightColor.needsUpdate=be,$.lightProbe.needsUpdate=be,$.directionalLights.needsUpdate=be,$.directionalLightShadows.needsUpdate=be,$.pointLights.needsUpdate=be,$.pointLightShadows.needsUpdate=be,$.spotLights.needsUpdate=be,$.spotLightShadows.needsUpdate=be,$.rectAreaLights.needsUpdate=be,$.hemisphereLights.needsUpdate=be}function Ui($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function($,be,Ne){Et.get($.texture).__webglTexture=be,Et.get($.depthTexture).__webglTexture=Ne;const Te=Et.get($);Te.__hasExternalTextures=!0,Te.__autoAllocateDepthBuffer=Ne===void 0,Te.__autoAllocateDepthBuffer||Je.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Te.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function($,be){const Ne=Et.get($);Ne.__webglFramebuffer=be,Ne.__useDefaultFramebuffer=be===void 0},this.setRenderTarget=function($,be=0,Ne=0){V=$,N=be,z=Ne;let Te=!0,me=null,ut=!1,ct=!1;if($){const zt=Et.get($);if(zt.__useDefaultFramebuffer!==void 0)pt.bindFramebuffer(se.FRAMEBUFFER,null),Te=!1;else if(zt.__webglFramebuffer===void 0)te.setupRenderTarget($);else if(zt.__hasExternalTextures)te.rebindTextures($,Et.get($.texture).__webglTexture,Et.get($.depthTexture).__webglTexture);else if($.depthBuffer){const Ut=$.depthTexture;if(zt.__boundDepthTexture!==Ut){if(Ut!==null&&Et.has(Ut)&&($.width!==Ut.image.width||$.height!==Ut.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer($)}}const At=$.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(ct=!0);const Ft=Et.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Array.isArray(Ft[be])?me=Ft[be][Ne]:me=Ft[be],ut=!0):$.samples>0&&te.useMultisampledRTT($)===!1?me=Et.get($).__webglMultisampledFramebuffer:Array.isArray(Ft)?me=Ft[Ne]:me=Ft,j.copy($.viewport),X.copy($.scissor),G=$.scissorTest}else j.copy(le).multiplyScalar(ne).floor(),X.copy(Ae).multiplyScalar(ne).floor(),G=De;if(pt.bindFramebuffer(se.FRAMEBUFFER,me)&&Te&&pt.drawBuffers($,me),pt.viewport(j),pt.scissor(X),pt.setScissorTest(G),ut){const zt=Et.get($.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+be,zt.__webglTexture,Ne)}else if(ct){const zt=Et.get($.texture),At=be||0;se.framebufferTextureLayer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,zt.__webglTexture,Ne||0,At)}I=-1},this.readRenderTargetPixels=function($,be,Ne,Te,me,ut,ct){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Xt=Et.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&ct!==void 0&&(Xt=Xt[ct]),Xt){pt.bindFramebuffer(se.FRAMEBUFFER,Xt);try{const zt=$.texture,At=zt.format,Ft=zt.type;if(!dt.textureFormatReadable(At)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!dt.textureTypeReadable(Ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}be>=0&&be<=$.width-Te&&Ne>=0&&Ne<=$.height-me&&se.readPixels(be,Ne,Te,me,Be.convert(At),Be.convert(Ft),ut)}finally{const zt=V!==null?Et.get(V).__webglFramebuffer:null;pt.bindFramebuffer(se.FRAMEBUFFER,zt)}}},this.readRenderTargetPixelsAsync=async function($,be,Ne,Te,me,ut,ct){if(!($&&$.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Xt=Et.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&ct!==void 0&&(Xt=Xt[ct]),Xt){const zt=$.texture,At=zt.format,Ft=zt.type;if(!dt.textureFormatReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!dt.textureTypeReadable(Ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(be>=0&&be<=$.width-Te&&Ne>=0&&Ne<=$.height-me){pt.bindFramebuffer(se.FRAMEBUFFER,Xt);const Ut=se.createBuffer();se.bindBuffer(se.PIXEL_PACK_BUFFER,Ut),se.bufferData(se.PIXEL_PACK_BUFFER,ut.byteLength,se.STREAM_READ),se.readPixels(be,Ne,Te,me,Be.convert(At),Be.convert(Ft),0);const Cn=V!==null?Et.get(V).__webglFramebuffer:null;pt.bindFramebuffer(se.FRAMEBUFFER,Cn);const ln=se.fenceSync(se.SYNC_GPU_COMMANDS_COMPLETE,0);return se.flush(),await bce(se,ln,4),se.bindBuffer(se.PIXEL_PACK_BUFFER,Ut),se.getBufferSubData(se.PIXEL_PACK_BUFFER,0,ut),se.deleteBuffer(Ut),se.deleteSync(ln),ut}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function($,be=null,Ne=0){$.isTexture!==!0&&(Bb("WebGLRenderer: copyFramebufferToTexture function signature has changed."),be=arguments[0]||null,$=arguments[1]);const Te=Math.pow(2,-Ne),me=Math.floor($.image.width*Te),ut=Math.floor($.image.height*Te),ct=be!==null?be.x:0,Xt=be!==null?be.y:0;te.setTexture2D($,0),se.copyTexSubImage2D(se.TEXTURE_2D,Ne,0,0,ct,Xt,me,ut),pt.unbindTexture()},this.copyTextureToTexture=function($,be,Ne=null,Te=null,me=0){$.isTexture!==!0&&(Bb("WebGLRenderer: copyTextureToTexture function signature has changed."),Te=arguments[0]||null,$=arguments[1],be=arguments[2],me=arguments[3]||0,Ne=null);let ut,ct,Xt,zt,At,Ft,Ut,Cn,ln;const Bn=$.isCompressedTexture?$.mipmaps[me]:$.image;Ne!==null?(ut=Ne.max.x-Ne.min.x,ct=Ne.max.y-Ne.min.y,Xt=Ne.isBox3?Ne.max.z-Ne.min.z:1,zt=Ne.min.x,At=Ne.min.y,Ft=Ne.isBox3?Ne.min.z:0):(ut=Bn.width,ct=Bn.height,Xt=Bn.depth||1,zt=0,At=0,Ft=0),Te!==null?(Ut=Te.x,Cn=Te.y,ln=Te.z):(Ut=0,Cn=0,ln=0);const Ji=Be.convert(be.format),Dn=Be.convert(be.type);let Zt;be.isData3DTexture?(te.setTexture3D(be,0),Zt=se.TEXTURE_3D):be.isDataArrayTexture||be.isCompressedArrayTexture?(te.setTexture2DArray(be,0),Zt=se.TEXTURE_2D_ARRAY):(te.setTexture2D(be,0),Zt=se.TEXTURE_2D),se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,be.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,be.unpackAlignment);const Xi=se.getParameter(se.UNPACK_ROW_LENGTH),Sn=se.getParameter(se.UNPACK_IMAGE_HEIGHT),ds=se.getParameter(se.UNPACK_SKIP_PIXELS),Do=se.getParameter(se.UNPACK_SKIP_ROWS),rr=se.getParameter(se.UNPACK_SKIP_IMAGES);se.pixelStorei(se.UNPACK_ROW_LENGTH,Bn.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Bn.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,zt),se.pixelStorei(se.UNPACK_SKIP_ROWS,At),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Ft);const $a=$.isDataArrayTexture||$.isData3DTexture,ti=be.isDataArrayTexture||be.isData3DTexture;if($.isRenderTargetTexture||$.isDepthTexture){const ur=Et.get($),Ti=Et.get(be),sr=Et.get(ur.__renderTarget),rs=Et.get(Ti.__renderTarget);pt.bindFramebuffer(se.READ_FRAMEBUFFER,sr.__webglFramebuffer),pt.bindFramebuffer(se.DRAW_FRAMEBUFFER,rs.__webglFramebuffer);for(let ps=0;ps<Xt;ps++)$a&&se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,Et.get($).__webglTexture,me,Ft+ps),$.isDepthTexture?(ti&&se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,Et.get(be).__webglTexture,me,ln+ps),se.blitFramebuffer(zt,At,ut,ct,Ut,Cn,ut,ct,se.DEPTH_BUFFER_BIT,se.NEAREST)):ti?se.copyTexSubImage3D(Zt,me,Ut,Cn,ln+ps,zt,At,ut,ct):se.copyTexSubImage2D(Zt,me,Ut,Cn,ln+ps,zt,At,ut,ct);pt.bindFramebuffer(se.READ_FRAMEBUFFER,null),pt.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else ti?$.isDataTexture||$.isData3DTexture?se.texSubImage3D(Zt,me,Ut,Cn,ln,ut,ct,Xt,Ji,Dn,Bn.data):be.isCompressedArrayTexture?se.compressedTexSubImage3D(Zt,me,Ut,Cn,ln,ut,ct,Xt,Ji,Bn.data):se.texSubImage3D(Zt,me,Ut,Cn,ln,ut,ct,Xt,Ji,Dn,Bn):$.isDataTexture?se.texSubImage2D(se.TEXTURE_2D,me,Ut,Cn,ut,ct,Ji,Dn,Bn.data):$.isCompressedTexture?se.compressedTexSubImage2D(se.TEXTURE_2D,me,Ut,Cn,Bn.width,Bn.height,Ji,Bn.data):se.texSubImage2D(se.TEXTURE_2D,me,Ut,Cn,ut,ct,Ji,Dn,Bn);se.pixelStorei(se.UNPACK_ROW_LENGTH,Xi),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Sn),se.pixelStorei(se.UNPACK_SKIP_PIXELS,ds),se.pixelStorei(se.UNPACK_SKIP_ROWS,Do),se.pixelStorei(se.UNPACK_SKIP_IMAGES,rr),me===0&&be.generateMipmaps&&se.generateMipmap(Zt),pt.unbindTexture()},this.copyTextureToTexture3D=function($,be,Ne=null,Te=null,me=0){return $.isTexture!==!0&&(Bb("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ne=arguments[0]||null,Te=arguments[1]||null,$=arguments[2],be=arguments[3],me=arguments[4]||0),Bb('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture($,be,Ne,Te,me)},this.initRenderTarget=function($){Et.get($).__webglFramebuffer===void 0&&te.setupRenderTarget($)},this.initTexture=function($){$.isCubeTexture?te.setTextureCube($,0):$.isData3DTexture?te.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?te.setTexture2DArray($,0):te.setTexture2D($,0),pt.unbindTexture()},this.resetState=function(){N=0,z=0,V=null,pt.reset(),Tt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Gu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=ii._getDrawingBufferColorSpace(e),t.unpackColorSpace=ii._getUnpackColorSpace()}}class CM{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new $t(e),this.density=t}clone(){return new CM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class RM{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new $t(e),this.near=t,this.far=i}clone(){return new RM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class lP extends bi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new al,this.environmentIntensity=1,this.environmentRotation=new al,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class DM{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=I_,this.updateRanges=[],this.version=0,this.uuid=tl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Va=new ie;class Zm{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Va.fromBufferAttribute(this,t),Va.applyMatrix4(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Va.fromBufferAttribute(this,t),Va.applyNormalMatrix(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Va.fromBufferAttribute(this,t),Va.transformDirection(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ha(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=In(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ha(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ha(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ha(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ha(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),i=In(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),i=In(i,this.array),r=In(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),i=In(i,this.array),r=In(r,this.array),s=In(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new ji(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cP extends wa{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Cv;const wb=new ie,Rv=new ie,Dv=new ie,Ov=new nt,Tb=new nt,X9=new wn,zS=new ie,Mb=new ie,VS=new ie,R4=new nt,TR=new nt,D4=new nt;class Y9 extends bi{constructor(e=new cP){if(super(),this.isSprite=!0,this.type="Sprite",Cv===void 0){Cv=new Gn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new DM(t,5);Cv.setIndex([0,1,2,0,2,3]),Cv.setAttribute("position",new Zm(i,3,0,!1)),Cv.setAttribute("uv",new Zm(i,2,3,!1))}this.geometry=Cv,this.material=e,this.center=new nt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Rv.setFromMatrixScale(this.matrixWorld),X9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Dv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Rv.multiplyScalar(-Dv.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;BS(zS.set(-.5,-.5,0),Dv,a,Rv,r,s),BS(Mb.set(.5,-.5,0),Dv,a,Rv,r,s),BS(VS.set(.5,.5,0),Dv,a,Rv,r,s),R4.set(0,0),TR.set(1,0),D4.set(1,1);let o=e.ray.intersectTriangle(zS,Mb,VS,!1,wb);if(o===null&&(BS(Mb.set(-.5,.5,0),Dv,a,Rv,r,s),TR.set(0,1),o=e.ray.intersectTriangle(zS,VS,Mb,!1,wb),o===null))return;const c=e.ray.origin.distanceTo(wb);c<e.near||c>e.far||t.push({distance:c,point:wb.clone(),uv:Eo.getInterpolation(wb,zS,Mb,VS,R4,TR,D4,new nt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function BS(n,e,t,i,r,s){Ov.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Tb.x=s*Ov.x-r*Ov.y,Tb.y=r*Ov.x+s*Ov.y):Tb.copy(Ov),n.copy(e),n.x+=Tb.x,n.y+=Tb.y,n.applyMatrix4(X9)}const kS=new ie,O4=new ie;class K9 extends bi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){kS.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(kS);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){kS.setFromMatrixPosition(e.matrixWorld),O4.setFromMatrixPosition(this.matrixWorld);const i=kS.distanceTo(O4)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const N4=new ie,P4=new yi,I4=new yi,Ipe=new ie,L4=new wn,FS=new ie,MR=new Sa,U4=new wn,AR=new pg;class $9 extends is{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=T3,this.bindMatrix=new wn,this.bindMatrixInverse=new wn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Xa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,FS),this.boundingBox.expandByPoint(FS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sa),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,FS),this.boundingSphere.expandByPoint(FS)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),MR.copy(this.boundingSphere),MR.applyMatrix4(r),e.ray.intersectsSphere(MR)!==!1&&(U4.copy(r).invert(),AR.copy(e.ray).applyMatrix4(U4),!(this.boundingBox!==null&&AR.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,AR)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new yi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===T3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===g9?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;P4.fromBufferAttribute(r.attributes.skinIndex,e),I4.fromBufferAttribute(r.attributes.skinWeight,e),N4.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=I4.getComponent(s);if(a!==0){const o=P4.getComponent(s);L4.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(Ipe.copy(N4).applyMatrix4(L4),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class uP extends bi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ku extends cr{constructor(e=null,t=1,i=1,r,s,a,o,c,u=qs,d=qs,p,v){super(null,a,o,c,u,d,r,s,p,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const z4=new wn,Lpe=new wn;class OM{constructor(e=[],t=[]){this.uuid=tl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new wn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new wn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Lpe;z4.multiplyMatrices(o,t[s]),z4.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new OM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ku(t,e,e,ba,wo);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new uP),this.bones.push(a),this.boneInverses.push(new wn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class Ry extends ji{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Nv=new wn,V4=new wn,HS=[],B4=new Xa,Upe=new wn,Ab=new is,Cb=new Sa;class Z9 extends is{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ry(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Upe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Xa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Nv),B4.copy(e.boundingBox).applyMatrix4(Nv),this.boundingBox.union(B4)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Nv),Cb.copy(e.boundingSphere).applyMatrix4(Nv),this.boundingSphere.union(Cb)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ab.geometry=this.geometry,Ab.material=this.material,Ab.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Cb.copy(this.boundingSphere),Cb.applyMatrix4(i),e.ray.intersectsSphere(Cb)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Nv),V4.multiplyMatrices(i,Nv),Ab.matrixWorld=V4,Ab.raycast(e,HS);for(let a=0,o=HS.length;a<o;a++){const c=HS[a];c.instanceId=s,c.object=this,t.push(c)}HS.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ry(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ku(new Float32Array(r*this.count),r,this.count,xM,wo));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const o=this.geometry.morphTargetsRelative?1:1-a,c=r*e;s[c]=o,s.set(i,c+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function CR(n,e){return n-e}function zpe(n,e){return n.z-e.z}function Vpe(n,e){return e.z-n.z}class Bpe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const bo=new wn,kpe=new $t(1,1,1),RR=new Ex,jS=new Xa,nm=new Sa,Rb=new ie,k4=new ie,Fpe=new ie,DR=new Bpe,oa=new is,GS=[];function Hpe(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function im(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Q9 extends is{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,i=t*2,r){super(new Gn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Ku(t,e,e,ba,wo);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Ku(t,e,e,_x,pf);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Ku(t,e,e,ba,wo);i.colorSpace=ii.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:c,normalized:u}=a,d=new o.constructor(i*c),p=new ji(d,c,u);t.setAttribute(s,p)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new ji(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,bo),this.getBoundingBoxAt(s,jS).applyMatrix4(bo),e.union(jS)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sa);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,bo),this.getBoundingSphereAt(s,nm).applyMatrix4(bo),e.union(nm)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(CR),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;bo.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(kpe.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(CR),c=this._availableGeometryIds.shift(),s[c]=r):(c=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const c=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const d in i.attributes){const p=t.getAttribute(d),v=i.getAttribute(d);Hpe(p,v,c);const y=p.itemSize;for(let _=p.count,w=u;_<w;_++){const S=c+_;for(let E=0;E<y;E++)v.setComponent(S,E,0)}v.needsUpdate=!0,v.addUpdateRange(c*y,u*y)}if(r){const d=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let v=0;v<a.count;v++)s.setX(d+v,c+a.getX(v));for(let v=a.count,y=p;v<y;v++)s.setX(d+v,c);s.needsUpdate=!0,s.addUpdateRange(d,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?this:(t[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const c=r[a],u=i[c];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:p,reservedIndexCount:v}=u,y=s.index,_=y.array,w=e-p;for(let S=d;S<d+v;S++)_[S]=_[S]+w;y.array.copyWithin(t,d,d+v),y.addUpdateRange(t,v),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:p}=u,v=s.attributes;for(const y in v){const _=v[y],{array:w,itemSize:S}=_;w.copyWithin(e*S,d*S,(d+p)*S),_.addUpdateRange(e*S,p*S)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Xa,a=i.index,o=i.attributes.position;for(let c=r.start,u=r.start+r.count;c<u;c++){let d=c;a&&(d=a.getX(d)),s.expandByPoint(Rb.fromBufferAttribute(o,d))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Sa;this.getBoundingBoxAt(e,jS),jS.getCenter(s.center);const a=i.index,o=i.attributes.position;let c=0;for(let u=r.start,d=r.start+r.count;u<d;u++){let p=u;a&&(p=a.getX(p)),Rb.fromBufferAttribute(o,p),c=Math.max(c,s.center.distanceToSquared(Rb))}s.radius=Math.sqrt(c),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){const i=this._instanceInfo,r=this._matricesTexture,s=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._instanceInfo,r=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,r=this._colorsTexture.image.data,s=this._instanceInfo;return e>=s.length||s[e].active===!1?this:(t.toArray(r,e*4),i.needsUpdate=!0,this)}getColorAt(e,t){const i=this._colorsTexture.image.data,r=this._instanceInfo;return e>=r.length||r[e].active===!1?null:t.fromArray(i,e*4)}setVisibleAt(e,t){const i=this._instanceInfo;return e>=i.length||i[e].active===!1||i[e].visible===t?this:(i[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?!1:t[e].visible}setGeometryIdAt(e,t){const i=this._instanceInfo,r=this._geometryInfo;return e>=i.length||i[e].active===!1||t>=r.length||r[t].active===!1?null:(i[e].geometryIndex=t,this)}getGeometryIdAt(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?-1:t[e].geometryIndex}getGeometryRangeAt(e,t={}){if(e<0||e>=this._geometryCount)return null;const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(CR);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);im(this._multiDrawCounts,r),im(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,c=this._colorsTexture;a.dispose(),this._initIndirectTexture(),im(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),im(o.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),im(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Gn,this._initializeGeometry(s));const a=this.geometry;s.index&&im(s.index.array,a.index.array);for(const o in s.attributes)im(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;oa.material=this.material,oa.geometry.index=a.index,oa.geometry.attributes=a.attributes,oa.geometry.boundingBox===null&&(oa.geometry.boundingBox=new Xa),oa.geometry.boundingSphere===null&&(oa.geometry.boundingSphere=new Sa);for(let o=0,c=i.length;o<c;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,d=r[u];oa.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,oa.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,oa.geometry.boundingBox),this.getBoundingSphereAt(u,oa.geometry.boundingSphere),oa.raycast(e,GS);for(let p=0,v=GS.length;p<v;p++){const y=GS[p];y.object=this,y.batchId=o,t.push(y)}GS.length=0}oa.material=null,oa.geometry.index=null,oa.geometry.attributes={},oa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,c=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,p=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,_=y.image.data;v&&(bo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),RR.setFromProjectionMatrix(bo,e.coordinateSystem));let w=0;if(this.sortObjects){bo.copy(this.matrixWorld).invert(),Rb.setFromMatrixPosition(i.matrixWorld).applyMatrix4(bo),k4.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(bo);for(let A=0,R=c.length;A<R;A++)if(c[A].visible&&c[A].active){const D=c[A].geometryIndex;this.getMatrixAt(A,bo),this.getBoundingSphereAt(D,nm).applyMatrix4(bo);let k=!1;if(v&&(k=!RR.intersectsSphere(nm)),!k){const N=p[D],z=Fpe.subVectors(nm.center,Rb).dot(k4);DR.push(N.start,N.count,z,A)}}const S=DR.list,E=this.customSort;E===null?S.sort(s.transparent?Vpe:zpe):E.call(this,S,i);for(let A=0,R=S.length;A<R;A++){const D=S[A];u[w]=D.start*o,d[w]=D.count,_[w]=D.index,w++}DR.reset()}else for(let S=0,E=c.length;S<E;S++)if(c[S].visible&&c[S].active){const A=c[S].geometryIndex;let R=!1;if(v&&(this.getMatrixAt(S,bo),this.getBoundingSphereAt(A,nm).applyMatrix4(bo),R=!RR.intersectsSphere(nm)),!R){const D=p[A];u[w]=D.start*o,d[w]=D.count,_[w]=S,w++}}y.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class Ya extends wa{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new $t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const yT=new ie,bT=new ie,F4=new wn,Db=new pg,qS=new Sa,OR=new ie,H4=new ie;class Bd extends bi{constructor(e=new Gn,t=new Ya){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)yT.fromBufferAttribute(t,r-1),bT.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=yT.distanceTo(bT);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),qS.copy(i.boundingSphere),qS.applyMatrix4(r),qS.radius+=s,e.ray.intersectsSphere(qS)===!1)return;F4.copy(r).invert(),Db.copy(e.ray).applyMatrix4(F4);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=this.isLineSegments?2:1,d=i.index,v=i.attributes.position;if(d!==null){const y=Math.max(0,a.start),_=Math.min(d.count,a.start+a.count);for(let w=y,S=_-1;w<S;w+=u){const E=d.getX(w),A=d.getX(w+1),R=WS(this,e,Db,c,E,A);R&&t.push(R)}if(this.isLineLoop){const w=d.getX(_-1),S=d.getX(y),E=WS(this,e,Db,c,w,S);E&&t.push(E)}}else{const y=Math.max(0,a.start),_=Math.min(v.count,a.start+a.count);for(let w=y,S=_-1;w<S;w+=u){const E=WS(this,e,Db,c,w,w+1);E&&t.push(E)}if(this.isLineLoop){const w=WS(this,e,Db,c,_-1,y);w&&t.push(w)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function WS(n,e,t,i,r,s){const a=n.geometry.attributes.position;if(yT.fromBufferAttribute(a,r),bT.fromBufferAttribute(a,s),t.distanceSqToSegment(yT,bT,OR,H4)>i)return;OR.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(OR);if(!(c<e.near||c>e.far))return{distance:c,point:H4.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:n}}const j4=new ie,G4=new ie;class ch extends Bd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)j4.fromBufferAttribute(t,r),G4.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+j4.distanceTo(G4);e.setAttribute("lineDistance",new rn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class J9 extends Bd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class hP extends wa{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new $t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const q4=new wn,O3=new pg,XS=new Sa,YS=new ie;class e8 extends bi{constructor(e=new Gn,t=new hP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),XS.copy(i.boundingSphere),XS.applyMatrix4(r),XS.radius+=s,e.ray.intersectsSphere(XS)===!1)return;q4.copy(r).invert(),O3.copy(e.ray).applyMatrix4(q4);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=i.index,p=i.attributes.position;if(u!==null){const v=Math.max(0,a.start),y=Math.min(u.count,a.start+a.count);for(let _=v,w=y;_<w;_++){const S=u.getX(_);YS.fromBufferAttribute(p,S),W4(YS,S,c,r,e,t,this)}}else{const v=Math.max(0,a.start),y=Math.min(p.count,a.start+a.count);for(let _=v,w=y;_<w;_++)YS.fromBufferAttribute(p,_),W4(YS,_,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function W4(n,e,t,i,r,s,a){const o=O3.distanceSqToPoint(n);if(o<t){const c=new ie;O3.closestPointToPoint(n,c),c.applyMatrix4(i);const u=r.ray.origin.distanceTo(c);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class jpe extends cr{constructor(e,t,i,r,s,a,o,c,u){super(e,t,i,r,s,a,o,c,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:ls,this.magFilter=s!==void 0?s:ls,this.generateMipmaps=!1;const d=this;function p(){d.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Gpe extends cr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=qs,this.minFilter=qs,this.generateMipmaps=!1,this.needsUpdate=!0}}class NM extends cr{constructor(e,t,i,r,s,a,o,c,u,d,p,v){super(null,a,o,c,u,d,r,s,p,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class qpe extends NM{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Il,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Wpe extends NM{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,df),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Xpe extends cr{constructor(e,t,i,r,s,a,o,c,u){super(e,t,i,r,s,a,o,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class kc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,c=s-1,u;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),u=i[r]-a,u<0)o=r+1;else if(u>0)c=r-1;else{c=r;break}if(r=c,i[r]===a)return r/(s-1);const d=i[r],v=i[r+1]-d,y=(a-d)/v;return(r+y)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),c=t||(a.isVector2?new nt:new ie);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new ie,r=[],s=[],a=[],o=new ie,c=new wn;for(let y=0;y<=e;y++){const _=y/e;r[y]=this.getTangentAt(_,new ie)}s[0]=new ie,a[0]=new ie;let u=Number.MAX_VALUE;const d=Math.abs(r[0].x),p=Math.abs(r[0].y),v=Math.abs(r[0].z);d<=u&&(u=d,i.set(1,0,0)),p<=u&&(u=p,i.set(0,1,0)),v<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let y=1;y<=e;y++){if(s[y]=s[y-1].clone(),a[y]=a[y-1].clone(),o.crossVectors(r[y-1],r[y]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(Vr(r[y-1].dot(r[y]),-1,1));s[y].applyMatrix4(c.makeRotationAxis(o,_))}a[y].crossVectors(r[y],s[y])}if(t===!0){let y=Math.acos(Vr(s[0].dot(s[e]),-1,1));y/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(y=-y);for(let _=1;_<=e;_++)s[_].applyMatrix4(c.makeRotationAxis(r[_],y*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class PM extends kc{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,t=new nt){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),p=Math.sin(this.aRotation),v=c-this.aX,y=u-this.aY;c=v*d-y*p+this.aX,u=v*p+y*d+this.aY}return i.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class t8 extends PM{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function fP(){let n=0,e=0,t=0,i=0;function r(s,a,o,c){n=s,e=o,t=-3*s+3*a-2*o-c,i=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,u){r(a,o,u*(o-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,u,d,p){let v=(a-s)/u-(o-s)/(u+d)+(o-a)/d,y=(o-a)/d-(c-a)/(d+p)+(c-o)/p;v*=d,y*=d,r(a,o,v,y)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const KS=new ie,NR=new fP,PR=new fP,IR=new fP;class n8 extends kc{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new ie){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:c===0&&o===s-1&&(o=s-2,c=1);let u,d;this.closed||o>0?u=r[(o-1)%s]:(KS.subVectors(r[0],r[1]).add(r[0]),u=KS);const p=r[o%s],v=r[(o+1)%s];if(this.closed||o+2<s?d=r[(o+2)%s]:(KS.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=KS),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(p),y),w=Math.pow(p.distanceToSquared(v),y),S=Math.pow(v.distanceToSquared(d),y);w<1e-4&&(w=1),_<1e-4&&(_=w),S<1e-4&&(S=w),NR.initNonuniformCatmullRom(u.x,p.x,v.x,d.x,_,w,S),PR.initNonuniformCatmullRom(u.y,p.y,v.y,d.y,_,w,S),IR.initNonuniformCatmullRom(u.z,p.z,v.z,d.z,_,w,S)}else this.curveType==="catmullrom"&&(NR.initCatmullRom(u.x,p.x,v.x,d.x,this.tension),PR.initCatmullRom(u.y,p.y,v.y,d.y,this.tension),IR.initCatmullRom(u.z,p.z,v.z,d.z,this.tension));return i.set(NR.calc(c),PR.calc(c),IR.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ie().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function X4(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,c=n*o;return(2*t-2*i+s+a)*c+(-3*t+3*i-2*s-a)*o+s*n+t}function Ype(n,e){const t=1-n;return t*t*e}function Kpe(n,e){return 2*(1-n)*n*e}function $pe(n,e){return n*n*e}function o_(n,e,t,i){return Ype(n,e)+Kpe(n,t)+$pe(n,i)}function Zpe(n,e){const t=1-n;return t*t*t*e}function Qpe(n,e){const t=1-n;return 3*t*t*n*e}function Jpe(n,e){return 3*(1-n)*n*n*e}function eme(n,e){return n*n*n*e}function l_(n,e,t,i,r){return Zpe(n,e)+Qpe(n,t)+Jpe(n,i)+eme(n,r)}class dP extends kc{constructor(e=new nt,t=new nt,i=new nt,r=new nt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new nt){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(l_(e,r.x,s.x,a.x,o.x),l_(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class i8 extends kc{constructor(e=new ie,t=new ie,i=new ie,r=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ie){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(l_(e,r.x,s.x,a.x,o.x),l_(e,r.y,s.y,a.y,o.y),l_(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pP extends kc{constructor(e=new nt,t=new nt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new nt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new nt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class r8 extends kc{constructor(e=new ie,t=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ie){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mP extends kc{constructor(e=new nt,t=new nt,i=new nt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new nt){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(o_(e,r.x,s.x,a.x),o_(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gP extends kc{constructor(e=new ie,t=new ie,i=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ie){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(o_(e,r.x,s.x,a.x),o_(e,r.y,s.y,a.y),o_(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vP extends kc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new nt){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,c=r[a===0?a:a-1],u=r[a],d=r[a>r.length-2?r.length-1:a+1],p=r[a>r.length-3?r.length-1:a+2];return i.set(X4(o,c.x,u.x,d.x,p.x),X4(o,c.y,u.y,d.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new nt().fromArray(r))}return this}}var _T=Object.freeze({__proto__:null,ArcCurve:t8,CatmullRomCurve3:n8,CubicBezierCurve:dP,CubicBezierCurve3:i8,EllipseCurve:PM,LineCurve:pP,LineCurve3:r8,QuadraticBezierCurve:mP,QuadraticBezierCurve3:gP,SplineCurve:vP});class s8 extends kc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new _T[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],c=o.getLength(),u=c===0?0:1-a/c;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,c=a.getPoints(o);for(let u=0;u<c.length;u++){const d=c[u];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new _T[r.type]().fromJSON(r))}return this}}class z_ extends s8{constructor(e){super(),this.type="Path",this.currentPoint=new nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new pP(this.currentPoint.clone(),new nt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new mP(this.currentPoint.clone(),new nt(e,t),new nt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new dP(this.currentPoint.clone(),new nt(e,t),new nt(i,r),new nt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new vP(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,i,r,s,a,o,c),this}absellipse(e,t,i,r,s,a,o,c){const u=new PM(e,t,i,r,s,a,o,c);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wx extends Gn{constructor(e=[new nt(0,-.5),new nt(.5,0),new nt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Vr(r,0,Math.PI*2);const s=[],a=[],o=[],c=[],u=[],d=1/t,p=new ie,v=new nt,y=new ie,_=new ie,w=new ie;let S=0,E=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:S=e[A+1].x-e[A].x,E=e[A+1].y-e[A].y,y.x=E*1,y.y=-S,y.z=E*0,w.copy(y),y.normalize(),c.push(y.x,y.y,y.z);break;case e.length-1:c.push(w.x,w.y,w.z);break;default:S=e[A+1].x-e[A].x,E=e[A+1].y-e[A].y,y.x=E*1,y.y=-S,y.z=E*0,_.copy(y),y.x+=w.x,y.y+=w.y,y.z+=w.z,y.normalize(),c.push(y.x,y.y,y.z),w.copy(_)}for(let A=0;A<=t;A++){const R=i+A*d*r,D=Math.sin(R),k=Math.cos(R);for(let N=0;N<=e.length-1;N++){p.x=e[N].x*D,p.y=e[N].y,p.z=e[N].x*k,a.push(p.x,p.y,p.z),v.x=A/t,v.y=N/(e.length-1),o.push(v.x,v.y);const z=c[3*N+0]*D,V=c[3*N+1],I=c[3*N+0]*k;u.push(z,V,I)}}for(let A=0;A<t;A++)for(let R=0;R<e.length-1;R++){const D=R+A*e.length,k=D,N=D+e.length,z=D+e.length+1,V=D+1;s.push(k,N,V),s.push(z,V,N)}this.setIndex(s),this.setAttribute("position",new rn(a,3)),this.setAttribute("uv",new rn(o,2)),this.setAttribute("normal",new rn(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wx(e.points,e.segments,e.phiStart,e.phiLength)}}class IM extends wx{constructor(e=1,t=1,i=4,r=8){const s=new z_;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new IM(e.radius,e.length,e.capSegments,e.radialSegments)}}class LM extends Gn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],c=[],u=new ie,d=new nt;a.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let p=0,v=3;p<=t;p++,v+=3){const y=i+p/t*r;u.x=e*Math.cos(y),u.y=e*Math.sin(y),a.push(u.x,u.y,u.z),o.push(0,0,1),d.x=(a[v]/e+1)/2,d.y=(a[v+1]/e+1)/2,c.push(d.x,d.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new rn(a,3)),this.setAttribute("normal",new rn(o,3)),this.setAttribute("uv",new rn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Qy extends Gn{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c};const u=this;r=Math.floor(r),s=Math.floor(s);const d=[],p=[],v=[],y=[];let _=0;const w=[],S=i/2;let E=0;A(),a===!1&&(e>0&&R(!0),t>0&&R(!1)),this.setIndex(d),this.setAttribute("position",new rn(p,3)),this.setAttribute("normal",new rn(v,3)),this.setAttribute("uv",new rn(y,2));function A(){const D=new ie,k=new ie;let N=0;const z=(t-e)/i;for(let V=0;V<=s;V++){const I=[],L=V/s,j=L*(t-e)+e;for(let X=0;X<=r;X++){const G=X/r,re=G*c+o,de=Math.sin(re),K=Math.cos(re);k.x=j*de,k.y=-L*i+S,k.z=j*K,p.push(k.x,k.y,k.z),D.set(de,z,K).normalize(),v.push(D.x,D.y,D.z),y.push(G,1-L),I.push(_++)}w.push(I)}for(let V=0;V<r;V++)for(let I=0;I<s;I++){const L=w[I][V],j=w[I+1][V],X=w[I+1][V+1],G=w[I][V+1];(e>0||I!==0)&&(d.push(L,j,G),N+=3),(t>0||I!==s-1)&&(d.push(j,X,G),N+=3)}u.addGroup(E,N,0),E+=N}function R(D){const k=_,N=new nt,z=new ie;let V=0;const I=D===!0?e:t,L=D===!0?1:-1;for(let X=1;X<=r;X++)p.push(0,S*L,0),v.push(0,L,0),y.push(.5,.5),_++;const j=_;for(let X=0;X<=r;X++){const re=X/r*c+o,de=Math.cos(re),K=Math.sin(re);z.x=I*K,z.y=S*L,z.z=I*de,p.push(z.x,z.y,z.z),v.push(0,L,0),N.x=de*.5+.5,N.y=K*.5*L+.5,y.push(N.x,N.y),_++}for(let X=0;X<r;X++){const G=k+X,re=j+X;D===!0?d.push(re,re+1,G):d.push(re+1,re,G),V+=3}u.addGroup(E,V,D===!0?1:2),E+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qy(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class UM extends Qy{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new UM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tp extends Gn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),u(i),d(),this.setAttribute("position",new rn(s,3)),this.setAttribute("normal",new rn(s.slice(),3)),this.setAttribute("uv",new rn(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(A){const R=new ie,D=new ie,k=new ie;for(let N=0;N<t.length;N+=3)y(t[N+0],R),y(t[N+1],D),y(t[N+2],k),c(R,D,k,A)}function c(A,R,D,k){const N=k+1,z=[];for(let V=0;V<=N;V++){z[V]=[];const I=A.clone().lerp(D,V/N),L=R.clone().lerp(D,V/N),j=N-V;for(let X=0;X<=j;X++)X===0&&V===N?z[V][X]=I:z[V][X]=I.clone().lerp(L,X/j)}for(let V=0;V<N;V++)for(let I=0;I<2*(N-V)-1;I++){const L=Math.floor(I/2);I%2===0?(v(z[V][L+1]),v(z[V+1][L]),v(z[V][L])):(v(z[V][L+1]),v(z[V+1][L+1]),v(z[V+1][L]))}}function u(A){const R=new ie;for(let D=0;D<s.length;D+=3)R.x=s[D+0],R.y=s[D+1],R.z=s[D+2],R.normalize().multiplyScalar(A),s[D+0]=R.x,s[D+1]=R.y,s[D+2]=R.z}function d(){const A=new ie;for(let R=0;R<s.length;R+=3){A.x=s[R+0],A.y=s[R+1],A.z=s[R+2];const D=S(A)/2/Math.PI+.5,k=E(A)/Math.PI+.5;a.push(D,1-k)}_(),p()}function p(){for(let A=0;A<a.length;A+=6){const R=a[A+0],D=a[A+2],k=a[A+4],N=Math.max(R,D,k),z=Math.min(R,D,k);N>.9&&z<.1&&(R<.2&&(a[A+0]+=1),D<.2&&(a[A+2]+=1),k<.2&&(a[A+4]+=1))}}function v(A){s.push(A.x,A.y,A.z)}function y(A,R){const D=A*3;R.x=e[D+0],R.y=e[D+1],R.z=e[D+2]}function _(){const A=new ie,R=new ie,D=new ie,k=new ie,N=new nt,z=new nt,V=new nt;for(let I=0,L=0;I<s.length;I+=9,L+=6){A.set(s[I+0],s[I+1],s[I+2]),R.set(s[I+3],s[I+4],s[I+5]),D.set(s[I+6],s[I+7],s[I+8]),N.set(a[L+0],a[L+1]),z.set(a[L+2],a[L+3]),V.set(a[L+4],a[L+5]),k.copy(A).add(R).add(D).divideScalar(3);const j=S(k);w(N,L+0,A,j),w(z,L+2,R,j),w(V,L+4,D,j)}}function w(A,R,D,k){k<0&&A.x===1&&(a[R]=A.x-1),D.x===0&&D.z===0&&(a[R]=k/2/Math.PI+.5)}function S(A){return Math.atan2(A.z,-A.x)}function E(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tp(e.vertices,e.indices,e.radius,e.details)}}class zM extends tp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zM(e.radius,e.detail)}}const $S=new ie,ZS=new ie,LR=new ie,QS=new Eo;class a8 extends Gn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(zm*t),a=e.getIndex(),o=e.getAttribute("position"),c=a?a.count:o.count,u=[0,0,0],d=["a","b","c"],p=new Array(3),v={},y=[];for(let _=0;_<c;_+=3){a?(u[0]=a.getX(_),u[1]=a.getX(_+1),u[2]=a.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:w,b:S,c:E}=QS;if(w.fromBufferAttribute(o,u[0]),S.fromBufferAttribute(o,u[1]),E.fromBufferAttribute(o,u[2]),QS.getNormal(LR),p[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,p[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,p[2]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let A=0;A<3;A++){const R=(A+1)%3,D=p[A],k=p[R],N=QS[d[A]],z=QS[d[R]],V=`${D}_${k}`,I=`${k}_${D}`;I in v&&v[I]?(LR.dot(v[I].normal)<=s&&(y.push(N.x,N.y,N.z),y.push(z.x,z.y,z.z)),v[I]=null):V in v||(v[V]={index0:u[A],index1:u[R],normal:LR.clone()})}}for(const _ in v)if(v[_]){const{index0:w,index1:S}=v[_];$S.fromBufferAttribute(o,w),ZS.fromBufferAttribute(o,S),y.push($S.x,$S.y,$S.z),y.push(ZS.x,ZS.y,ZS.z)}this.setAttribute("position",new rn(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Vm extends z_{constructor(e){super(e),this.uuid=tl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new z_().fromJSON(r))}return this}}const tme={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=o8(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,c,u,d,p,v,y;if(i&&(s=ame(n,e,s,t)),n.length>80*t){o=u=n[0],c=d=n[1];for(let _=t;_<r;_+=t)p=n[_],v=n[_+1],p<o&&(o=p),v<c&&(c=v),p>u&&(u=p),v>d&&(d=v);y=Math.max(u-o,d-c),y=y!==0?32767/y:0}return V_(s,a,t,o,c,y,0),a}};function o8(n,e,t,i,r){let s,a;if(r===vme(n,e,t,i)>0)for(s=e;s<t;s+=i)a=Y4(s,n[s],n[s+1],a);else for(s=t-i;s>=e;s-=i)a=Y4(s,n[s],n[s+1],a);return a&&VM(a,a.next)&&(k_(a),a=a.next),a}function Qm(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(VM(t,t.next)||Sr(t.prev,t,t.next)===0)){if(k_(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function V_(n,e,t,i,r,s,a){if(!n)return;!a&&s&&hme(n,i,r,s);let o=n,c,u;for(;n.prev!==n.next;){if(c=n.prev,u=n.next,s?ime(n,i,r,s):nme(n)){e.push(c.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),k_(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=rme(Qm(n),e,t),V_(n,e,t,i,r,s,2)):a===2&&sme(n,e,t,i,r,s):V_(Qm(n),e,t,i,r,s,1);break}}}function nme(n){const e=n.prev,t=n,i=n.next;if(Sr(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,c=t.y,u=i.y,d=r<s?r<a?r:a:s<a?s:a,p=o<c?o<u?o:u:c<u?c:u,v=r>s?r>a?r:a:s>a?s:a,y=o>c?o>u?o:u:c>u?c:u;let _=i.next;for(;_!==e;){if(_.x>=d&&_.x<=v&&_.y>=p&&_.y<=y&&iy(r,o,s,c,a,u,_.x,_.y)&&Sr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function ime(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Sr(r,s,a)>=0)return!1;const o=r.x,c=s.x,u=a.x,d=r.y,p=s.y,v=a.y,y=o<c?o<u?o:u:c<u?c:u,_=d<p?d<v?d:v:p<v?p:v,w=o>c?o>u?o:u:c>u?c:u,S=d>p?d>v?d:v:p>v?p:v,E=N3(y,_,e,t,i),A=N3(w,S,e,t,i);let R=n.prevZ,D=n.nextZ;for(;R&&R.z>=E&&D&&D.z<=A;){if(R.x>=y&&R.x<=w&&R.y>=_&&R.y<=S&&R!==r&&R!==a&&iy(o,d,c,p,u,v,R.x,R.y)&&Sr(R.prev,R,R.next)>=0||(R=R.prevZ,D.x>=y&&D.x<=w&&D.y>=_&&D.y<=S&&D!==r&&D!==a&&iy(o,d,c,p,u,v,D.x,D.y)&&Sr(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;R&&R.z>=E;){if(R.x>=y&&R.x<=w&&R.y>=_&&R.y<=S&&R!==r&&R!==a&&iy(o,d,c,p,u,v,R.x,R.y)&&Sr(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;D&&D.z<=A;){if(D.x>=y&&D.x<=w&&D.y>=_&&D.y<=S&&D!==r&&D!==a&&iy(o,d,c,p,u,v,D.x,D.y)&&Sr(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function rme(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!VM(r,s)&&l8(r,i,i.next,s)&&B_(r,s)&&B_(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),k_(i),k_(i.next),i=n=s),i=i.next}while(i!==n);return Qm(i)}function sme(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&pme(a,o)){let c=c8(a,o);a=Qm(a,a.next),c=Qm(c,c.next),V_(a,e,t,i,r,s,0),V_(c,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function ame(n,e,t,i){const r=[];let s,a,o,c,u;for(s=0,a=e.length;s<a;s++)o=e[s]*i,c=s<a-1?e[s+1]*i:n.length,u=o8(n,o,c,i,!1),u===u.next&&(u.steiner=!0),r.push(dme(u));for(r.sort(ome),s=0;s<r.length;s++)t=lme(r[s],t);return t}function ome(n,e){return n.x-e.x}function lme(n,e){const t=cme(n,e);if(!t)return e;const i=c8(t,n);return Qm(i,i.next),Qm(t,t.next)}function cme(n,e){let t=e,i=-1/0,r;const s=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const v=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=s&&v>i&&(i=v,r=t.x<t.next.x?t:t.next,v===s))return r}t=t.next}while(t!==e);if(!r)return null;const o=r,c=r.x,u=r.y;let d=1/0,p;t=r;do s>=t.x&&t.x>=c&&s!==t.x&&iy(a<u?s:i,a,c,u,a<u?i:s,a,t.x,t.y)&&(p=Math.abs(a-t.y)/(s-t.x),B_(t,n)&&(p<d||p===d&&(t.x>r.x||t.x===r.x&&ume(r,t)))&&(r=t,d=p)),t=t.next;while(t!==o);return r}function ume(n,e){return Sr(n.prev,n,e.prev)<0&&Sr(e.next,n,n.next)<0}function hme(n,e,t,i){let r=n;do r.z===0&&(r.z=N3(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,fme(r)}function fme(n){let e,t,i,r,s,a,o,c,u=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,i=t,o=0,e=0;e<u&&(o++,i=i.nextZ,!!i);e++);for(c=u;o>0||c>0&&i;)o!==0&&(c===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,o--):(r=i,i=i.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(a>1);return n}function N3(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function dme(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function iy(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function pme(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!mme(n,e)&&(B_(n,e)&&B_(e,n)&&gme(n,e)&&(Sr(n.prev,n,e.prev)||Sr(n,e.prev,e))||VM(n,e)&&Sr(n.prev,n,n.next)>0&&Sr(e.prev,e,e.next)>0)}function Sr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function VM(n,e){return n.x===e.x&&n.y===e.y}function l8(n,e,t,i){const r=eE(Sr(n,e,t)),s=eE(Sr(n,e,i)),a=eE(Sr(t,i,n)),o=eE(Sr(t,i,e));return!!(r!==s&&a!==o||r===0&&JS(n,t,e)||s===0&&JS(n,i,e)||a===0&&JS(t,n,i)||o===0&&JS(t,e,i))}function JS(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function eE(n){return n>0?1:n<0?-1:0}function mme(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&l8(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function B_(n,e){return Sr(n.prev,n,n.next)<0?Sr(n,e,n.next)>=0&&Sr(n,n.prev,e)>=0:Sr(n,e,n.prev)<0||Sr(n,n.next,e)<0}function gme(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function c8(n,e){const t=new P3(n.i,n.x,n.y),i=new P3(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Y4(n,e,t,i){const r=new P3(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function k_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function P3(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vme(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class $u{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return $u.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];K4(e),$4(i,e);let a=e.length;t.forEach(K4);for(let c=0;c<t.length;c++)r.push(a),a+=t[c].length,$4(i,t[c]);const o=tme.triangulate(i,r);for(let c=0;c<o.length;c+=3)s.push(o.slice(c,c+3));return s}}function K4(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function $4(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class BM extends Gn{constructor(e=new Vm([new nt(.5,.5),new nt(-.5,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,c=e.length;o<c;o++){const u=e[o];a(u)}this.setAttribute("position",new rn(r,3)),this.setAttribute("uv",new rn(s,2)),this.computeVertexNormals();function a(o){const c=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:y-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const E=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:yme;let R,D=!1,k,N,z,V;E&&(R=E.getSpacedPoints(d),D=!0,v=!1,k=E.computeFrenetFrames(d,!1),N=new ie,z=new ie,V=new ie),v||(S=0,y=0,_=0,w=0);const I=o.extractPoints(u);let L=I.shape;const j=I.holes;if(!$u.isClockWise(L)){L=L.reverse();for(let Ge=0,Ye=j.length;Ge<Ye;Ge++){const se=j[Ge];$u.isClockWise(se)&&(j[Ge]=se.reverse())}}const G=$u.triangulateShape(L,j),re=L;for(let Ge=0,Ye=j.length;Ge<Ye;Ge++){const se=j[Ge];L=L.concat(se)}function de(Ge,Ye,se){return Ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ge.clone().addScaledVector(Ye,se)}const K=L.length,ue=G.length;function ne(Ge,Ye,se){let bt,Je,dt;const pt=Ge.x-Ye.x,It=Ge.y-Ye.y,Et=se.x-Ge.x,te=se.y-Ge.y,Y=pt*pt+It*It,we=pt*te-It*Et;if(Math.abs(we)>Number.EPSILON){const Fe=Math.sqrt(Y),it=Math.sqrt(Et*Et+te*te),ze=Ye.x-It/Fe,yt=Ye.y+pt/Fe,_t=se.x-te/it,Nt=se.y+Et/it,hn=((_t-ze)*te-(Nt-yt)*Et)/(pt*te-It*Et);bt=ze+pt*hn-Ge.x,Je=yt+It*hn-Ge.y;const st=bt*bt+Je*Je;if(st<=2)return new nt(bt,Je);dt=Math.sqrt(st/2)}else{let Fe=!1;pt>Number.EPSILON?Et>Number.EPSILON&&(Fe=!0):pt<-Number.EPSILON?Et<-Number.EPSILON&&(Fe=!0):Math.sign(It)===Math.sign(te)&&(Fe=!0),Fe?(bt=-It,Je=pt,dt=Math.sqrt(Y)):(bt=pt,Je=It,dt=Math.sqrt(Y/2))}return new nt(bt/dt,Je/dt)}const ve=[];for(let Ge=0,Ye=re.length,se=Ye-1,bt=Ge+1;Ge<Ye;Ge++,se++,bt++)se===Ye&&(se=0),bt===Ye&&(bt=0),ve[Ge]=ne(re[Ge],re[se],re[bt]);const Z=[];let le,Ae=ve.concat();for(let Ge=0,Ye=j.length;Ge<Ye;Ge++){const se=j[Ge];le=[];for(let bt=0,Je=se.length,dt=Je-1,pt=bt+1;bt<Je;bt++,dt++,pt++)dt===Je&&(dt=0),pt===Je&&(pt=0),le[bt]=ne(se[bt],se[dt],se[pt]);Z.push(le),Ae=Ae.concat(le)}for(let Ge=0;Ge<S;Ge++){const Ye=Ge/S,se=y*Math.cos(Ye*Math.PI/2),bt=_*Math.sin(Ye*Math.PI/2)+w;for(let Je=0,dt=re.length;Je<dt;Je++){const pt=de(re[Je],ve[Je],bt);je(pt.x,pt.y,-se)}for(let Je=0,dt=j.length;Je<dt;Je++){const pt=j[Je];le=Z[Je];for(let It=0,Et=pt.length;It<Et;It++){const te=de(pt[It],le[It],bt);je(te.x,te.y,-se)}}}const De=_+w;for(let Ge=0;Ge<K;Ge++){const Ye=v?de(L[Ge],Ae[Ge],De):L[Ge];D?(z.copy(k.normals[0]).multiplyScalar(Ye.x),N.copy(k.binormals[0]).multiplyScalar(Ye.y),V.copy(R[0]).add(z).add(N),je(V.x,V.y,V.z)):je(Ye.x,Ye.y,0)}for(let Ge=1;Ge<=d;Ge++)for(let Ye=0;Ye<K;Ye++){const se=v?de(L[Ye],Ae[Ye],De):L[Ye];D?(z.copy(k.normals[Ge]).multiplyScalar(se.x),N.copy(k.binormals[Ge]).multiplyScalar(se.y),V.copy(R[Ge]).add(z).add(N),je(V.x,V.y,V.z)):je(se.x,se.y,p/d*Ge)}for(let Ge=S-1;Ge>=0;Ge--){const Ye=Ge/S,se=y*Math.cos(Ye*Math.PI/2),bt=_*Math.sin(Ye*Math.PI/2)+w;for(let Je=0,dt=re.length;Je<dt;Je++){const pt=de(re[Je],ve[Je],bt);je(pt.x,pt.y,p+se)}for(let Je=0,dt=j.length;Je<dt;Je++){const pt=j[Je];le=Z[Je];for(let It=0,Et=pt.length;It<Et;It++){const te=de(pt[It],le[It],bt);D?je(te.x,te.y+R[d-1].y,R[d-1].x+se):je(te.x,te.y,p+se)}}}oe(),Oe();function oe(){const Ge=r.length/3;if(v){let Ye=0,se=K*Ye;for(let bt=0;bt<ue;bt++){const Je=G[bt];tt(Je[2]+se,Je[1]+se,Je[0]+se)}Ye=d+S*2,se=K*Ye;for(let bt=0;bt<ue;bt++){const Je=G[bt];tt(Je[0]+se,Je[1]+se,Je[2]+se)}}else{for(let Ye=0;Ye<ue;Ye++){const se=G[Ye];tt(se[2],se[1],se[0])}for(let Ye=0;Ye<ue;Ye++){const se=G[Ye];tt(se[0]+K*d,se[1]+K*d,se[2]+K*d)}}i.addGroup(Ge,r.length/3-Ge,0)}function Oe(){const Ge=r.length/3;let Ye=0;Ie(re,Ye),Ye+=re.length;for(let se=0,bt=j.length;se<bt;se++){const Je=j[se];Ie(Je,Ye),Ye+=Je.length}i.addGroup(Ge,r.length/3-Ge,1)}function Ie(Ge,Ye){let se=Ge.length;for(;--se>=0;){const bt=se;let Je=se-1;Je<0&&(Je=Ge.length-1);for(let dt=0,pt=d+S*2;dt<pt;dt++){const It=K*dt,Et=K*(dt+1),te=Ye+bt+It,Y=Ye+Je+It,we=Ye+Je+Et,Fe=Ye+bt+Et;wt(te,Y,we,Fe)}}}function je(Ge,Ye,se){c.push(Ge),c.push(Ye),c.push(se)}function tt(Ge,Ye,se){Qe(Ge),Qe(Ye),Qe(se);const bt=r.length/3,Je=A.generateTopUV(i,r,bt-3,bt-2,bt-1);qt(Je[0]),qt(Je[1]),qt(Je[2])}function wt(Ge,Ye,se,bt){Qe(Ge),Qe(Ye),Qe(bt),Qe(Ye),Qe(se),Qe(bt);const Je=r.length/3,dt=A.generateSideWallUV(i,r,Je-6,Je-3,Je-2,Je-1);qt(dt[0]),qt(dt[1]),qt(dt[3]),qt(dt[1]),qt(dt[2]),qt(dt[3])}function Qe(Ge){r.push(c[Ge*3+0]),r.push(c[Ge*3+1]),r.push(c[Ge*3+2])}function qt(Ge){s.push(Ge.x),s.push(Ge.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return bme(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new _T[r.type]().fromJSON(r)),new BM(i,e.options)}}const yme={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],c=e[i*3+1],u=e[r*3],d=e[r*3+1];return[new nt(s,a),new nt(o,c),new nt(u,d)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],c=e[t*3+2],u=e[i*3],d=e[i*3+1],p=e[i*3+2],v=e[r*3],y=e[r*3+1],_=e[r*3+2],w=e[s*3],S=e[s*3+1],E=e[s*3+2];return Math.abs(o-d)<Math.abs(a-u)?[new nt(a,1-c),new nt(u,1-p),new nt(v,1-_),new nt(w,1-E)]:[new nt(o,1-c),new nt(d,1-p),new nt(y,1-_),new nt(S,1-E)]}};function bme(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class kM extends tp{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kM(e.radius,e.detail)}}class Tx extends tp{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Tx(e.radius,e.detail)}}class FM extends Gn{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],c=[],u=[],d=[];let p=e;const v=(t-e)/r,y=new ie,_=new nt;for(let w=0;w<=r;w++){for(let S=0;S<=i;S++){const E=s+S/i*a;y.x=p*Math.cos(E),y.y=p*Math.sin(E),c.push(y.x,y.y,y.z),u.push(0,0,1),_.x=(y.x/t+1)/2,_.y=(y.y/t+1)/2,d.push(_.x,_.y)}p+=v}for(let w=0;w<r;w++){const S=w*(i+1);for(let E=0;E<i;E++){const A=E+S,R=A,D=A+i+1,k=A+i+2,N=A+1;o.push(R,D,N),o.push(D,k,N)}}this.setIndex(o),this.setAttribute("position",new rn(c,3)),this.setAttribute("normal",new rn(u,3)),this.setAttribute("uv",new rn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class HM extends Gn{constructor(e=new Vm([new nt(0,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(o,c,d),o+=c,c=0;this.setIndex(i),this.setAttribute("position",new rn(r,3)),this.setAttribute("normal",new rn(s,3)),this.setAttribute("uv",new rn(a,2));function u(d){const p=r.length/3,v=d.extractPoints(t);let y=v.shape;const _=v.holes;$u.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,E=_.length;S<E;S++){const A=_[S];$u.isClockWise(A)===!0&&(_[S]=A.reverse())}const w=$u.triangulateShape(y,_);for(let S=0,E=_.length;S<E;S++){const A=_[S];y=y.concat(A)}for(let S=0,E=y.length;S<E;S++){const A=y[S];r.push(A.x,A.y,0),s.push(0,0,1),a.push(A.x,A.y)}for(let S=0,E=w.length;S<E;S++){const A=w[S],R=A[0]+p,D=A[1]+p,k=A[2]+p;i.push(R,D,k),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return _me(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new HM(i,e.curveSegments)}}function _me(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Mx extends Gn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(a+o,Math.PI);let u=0;const d=[],p=new ie,v=new ie,y=[],_=[],w=[],S=[];for(let E=0;E<=i;E++){const A=[],R=E/i;let D=0;E===0&&a===0?D=.5/t:E===i&&c===Math.PI&&(D=-.5/t);for(let k=0;k<=t;k++){const N=k/t;p.x=-e*Math.cos(r+N*s)*Math.sin(a+R*o),p.y=e*Math.cos(a+R*o),p.z=e*Math.sin(r+N*s)*Math.sin(a+R*o),_.push(p.x,p.y,p.z),v.copy(p).normalize(),w.push(v.x,v.y,v.z),S.push(N+D,1-R),A.push(u++)}d.push(A)}for(let E=0;E<i;E++)for(let A=0;A<t;A++){const R=d[E][A+1],D=d[E][A],k=d[E+1][A],N=d[E+1][A+1];(E!==0||a>0)&&y.push(R,D,N),(E!==i-1||c<Math.PI)&&y.push(D,k,N)}this.setIndex(y),this.setAttribute("position",new rn(_,3)),this.setAttribute("normal",new rn(w,3)),this.setAttribute("uv",new rn(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class jM extends tp{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jM(e.radius,e.detail)}}class GM extends Gn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],c=[],u=[],d=new ie,p=new ie,v=new ie;for(let y=0;y<=i;y++)for(let _=0;_<=r;_++){const w=_/r*s,S=y/i*Math.PI*2;p.x=(e+t*Math.cos(S))*Math.cos(w),p.y=(e+t*Math.cos(S))*Math.sin(w),p.z=t*Math.sin(S),o.push(p.x,p.y,p.z),d.x=e*Math.cos(w),d.y=e*Math.sin(w),v.subVectors(p,d).normalize(),c.push(v.x,v.y,v.z),u.push(_/r),u.push(y/i)}for(let y=1;y<=i;y++)for(let _=1;_<=r;_++){const w=(r+1)*y+_-1,S=(r+1)*(y-1)+_-1,E=(r+1)*(y-1)+_,A=(r+1)*y+_;a.push(w,S,A),a.push(S,E,A)}this.setIndex(a),this.setAttribute("position",new rn(o,3)),this.setAttribute("normal",new rn(c,3)),this.setAttribute("uv",new rn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class qM extends Gn{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],c=[],u=[],d=[],p=new ie,v=new ie,y=new ie,_=new ie,w=new ie,S=new ie,E=new ie;for(let R=0;R<=i;++R){const D=R/i*s*Math.PI*2;A(D,s,a,e,y),A(D+.01,s,a,e,_),S.subVectors(_,y),E.addVectors(_,y),w.crossVectors(S,E),E.crossVectors(w,S),w.normalize(),E.normalize();for(let k=0;k<=r;++k){const N=k/r*Math.PI*2,z=-t*Math.cos(N),V=t*Math.sin(N);p.x=y.x+(z*E.x+V*w.x),p.y=y.y+(z*E.y+V*w.y),p.z=y.z+(z*E.z+V*w.z),c.push(p.x,p.y,p.z),v.subVectors(p,y).normalize(),u.push(v.x,v.y,v.z),d.push(R/i),d.push(k/r)}}for(let R=1;R<=i;R++)for(let D=1;D<=r;D++){const k=(r+1)*(R-1)+(D-1),N=(r+1)*R+(D-1),z=(r+1)*R+D,V=(r+1)*(R-1)+D;o.push(k,N,V),o.push(N,z,V)}this.setIndex(o),this.setAttribute("position",new rn(c,3)),this.setAttribute("normal",new rn(u,3)),this.setAttribute("uv",new rn(d,2));function A(R,D,k,N,z){const V=Math.cos(R),I=Math.sin(R),L=k/D*R,j=Math.cos(L);z.x=N*(2+j)*.5*V,z.y=N*(2+j)*I*.5,z.z=N*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class WM extends Gn{constructor(e=new gP(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new ie,c=new ie,u=new nt;let d=new ie;const p=[],v=[],y=[],_=[];w(),this.setIndex(_),this.setAttribute("position",new rn(p,3)),this.setAttribute("normal",new rn(v,3)),this.setAttribute("uv",new rn(y,2));function w(){for(let R=0;R<t;R++)S(R);S(s===!1?t:0),A(),E()}function S(R){d=e.getPointAt(R/t,d);const D=a.normals[R],k=a.binormals[R];for(let N=0;N<=r;N++){const z=N/r*Math.PI*2,V=Math.sin(z),I=-Math.cos(z);c.x=I*D.x+V*k.x,c.y=I*D.y+V*k.y,c.z=I*D.z+V*k.z,c.normalize(),v.push(c.x,c.y,c.z),o.x=d.x+i*c.x,o.y=d.y+i*c.y,o.z=d.z+i*c.z,p.push(o.x,o.y,o.z)}}function E(){for(let R=1;R<=t;R++)for(let D=1;D<=r;D++){const k=(r+1)*(R-1)+(D-1),N=(r+1)*R+(D-1),z=(r+1)*R+D,V=(r+1)*(R-1)+D;_.push(k,N,V),_.push(N,z,V)}}function A(){for(let R=0;R<=t;R++)for(let D=0;D<=r;D++)u.x=R/t,u.y=D/r,y.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new WM(new _T[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class u8 extends Gn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new ie,s=new ie;if(e.index!==null){const a=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,d=c.length;u<d;++u){const p=c[u],v=p.start,y=p.count;for(let _=v,w=v+y;_<w;_+=3)for(let S=0;S<3;S++){const E=o.getX(_+S),A=o.getX(_+(S+1)%3);r.fromBufferAttribute(a,E),s.fromBufferAttribute(a,A),Z4(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,c=a.count/3;o<c;o++)for(let u=0;u<3;u++){const d=3*o+u,p=3*o+(u+1)%3;r.fromBufferAttribute(a,d),s.fromBufferAttribute(a,p),Z4(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new rn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Z4(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Q4=Object.freeze({__proto__:null,BoxGeometry:mg,CapsuleGeometry:IM,CircleGeometry:LM,ConeGeometry:UM,CylinderGeometry:Qy,DodecahedronGeometry:zM,EdgesGeometry:a8,ExtrudeGeometry:BM,IcosahedronGeometry:kM,LatheGeometry:wx,OctahedronGeometry:Tx,PlaneGeometry:$y,PolyhedronGeometry:tp,RingGeometry:FM,ShapeGeometry:HM,SphereGeometry:Mx,TetrahedronGeometry:jM,TorusGeometry:GM,TorusKnotGeometry:qM,TubeGeometry:WM,WireframeGeometry:u8});class h8 extends wa{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new $t(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class f8 extends Lc{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class yP extends wa{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new $t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d8 extends yP{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new $t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new $t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new $t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class p8 extends wa{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new $t(16777215),this.specular=new $t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=bx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class m8 extends wa{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new $t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class g8 extends wa{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class v8 extends wa{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new $t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=bx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class y8 extends wa{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new $t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class b8 extends Ya{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Rm(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function _8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function x8(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function I3(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let c=0;c!==e;++c)r[a++]=n[o+c]}return r}function bP(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function xme(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),p=[],v=[];for(let y=0;y<u.times.length;++y){const _=u.times[y]*r;if(!(_<t||_>=i)){p.push(u.times[y]);for(let w=0;w<d;++w)v.push(u.values[y*d+w])}}p.length!==0&&(u.times=Rm(p,u.times.constructor),u.values=Rm(v,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let c=0;c<s.tracks.length;++c)o>s.tracks[c].times[0]&&(o=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*o);return s.resetDuration(),s}function Sme(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const u=n.tracks.find(function(E){return E.name===o.name&&E.ValueTypeName===c});if(u===void 0)continue;let d=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);let v=0;const y=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const _=o.times.length-1;let w;if(s<=o.times[0]){const E=d,A=p-d;w=o.values.slice(E,A)}else if(s>=o.times[_]){const E=_*p+d,A=E+p-d;w=o.values.slice(E,A)}else{const E=o.createInterpolant(),A=d,R=p-d;E.evaluate(s),w=E.resultBuffer.slice(A,R)}c==="quaternion"&&new xa().fromArray(w).normalize().conjugate().toArray(w);const S=u.times.length;for(let E=0;E<S;++E){const A=E*y+v;if(c==="quaternion")xa.multiplyQuaternionsFlat(u.values,A,w,0,u.values,A);else{const R=y-v*2;for(let D=0;D<R;++D)u.values[A+D]-=w[D]}}}return n.blendMode=QN,n}const Eme={convertArray:Rm,isTypedArray:_8,getKeyframeOrder:x8,sortedArray:I3,flattenJSON:bP,subclip:xme,makeClipAdditive:Sme};class Ax{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let c=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class S8 extends Ax{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mm,endingEnd:Mm}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],c=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Am:s=e,o=2*t-i;break;case P_:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(c===void 0)switch(this.getSettings_().endingEnd){case Am:a=e,c=2*i-t;break;case P_:a=1,c=i+r[1]-r[0];break;default:a=e-1,c=t}const u=(i-t)*.5,d=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(c-i),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,d=this._offsetPrev,p=this._offsetNext,v=this._weightPrev,y=this._weightNext,_=(i-t)/(r-t),w=_*_,S=w*_,E=-v*S+2*v*w-v*_,A=(1+v)*S+(-1.5-2*v)*w+(-.5+v)*_+1,R=(-1-y)*S+(1.5+y)*w+.5*_,D=y*S-y*w;for(let k=0;k!==o;++k)s[k]=E*a[d+k]+A*a[u+k]+R*a[c+k]+D*a[p+k];return s}}class _P extends Ax{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,d=(i-t)/(r-t),p=1-d;for(let v=0;v!==o;++v)s[v]=a[u+v]*p+a[c+v]*d;return s}}class E8 extends Ax{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Fc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rm(t,this.TimeBufferType),this.values=Rm(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Rm(e.times,Array),values:Rm(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new E8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _P(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new S8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case N_:t=this.InterpolantFactoryMethodDiscrete;break;case vT:t=this.InterpolantFactoryMethodLinear;break;case HE:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return N_;case this.InterpolantFactoryMethodLinear:return vT;case this.InterpolantFactoryMethodSmooth:return HE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=i[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(r!==void 0&&_8(r))for(let o=0,c=r.length;o!==c;++o){const u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===HE,s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const u=e[o],d=e[o+1];if(u!==d&&(o!==1||u!==e[0]))if(r)c=!0;else{const p=o*i,v=p-i,y=p+i;for(let _=0;_!==i;++_){const w=t[p+_];if(w!==t[v+_]||w!==t[y+_]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const p=o*i,v=a*i;for(let y=0;y!==i;++y)t[v+y]=t[p+y]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,c=a*i,u=0;u!==i;++u)t[c+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Fc.prototype.TimeBufferType=Float32Array;Fc.prototype.ValueBufferType=Float32Array;Fc.prototype.DefaultInterpolation=vT;class gg extends Fc{constructor(e,t,i){super(e,t,i)}}gg.prototype.ValueTypeName="bool";gg.prototype.ValueBufferType=Array;gg.prototype.DefaultInterpolation=N_;gg.prototype.InterpolantFactoryMethodLinear=void 0;gg.prototype.InterpolantFactoryMethodSmooth=void 0;class xP extends Fc{}xP.prototype.ValueTypeName="color";class F_ extends Fc{}F_.prototype.ValueTypeName="number";class w8 extends Ax{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(i-t)/(r-t);let u=e*o;for(let d=u+o;u!==d;u+=4)xa.slerpFlat(s,0,a,u-o,a,u,c);return s}}class Cx extends Fc{InterpolantFactoryMethodLinear(e){return new w8(this.times,this.values,this.getValueSize(),e)}}Cx.prototype.ValueTypeName="quaternion";Cx.prototype.InterpolantFactoryMethodSmooth=void 0;class vg extends Fc{constructor(e,t,i){super(e,t,i)}}vg.prototype.ValueTypeName="string";vg.prototype.ValueBufferType=Array;vg.prototype.DefaultInterpolation=N_;vg.prototype.InterpolantFactoryMethodLinear=void 0;vg.prototype.InterpolantFactoryMethodSmooth=void 0;class H_ extends Fc{}H_.prototype.ValueTypeName="vector";class j_{constructor(e="",t=-1,i=[],r=wM){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=tl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(Tme(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Fc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let c=[],u=[];c.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const d=x8(c);c=I3(c,1,d),u=I3(u,1,d),!r&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new F_(".morphTargetInfluences["+t[o].name+"]",c,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const u=e[o],d=u.name.match(s);if(d&&d.length>1){const p=d[1];let v=r[p];v||(r[p]=v=[]),v.push(u)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(p,v,y,_,w){if(y.length!==0){const S=[],E=[];bP(y,S,E,_),S.length!==0&&w.push(new p(v,S,E))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const v=u[p].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let _;for(_=0;_<v.length;_++)if(v[_].morphTargets)for(let w=0;w<v[_].morphTargets.length;w++)y[v[_].morphTargets[w]]=-1;for(const w in y){const S=[],E=[];for(let A=0;A!==v[_].morphTargets.length;++A){const R=v[_];S.push(R.time),E.push(R.morphTarget===w?1:0)}r.push(new F_(".morphTargetInfluence["+w+"]",S,E))}c=y.length*a}else{const y=".bones["+t[p].name+"]";i(H_,y+".position",v,"pos",r),i(Cx,y+".quaternion",v,"rot",r),i(H_,y+".scale",v,"scl",r)}}return r.length===0?null:new this(s,c,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function wme(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return F_;case"vector":case"vector2":case"vector3":case"vector4":return H_;case"color":return xP;case"quaternion":return Cx;case"bool":case"boolean":return gg;case"string":return vg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Tme(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=wme(n.type);if(n.times===void 0){const t=[],i=[];bP(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const nf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class SP{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){o++,s===!1&&r.onStart!==void 0&&r.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,r.onProgress!==void 0&&r.onProgress(d,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,p){return u.push(d,p),this},this.removeHandler=function(d){const p=u.indexOf(d);return p!==-1&&u.splice(p,2),this},this.getHandler=function(d){for(let p=0,v=u.length;p<v;p+=2){const y=u[p],_=u[p+1];if(y.global&&(y.lastIndex=0),y.test(d))return _}return null}}}const T8=new SP;let Ro=class{constructor(e){this.manager=e!==void 0?e:T8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Ro.DEFAULT_MATERIAL_NAME="__DEFAULT";const Xh={};class Mme extends Error{constructor(e,t){super(e),this.response=t}}class mf extends Ro{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=nf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Xh[e]!==void 0){Xh[e].push({onLoad:t,onProgress:i,onError:r});return}Xh[e]=[],Xh[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Xh[e],p=u.body.getReader(),v=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),y=v?parseInt(v):0,_=y!==0;let w=0;const S=new ReadableStream({start(E){A();function A(){p.read().then(({done:R,value:D})=>{if(R)E.close();else{w+=D.byteLength;const k=new ProgressEvent("progress",{lengthComputable:_,loaded:w,total:y});for(let N=0,z=d.length;N<z;N++){const V=d[N];V.onProgress&&V.onProgress(k)}E.enqueue(D),A()}},R=>{E.error(R)})}}});return new Response(S)}else throw new Mme(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return u.json();default:if(o===void 0)return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),v=p&&p[1]?p[1].toLowerCase():void 0,y=new TextDecoder(v);return u.arrayBuffer().then(_=>y.decode(_))}}}).then(u=>{nf.add(e,u);const d=Xh[e];delete Xh[e];for(let p=0,v=d.length;p<v;p++){const y=d[p];y.onLoad&&y.onLoad(u)}}).catch(u=>{const d=Xh[e];if(d===void 0)throw this.manager.itemError(e),u;delete Xh[e];for(let p=0,v=d.length;p<v;p++){const y=d[p];y.onError&&y.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ame extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new mf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=j_.parse(e[i]);t.push(r)}return t}}class Cme extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new NM,c=new mf(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function d(p){c.load(e[p],function(v){const y=s.parse(v,!0);a[p]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},u+=1,u===6&&(y.mipmapCount===1&&(o.minFilter=ls),o.image=a,o.format=y.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let p=0,v=e.length;p<v;++p)d(p);else c.load(e,function(p){const v=s.parse(p,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let _=0;_<y;_++){a[_]={mipmaps:[]};for(let w=0;w<v.mipmapCount;w++)a[_].mipmaps.push(v.mipmaps[_*v.mipmapCount+w]),a[_].format=v.format,a[_].width=v.width,a[_].height=v.height}o.image=a}else o.image.width=v.width,o.image.height=v.height,o.mipmaps=v.mipmaps;v.mipmapCount===1&&(o.minFilter=ls),o.format=v.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}class G_ extends Ro{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=nf.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=U_("img");function c(){d(),nf.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(p){d(),r&&r(p),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class Rme extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=new Sx;s.colorSpace=fa;const a=new G_(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function c(u){a.load(e[u],function(d){s.images[u]=d,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)c(u);return s}}class Dme extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Ku,o=new mf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(c){let u;try{u=s.parse(c)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Il,a.wrapT=u.wrapT!==void 0?u.wrapT:Il,a.magFilter=u.magFilter!==void 0?u.magFilter:ls,a.minFilter=u.minFilter!==void 0?u.minFilter:ls,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=ju),u.mipmapCount===1&&(a.minFilter=ls),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},i,r),a}}class XM extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=new cr,a=new G_(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class np extends bi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new $t(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class M8 extends np{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new $t(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const UR=new wn,J4=new ie,ez=new ie;class EP{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.map=null,this.mapPass=null,this.matrix=new wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ex,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new yi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;J4.setFromMatrixPosition(e.matrixWorld),t.position.copy(J4),ez.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ez),t.updateMatrixWorld(),UR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(UR),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(UR)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ome extends EP{constructor(){super(new qr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=My*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class A8 extends np{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bi.DEFAULT_UP),this.updateMatrix(),this.target=new bi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Ome}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const tz=new wn,Ob=new ie,zR=new ie;class Nme extends EP{constructor(){super(new qr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new yi(2,1,1,1),new yi(0,1,1,1),new yi(3,1,1,1),new yi(1,1,1,1),new yi(3,0,1,1),new yi(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ob.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ob),zR.copy(i.position),zR.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(zR),i.updateMatrixWorld(),r.makeTranslation(-Ob.x,-Ob.y,-Ob.z),tz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tz)}}class C8 extends np{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Nme}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Pme extends EP{constructor(){super(new Cd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class R8 extends np{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bi.DEFAULT_UP),this.updateMatrix(),this.target=new bi,this.shadow=new Pme}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class D8 extends np{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class O8 extends np{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class N8{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ie)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class P8 extends np{constructor(e=new N8,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class YM extends Ro{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new mf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new $t().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new $t().setHex(a.value);break;case"v2":r.uniforms[s].value=new nt().fromArray(a.value);break;case"v3":r.uniforms[s].value=new ie().fromArray(a.value);break;case"v4":r.uniforms[s].value=new yi().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Pn().fromArray(a.value);break;case"m4":r.uniforms[s].value=new wn().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new nt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new nt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return YM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:h8,SpriteMaterial:cP,RawShaderMaterial:f8,ShaderMaterial:Lc,PointsMaterial:hP,MeshPhysicalMaterial:d8,MeshStandardMaterial:yP,MeshPhongMaterial:p8,MeshToonMaterial:m8,MeshNormalMaterial:g8,MeshLambertMaterial:v8,MeshDepthMaterial:aP,MeshDistanceMaterial:oP,MeshBasicMaterial:ep,MeshMatcapMaterial:y8,LineDashedMaterial:b8,LineBasicMaterial:Ya,Material:wa};return new t[e]}}class L3{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class I8 extends Gn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class L8 extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new mf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(y,_){if(t[_]!==void 0)return t[_];const S=y.interleavedBuffers[_],E=s(y,S.buffer),A=ey(S.type,E),R=new DM(A,S.stride);return R.uuid=S.uuid,t[_]=R,R}function s(y,_){if(i[_]!==void 0)return i[_];const S=y.arrayBuffers[_],E=new Uint32Array(S).buffer;return i[_]=E,E}const a=e.isInstancedBufferGeometry?new I8:new Gn,o=e.data.index;if(o!==void 0){const y=ey(o.type,o.array);a.setIndex(new ji(y,1))}const c=e.data.attributes;for(const y in c){const _=c[y];let w;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);w=new Zm(S,_.itemSize,_.offset,_.normalized)}else{const S=ey(_.type,_.array),E=_.isInstancedBufferAttribute?Ry:ji;w=new E(S,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),_.usage!==void 0&&w.setUsage(_.usage),a.setAttribute(y,w)}const u=e.data.morphAttributes;if(u)for(const y in u){const _=u[y],w=[];for(let S=0,E=_.length;S<E;S++){const A=_[S];let R;if(A.isInterleavedBufferAttribute){const D=r(e.data,A.data);R=new Zm(D,A.itemSize,A.offset,A.normalized)}else{const D=ey(A.type,A.array);R=new ji(D,A.itemSize,A.normalized)}A.name!==void 0&&(R.name=A.name),w.push(R)}a.morphAttributes[y]=w}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let y=0,_=p.length;y!==_;++y){const w=p[y];a.addGroup(w.start,w.count,w.materialIndex)}const v=e.data.boundingSphere;if(v!==void 0){const y=new ie;v.center!==void 0&&y.fromArray(v.center),a.boundingSphere=new Sa(y,v.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Ime extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?L3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new mf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(p){r!==void 0&&r(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?L3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new mf(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,c,o,i),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let p=!1;for(const v in a)if(a[v].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,r,o,a,t),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Vm().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new OM().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new L8;for(let s=0,a=e.length;s<a;s++){let o;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;default:c.type in Q4?o=Q4[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),i[c.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new YM;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const c=e[a];i[c.uuid]===void 0&&(i[c.uuid]=s.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=j_.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(c){return i.manager.itemStart(c),s.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){const u=c,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(d)}else return c.data?{data:ey(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new SP(t);s=new G_(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const p=e[u],v=p.url;if(Array.isArray(v)){const y=[];for(let _=0,w=v.length;_<w;_++){const S=v[_],E=o(S);E!==null&&(E instanceof HTMLImageElement?y.push(E):y.push(new Ku(E.data,E.width,E.height)))}r[p.uuid]=new Cm(y)}else{const y=o(p.url);r[p.uuid]=new Cm(y)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(c)}else return a.data?{data:ey(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new G_(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const c=e[a],u=c.url;if(Array.isArray(u)){const d=[];for(let p=0,v=u.length;p<v;p++){const y=u[p],_=await s(y);_!==null&&(_ instanceof HTMLImageElement?d.push(_):d.push(new Ku(_.data,_.width,_.height)))}i[c.uuid]=new Cm(d)}else{const d=await s(c.url);i[c.uuid]=new Cm(d)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const c=t[o.image],u=c.data;let d;Array.isArray(u)?(d=new Sx,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Ku:d=new cr,u&&(d.needsUpdate=!0)),d.source=c,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=i(o.mapping,Lme)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=i(o.wrap[0],nz),d.wrapT=i(o.wrap[1],nz)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=i(o.minFilter,iz)),o.magFilter!==void 0&&(d.magFilter=i(o.magFilter,iz)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),r[o.uuid]=d}return r}parseObject(e,t,i,r,s){let a;function o(v){return t[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),t[v]}function c(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let _=0,w=v.length;_<w;_++){const S=v[_];i[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),y.push(i[S])}return y}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function u(v){return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),r[v]}let d,p;switch(e.type){case"Scene":a=new lP,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new $t(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new RM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new CM(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new qr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Cd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new D8(e.color,e.intensity);break;case"DirectionalLight":a=new R8(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new C8(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new O8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new A8(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new M8(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new P8().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),p=c(e.material),a=new $9(d,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),p=c(e.material),a=new is(d,p);break;case"InstancedMesh":d=o(e.geometry),p=c(e.material);const v=e.count,y=e.instanceMatrix,_=e.instanceColor;a=new Z9(d,p,v),a.instanceMatrix=new Ry(new Float32Array(y.array),16),_!==void 0&&(a.instanceColor=new Ry(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":d=o(e.geometry),p=c(e.material),a=new Q9(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(w=>{const S=new Xa;S.min.fromArray(w.boxMin),S.max.fromArray(w.boxMax);const E=new Sa;return E.radius=w.sphereRadius,E.center.fromArray(w.sphereCenter),{boxInitialized:w.boxInitialized,box:S,sphereInitialized:w.sphereInitialized,sphere:E}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":a=new K9;break;case"Line":a=new Bd(o(e.geometry),c(e.material));break;case"LineLoop":a=new J9(o(e.geometry),c(e.material));break;case"LineSegments":a=new ch(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new e8(o(e.geometry),c(e.material));break;case"Sprite":a=new Y9(c(e.material));break;case"Group":a=new ny;break;case"Bone":a=new uP;break;default:a=new bi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)a.add(this.parseObject(v[y],t,i,r,s))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const _=v[y];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const _=v[y],w=a.getObjectByProperty("uuid",_.object);w!==void 0&&a.addLevel(w,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new bi}})}}const Lme={UVMapping:vM,CubeReflectionMapping:df,CubeRefractionMapping:Vd,EquirectangularReflectionMapping:C_,EquirectangularRefractionMapping:R_,CubeUVReflectionMapping:Yy},nz={RepeatWrapping:D_,ClampToEdgeWrapping:Il,MirroredRepeatWrapping:O_},iz={NearestFilter:qs,NearestMipmapNearestFilter:HN,NearestMipmapLinearFilter:Jv,LinearFilter:ls,LinearMipmapNearestFilter:e_,LinearMipmapLinearFilter:ju};class Ume extends Ro{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=nf.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{r&&r(u)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const c=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return nf.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),nf.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});nf.add(e,c),s.manager.itemStart(e)}}let tE;class wP{static getContext(){return tE===void 0&&(tE=new(window.AudioContext||window.webkitAudioContext)),tE}static setContext(e){tE=e}}class zme extends Ro{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new mf(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{const u=c.slice(0);wP.getContext().decodeAudioData(u,function(p){t(p)}).catch(o)}catch(u){o(u)}},i,r);function o(c){r?r(c):console.error(c),s.manager.itemError(e)}}}const rz=new wn,sz=new wn,rm=new wn;class Vme{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,rm.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(zm*t.fov*.5)/t.zoom;let o,c;sz.elements[12]=-r,rz.elements[12]=r,o=-a*t.aspect+s,c=a*t.aspect+s,rm.elements[0]=2*t.near/(c-o),rm.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(rm),o=-a*t.aspect-s,c=a*t.aspect-s,rm.elements[0]=2*t.near/(c-o),rm.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(rm)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rz)}}let TP=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=az(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=az();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function az(){return performance.now()}const sm=new ie,oz=new xa,Bme=new ie,am=new ie;class kme extends bi{constructor(){super(),this.type="AudioListener",this.context=wP.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new TP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sm,oz,Bme),am.set(0,0,-1).applyQuaternion(oz),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sm.x,r),t.positionY.linearRampToValueAtTime(sm.y,r),t.positionZ.linearRampToValueAtTime(sm.z,r),t.forwardX.linearRampToValueAtTime(am.x,r),t.forwardY.linearRampToValueAtTime(am.y,r),t.forwardZ.linearRampToValueAtTime(am.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(sm.x,sm.y,sm.z),t.setOrientation(am.x,am.y,am.z,i.x,i.y,i.z)}}class U8 extends bi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const om=new ie,lz=new xa,Fme=new ie,lm=new ie;class Hme extends U8{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(om,lz,Fme),lm.set(0,0,1).applyQuaternion(lz);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(om.x,i),t.positionY.linearRampToValueAtTime(om.y,i),t.positionZ.linearRampToValueAtTime(om.z,i),t.orientationX.linearRampToValueAtTime(lm.x,i),t.orientationY.linearRampToValueAtTime(lm.y,i),t.orientationZ.linearRampToValueAtTime(lm.z,i)}else t.setPosition(om.x,om.y,om.z),t.setOrientation(lm.x,lm.y,lm.z)}}class jme{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class z8{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(i,r,c,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let c=t,u=t+t;c!==u;++c)if(i[c]!==i[c+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){xa.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;xa.multiplyQuaternionsFlat(e,a,e,t,e,i),xa.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const c=t+o;e[c]=e[c]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const MP="\\[\\]\\.:\\/",Gme=new RegExp("["+MP+"]","g"),AP="[^"+MP+"]",qme="[^"+MP.replace("\\.","")+"]",Wme=/((?:WC+[\/:])*)/.source.replace("WC",AP),Xme=/(WCOD+)?/.source.replace("WCOD",qme),Yme=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AP),Kme=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AP),$me=new RegExp("^"+Wme+Xme+Yme+Kme+"$"),Zme=["material","materials","bones","map"];class Qme{constructor(e,t,i){const r=i||vi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class vi{constructor(e,t,i){this.path=t,this.parsedPath=i||vi.parseTrackName(t),this.node=vi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new vi.Composite(e,t,i):new vi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Gme,"")}static parseTrackName(e){const t=$me.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Zme.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const c=i(o.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=vi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[r];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vi.Composite=Qme;vi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vi.prototype.GetterByBindingType=[vi.prototype._getValue_direct,vi.prototype._getValue_array,vi.prototype._getValue_arrayElement,vi.prototype._getValue_toArray];vi.prototype.SetterByBindingTypeAndVersioning=[[vi.prototype._setValue_direct,vi.prototype._setValue_direct_setNeedsUpdate,vi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_array,vi.prototype._setValue_array_setNeedsUpdate,vi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_arrayElement,vi.prototype._setValue_arrayElement_setNeedsUpdate,vi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_fromArray,vi.prototype._setValue_fromArray_setNeedsUpdate,vi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Jme{constructor(){this.isAnimationObjectGroup=!0,this.uuid=tl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,c=e.length,u=this.nCachedObjects_;for(let d=0,p=arguments.length;d!==p;++d){const v=arguments[d],y=v.uuid;let _=t[y];if(_===void 0){_=c++,t[y]=_,e.push(v);for(let w=0,S=a;w!==S;++w)s[w].push(new vi(v,i[w],r[w]))}else if(_<u){o=e[_];const w=--u,S=e[w];t[S.uuid]=_,e[_]=S,t[y]=w,e[w]=v;for(let E=0,A=a;E!==A;++E){const R=s[E],D=R[w];let k=R[_];R[_]=D,k===void 0&&(k=new vi(v,i[E],r[E])),R[w]=k}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0&&d>=s){const p=s++,v=e[p];t[v.uuid]=d,e[d]=v,t[u]=p,e[p]=c;for(let y=0,_=r;y!==_;++y){const w=i[y],S=w[p],E=w[d];w[d]=S,w[p]=E}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],d=u.uuid,p=t[d];if(p!==void 0)if(delete t[d],p<s){const v=--s,y=e[v],_=--a,w=e[_];t[y.uuid]=p,e[p]=y,t[w.uuid]=v,e[v]=w,e.pop();for(let S=0,E=r;S!==E;++S){const A=i[S],R=A[v],D=A[_];A[p]=R,A[v]=D,A.pop()}}else{const v=--a,y=e[v];v>0&&(t[y.uuid]=p),e[p]=y,e.pop();for(let _=0,w=r;_!==w;++_){const S=i[_];S[p]=S[v],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,c=this._objects,u=c.length,d=this.nCachedObjects_,p=new Array(u);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(p);for(let v=d,y=c.length;v!==y;++v){const _=c[v];p[v]=new vi(_,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,c=a[o],u=e[o];t[u]=i,a[i]=c,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class V8{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),c={endingStart:Mm,endingEnd:Mm};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);o[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=y9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,u=o.sampleValues;return c[0]=s,c[1]=s+i,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*i;c<0||i===0?t=0:(this._startTime=null,t=i*c)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case QN:for(let d=0,p=c.length;d!==p;++d)c[d].evaluate(a),u[d].accumulateAdditive(o);break;case wM:default:for(let d=0,p=c.length;d!==p;++d)c[d].evaluate(a),u[d].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===b9;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===v9){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Am,r.endingEnd=Am):(e?r.endingStart=this.zeroSlopeAtStart?Am:Mm:r.endingStart=P_,t?r.endingEnd=this.zeroSlopeAtEnd?Am:Mm:r.endingEnd=P_)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=s,c[0]=t,o[1]=s+e,c[1]=i,this}}const ege=new Float32Array(1);class tge extends lh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,c=i.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let p=0;p!==s;++p){const v=r[p],y=v.name;let _=d[y];if(_!==void 0)++_.referenceCount,a[p]=_;else{if(_=a[p],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,y));continue}const w=t&&t._propertyBindings[p].binding.parsedPath;_=new z8(vi.create(i,y,w),v.ValueTypeName,v.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,y),a[p]=_}o[p].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],c=o.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,v=(e._localRoot||this._root).uuid;delete p[v],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],c=t[t.length-1],u=e._cacheIndex;c._cacheIndex=u,t[u]=c,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new _P(new Float32Array(2),new Float32Array(2),1,ege),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?j_.findByName(r,e):e;const o=a!==null?a.uuid:e,c=this._actionsByClip[o];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=wM),c!==void 0){const p=c.actionByRoot[s];if(p!==void 0&&p.blendMode===i)return p;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new V8(this,a,t,i);return this._bindAction(d,u),this._addInactiveAction(d,o,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?j_.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,a);const o=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,c=a.length;o!==c;++o){const u=a[o];this._deactivateAction(u);const d=u._cacheIndex,p=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=d,t[d]=p,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class CP{constructor(e){this.value=e}clone(){return new CP(this.value.clone===void 0?this.value:this.value.clone())}}let nge=0;class ige extends lh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nge++}),this.name="",this.usage=I_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class rge extends DM{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class sge{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const cz=new wn;class B8{constructor(e,t,i=0,r=1/0){this.ray=new pg(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ay,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return cz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(cz),this}intersectObject(e,t=!0,i=[]){return U3(e,this,i,t),i.sort(uz),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)U3(e[r],this,i,t);return i.sort(uz),i}}function uz(n,e){return n.distance-e.distance}function U3(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)U3(s[a],e,t,!0)}}class z3{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Vr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class age{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class RP{constructor(e,t,i,r){RP.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const hz=new nt;class oge{constructor(e=new nt(1/0,1/0),t=new nt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=hz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fz=new ie,nE=new ie;class lge{constructor(e=new ie,t=new ie){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){fz.subVectors(e,this.start),nE.subVectors(this.end,this.start);const i=nE.dot(nE);let s=nE.dot(fz)/i;return t&&(s=Vr(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dz=new ie;class cge extends bi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Gn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,c=32;a<c;a++,o++){const u=a/c*Math.PI*2,d=o/c*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new rn(r,3));const s=new Ya({fog:!1,toneMapped:!1});this.cone=new ch(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pd=new ie,iE=new wn,VR=new wn;class uge extends ch{constructor(e){const t=k8(e),i=new Gn,r=[],s=[],a=new $t(0,0,1),o=new $t(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new rn(r,3)),i.setAttribute("color",new rn(s,3));const c=new Ya({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");VR.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(iE.multiplyMatrices(VR,o.matrixWorld),pd.setFromMatrixPosition(iE),r.setXYZ(a,pd.x,pd.y,pd.z),iE.multiplyMatrices(VR,o.parent.matrixWorld),pd.setFromMatrixPosition(iE),r.setXYZ(a+1,pd.x,pd.y,pd.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function k8(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,k8(n.children[t]));return e}class hge extends is{constructor(e,t,i){const r=new Mx(t,4,2),s=new ep({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fge=new ie,pz=new $t,mz=new $t;class dge extends bi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Tx(t);r.rotateY(Math.PI*.5),this.material=new ep({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new ji(a,3)),this.add(new is(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");pz.copy(this.light.color),mz.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?pz:mz;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(fge.setFromMatrixPosition(this.light.matrixWorld).negate())}}class pge extends ch{constructor(e=10,t=10,i=4473924,r=8947848){i=new $t(i),r=new $t(r);const s=t/2,a=e/t,o=e/2,c=[],u=[];for(let v=0,y=0,_=-o;v<=t;v++,_+=a){c.push(-o,0,_,o,0,_),c.push(_,0,-o,_,0,o);const w=v===s?i:r;w.toArray(u,y),y+=3,w.toArray(u,y),y+=3,w.toArray(u,y),y+=3,w.toArray(u,y),y+=3}const d=new Gn;d.setAttribute("position",new rn(c,3)),d.setAttribute("color",new rn(u,3));const p=new Ya({vertexColors:!0,toneMapped:!1});super(d,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class mge extends ch{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new $t(s),a=new $t(a);const o=[],c=[];if(t>1)for(let p=0;p<t;p++){const v=p/t*(Math.PI*2),y=Math.sin(v)*e,_=Math.cos(v)*e;o.push(0,0,0),o.push(y,0,_);const w=p&1?s:a;c.push(w.r,w.g,w.b),c.push(w.r,w.g,w.b)}for(let p=0;p<i;p++){const v=p&1?s:a,y=e-e/i*p;for(let _=0;_<r;_++){let w=_/r*(Math.PI*2),S=Math.sin(w)*y,E=Math.cos(w)*y;o.push(S,0,E),c.push(v.r,v.g,v.b),w=(_+1)/r*(Math.PI*2),S=Math.sin(w)*y,E=Math.cos(w)*y,o.push(S,0,E),c.push(v.r,v.g,v.b)}}const u=new Gn;u.setAttribute("position",new rn(o,3)),u.setAttribute("color",new rn(c,3));const d=new Ya({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gz=new ie,rE=new ie,vz=new ie;class gge extends bi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Gn;r.setAttribute("position",new rn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ya({fog:!1,toneMapped:!1});this.lightPlane=new Bd(r,s),this.add(this.lightPlane),r=new Gn,r.setAttribute("position",new rn([0,0,0,0,0,1],3)),this.targetLine=new Bd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gz.setFromMatrixPosition(this.light.matrixWorld),rE.setFromMatrixPosition(this.light.target.matrixWorld),vz.subVectors(rE,gz),this.lightPlane.lookAt(rE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rE),this.targetLine.scale.z=vz.length()}}const sE=new ie,Lr=new MM;class vge extends ch{constructor(e){const t=new Gn,i=new Ya({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,w){c(_),c(w)}function c(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new rn(r,3)),t.setAttribute("color",new rn(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new $t(16755200),d=new $t(16711680),p=new $t(43775),v=new $t(16777215),y=new $t(3355443);this.setColors(u,d,p,v,y)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Lr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Hr("c",t,e,Lr,0,0,-1),Hr("t",t,e,Lr,0,0,1),Hr("n1",t,e,Lr,-1,-1,-1),Hr("n2",t,e,Lr,i,-1,-1),Hr("n3",t,e,Lr,-1,r,-1),Hr("n4",t,e,Lr,i,r,-1),Hr("f1",t,e,Lr,-1,-1,1),Hr("f2",t,e,Lr,i,-1,1),Hr("f3",t,e,Lr,-1,r,1),Hr("f4",t,e,Lr,i,r,1),Hr("u1",t,e,Lr,i*.7,r*1.1,-1),Hr("u2",t,e,Lr,-1*.7,r*1.1,-1),Hr("u3",t,e,Lr,0,r*2,-1),Hr("cf1",t,e,Lr,-1,0,1),Hr("cf2",t,e,Lr,i,0,1),Hr("cf3",t,e,Lr,0,-1,1),Hr("cf4",t,e,Lr,0,r,1),Hr("cn1",t,e,Lr,-1,0,-1),Hr("cn2",t,e,Lr,i,0,-1),Hr("cn3",t,e,Lr,0,-1,-1),Hr("cn4",t,e,Lr,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hr(n,e,t,i,r,s,a){sE.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const c=t.getAttribute("position");for(let u=0,d=o.length;u<d;u++)c.setXYZ(o[u],sE.x,sE.y,sE.z)}}const aE=new Xa;class yge extends ch{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Gn;s.setIndex(new ji(i,1)),s.setAttribute("position",new ji(r,3)),super(s,new Ya({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&aE.setFromObject(this.object),aE.isEmpty())return;const t=aE.min,i=aE.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bge extends ch{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Gn;s.setIndex(new ji(i,1)),s.setAttribute("position",new rn(r,3)),super(s,new Ya({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _ge extends Bd{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Gn;a.setAttribute("position",new rn(s,3)),a.computeBoundingSphere(),super(a,new Ya({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Gn;c.setAttribute("position",new rn(o,3)),c.computeBoundingSphere(),this.add(new is(c,new ep({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const yz=new ie;let oE,BR;class xge extends bi{constructor(e=new ie(0,0,1),t=new ie(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",oE===void 0&&(oE=new Gn,oE.setAttribute("position",new rn([0,0,0,0,1,0],3)),BR=new Qy(0,.5,1,5,1),BR.translate(0,-.5,0)),this.position.copy(t),this.line=new Bd(oE,new Ya({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new is(BR,new ep({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{yz.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(yz,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Sge extends ch{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Gn;r.setAttribute("position",new rn(t,3)),r.setAttribute("color",new rn(i,3));const s=new Ya({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new $t,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ege{constructor(){this.type="ShapePath",this.color=new $t,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new z_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(E){const A=[];for(let R=0,D=E.length;R<D;R++){const k=E[R],N=new Vm;N.curves=k.curves,A.push(N)}return A}function i(E,A){const R=A.length;let D=!1;for(let k=R-1,N=0;N<R;k=N++){let z=A[k],V=A[N],I=V.x-z.x,L=V.y-z.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(z=A[N],I=-I,V=A[k],L=-L),E.y<z.y||E.y>V.y)continue;if(E.y===z.y){if(E.x===z.x)return!0}else{const j=L*(E.x-z.x)-I*(E.y-z.y);if(j===0)return!0;if(j<0)continue;D=!D}}else{if(E.y!==z.y)continue;if(V.x<=E.x&&E.x<=z.x||z.x<=E.x&&E.x<=V.x)return!0}}return D}const r=$u.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,c;const u=[];if(s.length===1)return o=s[0],c=new Vm,c.curves=o.curves,u.push(c),u;let d=!r(s[0].getPoints());d=e?!d:d;const p=[],v=[];let y=[],_=0,w;v[_]=void 0,y[_]=[];for(let E=0,A=s.length;E<A;E++)o=s[E],w=o.getPoints(),a=r(w),a=e?!a:a,a?(!d&&v[_]&&_++,v[_]={s:new Vm,p:w},v[_].s.curves=o.curves,d&&_++,y[_]=[]):y[_].push({h:o,p:w[0]});if(!v[0])return t(s);if(v.length>1){let E=!1,A=0;for(let R=0,D=v.length;R<D;R++)p[R]=[];for(let R=0,D=v.length;R<D;R++){const k=y[R];for(let N=0;N<k.length;N++){const z=k[N];let V=!0;for(let I=0;I<v.length;I++)i(z.p,v[I].p)&&(R!==I&&A++,V?(V=!1,p[I].push(z)):E=!0);V&&p[R].push(z)}}A>0&&E===!1&&(y=p)}let S;for(let E=0,A=v.length;E<A;E++){c=v[E].s,u.push(c),S=y[E];for(let R=0,D=S.length;R<D;R++)c.holes.push(S[R].h)}return u}}class wge extends lh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Tge extends Ic{constructor(e=1,t=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=mM);const Mge=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:FN,AddEquation:Sd,AddOperation:c9,AdditiveAnimationBlendMode:QN,AdditiveBlending:S3,AgXToneMapping:p9,AlphaFormat:WN,AlwaysCompare:R9,AlwaysDepth:Bw,AlwaysStencilFunc:M3,AmbientLight:D8,AnimationAction:V8,AnimationClip:j_,AnimationLoader:Ame,AnimationMixer:tge,AnimationObjectGroup:Jme,AnimationUtils:Eme,ArcCurve:t8,ArrayCamera:q9,ArrowHelper:xge,AttachedBindMode:T3,Audio:U8,AudioAnalyser:jme,AudioContext:wP,AudioListener:kme,AudioLoader:zme,AxesHelper:Sge,BackSide:Wa,BasicDepthPacking:_9,BasicShadowMap:jH,BatchedMesh:Q9,Bone:uP,BooleanKeyframeTrack:gg,Box2:oge,Box3:Xa,Box3Helper:bge,BoxGeometry:mg,BoxHelper:yge,BufferAttribute:ji,BufferGeometry:Gn,BufferGeometryLoader:L8,ByteType:jN,Cache:nf,Camera:MM,CameraHelper:vge,CanvasTexture:Xpe,CapsuleGeometry:IM,CatmullRomCurve3:n8,CineonToneMapping:f9,CircleGeometry:LM,ClampToEdgeWrapping:Il,Clock:TP,Color:$t,ColorKeyframeTrack:xP,ColorManagement:ii,CompressedArrayTexture:qpe,CompressedCubeTexture:Wpe,CompressedTexture:NM,CompressedTextureLoader:Cme,ConeGeometry:UM,ConstantAlphaFactor:a9,ConstantColorFactor:r9,Controls:wge,CubeCamera:z9,CubeReflectionMapping:df,CubeRefractionMapping:Vd,CubeTexture:Sx,CubeTextureLoader:Rme,CubeUVReflectionMapping:Yy,CubicBezierCurve:dP,CubicBezierCurve3:i8,CubicInterpolant:S8,CullFaceBack:x3,CullFaceFront:HH,CullFaceFrontBack:xle,CullFaceNone:FH,Curve:kc,CurvePath:s8,CustomBlending:GH,CustomToneMapping:d9,CylinderGeometry:Qy,Cylindrical:age,Data3DTexture:tP,DataArrayTexture:TM,DataTexture:Ku,DataTextureLoader:Dme,DataUtils:Lce,DecrementStencilOp:Lle,DecrementWrapStencilOp:zle,DefaultLoadingManager:T8,DepthFormat:Um,DepthStencilFormat:$m,DepthTexture:sP,DetachedBindMode:g9,DirectionalLight:R8,DirectionalLightHelper:gge,DiscreteInterpolant:E8,DodecahedronGeometry:zM,DoubleSide:Vu,DstAlphaFactor:JH,DstColorFactor:t9,DynamicCopyUsage:Qle,DynamicDrawUsage:Wle,DynamicReadUsage:Kle,EdgesGeometry:a8,EllipseCurve:PM,EqualCompare:T9,EqualDepth:Fw,EqualStencilFunc:Fle,EquirectangularReflectionMapping:C_,EquirectangularRefractionMapping:R_,Euler:al,EventDispatcher:lh,ExtrudeGeometry:BM,FileLoader:mf,Float16BufferAttribute:Fce,Float32BufferAttribute:rn,FloatType:wo,Fog:RM,FogExp2:CM,FramebufferTexture:Gpe,FrontSide:ff,Frustum:Ex,GLBufferAttribute:sge,GLSL1:ece,GLSL3:A3,GreaterCompare:M9,GreaterDepth:jw,GreaterEqualCompare:C9,GreaterEqualDepth:Hw,GreaterEqualStencilFunc:qle,GreaterStencilFunc:jle,GridHelper:pge,Group:ny,HalfFloatType:Ky,HemisphereLight:M8,HemisphereLightHelper:dge,IcosahedronGeometry:kM,ImageBitmapLoader:Ume,ImageLoader:G_,ImageUtils:N9,IncrementStencilOp:Ile,IncrementWrapStencilOp:Ule,InstancedBufferAttribute:Ry,InstancedBufferGeometry:I8,InstancedInterleavedBuffer:rge,InstancedMesh:Z9,Int16BufferAttribute:Bce,Int32BufferAttribute:kce,Int8BufferAttribute:Uce,IntType:yM,InterleavedBuffer:DM,InterleavedBufferAttribute:Zm,Interpolant:Ax,InterpolateDiscrete:N_,InterpolateLinear:vT,InterpolateSmooth:HE,InvertStencilOp:Vle,KeepStencilOp:fm,KeyframeTrack:Fc,LOD:K9,LatheGeometry:wx,Layers:Ay,LessCompare:w9,LessDepth:kw,LessEqualCompare:JN,LessEqualDepth:Ym,LessEqualStencilFunc:Hle,LessStencilFunc:kle,Light:np,LightProbe:P8,Line:Bd,Line3:lge,LineBasicMaterial:Ya,LineCurve:pP,LineCurve3:r8,LineDashedMaterial:b8,LineLoop:J9,LineSegments:ch,LinearFilter:ls,LinearInterpolant:_P,LinearMipMapLinearFilter:Tle,LinearMipMapNearestFilter:wle,LinearMipmapLinearFilter:ju,LinearMipmapNearestFilter:e_,LinearSRGBColorSpace:Jd,LinearToneMapping:u9,LinearTransfer:xx,Loader:Ro,LoaderUtils:L3,LoadingManager:SP,LoopOnce:v9,LoopPingPong:b9,LoopRepeat:y9,LuminanceAlphaFormat:KN,LuminanceFormat:YN,MOUSE:um,Material:wa,MaterialLoader:YM,MathUtils:vce,Matrix2:RP,Matrix3:Pn,Matrix4:wn,MaxEquation:YH,Mesh:is,MeshBasicMaterial:ep,MeshDepthMaterial:aP,MeshDistanceMaterial:oP,MeshLambertMaterial:v8,MeshMatcapMaterial:y8,MeshNormalMaterial:g8,MeshPhongMaterial:p8,MeshPhysicalMaterial:d8,MeshStandardMaterial:yP,MeshToonMaterial:m8,MinEquation:XH,MirroredRepeatWrapping:O_,MixOperation:l9,MultiplyBlending:w3,MultiplyOperation:bx,NearestFilter:qs,NearestMipMapLinearFilter:Ele,NearestMipMapNearestFilter:Sle,NearestMipmapLinearFilter:Jv,NearestMipmapNearestFilter:HN,NeutralToneMapping:m9,NeverCompare:E9,NeverDepth:Vw,NeverStencilFunc:Ble,NoBlending:of,NoColorSpace:Jh,NoToneMapping:Yu,NormalAnimationBlendMode:wM,NormalBlending:Lm,NotEqualCompare:A9,NotEqualDepth:Gw,NotEqualStencilFunc:Gle,NumberKeyframeTrack:F_,Object3D:bi,ObjectLoader:Ime,ObjectSpaceNormalMap:S9,OctahedronGeometry:Tx,OneFactor:$H,OneMinusConstantAlphaFactor:o9,OneMinusConstantColorFactor:s9,OneMinusDstAlphaFactor:e9,OneMinusDstColorFactor:n9,OneMinusSrcAlphaFactor:zw,OneMinusSrcColorFactor:QH,OrthographicCamera:Cd,PCFShadowMap:gM,PCFSoftShadowMap:Jb,PMREMGenerator:C3,Path:z_,PerspectiveCamera:qr,Plane:Zh,PlaneGeometry:$y,PlaneHelper:_ge,PointLight:C8,PointLightHelper:hge,Points:e8,PointsMaterial:hP,PolarGridHelper:mge,PolyhedronGeometry:tp,PositionalAudio:Hme,PropertyBinding:vi,PropertyMixer:z8,QuadraticBezierCurve:mP,QuadraticBezierCurve3:gP,Quaternion:xa,QuaternionKeyframeTrack:Cx,QuaternionLinearInterpolant:w8,RED_GREEN_RGTC2_Format:mT,RED_RGTC1_Format:ZN,REVISION:mM,RGBADepthPacking:x9,RGBAFormat:ba,RGBAIntegerFormat:EM,RGBA_ASTC_10x10_Format:cT,RGBA_ASTC_10x5_Format:aT,RGBA_ASTC_10x6_Format:oT,RGBA_ASTC_10x8_Format:lT,RGBA_ASTC_12x10_Format:uT,RGBA_ASTC_12x12_Format:hT,RGBA_ASTC_4x4_Format:Qw,RGBA_ASTC_5x4_Format:Jw,RGBA_ASTC_5x5_Format:eT,RGBA_ASTC_6x5_Format:tT,RGBA_ASTC_6x6_Format:nT,RGBA_ASTC_8x5_Format:iT,RGBA_ASTC_8x6_Format:rT,RGBA_ASTC_8x8_Format:sT,RGBA_BPTC_Format:s_,RGBA_ETC2_EAC_Format:Zw,RGBA_PVRTC_2BPPV1_Format:Yw,RGBA_PVRTC_4BPPV1_Format:Xw,RGBA_S3TC_DXT1_Format:n_,RGBA_S3TC_DXT3_Format:i_,RGBA_S3TC_DXT5_Format:r_,RGBDepthPacking:Dle,RGBFormat:XN,RGBIntegerFormat:Mle,RGB_BPTC_SIGNED_Format:fT,RGB_BPTC_UNSIGNED_Format:dT,RGB_ETC1_Format:Kw,RGB_ETC2_Format:$w,RGB_PVRTC_2BPPV1_Format:Ww,RGB_PVRTC_4BPPV1_Format:qw,RGB_S3TC_DXT1_Format:t_,RGDepthPacking:Ole,RGFormat:$N,RGIntegerFormat:SM,RawShaderMaterial:f8,Ray:pg,Raycaster:B8,RectAreaLight:O8,RedFormat:xM,RedIntegerFormat:_x,ReinhardToneMapping:h9,RenderTarget:P9,RepeatWrapping:D_,ReplaceStencilOp:Ple,ReverseSubtractEquation:WH,RingGeometry:FM,SIGNED_RED_GREEN_RGTC2_Format:gT,SIGNED_RED_RGTC1_Format:pT,SRGBColorSpace:fa,SRGBTransfer:Bi,Scene:lP,ShaderChunk:jn,ShaderLib:Ec,ShaderMaterial:Lc,ShadowMaterial:h8,Shape:Vm,ShapeGeometry:HM,ShapePath:Ege,ShapeUtils:$u,ShortType:GN,Skeleton:OM,SkeletonHelper:uge,SkinnedMesh:$9,Source:Cm,Sphere:Sa,SphereGeometry:Mx,Spherical:z3,SphericalHarmonics3:N8,SplineCurve:vP,SpotLight:A8,SpotLightHelper:cge,Sprite:Y9,SpriteMaterial:cP,SrcAlphaFactor:Uw,SrcAlphaSaturateFactor:i9,SrcColorFactor:ZH,StaticCopyUsage:Zle,StaticDrawUsage:I_,StaticReadUsage:Yle,StereoCamera:Vme,StreamCopyUsage:Jle,StreamDrawUsage:Xle,StreamReadUsage:$le,StringKeyframeTrack:vg,SubtractEquation:qH,SubtractiveBlending:E3,TOUCH:hm,TangentSpaceNormalMap:Qd,TetrahedronGeometry:jM,Texture:cr,TextureLoader:XM,TextureUtils:wpe,TorusGeometry:GM,TorusKnotGeometry:qM,Triangle:Eo,TriangleFanDrawMode:Rle,TriangleStripDrawMode:Cle,TrianglesDrawMode:Ale,TubeGeometry:WM,UVMapping:vM,Uint16BufferAttribute:nP,Uint32BufferAttribute:iP,Uint8BufferAttribute:zce,Uint8ClampedBufferAttribute:Vce,Uniform:CP,UniformsGroup:ige,UniformsLib:jt,UniformsUtils:U9,UnsignedByteType:Pc,UnsignedInt248Type:Km,UnsignedInt5999Type:qN,UnsignedIntType:pf,UnsignedShort4444Type:bM,UnsignedShort5551Type:_M,UnsignedShortType:Ty,VSMShadowMap:xc,Vector2:nt,Vector3:ie,Vector4:yi,VectorKeyframeTrack:H_,VideoTexture:jpe,WebGL3DRenderTarget:Tce,WebGLArrayRenderTarget:wce,WebGLCoordinateSystem:Gu,WebGLCubeRenderTarget:V9,WebGLMultipleRenderTargets:Tge,WebGLRenderTarget:Ic,WebGLRenderer:W9,WebGLUtils:G9,WebGPUCoordinateSystem:L_,WireframeGeometry:u8,WrapAroundEnding:P_,ZeroCurvatureEnding:Mm,ZeroFactor:KH,ZeroSlopeEnding:Am,ZeroStencilOp:Nle,createCanvasElement:O9},Symbol.toStringTag,{value:"Module"}));var kR={exports:{}},Yh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bz;function Age(){return bz||(bz=1,Yh.ConcurrentRoot=1,Yh.ContinuousEventPriority=8,Yh.DefaultEventPriority=32,Yh.DiscreteEventPriority=2,Yh.IdleEventPriority=268435456,Yh.LegacyRoot=0,Yh.NoEventPriority=0),Yh}var _z;function Cge(){return _z||(_z=1,kR.exports=Age()),kR.exports}var GE=Cge(),FR={exports:{}},HR={},jR={exports:{}},GR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xz;function Rge(){if(xz)return GR;xz=1;var n=Hy();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(p,v){var y=v(),_=i({inst:{value:y,getSnapshot:v}}),w=_[0].inst,S=_[1];return s(function(){w.value=y,w.getSnapshot=v,c(w)&&S({inst:w})},[p,y,v]),r(function(){return c(w)&&S({inst:w}),p(function(){c(w)&&S({inst:w})})},[p]),a(y),y}function c(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!t(p,y)}catch{return!0}}function u(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return GR.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,GR}var Sz;function Dge(){return Sz||(Sz=1,jR.exports=Rge()),jR.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ez;function Oge(){if(Ez)return HR;Ez=1;var n=Hy(),e=Dge();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,c=n.useDebugValue;return HR.useSyncExternalStoreWithSelector=function(u,d,p,v,y){var _=s(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=o(function(){function E(N){if(!A){if(A=!0,R=N,N=v(N),y!==void 0&&w.hasValue){var z=w.value;if(y(z,N))return D=z}return D=N}if(z=D,i(R,N))return z;var V=v(N);return y!==void 0&&y(z,V)?(R=N,z):(R=N,D=V)}var A=!1,R,D,k=p===void 0?null:p;return[function(){return E(d())},k===null?void 0:function(){return E(k())}]},[d,p,v,y]);var S=r(u,_[0],_[1]);return a(function(){w.hasValue=!0,w.value=S},[S]),c(S),S},HR}var wz;function Nge(){return wz||(wz=1,FR.exports=Oge()),FR.exports}var Pge=Nge();const Ige=tM(Pge),Tz=n=>{let e;const t=new Set,i=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,v))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u))},c=e=n(i,r,o);return o},Lge=n=>n?Tz(n):Tz,{useSyncExternalStoreWithSelector:Uge}=Ige,zge=n=>n;function Vge(n,e=zge,t){const i=Uge(n.subscribe,n.getState,n.getInitialState,e,t);return Mt.useDebugValue(i),i}const Mz=(n,e)=>{const t=Lge(n),i=(r,s=e)=>Vge(t,r,s);return Object.assign(i,t),i},Bge=(n,e)=>n?Mz(n,e):Mz;var qR={exports:{}},WR={exports:{}},Az;function kge(){return Az||(Az=1,function(n){/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n.exports=function(e){function t(f,m,x,C){return new Kx(f,m,x,C)}function i(){}function r(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return f===null||typeof f!="object"?null:(f=Mi&&f[Mi]||f["@@iterator"],typeof f=="function"?f:null)}function a(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Cr?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case hu:return"Fragment";case gl:return"Portal";case fu:return"Profiler";case Mh:return"StrictMode";case Jl:return"Suspense";case Cp:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case du:return(f.displayName||"Context")+".Provider";case T0:return(f._context.displayName||"Context")+".Consumer";case zg:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Vf:return m=f.displayName||null,m!==null?m:a(f.type)||"Memo";case ec:m=f._payload,f=f._init;try{return a(f(m))}catch{}}return null}function o(f){if(pu===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);pu=m&&m[1]||"",mu=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pu+f+mu}function c(f,m){if(!f||Bf)return"";Bf=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(m){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(An){var vt=An}Reflect.construct(f,[],Ht)}else{try{Ht.call()}catch(An){vt=An}f.call(Ht.prototype)}}else{try{throw Error()}catch(An){vt=An}(Ht=f())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(An){if(An&&vt&&typeof An.stack=="string")return[An.stack,vt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=C.DetermineComponentFrameRoot(),J=H[0],fe=H[1];if(J&&fe){var Re=J.split(`
`),$e=fe.split(`
`);for(P=C=0;C<Re.length&&!Re[C].includes("DetermineComponentFrameRoot");)C++;for(;P<$e.length&&!$e[P].includes("DetermineComponentFrameRoot");)P++;if(C===Re.length||P===$e.length)for(C=Re.length-1,P=$e.length-1;1<=C&&0<=P&&Re[C]!==$e[P];)P--;for(;1<=C&&0<=P;C--,P--)if(Re[C]!==$e[P]){if(C!==1||P!==1)do if(C--,P--,0>P||Re[C]!==$e[P]){var St=`
`+Re[C].replace(" at new "," at ");return f.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",f.displayName)),St}while(1<=C&&0<=P);break}}}finally{Bf=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?o(x):""}function u(f){switch(f.tag){case 26:case 27:case 5:return o(f.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return f=c(f.type,!1),f;case 11:return f=c(f.type.render,!1),f;case 1:return f=c(f.type,!0),f;default:return""}}function d(f){try{var m="";do m+=u(f),f=f.return;while(f);return m}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function p(f){var m=f,x=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(x=m.return),f=m.return;while(f)}return m.tag===3?x:null}function v(f){if(p(f)!==f)throw Error(r(188))}function y(f){var m=f.alternate;if(!m){if(m=p(f),m===null)throw Error(r(188));return m!==f?null:f}for(var x=f,C=m;;){var P=x.return;if(P===null)break;var H=P.alternate;if(H===null){if(C=P.return,C!==null){x=C;continue}break}if(P.child===H.child){for(H=P.child;H;){if(H===x)return v(P),f;if(H===C)return v(P),m;H=H.sibling}throw Error(r(188))}if(x.return!==C.return)x=P,C=H;else{for(var J=!1,fe=P.child;fe;){if(fe===x){J=!0,x=P,C=H;break}if(fe===C){J=!0,C=P,x=H;break}fe=fe.sibling}if(!J){for(fe=H.child;fe;){if(fe===x){J=!0,x=H,C=P;break}if(fe===C){J=!0,C=H,x=P;break}fe=fe.sibling}if(!J)throw Error(r(189))}}if(x.alternate!==C)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?f:m}function _(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(m=_(f),m!==null)return m;f=f.sibling}return null}function w(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(m=w(f),m!==null))return m;f=f.sibling}return null}function S(f){return{current:f}}function E(f){0>bu||(f.current=$g[bu],$g[bu]=null,bu--)}function A(f,m){bu++,$g[bu]=f.current,f.current=m}function R(f){return f>>>=0,f===0?32:31-(K0(f)/BA|0)|0}function D(f){var m=f&42;if(m!==0)return m;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function k(f,m){var x=f.pendingLanes;if(x===0)return 0;var C=0,P=f.suspendedLanes,H=f.pingedLanes,J=f.warmLanes;f=f.finishedLanes!==0;var fe=x&134217727;return fe!==0?(x=fe&~P,x!==0?C=D(x):(H&=fe,H!==0?C=D(H):f||(J=fe&~J,J!==0&&(C=D(J))))):(fe=x&~P,fe!==0?C=D(fe):H!==0?C=D(H):f||(J=x&~J,J!==0&&(C=D(J)))),C===0?0:m!==0&&m!==C&&(m&P)===0&&(P=C&-C,J=m&-m,P>=J||P===32&&(J&4194176)!==0)?m:C}function N(f,m){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&m)===0}function z(f,m){switch(f){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var f=Np;return Np<<=1,(Np&4194176)===0&&(Np=128),f}function I(){var f=Gf;return Gf<<=1,(Gf&62914560)===0&&(Gf=4194304),f}function L(f){for(var m=[],x=0;31>x;x++)m.push(f);return m}function j(f,m){f.pendingLanes|=m,m!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function X(f,m,x,C,P,H){var J=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var fe=f.entanglements,Re=f.expirationTimes,$e=f.hiddenUpdates;for(x=J&~x;0<x;){var St=31-mr(x),Ht=1<<St;fe[St]=0,Re[St]=-1;var vt=$e[St];if(vt!==null)for($e[St]=null,St=0;St<vt.length;St++){var An=vt[St];An!==null&&(An.lane&=-536870913)}x&=~Ht}C!==0&&G(f,C,0),H!==0&&P===0&&f.tag!==0&&(f.suspendedLanes|=H&~(J&~m))}function G(f,m,x){f.pendingLanes|=m,f.suspendedLanes&=~m;var C=31-mr(m);f.entangledLanes|=m,f.entanglements[C]=f.entanglements[C]|1073741824|x&4194218}function re(f,m){var x=f.entangledLanes|=m;for(f=f.entanglements;x;){var C=31-mr(x),P=1<<C;P&m|f[C]&m&&(f[C]|=m),x&=~P}}function de(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function K(f){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Wf,f,void 0,(f.current.flags&128)===128)}catch{}}function ue(f){if(typeof ys=="function"&&Qg(f),Rr&&typeof Rr.setStrictMode=="function")try{Rr.setStrictMode(Wf,f)}catch{}}function ne(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}function ve(f,m){if(typeof f=="object"&&f!==null){var x=Jg.get(f);return x!==void 0?x:(m={value:f,source:m,stack:d(m)},Jg.set(f,m),m)}return{value:f,source:m,stack:d(m)}}function Z(f,m){Ia[La++]=Xf,Ia[La++]=xu,xu=f,Xf=m}function le(f,m,x){ta[bs++]=_l,ta[bs++]=xl,ta[bs++]=ko,ko=f;var C=_l;f=xl;var P=32-mr(C)-1;C&=~(1<<P),x+=1;var H=32-mr(m)+P;if(30<H){var J=P-P%5;H=(C&(1<<J)-1).toString(32),C>>=J,P-=J,_l=1<<32-mr(m)+P|x<<P|C,xl=H+f}else _l=1<<H|x<<P|C,xl=f}function Ae(f){f.return!==null&&(Z(f,1),le(f,1,0))}function De(f){for(;f===xu;)xu=Ia[--La],Ia[La]=null,Xf=Ia[--La],Ia[La]=null;for(;f===ko;)ko=ta[--bs],ta[bs]=null,xl=ta[--bs],ta[bs]=null,_l=ta[--bs],ta[bs]=null}function oe(f,m){A(sc,m),A(oo,f),A(gr,null),f=M0(m),E(gr),A(gr,f)}function Oe(){E(gr),E(oo),E(sc)}function Ie(f){f.memoizedState!==null&&A(Ip,f);var m=gr.current,x=$x(m,f.type);m!==x&&(A(oo,f),A(gr,x))}function je(f){oo.current===f&&(E(gr),E(oo)),Ip.current===f&&(E(Ip),zo?nc._currentValue=Ch:nc._currentValue2=Ch)}function tt(f){var m=Error(r(418,""));throw Ye(ve(m,f)),Lp}function wt(f,m){if(!ea)throw Error(r(175));Oh(f.stateNode,f.type,f.memoizedProps,m,f)||tt(f)}function Qe(f){for(vr=f.return;vr;)switch(vr.tag){case 3:case 27:Fo=!0;return;case 5:case 13:Fo=!1;return;default:vr=vr.return}}function qt(f){if(!ea||f!==vr)return!1;if(!li)return Qe(f),li=!0,!1;var m=!1;if(Kr?f.tag!==3&&f.tag!==27&&(f.tag!==5||B0(f.type)&&!as(f.type,f.memoizedProps))&&(m=!0):f.tag!==3&&(f.tag!==5||B0(f.type)&&!as(f.type,f.memoizedProps))&&(m=!0),m&&Ri&&tt(f),Qe(f),f.tag===13){if(!ea)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Ri=C1(f)}else Ri=vr?yu(f.stateNode):null;return!0}function Ge(){ea&&(Ri=vr=null,li=!1)}function Ye(f){lo===null?lo=[f]:lo.push(f)}function se(){for(var f=ac,m=Ho=ac=0;m<f;){var x=na[m];na[m++]=null;var C=na[m];na[m++]=null;var P=na[m];na[m++]=null;var H=na[m];if(na[m++]=null,C!==null&&P!==null){var J=C.pending;J===null?P.next=P:(P.next=J.next,J.next=P),C.pending=P}H!==0&&pt(x,P,H)}}function bt(f,m,x,C){na[ac++]=f,na[ac++]=m,na[ac++]=x,na[ac++]=C,Ho|=C,f.lanes|=C,f=f.alternate,f!==null&&(f.lanes|=C)}function Je(f,m,x,C){return bt(f,m,x,C),It(f)}function dt(f,m){return bt(f,null,null,m),It(f)}function pt(f,m,x){f.lanes|=x;var C=f.alternate;C!==null&&(C.lanes|=x);for(var P=!1,H=f.return;H!==null;)H.childLanes|=x,C=H.alternate,C!==null&&(C.childLanes|=x),H.tag===22&&(f=H.stateNode,f===null||f._visibility&1||(P=!0)),f=H,H=H.return;P&&m!==null&&f.tag===3&&(H=f.stateNode,P=31-mr(x),H=H.hiddenUpdates,f=H[P],f===null?H[P]=[m]:f.push(m),m.lane=x|536870912)}function It(f){if(50<Bh)throw Bh=0,eb=null,Error(r(185));for(var m=f.return;m!==null;)f=m,m=f.return;return f.tag===3?f.stateNode:null}function Et(f){f!==Su&&f.next===null&&(Su===null?Gi=Su=f:Su=Su.next=f),yr=!0,ev||(ev=!0,ze(Y))}function te(f,m){if(!tv&&yr){tv=!0;do for(var x=!1,C=Gi;C!==null;){if(f!==0){var P=C.pendingLanes;if(P===0)var H=0;else{var J=C.suspendedLanes,fe=C.pingedLanes;H=(1<<31-mr(42|f)+1)-1,H&=P&~(J&~fe),H=H&201326677?H&201326677|1:H?H|2:0}H!==0&&(x=!0,it(C,H))}else H=Kn,H=k(C,C===Oi?H:0),(H&3)===0||N(C,H)||(x=!0,it(C,H));C=C.next}while(x);tv=!1}}function Y(){yr=ev=!1;var f=0;Yf!==0&&(e1()&&(f=Yf),Yf=0);for(var m=Pa(),x=null,C=Gi;C!==null;){var P=C.next,H=we(C,m);H===0?(C.next=null,x===null?Gi=P:x.next=P,P===null&&(Su=x)):(x=C,(f!==0||(H&3)!==0)&&(yr=!0)),C=P}te(f)}function we(f,m){for(var x=f.suspendedLanes,C=f.pingedLanes,P=f.expirationTimes,H=f.pendingLanes&-62914561;0<H;){var J=31-mr(H),fe=1<<J,Re=P[J];Re===-1?((fe&x)===0||(fe&C)!==0)&&(P[J]=z(fe,m)):Re<=m&&(f.expiredLanes|=fe),H&=~fe}if(m=Oi,x=Kn,x=k(f,f===m?x:0),C=f.callbackNode,x===0||f===m&&Ai===2||f.cancelPendingCommit!==null)return C!==null&&C!==null&&Bo(C),f.callbackNode=null,f.callbackPriority=0;if((x&3)===0||N(f,x)){if(m=x&-x,m===f.callbackPriority)return m;switch(C!==null&&Bo(C),de(x)){case 2:case 8:x=Pp;break;case 32:x=qf;break;case 268435456:x=Ph;break;default:x=qf}return C=Fe.bind(null,f),x=bl(x,C),f.callbackPriority=m,f.callbackNode=x,m}return C!==null&&C!==null&&Bo(C),f.callbackPriority=2,f.callbackNode=null,2}function Fe(f,m){var x=f.callbackNode;if(ou()&&f.callbackNode!==x)return null;var C=Kn;return C=k(f,f===Oi?C:0),C===0?null:(Da(f,C,m),we(f,Pa()),f.callbackNode!=null&&f.callbackNode===x?Fe.bind(null,f):null)}function it(f,m){if(ou())return null;Da(f,m,!0)}function ze(f){r1?s1(function(){(Yn&6)!==0?bl(Zg,f):f()}):bl(Zg,f)}function yt(){return Yf===0&&(Yf=V()),Yf}function _t(f,m){if(Kf===null){var x=Kf=[];nv=0,qi=yt(),$r={status:"pending",value:void 0,then:function(C){x.push(C)}}}return nv++,m.then(Nt,Nt),m}function Nt(){if(--nv===0&&Kf!==null){$r!==null&&($r.status="fulfilled");var f=Kf;Kf=null,qi=0,$r=null;for(var m=0;m<f.length;m++)(0,f[m])()}}function hn(f,m){var x=[],C={status:"pending",value:null,reason:null,then:function(P){x.push(P)}};return f.then(function(){C.status="fulfilled",C.value=m;for(var P=0;P<x.length;P++)(0,x[P])(m)},function(P){for(C.status="rejected",C.reason=P,P=0;P<x.length;P++)(0,x[P])(void 0)}),C}function st(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ct(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Wt(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Vt(f,m,x){var C=f.updateQueue;if(C===null)return null;if(C=C.shared,(Yn&2)!==0){var P=C.pending;return P===null?m.next=m:(m.next=P.next,P.next=m),C.pending=m,m=It(f),pt(f,null,x),m}return bt(f,C,m,x),It(f)}function Pt(f,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194176)!==0)){var C=m.lanes;C&=f.pendingLanes,x|=C,m.lanes=x,re(f,x)}}function pe(f,m){var x=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,x===C)){var P=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var J={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};H===null?P=H=J:H=H.next=J,x=x.next}while(x!==null);H===null?P=H=m:H=H.next=m}else P=H=m;x={baseState:C.baseState,firstBaseUpdate:P,lastBaseUpdate:H,shared:C.shared,callbacks:C.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=m:f.next=m,x.lastBaseUpdate=m}function Be(){if(iv){var f=$r;if(f!==null)throw f}}function Tt(f,m,x,C){iv=!1;var P=f.updateQueue;_s=!1;var H=P.firstBaseUpdate,J=P.lastBaseUpdate,fe=P.shared.pending;if(fe!==null){P.shared.pending=null;var Re=fe,$e=Re.next;Re.next=null,J===null?H=$e:J.next=$e,J=Re;var St=f.alternate;St!==null&&(St=St.updateQueue,fe=St.lastBaseUpdate,fe!==J&&(fe===null?St.firstBaseUpdate=$e:fe.next=$e,St.lastBaseUpdate=Re))}if(H!==null){var Ht=P.baseState;J=0,St=$e=Re=null,fe=H;do{var vt=fe.lane&-536870913,An=vt!==fe.lane;if(An?(Kn&vt)===vt:(C&vt)===vt){vt!==0&&vt===qi&&(iv=!0),St!==null&&(St=St.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var vo=f,td=fe;vt=m;var kh=x;switch(td.tag){case 1:if(vo=td.payload,typeof vo=="function"){Ht=vo.call(kh,Ht,vt);break e}Ht=vo;break e;case 3:vo.flags=vo.flags&-65537|128;case 0:if(vo=td.payload,vt=typeof vo=="function"?vo.call(kh,Ht,vt):vo,vt==null)break e;Ht=dr({},Ht,vt);break e;case 2:_s=!0}}vt=fe.callback,vt!==null&&(f.flags|=64,An&&(f.flags|=8192),An=P.callbacks,An===null?P.callbacks=[vt]:An.push(vt))}else An={lane:vt,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},St===null?($e=St=An,Re=Ht):St=St.next=An,J|=vt;if(fe=fe.next,fe===null){if(fe=P.shared.pending,fe===null)break;An=fe,fe=An.next,An.next=null,P.lastBaseUpdate=An,P.shared.pending=null}}while(!0);St===null&&(Re=Ht),P.baseState=Re,P.firstBaseUpdate=$e,P.lastBaseUpdate=St,H===null&&(P.shared.lanes=0),mo|=J,f.lanes=J,f.memoizedState=Ht}}function he(f,m){if(typeof f!="function")throw Error(r(191,f));f.call(m)}function ht(f,m){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)he(x[f],m)}function Le(f,m){if(Is(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var x=Object.keys(f),C=Object.keys(m);if(x.length!==C.length)return!1;for(C=0;C<x.length;C++){var P=x[C];if(!U1.call(m,P)||!Is(f[P],m[P]))return!1}return!0}function We(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Xe(){}function rt(f,m,x){switch(x=f[x],x===void 0?f.push(m):x!==m&&(m.then(Xe,Xe),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,f===Up?Error(r(483)):f;default:if(typeof m.status=="string")m.then(Xe,Xe);else{if(f=Oi,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=m,f.status="pending",f.then(function(C){if(m.status==="pending"){var P=m;P.status="fulfilled",P.value=C}},function(C){if(m.status==="pending"){var P=m;P.status="rejected",P.reason=C}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,f===Up?Error(r(483)):f}throw xs=m,Up}}function Dt(){if(xs===null)throw Error(r(459));var f=xs;return xs=null,f}function sn(f){var m=Ss;return Ss+=1,Ih===null&&(Ih=[]),rt(Ih,f,m)}function Un(f,m){m=m.props.ref,f.ref=m!==void 0?m:null}function ae(f,m){throw m.$$typeof===w0?Error(r(525)):(f=Object.prototype.toString.call(m),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)))}function ge(f){var m=f._init;return m(f._payload)}function Ee(f){function m(Ue,Me){if(f){var ke=Ue.deletions;ke===null?(Ue.deletions=[Me],Ue.flags|=16):ke.push(Me)}}function x(Ue,Me){if(!f)return null;for(;Me!==null;)m(Ue,Me),Me=Me.sibling;return null}function C(Ue){for(var Me=new Map;Ue!==null;)Ue.key!==null?Me.set(Ue.key,Ue):Me.set(Ue.index,Ue),Ue=Ue.sibling;return Me}function P(Ue,Me){return Ue=$l(Ue,Me),Ue.index=0,Ue.sibling=null,Ue}function H(Ue,Me,ke){return Ue.index=ke,f?(ke=Ue.alternate,ke!==null?(ke=ke.index,ke<Me?(Ue.flags|=33554434,Me):ke):(Ue.flags|=33554434,Me)):(Ue.flags|=1048576,Me)}function J(Ue){return f&&Ue.alternate===null&&(Ue.flags|=33554434),Ue}function fe(Ue,Me,ke,mt){return Me===null||Me.tag!==6?(Me=Ap(ke,Ue.mode,mt),Me.return=Ue,Me):(Me=P(Me,ke),Me.return=Ue,Me)}function Re(Ue,Me,ke,mt){var an=ke.type;return an===hu?St(Ue,Me,ke.props.children,mt,ke.key):Me!==null&&(Me.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===ec&&ge(an)===Me.type)?(Me=P(Me,ke.props),Un(Me,ke),Me.return=Ue,Me):(Me=Th(ke.type,ke.key,ke.props,null,Ue.mode,mt),Un(Me,ke),Me.return=Ue,Me)}function $e(Ue,Me,ke,mt){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==ke.containerInfo||Me.stateNode.implementation!==ke.implementation?(Me=Js(ke,Ue.mode,mt),Me.return=Ue,Me):(Me=P(Me,ke.children||[]),Me.return=Ue,Me)}function St(Ue,Me,ke,mt,an){return Me===null||Me.tag!==7?(Me=cu(ke,Ue.mode,mt,an),Me.return=Ue,Me):(Me=P(Me,ke),Me.return=Ue,Me)}function Ht(Ue,Me,ke){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=Ap(""+Me,Ue.mode,ke),Me.return=Ue,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case uu:return ke=Th(Me.type,Me.key,Me.props,null,Ue.mode,ke),Un(ke,Me),ke.return=Ue,ke;case gl:return Me=Js(Me,Ue.mode,ke),Me.return=Ue,Me;case ec:var mt=Me._init;return Me=mt(Me._payload),Ht(Ue,Me,ke)}if(gu(Me)||s(Me))return Me=cu(Me,Ue.mode,ke,null),Me.return=Ue,Me;if(typeof Me.then=="function")return Ht(Ue,sn(Me),ke);if(Me.$$typeof===du)return Ht(Ue,He(Ue,Me),ke);ae(Ue,Me)}return null}function vt(Ue,Me,ke,mt){var an=Me!==null?Me.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return an!==null?null:fe(Ue,Me,""+ke,mt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case uu:return ke.key===an?Re(Ue,Me,ke,mt):null;case gl:return ke.key===an?$e(Ue,Me,ke,mt):null;case ec:return an=ke._init,ke=an(ke._payload),vt(Ue,Me,ke,mt)}if(gu(ke)||s(ke))return an!==null?null:St(Ue,Me,ke,mt,null);if(typeof ke.then=="function")return vt(Ue,Me,sn(ke),mt);if(ke.$$typeof===du)return vt(Ue,Me,He(Ue,ke),mt);ae(Ue,ke)}return null}function An(Ue,Me,ke,mt,an){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ue=Ue.get(ke)||null,fe(Me,Ue,""+mt,an);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case uu:return Ue=Ue.get(mt.key===null?ke:mt.key)||null,Re(Me,Ue,mt,an);case gl:return Ue=Ue.get(mt.key===null?ke:mt.key)||null,$e(Me,Ue,mt,an);case ec:var Ni=mt._init;return mt=Ni(mt._payload),An(Ue,Me,ke,mt,an)}if(gu(mt)||s(mt))return Ue=Ue.get(ke)||null,St(Me,Ue,mt,an,null);if(typeof mt.then=="function")return An(Ue,Me,ke,sn(mt),an);if(mt.$$typeof===du)return An(Ue,Me,ke,He(Me,mt),an);ae(Me,mt)}return null}function vo(Ue,Me,ke,mt){for(var an=null,Ni=null,vn=Me,Wn=Me=0,Vi=null;vn!==null&&Wn<ke.length;Wn++){vn.index>Wn?(Vi=vn,vn=null):Vi=vn.sibling;var Qn=vt(Ue,vn,ke[Wn],mt);if(Qn===null){vn===null&&(vn=Vi);break}f&&vn&&Qn.alternate===null&&m(Ue,vn),Me=H(Qn,Me,Wn),Ni===null?an=Qn:Ni.sibling=Qn,Ni=Qn,vn=Vi}if(Wn===ke.length)return x(Ue,vn),li&&Z(Ue,Wn),an;if(vn===null){for(;Wn<ke.length;Wn++)vn=Ht(Ue,ke[Wn],mt),vn!==null&&(Me=H(vn,Me,Wn),Ni===null?an=vn:Ni.sibling=vn,Ni=vn);return li&&Z(Ue,Wn),an}for(vn=C(vn);Wn<ke.length;Wn++)Vi=An(vn,Ue,Wn,ke[Wn],mt),Vi!==null&&(f&&Vi.alternate!==null&&vn.delete(Vi.key===null?Wn:Vi.key),Me=H(Vi,Me,Wn),Ni===null?an=Vi:Ni.sibling=Vi,Ni=Vi);return f&&vn.forEach(function(Ou){return m(Ue,Ou)}),li&&Z(Ue,Wn),an}function td(Ue,Me,ke,mt){if(ke==null)throw Error(r(151));for(var an=null,Ni=null,vn=Me,Wn=Me=0,Vi=null,Qn=ke.next();vn!==null&&!Qn.done;Wn++,Qn=ke.next()){vn.index>Wn?(Vi=vn,vn=null):Vi=vn.sibling;var Ou=vt(Ue,vn,Qn.value,mt);if(Ou===null){vn===null&&(vn=Vi);break}f&&vn&&Ou.alternate===null&&m(Ue,vn),Me=H(Ou,Me,Wn),Ni===null?an=Ou:Ni.sibling=Ou,Ni=Ou,vn=Vi}if(Qn.done)return x(Ue,vn),li&&Z(Ue,Wn),an;if(vn===null){for(;!Qn.done;Wn++,Qn=ke.next())Qn=Ht(Ue,Qn.value,mt),Qn!==null&&(Me=H(Qn,Me,Wn),Ni===null?an=Qn:Ni.sibling=Qn,Ni=Qn);return li&&Z(Ue,Wn),an}for(vn=C(vn);!Qn.done;Wn++,Qn=ke.next())Qn=An(vn,Ue,Wn,Qn.value,mt),Qn!==null&&(f&&Qn.alternate!==null&&vn.delete(Qn.key===null?Wn:Qn.key),Me=H(Qn,Me,Wn),Ni===null?an=Qn:Ni.sibling=Qn,Ni=Qn);return f&&vn.forEach(function(V1){return m(Ue,V1)}),li&&Z(Ue,Wn),an}function kh(Ue,Me,ke,mt){if(typeof ke=="object"&&ke!==null&&ke.type===hu&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case uu:e:{for(var an=ke.key;Me!==null;){if(Me.key===an){if(an=ke.type,an===hu){if(Me.tag===7){x(Ue,Me.sibling),mt=P(Me,ke.props.children),mt.return=Ue,Ue=mt;break e}}else if(Me.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===ec&&ge(an)===Me.type){x(Ue,Me.sibling),mt=P(Me,ke.props),Un(mt,ke),mt.return=Ue,Ue=mt;break e}x(Ue,Me);break}else m(Ue,Me);Me=Me.sibling}ke.type===hu?(mt=cu(ke.props.children,Ue.mode,mt,ke.key),mt.return=Ue,Ue=mt):(mt=Th(ke.type,ke.key,ke.props,null,Ue.mode,mt),Un(mt,ke),mt.return=Ue,Ue=mt)}return J(Ue);case gl:e:{for(an=ke.key;Me!==null;){if(Me.key===an)if(Me.tag===4&&Me.stateNode.containerInfo===ke.containerInfo&&Me.stateNode.implementation===ke.implementation){x(Ue,Me.sibling),mt=P(Me,ke.children||[]),mt.return=Ue,Ue=mt;break e}else{x(Ue,Me);break}else m(Ue,Me);Me=Me.sibling}mt=Js(ke,Ue.mode,mt),mt.return=Ue,Ue=mt}return J(Ue);case ec:return an=ke._init,ke=an(ke._payload),kh(Ue,Me,ke,mt)}if(gu(ke))return vo(Ue,Me,ke,mt);if(s(ke)){if(an=s(ke),typeof an!="function")throw Error(r(150));return ke=an.call(ke),td(Ue,Me,ke,mt)}if(typeof ke.then=="function")return kh(Ue,Me,sn(ke),mt);if(ke.$$typeof===du)return kh(Ue,Me,He(Ue,ke),mt);ae(Ue,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,Me!==null&&Me.tag===6?(x(Ue,Me.sibling),mt=P(Me,ke),mt.return=Ue,Ue=mt):(x(Ue,Me),mt=Ap(ke,Ue.mode,mt),mt.return=Ue,Ue=mt),J(Ue)):x(Ue,Me)}return function(Ue,Me,ke,mt){try{Ss=0;var an=kh(Ue,Me,ke,mt);return Ih=null,an}catch(vn){if(vn===Up)throw vn;var Ni=t(29,vn,null,Ue.mode);return Ni.lanes=mt,Ni.return=Ue,Ni}finally{}}}function et(f,m){f=Wo,A(Go,f),A(jo,m),Wo=f|m.baseLanes}function xt(){A(Go,Wo),A(jo,jo.current)}function Bt(){Wo=Go.current,E(jo),E(Go)}function Yt(f){var m=f.alternate;A(Fi,Fi.current&1),A(ia,f),co===null&&(m===null||jo.current!==null||m.memoizedState!==null)&&(co=f)}function Gt(f){if(f.tag===22){if(A(Fi,Fi.current),A(ia,f),co===null){var m=f.alternate;m!==null&&m.memoizedState!==null&&(co=f)}}else kt()}function kt(){A(Fi,Fi.current),A(ia,ia.current)}function gt(f){E(ia),co===f&&(co=null),E(Fi)}function Kt(f){for(var m=f;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Rh(x)||Op(x)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function Ot(){throw Error(r(321))}function zn(f,m){if(m===null)return!1;for(var x=0;x<m.length&&x<f.length;x++)if(!Is(f[x],m[x]))return!1;return!0}function _i(f,m,x,C,P,H){return oc=H,Tn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,yn.H=f===null||f.memoizedState===null?uc:Us,wu=!1,H=x(C,P),wu=!1,Lh&&(H=Vn(m,x,C,P)),ai(f),H}function ai(f){yn.H=br;var m=fi!==null&&fi.next!==null;if(oc=0,$i=fi=Tn=null,lc=!1,$f=0,cc=null,m)throw Error(r(300));f===null||Dr||(f=f.dependencies,f!==null&&q(f)&&(Dr=!0))}function Vn(f,m,x,C){Tn=f;var P=0;do{if(Lh&&(cc=null),$f=0,Lh=!1,25<=P)throw Error(r(301));if(P+=1,$i=fi=null,f.updateQueue!=null){var H=f.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}yn.H=Mu,H=m(x,C)}while(Lh);return H}function Ui(){var f=yn.H,m=f.useState()[0];return m=typeof m.then=="function"?ut(m):m,f=f.useState()[0],(fi!==null?fi.memoizedState:null)!==f&&(Tn.flags|=1024),m}function $(){var f=Tu!==0;return Tu=0,f}function be(f,m,x){m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~x}function Ne(f){if(lc){for(f=f.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}lc=!1}oc=0,$i=fi=Tn=null,Lh=!1,$f=Tu=0,cc=null}function Te(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?Tn.memoizedState=$i=f:$i=$i.next=f,$i}function me(){if(fi===null){var f=Tn.alternate;f=f!==null?f.memoizedState:null}else f=fi.next;var m=$i===null?Tn.memoizedState:$i.next;if(m!==null)$i=m,fi=f;else{if(f===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));fi=f,f={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},$i===null?Tn.memoizedState=$i=f:$i=$i.next=f}return $i}function ut(f){var m=$f;return $f+=1,cc===null&&(cc=[]),f=rt(cc,f,m),m=Tn,($i===null?m.memoizedState:$i.next)===null&&(m=m.alternate,yn.H=m===null||m.memoizedState===null?uc:Us),f}function ct(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return ut(f);if(f.$$typeof===du)return Se(f)}throw Error(r(438,String(f)))}function Xt(f){var m=null,x=Tn.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var C=Tn.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(m={data:C.data.map(function(P){return P.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=$0(),Tn.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(f),C=0;C<f;C++)x[C]=kn;return m.index++,x}function zt(f,m){return typeof m=="function"?m(f):m}function At(f){var m=me();return Ft(m,fi,f)}function Ft(f,m,x){var C=f.queue;if(C===null)throw Error(r(311));C.lastRenderedReducer=x;var P=f.baseQueue,H=C.pending;if(H!==null){if(P!==null){var J=P.next;P.next=H.next,H.next=J}m.baseQueue=P=H,C.pending=null}if(H=f.baseState,P===null)f.memoizedState=H;else{m=P.next;var fe=J=null,Re=null,$e=m,St=!1;do{var Ht=$e.lane&-536870913;if(Ht!==$e.lane?(Kn&Ht)===Ht:(oc&Ht)===Ht){var vt=$e.revertLane;if(vt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),Ht===qi&&(St=!0);else if((oc&vt)===vt){$e=$e.next,vt===qi&&(St=!0);continue}else Ht={lane:0,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Re===null?(fe=Re=Ht,J=H):Re=Re.next=Ht,Tn.lanes|=vt,mo|=vt;Ht=$e.action,wu&&x(H,Ht),H=$e.hasEagerState?$e.eagerState:x(H,Ht)}else vt={lane:Ht,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Re===null?(fe=Re=vt,J=H):Re=Re.next=vt,Tn.lanes|=Ht,mo|=Ht;$e=$e.next}while($e!==null&&$e!==m);if(Re===null?J=H:Re.next=fe,!Is(H,f.memoizedState)&&(Dr=!0,St&&(x=$r,x!==null)))throw x;f.memoizedState=H,f.baseState=J,f.baseQueue=Re,C.lastRenderedState=H}return P===null&&(C.lanes=0),[f.memoizedState,C.dispatch]}function Ut(f){var m=me(),x=m.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var C=x.dispatch,P=x.pending,H=m.memoizedState;if(P!==null){x.pending=null;var J=P=P.next;do H=f(H,J.action),J=J.next;while(J!==P);Is(H,m.memoizedState)||(Dr=!0),m.memoizedState=H,m.baseQueue===null&&(m.baseState=H),x.lastRenderedState=H}return[H,C]}function Cn(f,m,x){var C=Tn,P=me(),H=li;if(H){if(x===void 0)throw Error(r(407));x=x()}else x=m();var J=!Is((fi||P).memoizedState,x);if(J&&(P.memoizedState=x,Dr=!0),P=P.queue,hh(Ji.bind(null,C,P,f),[f]),P.getSnapshot!==m||J||$i!==null&&$i.memoizedState.tag&1){if(C.flags|=2048,Ma(9,Bn.bind(null,C,P,x,m),{destroy:void 0},null),Oi===null)throw Error(r(349));H||(oc&60)!==0||ln(C,m,x)}return x}function ln(f,m,x){f.flags|=16384,f={getSnapshot:m,value:x},m=Tn.updateQueue,m===null?(m=$0(),Tn.updateQueue=m,m.stores=[f]):(x=m.stores,x===null?m.stores=[f]:x.push(f))}function Bn(f,m,x,C){m.value=x,m.getSnapshot=C,Dn(m)&&Zt(f)}function Ji(f,m,x){return x(function(){Dn(m)&&Zt(f)})}function Dn(f){var m=f.getSnapshot;f=f.value;try{var x=m();return!Is(f,x)}catch{return!0}}function Zt(f){var m=dt(f,2);m!==null&&ki(m,f,2)}function Xi(f){var m=Te();if(typeof f=="function"){var x=f;if(f=x(),wu){ue(!0);try{x()}finally{ue(!1)}}}return m.memoizedState=m.baseState=f,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:f},m}function Sn(f,m,x,C){return f.baseState=x,Ft(f,fi,typeof C=="function"?C:zt)}function ds(f,m,x,C,P){if($c(f))throw Error(r(485));if(f=m.action,f!==null){var H={payload:P,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){H.listeners.push(J)}};yn.T!==null?x(!0):H.isTransition=!1,C(H),x=m.pending,x===null?(H.next=m.pending=H,Do(m,H)):(H.next=x.next,m.pending=x.next=H)}}function Do(f,m){var x=m.action,C=m.payload,P=f.state;if(m.isTransition){var H=yn.T,J={};yn.T=J;try{var fe=x(P,C),Re=yn.S;Re!==null&&Re(J,fe),rr(f,m,fe)}catch($e){ti(f,m,$e)}finally{yn.T=H}}else try{H=x(P,C),rr(f,m,H)}catch($e){ti(f,m,$e)}}function rr(f,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(C){$a(f,m,C)},function(C){return ti(f,m,C)}):$a(f,m,x)}function $a(f,m,x){m.status="fulfilled",m.value=x,ur(m),f.state=x,m=f.pending,m!==null&&(x=m.next,x===m?f.pending=null:(x=x.next,m.next=x,Do(f,x)))}function ti(f,m,x){var C=f.pending;if(f.pending=null,C!==null){C=C.next;do m.status="rejected",m.reason=x,ur(m),m=m.next;while(m!==C)}f.action=null}function ur(f){f=f.listeners;for(var m=0;m<f.length;m++)(0,f[m])()}function Ti(f,m){return m}function sr(f,m){if(li){var x=Oi.formState;if(x!==null){e:{var C=Tn;if(li){if(Ri){var P=w1(Ri,Fo);if(P){Ri=yu(P),C=yl(P);break e}}tt(C)}C=!1}C&&(m=x[0])}}x=Te(),x.memoizedState=x.baseState=m,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:m},x.queue=C,x=Ef.bind(null,Tn,C),C.dispatch=x,C=Xi(!1);var H=Za.bind(null,Tn,!1,C.queue);return C=Te(),P={state:m,dispatch:null,action:f,pending:null},C.queue=P,x=ds.bind(null,Tn,P,H,x),P.dispatch=x,C.memoizedState=f,[m,x,!1]}function rs(f){var m=me();return ps(m,fi,f)}function ps(f,m,x){m=Ft(f,m,Ti)[0],f=At(zt)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?ut(m):m;var C=me(),P=C.queue,H=P.dispatch;return x!==C.memoizedState&&(Tn.flags|=2048,Ma(9,ei.bind(null,P,x),{destroy:void 0},null)),[m,H,f]}function ei(f,m){f.action=m}function Gc(f){var m=me(),x=fi;if(x!==null)return ps(m,x,f);me(),m=m.memoizedState,x=me();var C=x.queue.dispatch;return x.memoizedState=f,[m,C,!1]}function Ma(f,m,x,C){return f={tag:f,create:m,inst:x,deps:C,next:null},m=Tn.updateQueue,m===null&&(m=$0(),Tn.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=f.next=f:(C=x.next,x.next=f,f.next=C,m.lastEffect=f),f}function Aa(){return me().memoizedState}function xf(f,m,x,C){var P=Te();Tn.flags|=f,P.memoizedState=Ma(1|m,x,{destroy:void 0},C===void 0?null:C)}function qc(f,m,x,C){var P=me();C=C===void 0?null:C;var H=P.memoizedState.inst;fi!==null&&C!==null&&zn(C,fi.memoizedState.deps)?P.memoizedState=Ma(m,x,H,C):(Tn.flags|=f,P.memoizedState=Ma(1|m,x,H,C))}function rp(f,m){xf(8390656,8,f,m)}function hh(f,m){qc(2048,8,f,m)}function Eg(f,m){return qc(4,2,f,m)}function wg(f,m){return qc(4,4,f,m)}function Oo(f,m){if(typeof m=="function"){f=f();var x=m(f);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function Ca(f,m,x){x=x!=null?x.concat([f]):null,qc(4,4,Oo.bind(null,m,f),x)}function Wc(){}function ll(f,m){var x=me();m=m===void 0?null:m;var C=x.memoizedState;return m!==null&&zn(m,C[1])?C[0]:(x.memoizedState=[f,m],f)}function cl(f,m){var x=me();m=m===void 0?null:m;var C=x.memoizedState;if(m!==null&&zn(m,C[1]))return C[0];if(C=f(),wu){ue(!0);try{f()}finally{ue(!1)}}return x.memoizedState=[C,m],C}function No(f,m,x){return x===void 0||(oc&1073741824)!==0?f.memoizedState=m:(f.memoizedState=x,f=_p(),Tn.lanes|=f,mo|=f,x)}function Sf(f,m,x,C){return Is(x,m)?x:jo.current!==null?(f=No(f,x,C),Is(f,m)||(Dr=!0),f):(oc&42)===0?(Dr=!0,f.memoizedState=x):(f=_p(),Tn.lanes|=f,mo|=f,m)}function sp(f,m,x,C,P){var H=vu();Ps(H!==0&&8>H?H:8);var J=yn.T,fe={};yn.T=fe,Za(f,!1,m,x);try{var Re=P(),$e=yn.S;if($e!==null&&$e(fe,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var St=hn(Re,C);Ys(f,m,St,gs(f))}else Ys(f,m,C,gs(f))}catch(Ht){Ys(f,m,{then:function(){},status:"rejected",reason:Ht},gs())}finally{Ps(H),yn.T=J}}function Xc(f){var m=f.memoizedState;if(m!==null)return m;m={memoizedState:Ch,baseState:Ch,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:Ch},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:x},next:null},f.memoizedState=m,f=f.alternate,f!==null&&(f.memoizedState=m),m}function Xs(){return Se(nc)}function Yc(){return me().memoizedState}function Po(){return me().memoizedState}function Kc(f){for(var m=f.return;m!==null;){switch(m.tag){case 24:case 3:var x=gs();f=Wt(x);var C=Vt(m,f,x);C!==null&&(ki(C,m,x),Pt(C,m,x)),m={cache:$n()},f.payload=m;return}m=m.return}}function Vl(f,m,x){var C=gs();x={lane:C,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},$c(f)?Br(m,x):(x=Je(f,m,x,C),x!==null&&(ki(x,f,C),gi(x,m,C)))}function Ef(f,m,x){var C=gs();Ys(f,m,x,C)}function Ys(f,m,x,C){var P={lane:C,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if($c(f))Br(m,P);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=m.lastRenderedReducer,H!==null))try{var J=m.lastRenderedState,fe=H(J,x);if(P.hasEagerState=!0,P.eagerState=fe,Is(fe,J))return bt(f,m,P,0),Oi===null&&se(),!1}catch{}finally{}if(x=Je(f,m,P,C),x!==null)return ki(x,f,C),gi(x,m,C),!0}return!1}function Za(f,m,x,C){if(C={lane:2,revertLane:yt(),action:C,hasEagerState:!1,eagerState:null,next:null},$c(f)){if(m)throw Error(r(479))}else m=Je(f,x,C,2),m!==null&&ki(m,f,2)}function $c(f){var m=f.alternate;return f===Tn||m!==null&&m===Tn}function Br(f,m){Lh=lc=!0;var x=f.pending;x===null?m.next=m:(m.next=x.next,x.next=m),f.pending=m}function gi(f,m,x){if((x&4194176)!==0){var C=m.lanes;C&=f.pendingLanes,x|=C,m.lanes=x,re(f,x)}}function Zc(f,m,x,C){m=f.memoizedState,x=x(C,m),x=x==null?m:dr({},m,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}function Qc(f,m,x,C,P,H,J){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,H,J):m.prototype&&m.prototype.isPureReactComponent?!Le(x,C)||!Le(P,H):!0}function ap(f,m,x,C){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,C),m.state!==f&&Zf.enqueueReplaceState(m,m.state,null)}function Qa(f,m){var x=m;if("ref"in m){x={};for(var C in m)C!=="ref"&&(x[C]=m[C])}if(f=f.defaultProps){x===m&&(x=dr({},x));for(var P in f)x[P]===void 0&&(x[P]=f[P])}return x}function Bl(f,m){try{var x=f.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(C){setTimeout(function(){throw C})}}function Io(f,m,x){try{var C=f.onCaughtError;C(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function kl(f,m,x){return x=Wt(x),x.tag=3,x.payload={element:null},x.callback=function(){Bl(f,m)},x}function Ra(f){return f=Wt(f),f.tag=3,f}function op(f,m,x,C){var P=x.type.getDerivedStateFromError;if(typeof P=="function"){var H=C.value;f.payload=function(){return P(H)},f.callback=function(){Io(m,x,C)}}var J=x.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(f.callback=function(){Io(m,x,C),typeof P!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var fe=C.stack;this.componentDidCatch(C.value,{componentStack:fe!==null?fe:""})})}function f0(f,m,x,C,P){if(x.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(m=x.alternate,m!==null&&F(m,x,P,!0),x=ia.current,x!==null){switch(x.tag){case 13:return co===null?ao():x.alternate===null&&Zi===0&&(Zi=3),x.flags&=-257,x.flags|=65536,x.lanes=P,C===Ls?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([C]):m.add(C),lu(f,C,P)),!1;case 22:return x.flags|=65536,C===Ls?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([C])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([C]):x.add(C)),lu(f,C,P)),!1}throw Error(r(435,x.tag))}return lu(f,C,P),ao(),!1}if(li)return m=ia.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=P,C!==Lp&&(f=Error(r(422),{cause:C}),Ye(ve(f,x)))):(C!==Lp&&(m=Error(r(423),{cause:C}),Ye(ve(m,x))),f=f.current.alternate,f.flags|=65536,P&=-P,f.lanes|=P,C=ve(C,x),P=kl(f.stateNode,C,P),pe(f,P),Zi!==4&&(Zi=2)),!1;var H=Error(r(520),{cause:C});if(H=ve(H,x),Jf===null?Jf=[H]:Jf.push(H),Zi!==4&&(Zi=2),m===null)return!0;C=ve(C,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,f=P&-P,x.lanes|=f,f=kl(x.stateNode,C,f),pe(x,f),!1;case 1:if(m=x.type,H=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Tl===null||!Tl.has(H))))return x.flags|=65536,P&=-P,x.lanes|=P,P=Ra(P),op(P,f,x,C),pe(x,P),!1}x=x.return}while(x!==null);return!1}function er(f,m,x,C){m.child=f===null?Sl(m,null,x,C):Eu(m,f.child,x,C)}function fh(f,m,x,C,P){x=x.render;var H=m.ref;if("ref"in C){var J={};for(var fe in C)fe!=="ref"&&(J[fe]=C[fe])}else J=C;return ee(m),C=_i(f,m,x,J,H,P),fe=$(),f!==null&&!Dr?(be(f,m,P),Ja(f,m,P)):(li&&fe&&Ae(m),m.flags|=1,er(f,m,C,P),m.child)}function wf(f,m,x,C,P){if(f===null){var H=x.type;return typeof H=="function"&&!Kl(H)&&H.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=H,dh(f,m,H,C,P)):(f=Th(x.type,null,C,m,m.mode,P),f.ref=m.ref,f.return=m,m.child=f)}if(H=f.child,!Af(f,P)){var J=H.memoizedProps;if(x=x.compare,x=x!==null?x:Le,x(J,C)&&f.ref===m.ref)return Ja(f,m,P)}return m.flags|=1,f=$l(H,C),f.ref=m.ref,f.return=m,m.child=f}function dh(f,m,x,C,P){if(f!==null){var H=f.memoizedProps;if(Le(H,C)&&f.ref===m.ref)if(Dr=!1,m.pendingProps=C=H,Af(f,P))(f.flags&131072)!==0&&(Dr=!0);else return m.lanes=f.lanes,Ja(f,m,P)}return gh(f,m,x,C,P)}function lp(f,m,x){var C=m.pendingProps,P=C.children,H=(m.stateNode._pendingVisibility&2)!==0,J=f!==null?f.memoizedState:null;if(mh(f,m),C.mode==="hidden"||H){if((m.flags&128)!==0){if(C=J!==null?J.baseLanes|x:x,f!==null){for(P=m.child=f.child,H=0;P!==null;)H=H|P.lanes|P.childLanes,P=P.sibling;m.childLanes=H&~C}else m.childLanes=0,m.child=null;return ph(f,m,C,x)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},f!==null&&hr(m,J!==null?J.cachePool:null),J!==null?et(m,J):xt(),Gt(m);else return m.lanes=m.childLanes=536870912,ph(f,m,J!==null?J.baseLanes|x:x,x)}else J!==null?(hr(m,J.cachePool),et(m,J),kt(),m.memoizedState=null):(f!==null&&hr(m,null),xt(),kt());return er(f,m,P,x),m.child}function ph(f,m,x,C){var P=Zn();return P=P===null?null:{parent:zo?or._currentValue:or._currentValue2,pool:P},m.memoizedState={baseLanes:x,cachePool:P},f!==null&&hr(m,null),xt(),Gt(m),f!==null&&F(f,m,C,!0),null}function mh(f,m){var x=m.ref;if(x===null)f!==null&&f.ref!==null&&(m.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(f===null||f.ref!==x)&&(m.flags|=2097664)}}function gh(f,m,x,C,P){return ee(m),x=_i(f,m,x,C,void 0,P),C=$(),f!==null&&!Dr?(be(f,m,P),Ja(f,m,P)):(li&&C&&Ae(m),m.flags|=1,er(f,m,x,P),m.child)}function Jc(f,m,x,C,P,H){return ee(m),m.updateQueue=null,x=Vn(m,C,x,P),ai(f),C=$(),f!==null&&!Dr?(be(f,m,H),Ja(f,m,H)):(li&&C&&Ae(m),m.flags|=1,er(f,m,x,H),m.child)}function cp(f,m,x,C,P){if(ee(m),m.stateNode===null){var H=Nh,J=x.contextType;typeof J=="object"&&J!==null&&(H=Se(J)),H=new x(C,H),m.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Zf,m.stateNode=H,H._reactInternals=m,H=m.stateNode,H.props=C,H.state=m.memoizedState,H.refs={},st(m),J=x.contextType,H.context=typeof J=="object"&&J!==null?Se(J):Nh,H.state=m.memoizedState,J=x.getDerivedStateFromProps,typeof J=="function"&&(Zc(m,x,J,C),H.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(J=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),J!==H.state&&Zf.enqueueReplaceState(H,H.state,null),Tt(m,C,H,P),Be(),H.state=m.memoizedState),typeof H.componentDidMount=="function"&&(m.flags|=4194308),C=!0}else if(f===null){H=m.stateNode;var fe=m.memoizedProps,Re=Qa(x,fe);H.props=Re;var $e=H.context,St=x.contextType;J=Nh,typeof St=="object"&&St!==null&&(J=Se(St));var Ht=x.getDerivedStateFromProps;St=typeof Ht=="function"||typeof H.getSnapshotBeforeUpdate=="function",fe=m.pendingProps!==fe,St||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(fe||$e!==J)&&ap(m,H,C,J),_s=!1;var vt=m.memoizedState;H.state=vt,Tt(m,C,H,P),Be(),$e=m.memoizedState,fe||vt!==$e||_s?(typeof Ht=="function"&&(Zc(m,x,Ht,C),$e=m.memoizedState),(Re=_s||Qc(m,x,Re,C,vt,$e,J))?(St||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(m.flags|=4194308)):(typeof H.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=$e),H.props=C,H.state=$e,H.context=J,C=Re):(typeof H.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{H=m.stateNode,Ct(f,m),J=m.memoizedProps,St=Qa(x,J),H.props=St,Ht=m.pendingProps,vt=H.context,$e=x.contextType,Re=Nh,typeof $e=="object"&&$e!==null&&(Re=Se($e)),fe=x.getDerivedStateFromProps,($e=typeof fe=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(J!==Ht||vt!==Re)&&ap(m,H,C,Re),_s=!1,vt=m.memoizedState,H.state=vt,Tt(m,C,H,P),Be();var An=m.memoizedState;J!==Ht||vt!==An||_s||f!==null&&f.dependencies!==null&&q(f.dependencies)?(typeof fe=="function"&&(Zc(m,x,fe,C),An=m.memoizedState),(St=_s||Qc(m,x,St,C,vt,An,Re)||f!==null&&f.dependencies!==null&&q(f.dependencies))?($e||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(C,An,Re),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(C,An,Re)),typeof H.componentDidUpdate=="function"&&(m.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof H.componentDidUpdate!="function"||J===f.memoizedProps&&vt===f.memoizedState||(m.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||J===f.memoizedProps&&vt===f.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=An),H.props=C,H.state=An,H.context=Re,C=St):(typeof H.componentDidUpdate!="function"||J===f.memoizedProps&&vt===f.memoizedState||(m.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||J===f.memoizedProps&&vt===f.memoizedState||(m.flags|=1024),C=!1)}return H=C,mh(f,m),C=(m.flags&128)!==0,H||C?(H=m.stateNode,x=C&&typeof x.getDerivedStateFromError!="function"?null:H.render(),m.flags|=1,f!==null&&C?(m.child=Eu(m,f.child,null,P),m.child=Eu(m,null,x,P)):er(f,m,x,P),m.memoizedState=H.state,f=m.child):f=Ja(f,m,P),f}function up(f,m,x,C){return Ge(),m.flags|=256,er(f,m,x,C),m.child}function vh(f){return{baseLanes:f,cachePool:Tr()}}function Fl(f,m,x){return f=f!==null?f.childLanes&~x:0,m&&(f|=Ua),f}function hp(f,m,x){var C=m.pendingProps,P=!1,H=(m.flags&128)!==0,J;if((J=H)||(J=f!==null&&f.memoizedState===null?!1:(Fi.current&2)!==0),J&&(P=!0,m.flags&=-129),J=(m.flags&32)!==0,m.flags&=-33,f===null){if(li){if(P?Yt(m):kt(),li){var fe=Ri,Re;(Re=fe)&&(fe=M1(fe,Fo),fe!==null?(m.memoizedState={dehydrated:fe,treeContext:ko!==null?{id:_l,overflow:xl}:null,retryLane:536870912},Re=t(18,null,null,0),Re.stateNode=fe,Re.return=m,m.child=Re,vr=m,Ri=null,Re=!0):Re=!1),Re||tt(m)}if(fe=m.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return Op(fe)?m.lanes=16:m.lanes=536870912,null;gt(m)}return fe=C.children,C=C.fallback,P?(kt(),P=m.mode,fe=Tf({mode:"hidden",children:fe},P),C=cu(C,P,x,null),fe.return=m,C.return=m,fe.sibling=C,m.child=fe,P=m.child,P.memoizedState=vh(x),P.childLanes=Fl(f,J,x),m.memoizedState=Vp,C):(Yt(m),eu(m,fe))}if(Re=f.memoizedState,Re!==null&&(fe=Re.dehydrated,fe!==null)){if(H)m.flags&256?(Yt(m),m.flags&=-257,m=yh(f,m,x)):m.memoizedState!==null?(kt(),m.child=f.child,m.flags|=128,m=null):(kt(),P=C.fallback,fe=m.mode,C=Tf({mode:"visible",children:C.children},fe),P=cu(P,fe,x,null),P.flags|=2,C.return=m,P.return=m,C.sibling=P,m.child=C,Eu(m,f.child,null,x),C=m.child,C.memoizedState=vh(x),C.childLanes=Fl(f,J,x),m.memoizedState=Vp,m=P);else if(Yt(m),Op(fe))J=qg(fe).digest,C=Error(r(419)),C.stack="",C.digest=J,Ye({value:C,source:null,stack:null}),m=yh(f,m,x);else if(Dr||F(f,m,x,!1),J=(x&f.childLanes)!==0,Dr||J){if(J=Oi,J!==null){if(C=x&-x,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(J.suspendedLanes|x))!==0?0:C,C!==0&&C!==Re.retryLane)throw Re.retryLane=C,dt(f,C),ki(J,f,C),Z0}Rh(fe)||ao(),m=yh(f,m,x)}else Rh(fe)?(m.flags|=128,m.child=f.child,m=Mp.bind(null,f),E1(fe,m),m=null):(f=Re.treeContext,ea&&(Ri=U0(fe),vr=m,li=!0,lo=null,Fo=!1,f!==null&&(ta[bs++]=_l,ta[bs++]=xl,ta[bs++]=ko,_l=f.id,xl=f.overflow,ko=m)),m=eu(m,C.children),m.flags|=4096);return m}return P?(kt(),P=C.fallback,fe=m.mode,Re=f.child,H=Re.sibling,C=$l(Re,{mode:"hidden",children:C.children}),C.subtreeFlags=Re.subtreeFlags&31457280,H!==null?P=$l(H,P):(P=cu(P,fe,x,null),P.flags|=2),P.return=m,C.return=m,C.sibling=P,m.child=C,C=P,P=m.child,fe=f.child.memoizedState,fe===null?fe=vh(x):(Re=fe.cachePool,Re!==null?(H=zo?or._currentValue:or._currentValue2,Re=Re.parent!==H?{parent:H,pool:H}:Re):Re=Tr(),fe={baseLanes:fe.baseLanes|x,cachePool:Re}),P.memoizedState=fe,P.childLanes=Fl(f,J,x),m.memoizedState=Vp,C):(Yt(m),x=f.child,f=x.sibling,x=$l(x,{mode:"visible",children:C.children}),x.return=m,x.sibling=null,f!==null&&(J=m.deletions,J===null?(m.deletions=[f],m.flags|=16):J.push(f)),m.child=x,m.memoizedState=null,x)}function eu(f,m){return m=Tf({mode:"visible",children:m},f.mode),m.return=f,f.child=m}function Tf(f,m){return Ug(f,m,0,null)}function yh(f,m,x){return Eu(m,f.child,null,x),f=eu(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function ul(f,m,x){f.lanes|=m;var C=f.alternate;C!==null&&(C.lanes|=m),to(f.return,m,x)}function Mf(f,m,x,C,P){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:x,tailMode:P}:(H.isBackwards=m,H.rendering=null,H.renderingStartTime=0,H.last=C,H.tail=x,H.tailMode=P)}function fp(f,m,x){var C=m.pendingProps,P=C.revealOrder,H=C.tail;if(er(f,m,C.children,x),C=Fi.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&ul(f,x,m);else if(f.tag===19)ul(f,x,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}C&=1}switch(A(Fi,C),P){case"forwards":for(x=m.child,P=null;x!==null;)f=x.alternate,f!==null&&Kt(f)===null&&(P=x),x=x.sibling;x=P,x===null?(P=m.child,m.child=null):(P=x.sibling,x.sibling=null),Mf(m,!1,P,x,H);break;case"backwards":for(x=null,P=m.child,m.child=null;P!==null;){if(f=P.alternate,f!==null&&Kt(f)===null){m.child=P;break}f=P.sibling,P.sibling=x,x=P,P=f}Mf(m,!0,x,null,H);break;case"together":Mf(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ja(f,m,x){if(f!==null&&(m.dependencies=f.dependencies),mo|=m.lanes,(x&m.childLanes)===0)if(f!==null){if(F(f,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(f!==null&&m.child!==f.child)throw Error(r(153));if(m.child!==null){for(f=m.child,x=$l(f,f.pendingProps),m.child=x,x.return=m;f.sibling!==null;)f=f.sibling,x=x.sibling=$l(f,f.pendingProps),x.return=m;x.sibling=null}return m.child}function Af(f,m){return(f.lanes&m)!==0?!0:(f=f.dependencies,!!(f!==null&&q(f)))}function Cf(f,m,x){switch(m.tag){case 3:oe(m,m.stateNode.containerInfo),Lo(m,or,f.memoizedState.cache),Ge();break;case 27:case 5:Ie(m);break;case 4:oe(m,m.stateNode.containerInfo);break;case 10:Lo(m,m.type,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(Yt(m),m.flags|=128,null):(x&m.child.childLanes)!==0?hp(f,m,x):(Yt(m),f=Ja(f,m,x),f!==null?f.sibling:null);Yt(m);break;case 19:var P=(f.flags&128)!==0;if(C=(x&m.childLanes)!==0,C||(F(f,m,x,!1),C=(x&m.childLanes)!==0),P){if(C)return fp(f,m,x);m.flags|=128}if(P=m.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),A(Fi,Fi.current),C)break;return null;case 22:case 23:return m.lanes=0,lp(f,m,x);case 24:Lo(m,or,f.memoizedState.cache)}return Ja(f,m,x)}function ms(f,m,x){if(f!==null)if(f.memoizedProps!==m.pendingProps)Dr=!0;else{if(!Af(f,x)&&(m.flags&128)===0)return Dr=!1,Cf(f,m,x);Dr=(f.flags&131072)!==0}else Dr=!1,li&&(m.flags&1048576)!==0&&le(m,Xf,m.index);switch(m.lanes=0,m.tag){case 16:e:{f=m.pendingProps;var C=m.elementType,P=C._init;if(C=P(C._payload),m.type=C,typeof C=="function")Kl(C)?(f=Qa(C,f),m.tag=1,m=cp(null,m,C,f,x)):(m.tag=0,m=gh(null,m,C,f,x));else{if(C!=null){if(P=C.$$typeof,P===zg){m.tag=11,m=fh(null,m,C,f,x);break e}else if(P===Vf){m.tag=14,m=wf(null,m,C,f,x);break e}}throw m=a(C)||C,Error(r(306,m,""))}}return m;case 0:return gh(f,m,m.type,m.pendingProps,x);case 1:return C=m.type,P=Qa(C,m.pendingProps),cp(f,m,C,P,x);case 3:e:{if(oe(m,m.stateNode.containerInfo),f===null)throw Error(r(387));var H=m.pendingProps;P=m.memoizedState,C=P.element,Ct(f,m),Tt(m,H,null,x);var J=m.memoizedState;if(H=J.cache,Lo(m,or,H),H!==P.cache&&T(m,[or],x,!0),Be(),H=J.element,ea&&P.isDehydrated)if(P={element:H,isDehydrated:!1,cache:J.cache},m.updateQueue.baseState=P,m.memoizedState=P,m.flags&256){m=up(f,m,H,x);break e}else if(H!==C){C=ve(Error(r(424)),m),Ye(C),m=up(f,m,H,x);break e}else for(ea&&(Ri=Dh(m.stateNode.containerInfo),vr=m,li=!0,lo=null,Fo=!0),x=Sl(m,null,H,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ge(),H===C){m=Ja(f,m,x);break e}er(f,m,H,x)}m=m.child}return m;case 26:if(Na)return mh(f,m),f===null?(x=k0(m.type,null,m.pendingProps,null))?m.memoizedState=x:li||(m.stateNode=G0(m.type,m.pendingProps,sc.current,m)):m.memoizedState=k0(m.type,f.memoizedProps,m.pendingProps,f.memoizedState),null;case 27:if(Kr)return Ie(m),f===null&&Kr&&li&&(C=m.stateNode=Yg(m.type,m.pendingProps,sc.current,gr.current,!1),vr=m,Fo=!0,Ri=ic(C)),C=m.pendingProps.children,f!==null||li?er(f,m,C,x):m.child=Eu(m,null,C,x),mh(f,m),m.child;case 5:return f===null&&li&&(O1(m.type,m.pendingProps,gr.current),(P=C=Ri)&&(C=z0(C,m.type,m.pendingProps,Fo),C!==null?(m.stateNode=C,vr=m,Ri=ic(C),Fo=!1,P=!0):P=!1),P||tt(m)),Ie(m),P=m.type,H=m.pendingProps,J=f!==null?f.memoizedProps:null,C=H.children,as(P,H)?C=null:J!==null&&as(P,J)&&(m.flags|=32),m.memoizedState!==null&&(P=_i(f,m,Ui,null,null,x),zo?nc._currentValue=P:nc._currentValue2=P),mh(f,m),er(f,m,C,x),m.child;case 6:return f===null&&li&&(VA(m.pendingProps,gr.current),(f=x=Ri)&&(x=T1(x,m.pendingProps,Fo),x!==null?(m.stateNode=x,vr=m,Ri=null,f=!0):f=!1),f||tt(m)),null;case 13:return hp(f,m,x);case 4:return oe(m,m.stateNode.containerInfo),C=m.pendingProps,f===null?m.child=Eu(m,null,C,x):er(f,m,C,x),m.child;case 11:return fh(f,m,m.type,m.pendingProps,x);case 7:return er(f,m,m.pendingProps,x),m.child;case 8:return er(f,m,m.pendingProps.children,x),m.child;case 12:return er(f,m,m.pendingProps.children,x),m.child;case 10:return C=m.pendingProps,Lo(m,m.type,C.value),er(f,m,C.children,x),m.child;case 9:return P=m.type._context,C=m.pendingProps.children,ee(m),P=Se(P),C=C(P),m.flags|=1,er(f,m,C,x),m.child;case 14:return wf(f,m,m.type,m.pendingProps,x);case 15:return dh(f,m,m.type,m.pendingProps,x);case 19:return fp(f,m,x);case 22:return lp(f,m,x);case 24:return ee(m),C=Se(or),f===null?(P=Zn(),P===null&&(P=Oi,H=$n(),P.pooledCache=H,H.refCount++,H!==null&&(P.pooledCacheLanes|=x),P=H),m.memoizedState={parent:C,cache:P},st(m),Lo(m,or,P)):((f.lanes&x)!==0&&(Ct(f,m),Tt(m,null,null,x),Be()),P=f.memoizedState,H=m.memoizedState,P.parent!==C?(P={parent:C,cache:C},m.memoizedState=P,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=P),Lo(m,or,C)):(C=H.cache,Lo(m,or,C),C!==P.cache&&T(m,[or],x,!0))),er(f,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function Lo(f,m,x){zo?(A(uo,m._currentValue),m._currentValue=x):(A(uo,m._currentValue2),m._currentValue2=x)}function eo(f){var m=uo.current;zo?f._currentValue=m:f._currentValue2=m,E(uo)}function to(f,m,x){for(;f!==null;){var C=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),f===x)break;f=f.return}}function T(f,m,x,C){var P=f.child;for(P!==null&&(P.return=f);P!==null;){var H=P.dependencies;if(H!==null){var J=P.child;H=H.firstContext;e:for(;H!==null;){var fe=H;H=P;for(var Re=0;Re<m.length;Re++)if(fe.context===m[Re]){H.lanes|=x,fe=H.alternate,fe!==null&&(fe.lanes|=x),to(H.return,x,f),C||(J=null);break e}H=fe.next}}else if(P.tag===18){if(J=P.return,J===null)throw Error(r(341));J.lanes|=x,H=J.alternate,H!==null&&(H.lanes|=x),to(J,x,f),J=null}else J=P.child;if(J!==null)J.return=P;else for(J=P;J!==null;){if(J===f){J=null;break}if(P=J.sibling,P!==null){P.return=J.return,J=P;break}J=J.return}P=J}}function F(f,m,x,C){f=null;for(var P=m,H=!1;P!==null;){if(!H){if((P.flags&524288)!==0)H=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var J=P.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var fe=P.type;Is(P.pendingProps.value,J.value)||(f!==null?f.push(fe):f=[fe])}}else if(P===Ip.current){if(J=P.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(f!==null?f.push(nc):f=[nc])}P=P.return}f!==null&&T(m,f,x,C),m.flags|=262144}function q(f){for(f=f.firstContext;f!==null;){var m=f.context;if(!Is(zo?m._currentValue:m._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function ee(f){Cu=f,ho=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Se(f){return Rt(Cu,f)}function He(f,m){return Cu===null&&ee(f),Rt(f,m)}function Rt(f,m){var x=zo?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:x,next:null},ho===null){if(f===null)throw Error(r(308));ho=m,f.dependencies={lanes:0,firstContext:m},f.flags|=524288}else ho=ho.next=m;return x}function $n(){return{controller:new Bp,data:new Map,refCount:0}}function tr(f){f.refCount--,f.refCount===0&&nr(kA,function(){f.controller.abort()})}function Zn(){var f=Uh.current;return f!==null?f:Oi.pooledCache}function hr(f,m){m===null?A(Uh,Uh.current):A(Uh,m.pool)}function Tr(){var f=Zn();return f===null?null:{parent:zo?or._currentValue:or._currentValue2,pool:f}}function fr(f){f.flags|=4}function Xr(f,m){if(f!==null&&f.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(f=m.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function no(f,m,x,C){if(Ki)for(x=m.child;x!==null;){if(x.tag===5||x.tag===6)Rp(f,x.stateNode);else if(!(x.tag===4||Kr&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(Vo)for(var P=m.child;P!==null;){if(P.tag===5){var H=P.stateNode;x&&C&&(H=S1(H,P.type,P.memoizedProps)),Rp(f,H)}else if(P.tag===6)H=P.stateNode,x&&C&&(H=L0(H,P.memoizedProps)),Rp(f,H);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)H=P.child,H!==null&&(H.return=P),no(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}}function Rf(f,m,x,C){if(Vo)for(var P=m.child;P!==null;){if(P.tag===5){var H=P.stateNode;x&&C&&(H=S1(H,P.type,P.memoizedProps)),I0(f,H)}else if(P.tag===6)H=P.stateNode,x&&C&&(H=L0(H,P.memoizedProps)),I0(f,H);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)H=P.child,H!==null&&(H.return=P),Rf(f,P,!(P.memoizedProps!==null&&P.memoizedProps.mode==="manual"),!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}}function dp(f,m){if(Vo&&Xr(f,m)){f=m.stateNode;var x=f.containerInfo,C=Gg();Rf(C,m,!1,!1),f.pendingChildren=C,fr(m),_1(x,C)}}function Tg(f,m,x,C){if(Ki)f.memoizedProps!==C&&fr(m);else if(Vo){var P=f.stateNode,H=f.memoizedProps;if((f=Xr(f,m))||H!==C){var J=gr.current;H=b1(P,x,H,C,!f,null),H===P?m.stateNode=P:(Vg(H,x,C,J)&&fr(m),m.stateNode=H,f?no(H,m,!1,!1):fr(m))}else m.stateNode=P}}function Mg(f,m,x){if(C0(m,x)){if(f.flags|=16777216,!R0(m,x))if(Yr())f.flags|=8192;else throw xs=Ls,zp}else f.flags&=-16777217}function Ag(f,m){if(I1(m)){if(f.flags|=16777216,!q0(m))if(Yr())f.flags|=8192;else throw xs=Ls,zp}else f.flags&=-16777217}function Df(f,m){m!==null&&(f.flags|=4),f.flags&16384&&(m=f.tag!==22?I():536870912,f.lanes|=m,Nr|=m)}function Of(f,m){if(!li)switch(f.tailMode){case"hidden":m=f.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var C=null;x!==null;)x.alternate!==null&&(C=x),x=x.sibling;C===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function Yi(f){var m=f.alternate!==null&&f.alternate.child===f.child,x=0,C=0;if(m)for(var P=f.child;P!==null;)x|=P.lanes|P.childLanes,C|=P.subtreeFlags&31457280,C|=P.flags&31457280,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)x|=P.lanes|P.childLanes,C|=P.subtreeFlags,C|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=C,f.childLanes=x,m}function Hx(f,m,x){var C=m.pendingProps;switch(De(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(m),null;case 1:return Yi(m),null;case 3:return x=m.stateNode,C=null,f!==null&&(C=f.memoizedState.cache),m.memoizedState.cache!==C&&(m.flags|=2048),eo(or),Oe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(qt(m)?fr(m):f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,lo!==null&&(Xl(lo),lo=null))),dp(f,m),Yi(m),null;case 26:if(Na){x=m.type;var P=m.memoizedState;return f===null?(fr(m),P!==null?(Yi(m),Ag(m,P)):(Yi(m),Mg(m,x,C))):P?P!==f.memoizedState?(fr(m),Yi(m),Ag(m,P)):(Yi(m),m.flags&=-16777217):(Ki?f.memoizedProps!==C&&fr(m):Tg(f,m,x,C),Yi(m),Mg(m,x,C)),null}case 27:if(Kr){if(je(m),x=sc.current,P=m.type,f!==null&&m.stateNode!=null)Ki?f.memoizedProps!==C&&fr(m):Tg(f,m,P,C);else{if(!C){if(m.stateNode===null)throw Error(r(166));return Yi(m),null}f=gr.current,qt(m)?wt(m,f):(f=Yg(P,C,x,f,!0),m.stateNode=f,fr(m))}return Yi(m),null}case 5:if(je(m),x=m.type,f!==null&&m.stateNode!=null)Tg(f,m,x,C);else{if(!C){if(m.stateNode===null)throw Error(r(166));return Yi(m),null}f=gr.current,qt(m)?wt(m,f):(P=A0(x,C,sc.current,f,m),no(P,m,!1,!1),m.stateNode=P,Vg(P,x,C,f)&&fr(m))}return Yi(m),Mg(m,m.type,m.pendingProps),null;case 6:if(f&&m.stateNode!=null)x=f.memoizedProps,Ki?x!==C&&fr(m):Vo&&(x!==C?(m.stateNode=pr(C,sc.current,gr.current,m),fr(m)):m.stateNode=f.stateNode);else{if(typeof C!="string"&&m.stateNode===null)throw Error(r(166));if(f=sc.current,x=gr.current,qt(m)){if(!ea)throw Error(r(176));if(f=m.stateNode,x=m.memoizedProps,C=null,P=vr,P!==null)switch(P.tag){case 27:case 5:C=P.memoizedProps}Wg(f,x,m,C)||tt(m)}else m.stateNode=pr(C,f,x,m)}return Yi(m),null;case 13:if(C=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(P=qt(m),C!==null&&C.dehydrated!==null){if(f===null){if(!P)throw Error(r(318));if(!ea)throw Error(r(344));if(P=m.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));A1(P,m)}else Ge(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Yi(m),P=!1}else lo!==null&&(Xl(lo),lo=null),P=!0;if(!P)return m.flags&256?(gt(m),m):(gt(m),null)}if(gt(m),(m.flags&128)!==0)return m.lanes=x,m;if(x=C!==null,f=f!==null&&f.memoizedState!==null,x){C=m.child,P=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(P=C.alternate.memoizedState.cachePool.pool);var H=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(H=C.memoizedState.cachePool.pool),H!==P&&(C.flags|=2048)}return x!==f&&x&&(m.child.flags|=8192),Df(m,m.updateQueue),Yi(m),null;case 4:return Oe(),dp(f,m),f===null&&Qx(m.stateNode.containerInfo),Yi(m),null;case 10:return eo(m.type),Yi(m),null;case 19:if(E(Fi),P=m.memoizedState,P===null)return Yi(m),null;if(C=(m.flags&128)!==0,H=P.rendering,H===null)if(C)Of(P,!1);else{if(Zi!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(H=Kt(f),H!==null){for(m.flags|=128,Of(P,!1),f=H.updateQueue,m.updateQueue=f,Df(m,f),m.subtreeFlags=0,f=x,x=m.child;x!==null;)wh(x,f),x=x.sibling;return A(Fi,Fi.current&1|2),m.child}f=f.sibling}P.tail!==null&&Pa()>za&&(m.flags|=128,C=!0,Of(P,!1),m.lanes=4194304)}else{if(!C)if(f=Kt(H),f!==null){if(m.flags|=128,C=!0,f=f.updateQueue,m.updateQueue=f,Df(m,f),Of(P,!0),P.tail===null&&P.tailMode==="hidden"&&!H.alternate&&!li)return Yi(m),null}else 2*Pa()-P.renderingStartTime>za&&x!==536870912&&(m.flags|=128,C=!0,Of(P,!1),m.lanes=4194304);P.isBackwards?(H.sibling=m.child,m.child=H):(f=P.last,f!==null?f.sibling=H:m.child=H,P.last=H)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=Pa(),m.sibling=null,f=Fi.current,A(Fi,C?f&1|2:f&1),m):(Yi(m),null);case 22:case 23:return gt(m),Bt(),C=m.memoizedState!==null,f!==null?f.memoizedState!==null!==C&&(m.flags|=8192):C&&(m.flags|=8192),C?(x&536870912)!==0&&(m.flags&128)===0&&(Yi(m),m.subtreeFlags&6&&(m.flags|=8192)):Yi(m),x=m.updateQueue,x!==null&&Df(m,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==x&&(m.flags|=2048),f!==null&&E(Uh),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),eo(or),Yi(m),null;case 25:return null}throw Error(r(156,m.tag))}function DA(f,m){switch(De(m),m.tag){case 1:return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return eo(or),Oe(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 26:case 27:case 5:return je(m),null;case 13:if(gt(m),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Ge()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return E(Fi),null;case 4:return Oe(),null;case 10:return eo(m.type),null;case 22:case 23:return gt(m),Bt(),f!==null&&E(Uh),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 24:return eo(or),null;case 25:return null;default:return null}}function jx(f,m){switch(De(m),m.tag){case 3:eo(or),Oe();break;case 26:case 27:case 5:je(m);break;case 4:Oe();break;case 13:gt(m);break;case 19:E(Fi);break;case 10:eo(m.type);break;case 22:case 23:gt(m),Bt(),f!==null&&E(Uh);break;case 24:eo(or)}}function pp(f,m){try{var x=m.updateQueue,C=x!==null?x.lastEffect:null;if(C!==null){var P=C.next;x=P;do{if((x.tag&f)===f){C=void 0;var H=x.create,J=x.inst;C=H(),J.destroy=C}x=x.next}while(x!==P)}}catch(fe){xi(m,m.return,fe)}}function tu(f,m,x){try{var C=m.updateQueue,P=C!==null?C.lastEffect:null;if(P!==null){var H=P.next;C=H;do{if((C.tag&f)===f){var J=C.inst,fe=J.destroy;if(fe!==void 0){J.destroy=void 0,P=m;var Re=x;try{fe()}catch($e){xi(P,Re,$e)}}}C=C.next}while(C!==H)}}catch($e){xi(m,m.return,$e)}}function Gx(f){var m=f.updateQueue;if(m!==null){var x=f.stateNode;try{ht(m,x)}catch(C){xi(f,f.return,C)}}}function Ks(f,m,x){x.props=Qa(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(C){xi(f,m,C)}}function Uo(f,m){try{var x=f.ref;if(x!==null){var C=f.stateNode;switch(f.tag){case 26:case 27:case 5:var P=Ah(C);break;default:P=C}typeof x=="function"?f.refCleanup=x(P):x.current=P}}catch(H){xi(f,m,H)}}function $s(f,m){var x=f.ref,C=f.refCleanup;if(x!==null)if(typeof C=="function")try{C()}catch(P){xi(f,m,P)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(P){xi(f,m,P)}else x.current=null}function d0(f){var m=f.type,x=f.memoizedProps,C=f.stateNode;try{h1(C,m,x,f)}catch(P){xi(f,f.return,P)}}function p0(f,m,x){try{f1(f.stateNode,f.type,x,m,f)}catch(C){xi(f,f.return,C)}}function m0(f){return f.tag===5||f.tag===3||(Na?f.tag===26:!1)||(Kr?f.tag===27:!1)||f.tag===4}function mp(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||m0(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!Kr||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function g0(f,m,x){var C=f.tag;if(C===5||C===6)f=f.stateNode,m?N0(x,f,m):O0(x,f);else if(!(C===4||Kr&&C===27)&&(f=f.child,f!==null))for(g0(f,m,x),f=f.sibling;f!==null;)g0(f,m,x),f=f.sibling}function Cg(f,m,x){var C=f.tag;if(C===5||C===6)f=f.stateNode,m?d1(x,f,m):c1(x,f);else if(!(C===4||Kr&&C===27)&&(f=f.child,f!==null))for(Cg(f,m,x),f=f.sibling;f!==null;)Cg(f,m,x),f=f.sibling}function bh(f,m,x){f=f.containerInfo;try{x1(f,x)}catch(C){xi(m,m.return,C)}}function v0(f,m){for(Zx(f.containerInfo),pn=m;pn!==null;)if(f=pn,m=f.child,(f.subtreeFlags&1028)!==0&&m!==null)m.return=f,pn=m;else for(;pn!==null;){f=pn;var x=f.alternate;switch(m=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&x!==null){m=void 0;var C=f,P=x.memoizedProps;x=x.memoizedState;var H=C.stateNode;try{var J=Qa(C.type,P,C.elementType===C.type);m=H.getSnapshotBeforeUpdate(J,x),H.__reactInternalSnapshotBeforeUpdate=m}catch(fe){xi(C,C.return,fe)}}break;case 3:(m&1024)!==0&&Ki&&y1(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=f.sibling,m!==null){m.return=f.return,pn=m;break}pn=f.return}return J=zi,zi=!1,J}function Nf(f,m,x){var C=x.flags;switch(x.tag){case 0:case 11:case 15:jl(f,x),C&4&&pp(5,x);break;case 1:if(jl(f,x),C&4)if(f=x.stateNode,m===null)try{f.componentDidMount()}catch(fe){xi(x,x.return,fe)}else{var P=Qa(x.type,m.memoizedProps);m=m.memoizedState;try{f.componentDidUpdate(P,m,f.__reactInternalSnapshotBeforeUpdate)}catch(fe){xi(x,x.return,fe)}}C&64&&Gx(x),C&512&&Uo(x,x.return);break;case 3:if(jl(f,x),C&64&&(C=x.updateQueue,C!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=Ah(x.child.stateNode);break;case 1:f=x.child.stateNode}try{ht(C,f)}catch(fe){xi(x,x.return,fe)}}break;case 26:if(Na){jl(f,x),C&512&&Uo(x,x.return);break}case 27:case 5:jl(f,x),m===null&&C&4&&d0(x),C&512&&Uo(x,x.return);break;case 12:jl(f,x);break;case 13:jl(f,x),C&4&&_h(f,x);break;case 22:if(P=x.memoizedState!==null||hc,!P){m=m!==null&&m.memoizedState!==null||Mn;var H=hc,J=Mn;hc=P,(Mn=m)&&!J?nu(f,x,(x.subtreeFlags&8772)!==0):jl(f,x),hc=H,Mn=J}C&512&&(x.memoizedProps.mode==="manual"?Uo(x,x.return):$s(x,x.return));break;default:jl(f,x)}}function Rg(f){var m=f.alternate;m!==null&&(f.alternate=null,Rg(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&t1(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function io(f,m,x){for(x=x.child;x!==null;)Hl(f,m,x),x=x.sibling}function Hl(f,m,x){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Wf,x)}catch{}switch(x.tag){case 26:if(Na){Mn||$s(x,m),io(f,m,x),x.memoizedState?H0(x.memoizedState):x.stateNode&&jf(x.stateNode);break}case 27:if(Kr){Mn||$s(x,m);var C=di,P=_r;di=x.stateNode,io(f,m,x),Y0(x.stateNode),di=C,_r=P;break}case 5:Mn||$s(x,m);case 6:if(Ki){if(C=di,P=_r,di=null,io(f,m,x),di=C,_r=P,di!==null)if(_r)try{m1(di,x.stateNode)}catch(H){xi(x,m,H)}else try{p1(di,x.stateNode)}catch(H){xi(x,m,H)}}else io(f,m,x);break;case 18:Ki&&di!==null&&(_r?V0(di,x.stateNode):D1(di,x.stateNode));break;case 4:Ki?(C=di,P=_r,di=x.stateNode.containerInfo,_r=!0,io(f,m,x),di=C,_r=P):(Vo&&bh(x.stateNode,x,Gg()),io(f,m,x));break;case 0:case 11:case 14:case 15:Mn||tu(2,x,m),Mn||tu(4,x,m),io(f,m,x);break;case 1:Mn||($s(x,m),C=x.stateNode,typeof C.componentWillUnmount=="function"&&Ks(x,m,C)),io(f,m,x);break;case 21:io(f,m,x);break;case 22:Mn||$s(x,m),Mn=(C=Mn)||x.memoizedState!==null,io(f,m,x),Mn=C;break;default:io(f,m,x)}}function _h(f,m){if(ea&&m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Xg(f)}catch(x){xi(m,m.return,x)}}function y0(f){switch(f.tag){case 13:case 19:var m=f.stateNode;return m===null&&(m=f.stateNode=new qn),m;case 22:return f=f.stateNode,m=f._retryCache,m===null&&(m=f._retryCache=new qn),m;default:throw Error(r(435,f.tag))}}function Dg(f,m){var x=y0(f);m.forEach(function(C){var P=Lg.bind(null,f,C);x.has(C)||(x.add(C),C.then(P,P))})}function Mr(f,m){var x=m.deletions;if(x!==null)for(var C=0;C<x.length;C++){var P=x[C],H=f,J=m;if(Ki){var fe=J;e:for(;fe!==null;){switch(fe.tag){case 27:case 5:di=fe.stateNode,_r=!1;break e;case 3:di=fe.stateNode.containerInfo,_r=!0;break e;case 4:di=fe.stateNode.containerInfo,_r=!0;break e}fe=fe.return}if(di===null)throw Error(r(160));Hl(H,J,P),di=null,_r=!1}else Hl(H,J,P);H=P.alternate,H!==null&&(H.return=null),P.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)b0(m,f),m=m.sibling}function b0(f,m){var x=f.alternate,C=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Mr(m,f),Zs(f),C&4&&(tu(3,f,f.return),pp(3,f),tu(5,f,f.return));break;case 1:Mr(m,f),Zs(f),C&512&&(Mn||x===null||$s(x,x.return)),C&64&&hc&&(f=f.updateQueue,f!==null&&(C=f.callbacks,C!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?C:x.concat(C))));break;case 26:if(Na){var P=Es;Mr(m,f),Zs(f),C&512&&(Mn||x===null||$s(x,x.return)),C&4&&(C=x!==null?x.memoizedState:null,m=f.memoizedState,x===null?m===null?f.stateNode===null?f.stateNode=N1(P,f.type,f.memoizedProps,f):j0(P,f.type,f.stateNode):f.stateNode=F0(P,m,f.memoizedProps):C!==m?(C===null?x.stateNode!==null&&jf(x.stateNode):H0(C),m===null?j0(P,f.type,f.stateNode):F0(P,m,f.memoizedProps)):m===null&&f.stateNode!==null&&p0(f,f.memoizedProps,x.memoizedProps));break}case 27:if(Kr&&C&4&&f.alternate===null){P=f.stateNode;var H=f.memoizedProps;try{L1(P),X0(f.type,H,P,f)}catch(St){xi(f,f.return,St)}}case 5:if(Mr(m,f),Zs(f),C&512&&(Mn||x===null||$s(x,x.return)),Ki){if(f.flags&32){m=f.stateNode;try{jg(m)}catch(St){xi(f,f.return,St)}}C&4&&f.stateNode!=null&&(m=f.memoizedProps,p0(f,m,x!==null?x.memoizedProps:m)),C&1024&&(Di=!0)}break;case 6:if(Mr(m,f),Zs(f),C&4&&Ki){if(f.stateNode===null)throw Error(r(162));C=f.memoizedProps,x=x!==null?x.memoizedProps:C,m=f.stateNode;try{u1(m,x,C)}catch(St){xi(f,f.return,St)}}break;case 3:if(Na?(P1(),P=Es,Es=Fr(m.containerInfo),Mr(m,f),Es=P):Mr(m,f),Zs(f),C&4){if(Ki&&ea&&x!==null&&x.memoizedState.isDehydrated)try{R1(m.containerInfo)}catch(St){xi(f,f.return,St)}if(Vo){C=m.containerInfo,x=m.pendingChildren;try{x1(C,x)}catch(St){xi(f,f.return,St)}}}Di&&(Di=!1,_0(f));break;case 4:Na?(x=Es,Es=Fr(f.stateNode.containerInfo),Mr(m,f),Zs(f),Es=x):(Mr(m,f),Zs(f)),C&4&&Vo&&bh(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Mr(m,f),Zs(f);break;case 13:Mr(m,f),Zs(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(J0=Pa()),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Dg(f,C)));break;case 22:C&512&&(Mn||x===null||$s(x,x.return)),P=f.memoizedState!==null;var J=x!==null&&x.memoizedState!==null,fe=hc,Re=Mn;if(hc=fe||P,Mn=Re||J,Mr(m,f),Mn=Re,hc=fe,Zs(f),m=f.stateNode,m._current=f,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,C&8192&&(m._visibility=P?m._visibility&-2:m._visibility|1,P&&(m=hc||Mn,x===null||J||m||Pf(f)),Ki&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(x=null,Ki)for(m=f;;){if(m.tag===5||Na&&m.tag===26||Kr&&m.tag===27){if(x===null){J=x=m;try{H=J.stateNode,P?g1(H):zA(J.stateNode,J.memoizedProps)}catch(St){xi(J,J.return,St)}}}else if(m.tag===6){if(x===null){J=m;try{var $e=J.stateNode;P?v1($e):P0($e,J.memoizedProps)}catch(St){xi(J,J.return,St)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}}C&4&&(C=f.updateQueue,C!==null&&(x=C.retryQueue,x!==null&&(C.retryQueue=null,Dg(f,x))));break;case 19:Mr(m,f),Zs(f),C&4&&(C=f.updateQueue,C!==null&&(f.updateQueue=null,Dg(f,C)));break;case 21:break;default:Mr(m,f),Zs(f)}}function Zs(f){var m=f.flags;if(m&2){try{if(Ki&&(!Kr||f.tag!==27)){e:{for(var x=f.return;x!==null;){if(m0(x)){var C=x;break e}x=x.return}throw Error(r(160))}switch(C.tag){case 27:if(Kr){var P=C.stateNode,H=mp(f);Cg(f,H,P);break}case 5:var J=C.stateNode;C.flags&32&&(jg(J),C.flags&=-33);var fe=mp(f);Cg(f,fe,J);break;case 3:case 4:var Re=C.stateNode.containerInfo,$e=mp(f);g0(f,$e,Re);break;default:throw Error(r(161))}}}catch(St){xi(f,f.return,St)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function _0(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var m=f;_0(m),m.tag===5&&m.flags&1024&&i1(m.stateNode),f=f.sibling}}function jl(f,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)Nf(f,m.alternate,m),m=m.sibling}function Pf(f){for(f=f.child;f!==null;){var m=f;switch(m.tag){case 0:case 11:case 14:case 15:tu(4,m,m.return),Pf(m);break;case 1:$s(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&Ks(m,m.return,x),Pf(m);break;case 26:case 27:case 5:$s(m,m.return),Pf(m);break;case 22:$s(m,m.return),m.memoizedState===null&&Pf(m);break;default:Pf(m)}f=f.sibling}}function nu(f,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var C=m.alternate,P=f,H=m,J=H.flags;switch(H.tag){case 0:case 11:case 15:nu(P,H,x),pp(4,H);break;case 1:if(nu(P,H,x),C=H,P=C.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch($e){xi(C,C.return,$e)}if(C=H,P=C.updateQueue,P!==null){var fe=C.stateNode;try{var Re=P.shared.hiddenCallbacks;if(Re!==null)for(P.shared.hiddenCallbacks=null,P=0;P<Re.length;P++)he(Re[P],fe)}catch($e){xi(C,C.return,$e)}}x&&J&64&&Gx(H),Uo(H,H.return);break;case 26:case 27:case 5:nu(P,H,x),x&&C===null&&J&4&&d0(H),Uo(H,H.return);break;case 12:nu(P,H,x);break;case 13:nu(P,H,x),x&&J&4&&_h(P,H);break;case 22:H.memoizedState===null&&nu(P,H,x),Uo(H,H.return);break;default:nu(P,H,x)}m=m.sibling}}function Og(f,m){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(f=m.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&tr(x))}function Ng(f,m){f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&tr(f))}function Gl(f,m,x,C){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)ro(f,m,x,C),m=m.sibling}function ro(f,m,x,C){var P=m.flags;switch(m.tag){case 0:case 11:case 15:Gl(f,m,x,C),P&2048&&pp(9,m);break;case 3:Gl(f,m,x,C),P&2048&&(f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&tr(f)));break;case 12:if(P&2048){Gl(f,m,x,C),f=m.stateNode;try{var H=m.memoizedProps,J=H.id,fe=H.onPostCommit;typeof fe=="function"&&fe(J,m.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Re){xi(m,m.return,Re)}}else Gl(f,m,x,C);break;case 23:break;case 22:H=m.stateNode,m.memoizedState!==null?H._visibility&4?Gl(f,m,x,C):hl(f,m):H._visibility&4?Gl(f,m,x,C):(H._visibility|=4,ss(f,m,x,C,(m.subtreeFlags&10256)!==0)),P&2048&&Og(m.alternate,m);break;case 24:Gl(f,m,x,C),P&2048&&Ng(m.alternate,m);break;default:Gl(f,m,x,C)}}function ss(f,m,x,C,P){for(P=P&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var H=f,J=m,fe=x,Re=C,$e=J.flags;switch(J.tag){case 0:case 11:case 15:ss(H,J,fe,Re,P),pp(8,J);break;case 23:break;case 22:var St=J.stateNode;J.memoizedState!==null?St._visibility&4?ss(H,J,fe,Re,P):hl(H,J):(St._visibility|=4,ss(H,J,fe,Re,P)),P&&$e&2048&&Og(J.alternate,J);break;case 24:ss(H,J,fe,Re,P),P&&$e&2048&&Ng(J.alternate,J);break;default:ss(H,J,fe,Re,P)}m=m.sibling}}function hl(f,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=f,C=m,P=C.flags;switch(C.tag){case 22:hl(x,C),P&2048&&Og(C.alternate,C);break;case 24:hl(x,C),P&2048&&Ng(C.alternate,C);break;default:hl(x,C)}m=m.sibling}}function ql(f){if(f.subtreeFlags&Ru)for(f=f.child;f!==null;)gp(f),f=f.sibling}function gp(f){switch(f.tag){case 26:ql(f),f.flags&Ru&&(f.memoizedState!==null?W0(Es,f.memoizedState,f.memoizedProps):D0(f.type,f.memoizedProps));break;case 5:ql(f),f.flags&Ru&&D0(f.type,f.memoizedProps);break;case 3:case 4:if(Na){var m=Es;Es=Fr(f.stateNode.containerInfo),ql(f),Es=m}else ql(f);break;case 22:f.memoizedState===null&&(m=f.alternate,m!==null&&m.memoizedState!==null?(m=Ru,Ru=16777216,ql(f),Ru=m):ql(f));break;default:ql(f)}}function vp(f){var m=f.alternate;if(m!==null&&(f=m.child,f!==null)){m.child=null;do m=f.sibling,f.sibling=null,f=m;while(f!==null)}}function xh(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var C=m[x];pn=C,bp(C,f)}vp(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Wl(f),f=f.sibling}function Wl(f){switch(f.tag){case 0:case 11:case 15:xh(f),f.flags&2048&&tu(9,f,f.return);break;case 3:xh(f);break;case 12:xh(f);break;case 22:var m=f.stateNode;f.memoizedState!==null&&m._visibility&4&&(f.return===null||f.return.tag!==13)?(m._visibility&=-5,yp(f)):xh(f);break;default:xh(f)}}function yp(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var C=m[x];pn=C,bp(C,f)}vp(f)}for(f=f.child;f!==null;){switch(m=f,m.tag){case 0:case 11:case 15:tu(8,m,m.return),yp(m);break;case 22:x=m.stateNode,x._visibility&4&&(x._visibility&=-5,yp(m));break;default:yp(m)}f=f.sibling}}function bp(f,m){for(;pn!==null;){var x=pn;switch(x.tag){case 0:case 11:case 15:tu(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var C=x.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:tr(x.memoizedState.cache)}if(C=x.child,C!==null)C.return=x,pn=C;else e:for(x=f;pn!==null;){C=pn;var P=C.sibling,H=C.return;if(Rg(C),C===x){pn=null;break e}if(P!==null){P.return=H,pn=P;break e}pn=H}}}function iu(f){var m=kg(f);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(r(364));return m}if(f=a1(f),f===null)throw Error(r(362));return f.stateNode.current}function Pg(f,m){var x=f.tag;switch(m.$$typeof){case Wi:if(f.type===m.value)return!0;break;case qo:e:{for(m=m.value,f=[f,0],x=0;x<f.length;){var C=f[x++],P=C.tag,H=f[x++],J=m[H];if(P!==5&&P!==26&&P!==27||!vl(C)){for(;J!=null&&Pg(C,J);)H++,J=m[H];if(H===m.length){m=!0;break e}else for(C=C.child;C!==null;)f.push(C,H),C=C.sibling}}m=!1}return m;case El:if((x===5||x===26||x===27)&&l1(f.stateNode,m.value))return!0;break;case zs:if((x===5||x===6||x===26||x===27)&&(f=o1(f),f!==null&&0<=f.indexOf(m.value)))return!0;break;case Qf:if((x===5||x===26||x===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Qs(f){switch(f.$$typeof){case Wi:return"<"+(a(f.value)||"Unknown")+">";case qo:return":has("+(Qs(f)||"")+")";case El:return'[role="'+f.value+'"]';case zs:return'"'+f.value+'"';case Qf:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function Sh(f,m){var x=[];f=[f,0];for(var C=0;C<f.length;){var P=f[C++],H=P.tag,J=f[C++],fe=m[J];if(H!==5&&H!==26&&H!==27||!vl(P)){for(;fe!=null&&Pg(P,fe);)J++,fe=m[J];if(J===m.length)x.push(P);else for(P=P.child;P!==null;)f.push(P,J),P=P.sibling}}return x}function ru(f,m){if(!Hf)throw Error(r(363));f=iu(f),f=Sh(f,m),m=[],f=Array.from(f);for(var x=0;x<f.length;){var C=f[x++],P=C.tag;if(P===5||P===26||P===27)vl(C)||m.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return m}function gs(){if((Yn&2)!==0&&Kn!==0)return Kn&-Kn;if(yn.T!==null){var f=qi;return f!==0?f:yt()}return Jx()}function _p(){Ua===0&&(Ua=(Kn&536870912)===0||li?V():536870912);var f=ia.current;return f!==null&&(f.flags|=32),Ua}function ki(f,m,x){(f===Oi&&Ai===2||f.cancelPendingCommit!==null)&&(su(f,0),Ns(f,Kn,Ua,!1)),j(f,x),((Yn&2)===0||f!==Oi)&&(f===Oi&&((Yn&2)===0&&(dc|=x),Zi===4&&Ns(f,Kn,Ua,!1)),Et(f))}function Da(f,m,x){if((Yn&6)!==0)throw Error(r(327));var C=!x&&(m&60)===0&&(m&f.expiredLanes)===0||N(f,m),P=C?qx(f,m):Sp(f,m,!0),H=C;do{if(P===0){po&&!C&&Ns(f,m,0,!1);break}else if(P===6)Ns(f,m,0,!fo);else{if(x=f.current.alternate,H&&!Yl(x)){P=Sp(f,m,!1),H=!1;continue}if(P===2){if(H=m,f.errorRecoveryDisabledLanes&H)var J=0;else J=f.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){m=J;e:{var fe=f;P=Jf;var Re=ea&&fe.current.memoizedState.isDehydrated;if(Re&&(su(fe,J).flags|=256),J=Sp(fe,J,!1),J!==2){if(zh&&!Re){fe.errorRecoveryDisabledLanes|=H,dc|=H,P=4;break e}H=go,go=P,H!==null&&Xl(H)}P=J}if(H=!1,P!==2)continue}}if(P===1){su(f,0),Ns(f,m,0,!0);break}e:{switch(C=f,P){case 0:case 1:throw Error(r(345));case 4:if((m&4194176)===m){Ns(C,m,Ua,!fo);break e}break;case 2:go=null;break;case 3:case 5:break;default:throw Error(r(329))}if(C.finishedWork=x,C.finishedLanes=m,(m&62914560)===m&&(H=J0+300-Pa(),10<H)){if(Ns(C,m,Ua,!fo),k(C,0)!==0)break e;C.timeoutHandle=Bg(fl.bind(null,C,x,go,Vh,rv,m,Ua,dc,Nr,fo,2,-0,0),H);break e}fl(C,x,go,Vh,rv,m,Ua,dc,Nr,fo,0,-0,0)}}break}while(!0);Et(f)}function Xl(f){go===null?go=f:go.push.apply(go,f)}function fl(f,m,x,C,P,H,J,fe,Re,$e,St,Ht,vt){var An=m.subtreeFlags;if((An&8192||(An&16785408)===16785408)&&(LA(),gp(m),m=n1(),m!==null)){f.cancelPendingCommit=m(Ig.bind(null,f,x,C,P,J,fe,Re,1,Ht,vt)),Ns(f,H,J,!$e);return}Ig(f,x,C,P,J,fe,Re,St,Ht,vt)}function Yl(f){for(var m=f;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var C=0;C<x.length;C++){var P=x[C],H=P.getSnapshot;P=P.value;try{if(!Is(H(),P))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ns(f,m,x,C){m&=~Vs,m&=~dc,f.suspendedLanes|=m,f.pingedLanes&=~m,C&&(f.warmLanes|=m),C=f.expirationTimes;for(var P=m;0<P;){var H=31-mr(P),J=1<<H;C[H]=-1,P&=~J}x!==0&&G(f,x,m)}function x0(){return(Yn&6)===0?(te(0),!1):!0}function xp(){if(Fn!==null){if(Ai===0)var f=Fn.return;else f=Fn,ho=Cu=null,Ne(f),Ih=null,Ss=0,f=Fn;for(;f!==null;)jx(f.alternate,f),f=f.return;Fn=null}}function su(f,m){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;x!==Ff&&(f.timeoutHandle=Ff,Dp(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),xp(),Oi=f,Fn=x=$l(f.current,null),Kn=m,Ai=0,Or=null,fo=!1,po=N(f,m),zh=!1,Nr=Ua=Vs=dc=mo=Zi=0,go=Jf=null,rv=!1,(m&8)!==0&&(m|=m&32);var C=f.entangledLanes;if(C!==0)for(f=f.entanglements,C&=m;0<C;){var P=31-mr(C),H=1<<P;m|=f[P],C&=~H}return Wo=m,se(),x}function vs(f,m){Tn=null,yn.H=br,m===Up?(m=Dt(),Ai=3):m===zp?(m=Dt(),Ai=4):Ai=m===Z0?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Or=m,Fn===null&&(Zi=1,Bl(f,ve(m,f.current)))}function Yr(){var f=ia.current;return f===null?!0:(Kn&4194176)===Kn?co===null:(Kn&62914560)===Kn||(Kn&536870912)!==0?f===co:!1}function oi(){var f=yn.H;return yn.H=br,f===null?br:f}function so(){var f=yn.A;return yn.A=fc,f}function ao(){Zi=4,fo||(Kn&4194176)!==Kn&&ia.current!==null||(po=!0),(mo&134217727)===0&&(dc&134217727)===0||Oi===null||Ns(Oi,Kn,Ua,!1)}function Sp(f,m,x){var C=Yn;Yn|=2;var P=oi(),H=so();(Oi!==f||Kn!==m)&&(Vh=null,su(f,m)),m=!1;var J=Zi;e:do try{if(Ai!==0&&Fn!==null){var fe=Fn,Re=Or;switch(Ai){case 8:xp(),J=6;break e;case 3:case 2:case 6:ia.current===null&&(m=!0);var $e=Ai;if(Ai=0,Or=null,dl(f,fe,Re,$e),x&&po){J=0;break e}break;default:$e=Ai,Ai=0,Or=null,dl(f,fe,Re,$e)}}Eh(),J=Zi;break}catch(St){vs(f,St)}while(!0);return m&&f.shellSuspendCounter++,ho=Cu=null,Yn=C,yn.H=P,yn.A=H,Fn===null&&(Oi=null,Kn=0,se()),J}function Eh(){for(;Fn!==null;)If(Fn)}function qx(f,m){var x=Yn;Yn|=2;var C=oi(),P=so();Oi!==f||Kn!==m?(Vh=null,za=Pa()+500,su(f,m)):po=N(f,m);e:do try{if(Ai!==0&&Fn!==null){m=Fn;var H=Or;t:switch(Ai){case 1:Ai=0,Or=null,dl(f,m,H,1);break;case 2:if(We(H)){Ai=0,Or=null,Lf(m);break}m=function(){Ai===2&&Oi===f&&(Ai=7),Et(f)},H.then(m,m);break e;case 3:Ai=7;break e;case 4:Ai=5;break e;case 7:We(H)?(Ai=0,Or=null,Lf(m)):(Ai=0,Or=null,dl(f,m,H,7));break;case 5:var J=null;switch(Fn.tag){case 26:J=Fn.memoizedState;case 5:case 27:var fe=Fn,Re=fe.type,$e=fe.pendingProps;if(J?q0(J):R0(Re,$e)){Ai=0,Or=null;var St=fe.sibling;if(St!==null)Fn=St;else{var Ht=fe.return;Ht!==null?(Fn=Ht,au(Ht)):Fn=null}break t}}Ai=0,Or=null,dl(f,m,H,5);break;case 6:Ai=0,Or=null,dl(f,m,H,6);break;case 8:xp(),Zi=6;break e;default:throw Error(r(462))}}Wx();break}catch(vt){vs(f,vt)}while(!0);return ho=Cu=null,yn.H=C,yn.A=P,Yn=x,Fn!==null?0:(Oi=null,Kn=0,se(),Zi)}function Wx(){for(;Fn!==null&&!_u();)If(Fn)}function If(f){var m=ms(f.alternate,f,Wo);f.memoizedProps=f.pendingProps,m===null?au(f):Fn=m}function Lf(f){var m=f,x=m.alternate;switch(m.tag){case 15:case 0:m=Jc(x,m,m.pendingProps,m.type,void 0,Kn);break;case 11:m=Jc(x,m,m.pendingProps,m.type.render,m.ref,Kn);break;case 5:Ne(m);default:jx(x,m),m=Fn=wh(m,Wo),m=ms(x,m,Wo)}f.memoizedProps=f.pendingProps,m===null?au(f):Fn=m}function dl(f,m,x,C){ho=Cu=null,Ne(m),Ih=null,Ss=0;var P=m.return;try{if(f0(f,P,m,x,Kn)){Zi=1,Bl(f,ve(x,f.current)),Fn=null;return}}catch(H){if(P!==null)throw Fn=P,H;Zi=1,Bl(f,ve(x,f.current)),Fn=null;return}m.flags&32768?(li||C===1?f=!0:po||(Kn&536870912)!==0?f=!1:(fo=f=!0,(C===2||C===3||C===6)&&(C=ia.current,C!==null&&C.tag===13&&(C.flags|=16384))),S0(m,f)):au(m)}function au(f){var m=f;do{if((m.flags&32768)!==0){S0(m,fo);return}f=m.return;var x=Hx(m.alternate,m,Wo);if(x!==null){Fn=x;return}if(m=m.sibling,m!==null){Fn=m;return}Fn=m=f}while(m!==null);Zi===0&&(Zi=5)}function S0(f,m){do{var x=DA(f.alternate,f);if(x!==null){x.flags&=32767,Fn=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(f=f.sibling,f!==null)){Fn=f;return}Fn=f=x}while(f!==null);Zi=6,Fn=null}function Ig(f,m,x,C,P,H,J,fe,Re,$e){var St=yn.T,Ht=vu();try{Ps(2),yn.T=null,Xx(f,m,x,C,Ht,P,H,J,fe,Re,$e)}finally{yn.T=St,Ps(Ht)}}function Xx(f,m,x,C,P,H,J,fe){do ou();while(Du!==null);if((Yn&6)!==0)throw Error(r(327));var Re=f.finishedWork;if(C=f.finishedLanes,Re===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Re===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var $e=Re.lanes|Re.childLanes;if($e|=Ho,X(f,C,$e,H,J,fe),f===Oi&&(Fn=Oi=null,Kn=0),(Re.subtreeFlags&10256)===0&&(Re.flags&10256)===0||pc||(pc=!0,sv=$e,Fp=x,Yx(qf,function(){return ou(),null})),x=(Re.flags&15990)!==0,(Re.subtreeFlags&15990)!==0||x?(x=yn.T,yn.T=null,H=vu(),Ps(2),J=Yn,Yn|=4,v0(f,Re),b0(Re,f),IA(f.containerInfo),f.current=Re,Nf(f,Re.alternate,Re),rc(),Yn=J,Ps(H),yn.T=x):f.current=Re,pc?(pc=!1,Du=f,ed=C):Ep(f,$e),$e=f.pendingLanes,$e===0&&(Tl=null),K(Re.stateNode),Et(f),m!==null)for(P=f.onRecoverableError,Re=0;Re<m.length;Re++)$e=m[Re],P($e.value,{componentStack:$e.stack});return(ed&3)!==0&&ou(),$e=f.pendingLanes,(C&4194218)!==0&&($e&42)!==0?f===eb?Bh++:(Bh=0,eb=f):Bh=0,te(0),null}function Ep(f,m){(f.pooledCacheLanes&=m)===0&&(m=f.pooledCache,m!=null&&(f.pooledCache=null,tr(m)))}function ou(){if(Du!==null){var f=Du,m=sv;sv=0;var x=de(ed),C=32>x?32:x;x=yn.T;var P=vu();try{if(Ps(C),yn.T=null,Du===null)var H=!1;else{C=Fp,Fp=null;var J=Du,fe=ed;if(Du=null,ed=0,(Yn&6)!==0)throw Error(r(331));var Re=Yn;if(Yn|=4,Wl(J.current),ro(J,J.current,fe,C),Yn=Re,te(0,!1),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Wf,J)}catch{}H=!0}return H}finally{Ps(P),yn.T=x,Ep(f,m)}}return!1}function Uf(f,m,x){m=ve(x,m),m=kl(f.stateNode,m,2),f=Vt(f,m,2),f!==null&&(j(f,2),Et(f))}function xi(f,m,x){if(f.tag===3)Uf(f,f,x);else for(;m!==null;){if(m.tag===3){Uf(m,f,x);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Tl===null||!Tl.has(C))){f=ve(x,f),x=Ra(2),C=Vt(m,x,2),C!==null&&(op(x,C,m,f),j(C,2),Et(C));break}}m=m.return}}function lu(f,m,x){var C=f.pingCache;if(C===null){C=f.pingCache=new kp;var P=new Set;C.set(m,P)}else P=C.get(m),P===void 0&&(P=new Set,C.set(m,P));P.has(x)||(zh=!0,P.add(x),f=wp.bind(null,f,m,x),m.then(f,f))}function wp(f,m,x){var C=f.pingCache;C!==null&&C.delete(m),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,Oi===f&&(Kn&x)===x&&(Zi===4||Zi===3&&(Kn&62914560)===Kn&&300>Pa()-J0?(Yn&2)===0&&su(f,0):Vs|=x,Nr===Kn&&(Nr=0)),Et(f)}function Tp(f,m){m===0&&(m=I()),f=dt(f,m),f!==null&&(j(f,m),Et(f))}function Mp(f){var m=f.memoizedState,x=0;m!==null&&(x=m.retryLane),Tp(f,x)}function Lg(f,m){var x=0;switch(f.tag){case 13:var C=f.stateNode,P=f.memoizedState;P!==null&&(x=P.retryLane);break;case 19:C=f.stateNode;break;case 22:C=f.stateNode._retryCache;break;default:throw Error(r(314))}C!==null&&C.delete(m),Tp(f,x)}function Yx(f,m){return bl(f,m)}function Kx(f,m,x,C){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(f){return f=f.prototype,!(!f||!f.isReactComponent)}function $l(f,m){var x=f.alternate;return x===null?(x=t(f.tag,m,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=m,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&31457280,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,m=f.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function wh(f,m){f.flags&=31457282;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,m=x.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),f}function Th(f,m,x,C,P,H){var J=0;if(C=f,typeof f=="function")Kl(f)&&(J=1);else if(typeof f=="string")J=Na&&Kr?kr(f,x,gr.current)?26:Kg(f)?27:5:Na?kr(f,x,gr.current)?26:5:Kr&&Kg(f)?27:5;else e:switch(f){case hu:return cu(x.children,P,H,m);case Mh:J=8,P|=24;break;case fu:return f=t(12,x,m,P|2),f.elementType=fu,f.lanes=H,f;case Jl:return f=t(13,x,m,P),f.elementType=Jl,f.lanes=H,f;case Cp:return f=t(19,x,m,P),f.elementType=Cp,f.lanes=H,f;case tc:return Ug(x,P,H,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case NA:case du:J=10;break e;case T0:J=9;break e;case zg:J=11;break e;case Vf:J=14;break e;case ec:J=16,C=null;break e}J=29,x=Error(r(130,f===null?"null":typeof f,"")),C=null}return m=t(J,x,m,P),m.elementType=f,m.type=C,m.lanes=H,m}function cu(f,m,x,C){return f=t(7,f,C,m),f.lanes=x,f}function Ug(f,m,x,C){f=t(22,f,C,m),f.elementType=tc,f.lanes=x;var P={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var H=P._current;if(H===null)throw Error(r(456));if((P._pendingVisibility&2)===0){var J=dt(H,2);J!==null&&(P._pendingVisibility|=2,ki(J,H,2))}},attach:function(){var H=P._current;if(H===null)throw Error(r(456));if((P._pendingVisibility&2)!==0){var J=dt(H,2);J!==null&&(P._pendingVisibility&=-3,ki(J,H,2))}}};return f.stateNode=P,f}function Ap(f,m,x){return f=t(6,f,null,m),f.lanes=x,f}function Js(f,m,x){return m=t(4,f.children!==null?f.children:[],f.key,m),m.lanes=x,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function pl(f,m,x,C,P,H,J,fe){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ff,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=C,this.onUncaughtError=P,this.onCaughtError=H,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function Zl(f,m,x,C,P,H,J,fe,Re,$e,St,Ht){return f=new pl(f,m,x,J,fe,Re,$e,Ht),m=1,H===!0&&(m|=24),H=t(3,null,null,m),f.current=H,H.stateNode=f,m=$n(),m.refCount++,f.pooledCache=m,m.refCount++,H.memoizedState={element:C,isDehydrated:x,cache:m},st(H),f}function E0(f){return f?(f=Nh,f):Nh}function Ql(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=y(m),f=f!==null?_(f):null,f===null?null:Ah(f.stateNode)}function ml(f,m,x,C,P,H){P=E0(P),C.context===null?C.context=P:C.pendingContext=P,C=Wt(m),C.payload={element:x},H=H===void 0?null:H,H!==null&&(C.callback=H),x=Vt(f,C,m),x!==null&&(ki(x,f,m),Pt(x,f,m))}function Ar(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<m?x:m}}function zf(f,m){Ar(f,m),(f=f.alternate)&&Ar(f,m)}var Xn={},OA=Hy(),Oa=kN(),dr=Object.assign,w0=Symbol.for("react.element"),uu=Symbol.for("react.transitional.element"),gl=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),T0=Symbol.for("react.consumer"),du=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),Cp=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),ec=Symbol.for("react.lazy"),tc=Symbol.for("react.offscreen"),kn=Symbol.for("react.memo_cache_sentinel"),Mi=Symbol.iterator,Cr=Symbol.for("react.client.reference"),yn=OA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pu,mu,Bf=!1,gu=Array.isArray,kf=e.rendererVersion,PA=e.rendererPackageName,ar=e.extraDevToolsConfig,Ah=e.getPublicInstance,M0=e.getRootHostContext,$x=e.getChildHostContext,Zx=e.prepareForCommit,IA=e.resetAfterCommit,A0=e.createInstance,Rp=e.appendInitialChild,Vg=e.finalizeInitialChildren,as=e.shouldSetTextContent,pr=e.createTextInstance,Bg=e.scheduleTimeout,Dp=e.cancelTimeout,Ff=e.noTimeout,zo=e.isPrimaryRenderer;e.warnsIfNotActing;var Ki=e.supportsMutation,Vo=e.supportsPersistence,ea=e.supportsHydration,kg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Qx=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ps=e.setCurrentUpdatePriority,vu=e.getCurrentUpdatePriority,Jx=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var e1=e.shouldAttemptEagerTransition,t1=e.detachDeletedInstance;e.requestPostPaintCallback;var C0=e.maySuspendCommit,R0=e.preloadInstance,LA=e.startSuspendingCommit,D0=e.suspendInstance,n1=e.waitForCommitToBeReady,Ch=e.NotPendingTransition,nc=e.HostTransitionContext,i1=e.resetFormInstance;e.bindToConsole;var r1=e.supportsMicrotasks,s1=e.scheduleMicrotask,Hf=e.supportsTestSelectors,a1=e.findFiberRoot,UA=e.getBoundingRect,o1=e.getTextContent,vl=e.isHiddenSubtree,l1=e.matchAccessibilityRole,Fg=e.setFocusIfFocusable,Hg=e.setupIntersectionObserver,c1=e.appendChild,O0=e.appendChildToContainer,u1=e.commitTextUpdate,h1=e.commitMount,f1=e.commitUpdate,d1=e.insertBefore,N0=e.insertInContainerBefore,p1=e.removeChild,m1=e.removeChildFromContainer,jg=e.resetTextContent,g1=e.hideInstance,v1=e.hideTextInstance,zA=e.unhideInstance,P0=e.unhideTextInstance,y1=e.clearContainer,b1=e.cloneInstance,Gg=e.createContainerChildSet,I0=e.appendChildToContainerChildSet,_1=e.finalizeContainerChildren,x1=e.replaceContainerChildren,S1=e.cloneHiddenInstance,L0=e.cloneHiddenTextInstance,Rh=e.isSuspenseInstancePending,Op=e.isSuspenseInstanceFallback,qg=e.getSuspenseInstanceFallbackErrorDetails,E1=e.registerSuspenseInstanceRetry,w1=e.canHydrateFormStateMarker,yl=e.isFormStateMarkerMatching,yu=e.getNextHydratableSibling,ic=e.getFirstHydratableChild,Dh=e.getFirstHydratableChildWithinContainer,U0=e.getFirstHydratableChildWithinSuspenseInstance,z0=e.canHydrateInstance,T1=e.canHydrateTextInstance,M1=e.canHydrateSuspenseInstance,Oh=e.hydrateInstance,Wg=e.hydrateTextInstance,A1=e.hydrateSuspenseInstance,C1=e.getNextHydratableInstanceAfterSuspenseInstance,R1=e.commitHydratedContainer,Xg=e.commitHydratedSuspenseInstance,D1=e.clearSuspenseBoundary,V0=e.clearSuspenseBoundaryFromContainer,B0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var O1=e.validateHydratableInstance,VA=e.validateHydratableTextInstance,Na=e.supportsResources,kr=e.isHostHoistableType,Fr=e.getHoistableRoot,k0=e.getResource,F0=e.acquireResource,H0=e.releaseResource,N1=e.hydrateHoistable,j0=e.mountHoistable,jf=e.unmountHoistable,G0=e.createHoistableInstance,P1=e.prepareToCommitHoistables,I1=e.mayResourceSuspendCommit,q0=e.preloadResource,W0=e.suspendResource,Kr=e.supportsSingletons,Yg=e.resolveSingletonInstance,L1=e.clearSingleton,X0=e.acquireSingletonInstance,Y0=e.releaseSingletonInstance,Kg=e.isHostSingletonType,$g=[],bu=-1,Nh={},mr=Math.clz32?Math.clz32:R,K0=Math.log,BA=Math.LN2,Np=128,Gf=4194304,bl=Oa.unstable_scheduleCallback,Bo=Oa.unstable_cancelCallback,_u=Oa.unstable_shouldYield,rc=Oa.unstable_requestPaint,Pa=Oa.unstable_now,Zg=Oa.unstable_ImmediatePriority,Pp=Oa.unstable_UserBlockingPriority,qf=Oa.unstable_NormalPriority,Ph=Oa.unstable_IdlePriority,ys=Oa.log,Qg=Oa.unstable_setDisableYieldValue,Wf=null,Rr=null,Is=typeof Object.is=="function"?Object.is:ne,Jg=new WeakMap,Ia=[],La=0,xu=null,Xf=0,ta=[],bs=0,ko=null,_l=1,xl="",gr=S(null),oo=S(null),sc=S(null),Ip=S(null),vr=null,Ri=null,li=!1,lo=null,Fo=!1,Lp=Error(r(519)),na=[],ac=0,Ho=0,Gi=null,Su=null,ev=!1,yr=!1,tv=!1,Yf=0,Kf=null,nv=0,qi=0,$r=null,_s=!1,iv=!1,U1=Object.prototype.hasOwnProperty,Up=Error(r(460)),zp=Error(r(474)),Ls={then:function(){}},xs=null,Ih=null,Ss=0,Eu=Ee(!0),Sl=Ee(!1),jo=S(null),Go=S(0),ia=S(null),co=null,Fi=S(0),oc=0,Tn=null,fi=null,$i=null,lc=!1,Lh=!1,wu=!1,Tu=0,$f=0,cc=null,z1=0,$0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},br={readContext:Se,use:ct,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot};br.useCacheRefresh=Ot,br.useMemoCache=Ot,br.useHostTransitionStatus=Ot,br.useFormState=Ot,br.useActionState=Ot,br.useOptimistic=Ot;var uc={readContext:Se,use:ct,useCallback:function(f,m){return Te().memoizedState=[f,m===void 0?null:m],f},useContext:Se,useEffect:rp,useImperativeHandle:function(f,m,x){x=x!=null?x.concat([f]):null,xf(4194308,4,Oo.bind(null,m,f),x)},useLayoutEffect:function(f,m){return xf(4194308,4,f,m)},useInsertionEffect:function(f,m){xf(4,2,f,m)},useMemo:function(f,m){var x=Te();m=m===void 0?null:m;var C=f();if(wu){ue(!0);try{f()}finally{ue(!1)}}return x.memoizedState=[C,m],C},useReducer:function(f,m,x){var C=Te();if(x!==void 0){var P=x(m);if(wu){ue(!0);try{x(m)}finally{ue(!1)}}}else P=m;return C.memoizedState=C.baseState=P,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:P},C.queue=f,f=f.dispatch=Vl.bind(null,Tn,f),[C.memoizedState,f]},useRef:function(f){var m=Te();return f={current:f},m.memoizedState=f},useState:function(f){f=Xi(f);var m=f.queue,x=Ef.bind(null,Tn,m);return m.dispatch=x,[f.memoizedState,x]},useDebugValue:Wc,useDeferredValue:function(f,m){var x=Te();return No(x,f,m)},useTransition:function(){var f=Xi(!1);return f=sp.bind(null,Tn,f.queue,!0,!1),Te().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,m,x){var C=Tn,P=Te();if(li){if(x===void 0)throw Error(r(407));x=x()}else{if(x=m(),Oi===null)throw Error(r(349));(Kn&60)!==0||ln(C,m,x)}P.memoizedState=x;var H={value:x,getSnapshot:m};return P.queue=H,rp(Ji.bind(null,C,H,f),[f]),C.flags|=2048,Ma(9,Bn.bind(null,C,H,x,m),{destroy:void 0},null),x},useId:function(){var f=Te(),m=Oi.identifierPrefix;if(li){var x=xl,C=_l;x=(C&~(1<<32-mr(C)-1)).toString(32)+x,m=":"+m+"R"+x,x=Tu++,0<x&&(m+="H"+x.toString(32)),m+=":"}else x=z1++,m=":"+m+"r"+x.toString(32)+":";return f.memoizedState=m},useCacheRefresh:function(){return Te().memoizedState=Kc.bind(null,Tn)}};uc.useMemoCache=Xt,uc.useHostTransitionStatus=Xs,uc.useFormState=sr,uc.useActionState=sr,uc.useOptimistic=function(f){var m=Te();m.memoizedState=m.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=Za.bind(null,Tn,!0,x),x.dispatch=m,[f,m]};var Us={readContext:Se,use:ct,useCallback:ll,useContext:Se,useEffect:hh,useImperativeHandle:Ca,useInsertionEffect:Eg,useLayoutEffect:wg,useMemo:cl,useReducer:At,useRef:Aa,useState:function(){return At(zt)},useDebugValue:Wc,useDeferredValue:function(f,m){var x=me();return Sf(x,fi.memoizedState,f,m)},useTransition:function(){var f=At(zt)[0],m=me().memoizedState;return[typeof f=="boolean"?f:ut(f),m]},useSyncExternalStore:Cn,useId:Yc};Us.useCacheRefresh=Po,Us.useMemoCache=Xt,Us.useHostTransitionStatus=Xs,Us.useFormState=rs,Us.useActionState=rs,Us.useOptimistic=function(f,m){var x=me();return Sn(x,fi,f,m)};var Mu={readContext:Se,use:ct,useCallback:ll,useContext:Se,useEffect:hh,useImperativeHandle:Ca,useInsertionEffect:Eg,useLayoutEffect:wg,useMemo:cl,useReducer:Ut,useRef:Aa,useState:function(){return Ut(zt)},useDebugValue:Wc,useDeferredValue:function(f,m){var x=me();return fi===null?No(x,f,m):Sf(x,fi.memoizedState,f,m)},useTransition:function(){var f=Ut(zt)[0],m=me().memoizedState;return[typeof f=="boolean"?f:ut(f),m]},useSyncExternalStore:Cn,useId:Yc};Mu.useCacheRefresh=Po,Mu.useMemoCache=Xt,Mu.useHostTransitionStatus=Xs,Mu.useFormState=Gc,Mu.useActionState=Gc,Mu.useOptimistic=function(f,m){var x=me();return fi!==null?Sn(x,fi,f,m):(x.baseState=f,[f,x.queue.dispatch])};var Zf={isMounted:function(f){return(f=f._reactInternals)?p(f)===f:!1},enqueueSetState:function(f,m,x){f=f._reactInternals;var C=gs(),P=Wt(C);P.payload=m,x!=null&&(P.callback=x),m=Vt(f,P,C),m!==null&&(ki(m,f,C),Pt(m,f,C))},enqueueReplaceState:function(f,m,x){f=f._reactInternals;var C=gs(),P=Wt(C);P.tag=1,P.payload=m,x!=null&&(P.callback=x),m=Vt(f,P,C),m!==null&&(ki(m,f,C),Pt(m,f,C))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var x=gs(),C=Wt(x);C.tag=2,m!=null&&(C.callback=m),m=Vt(f,C,x),m!==null&&(ki(m,f,x),Pt(m,f,x))}},Au=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},Z0=Error(r(461)),Dr=!1,Vp={dehydrated:null,treeContext:null,retryLane:0},uo=S(null),Cu=null,ho=null,Bp=typeof AbortController<"u"?AbortController:function(){var f=[],m=this.signal={aborted:!1,addEventListener:function(x,C){f.push(C)}};this.abort=function(){m.aborted=!0,f.forEach(function(x){return x()})}},nr=Oa.unstable_scheduleCallback,kA=Oa.unstable_NormalPriority,or={$$typeof:du,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Q0=yn.S;yn.S=function(f,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&_t(f,m),Q0!==null&&Q0(f,m)};var Uh=S(null),hc=!1,Mn=!1,Di=!1,qn=typeof WeakSet=="function"?WeakSet:Set,pn=null,zi=!1,di=null,_r=!1,Es=null,Ru=8192,fc={getCacheForType:function(f){var m=Se(or),x=m.data.get(f);return x===void 0&&(x=f(),m.data.set(f,x)),x}},Wi=0,qo=1,El=2,Qf=3,zs=4;if(typeof Symbol=="function"&&Symbol.for){var wl=Symbol.for;Wi=wl("selector.component"),qo=wl("selector.has_pseudo_class"),El=wl("selector.role"),Qf=wl("selector.test_id"),zs=wl("selector.text")}var kp=typeof WeakMap=="function"?WeakMap:Map,Yn=0,Oi=null,Fn=null,Kn=0,Ai=0,Or=null,fo=!1,po=!1,zh=!1,Wo=0,Zi=0,mo=0,dc=0,Vs=0,Ua=0,Nr=0,Jf=null,go=null,rv=!1,J0=0,za=1/0,Vh=null,Tl=null,pc=!1,Du=null,ed=0,sv=0,Fp=null,Bh=0,eb=null;return Xn.attemptContinuousHydration=function(f){if(f.tag===13){var m=dt(f,67108864);m!==null&&ki(m,f,67108864),zf(f,67108864)}},Xn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var m=gs(),x=dt(f,m);x!==null&&ki(x,f,m),zf(f,m)}},Xn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=D(f.pendingLanes);if(m!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;m;){var x=1<<31-mr(m);f.entanglements[1]|=x,m&=~x}Et(f),(Yn&6)===0&&(za=Pa()+500,te(0))}}break;case 13:m=dt(f,2),m!==null&&ki(m,f,2),x0(),zf(f,2)}},Xn.batchedUpdates=function(f,m){return f(m)},Xn.createComponentSelector=function(f){return{$$typeof:Wi,value:f}},Xn.createContainer=function(f,m,x,C,P,H,J,fe,Re,$e){return Zl(f,m,!1,null,x,C,H,J,fe,Re,$e,null)},Xn.createHasPseudoClassSelector=function(f){return{$$typeof:qo,value:f}},Xn.createHydrationContainer=function(f,m,x,C,P,H,J,fe,Re,$e,St,Ht,vt){return f=Zl(x,C,!0,f,P,H,fe,Re,$e,St,Ht,vt),f.context=E0(null),x=f.current,C=gs(),P=Wt(C),P.callback=m??null,Vt(x,P,C),f.current.lanes=C,j(f,C),Et(f),f},Xn.createPortal=function(f,m,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gl,key:C==null?null:""+C,children:f,containerInfo:m,implementation:x}},Xn.createRoleSelector=function(f){return{$$typeof:El,value:f}},Xn.createTestNameSelector=function(f){return{$$typeof:Qf,value:f}},Xn.createTextSelector=function(f){return{$$typeof:zs,value:f}},Xn.defaultOnCaughtError=function(f){console.error(f)},Xn.defaultOnRecoverableError=function(f){Au(f)},Xn.defaultOnUncaughtError=function(f){Au(f)},Xn.deferredUpdates=function(f){var m=yn.T,x=vu();try{return Ps(32),yn.T=null,f()}finally{Ps(x),yn.T=m}},Xn.discreteUpdates=function(f,m,x,C,P){var H=yn.T,J=vu();try{return Ps(2),yn.T=null,f(m,x,C,P)}finally{Ps(J),yn.T=H,Yn===0&&(za=Pa()+500)}},Xn.findAllNodes=ru,Xn.findBoundingRects=function(f,m){if(!Hf)throw Error(r(363));m=ru(f,m),f=[];for(var x=0;x<m.length;x++)f.push(UA(m[x]));for(m=f.length-1;0<m;m--){x=f[m];for(var C=x.x,P=C+x.width,H=x.y,J=H+x.height,fe=m-1;0<=fe;fe--)if(m!==fe){var Re=f[fe],$e=Re.x,St=$e+Re.width,Ht=Re.y,vt=Ht+Re.height;if(C>=$e&&H>=Ht&&P<=St&&J<=vt){f.splice(m,1);break}else if(C!==$e||x.width!==Re.width||vt<H||Ht>J){if(!(H!==Ht||x.height!==Re.height||St<C||$e>P)){$e>C&&(Re.width+=$e-C,Re.x=C),St<P&&(Re.width=P-$e),f.splice(m,1);break}}else{Ht>H&&(Re.height+=Ht-H,Re.y=H),vt<J&&(Re.height=J-Ht),f.splice(m,1);break}}}return f},Xn.findHostInstance=Ql,Xn.findHostInstanceWithNoPortals=function(f){return f=y(f),f=f!==null?w(f):null,f===null?null:Ah(f.stateNode)},Xn.findHostInstanceWithWarning=function(f){return Ql(f)},Xn.flushPassiveEffects=ou,Xn.flushSyncFromReconciler=function(f){var m=Yn;Yn|=1;var x=yn.T,C=vu();try{if(Ps(2),yn.T=null,f)return f()}finally{Ps(C),yn.T=x,Yn=m,(Yn&6)===0&&te(0)}},Xn.flushSyncWork=x0,Xn.focusWithin=function(f,m){if(!Hf)throw Error(r(363));for(f=iu(f),m=Sh(f,m),m=Array.from(m),f=0;f<m.length;){var x=m[f++],C=x.tag;if(!vl(x)){if((C===5||C===26||C===27)&&Fg(x.stateNode))return!0;for(x=x.child;x!==null;)m.push(x),x=x.sibling}}return!1},Xn.getFindAllNodesFailureDescription=function(f,m){if(!Hf)throw Error(r(363));var x=0,C=[];f=[iu(f),0];for(var P=0;P<f.length;){var H=f[P++],J=H.tag,fe=f[P++],Re=m[fe];if((J!==5&&J!==26&&J!==27||!vl(H))&&(Pg(H,Re)&&(C.push(Qs(Re)),fe++,fe>x&&(x=fe)),fe<m.length))for(H=H.child;H!==null;)f.push(H,fe),H=H.sibling}if(x<m.length){for(f=[];x<m.length;x++)f.push(Qs(m[x]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},Xn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Ah(f.child.stateNode);default:return f.child.stateNode}},Xn.injectIntoDevTools=function(){var f={bundleType:0,version:kf,rendererPackageName:PA,currentDispatcherRef:yn,findFiberByHostInstance:kg,reconcilerVersion:"19.0.0"};if(ar!==null&&(f.rendererConfig=ar),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)f=!0;else{try{Wf=m.inject(f),Rr=m}catch{}f=!!m.checkDCE}}return f},Xn.isAlreadyRendering=function(){return!1},Xn.observeVisibleRects=function(f,m,x,C){if(!Hf)throw Error(r(363));f=ru(f,m);var P=Hg(f,x,C).disconnect;return{disconnect:function(){P()}}},Xn.shouldError=function(){return null},Xn.shouldSuspend=function(){return!1},Xn.startHostTransition=function(f,m,x,C){if(f.tag!==5)throw Error(r(476));var P=Xc(f).queue;sp(f,P,m,Ch,x===null?i:function(){var H=Xc(f).next.queue;return Ys(f,H,{},gs()),x(C)})},Xn.updateContainer=function(f,m,x,C){var P=m.current,H=gs();return ml(P,H,f,m,x,C),H},Xn.updateContainerSync=function(f,m,x,C){return m.tag===0&&ou(),ml(m.current,2,f,m,x,C),2},Xn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(WR)),WR.exports}var Cz;function Fge(){return Cz||(Cz=1,qR.exports=kge()),qR.exports}var Hge=Fge();const jge=tM(Hge);var Rz=kN();const Gge=n=>typeof n=="object"&&typeof n.then=="function",Dm=[];function F8(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function H8(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of Dm)if(F8(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Dm.indexOf(r);s!==-1&&Dm.splice(s,1)},promise:(Gge(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Dm.push(r),!t)throw r.promise}const qge=(n,e,t)=>H8(n,e,!1,t),Wge=(n,e,t)=>void H8(n,e,!0,t),Xge=n=>{if(n===void 0||n.length===0)Dm.splice(0,Dm.length);else{const e=Dm.find(t=>F8(n,t.keys,t.equal));e&&e.remove()}};function DP(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=DP(i,e,t);if(r)return r;i=e?null:i.sibling}}function j8(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const OP=j8(B.createContext(null));let G8=class extends B.Component{render(){return B.createElement(OP.Provider,{value:this._reactInternals},this.props.children)}};function q8(){const n=B.useContext(OP);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=DP(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const Yge=Symbol.for("react.context"),Kge=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Yge;function $ge(){const n=q8(),[e]=B.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;Kge(i)&&i!==OP&&!e.has(i)&&e.set(i,B.use(j8(i))),t=t.return}return e}function Zge(){const n=$ge();return B.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>B.createElement(e,null,B.createElement(t.Provider,{...i,value:n.get(t)})),e=>B.createElement(G8,{...e})),[n])}function W8(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const X8=n=>n&&n.isOrthographicCamera,Qge=n=>n&&n.hasOwnProperty("current"),Jge=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Rx=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?B.useLayoutEffect:B.useEffect;function Y8(n){const e=B.useRef(n);return Rx(()=>void(e.current=n),[n]),e}function eve(){const n=q8(),e=Zge();return B.useMemo(()=>({children:t})=>{const r=!!DP(n,!0,s=>s.type===B.StrictMode)?B.StrictMode:B.Fragment;return U.jsx(r,{children:U.jsx(e,{children:t})})},[n,e])}function tve({set:n}){return Rx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const nve=(n=>(n=class extends B.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function K8(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Pv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const lr={obj:n=>n===Object(n)&&!lr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(lr.str(n)||lr.num(n)||lr.boo(n))return n===e;const s=lr.obj(n);if(s&&i==="reference")return n===e;const a=lr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!lr.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(lr.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ive(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function rve(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const $8=["children","key","ref"];function sve(n){const e={};for(const t in n)$8.includes(t)||(e[t]=n[t]);return e}function xT(n,e,t,i){const r=n;let s=r==null?void 0:r.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:sve(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function q_(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const Dz=/-\d+$/;function ST(n,e){if(lr.str(e.props.attach)){if(Dz.test(e.props.attach)){const r=e.props.attach.replace(Dz,""),{root:s,key:a}=q_(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=q_(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else lr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function ET(n,e){if(lr.str(e.props.attach)){const{root:t,key:i}=q_(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const V3=[...$8,"args","dispose","attach","object","onUpdate","dispose"],Oz=new Map;function ave(n){let e=Oz.get(n.constructor);try{e||(e=new n.constructor,Oz.set(n.constructor,e))}catch{}return e}function ove(n,e){const t={};for(const i in e)if(!V3.includes(i)&&!lr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(V3.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=q_(n.object,i);if(r.constructor&&r.constructor.length===0){const a=ave(r);lr.und(a)||(t[s]=a[s])}else t[s]=0}return t}const lve=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],cve=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Ed(n,e){var t;const i=n.__r3f,r=i&&W8(i).getState(),s=i==null?void 0:i.eventCount;for(const o in e){let c=e[o];if(V3.includes(o))continue;if(i&&cve.test(o)){typeof c=="function"?i.handlers[o]=c:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:u,key:d,target:p}=q_(n,o);if(p instanceof Ay&&c instanceof Ay)p.mask=c.mask;else if(p instanceof $t&&Jge(c))p.set(c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&c!=null&&c.constructor&&p.constructor===c.constructor)p.copy(c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(c))typeof p.fromArray=="function"?p.fromArray(c):p.set(...c);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof c=="number")typeof p.setScalar=="function"?p.setScalar(c):p.set(c);else{var a;u[d]=c,r&&!r.linear&&lve.includes(d)&&(a=u[d])!=null&&a.isTexture&&u[d].format===ba&&u[d].type===Pc&&(u[d].colorSpace=fa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,c=r.internal.interaction.indexOf(o);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Jy(i),n}function Jy(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function uve(n,e){n.manual||(X8(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Fa=n=>n==null?void 0:n.isObject3D;function lE(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Z8(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function hve(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{Z8(t.capturedMap,e,i,r)})}function fve(n){function e(c){const{internal:u}=n.getState(),d=c.offsetX-u.initialClick[0],p=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+p*p))}function t(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+d]}))}function i(c,u){const d=n.getState(),p=new Set,v=[],y=u?u(d.internal.interaction):d.internal.interaction;for(let E=0;E<y.length;E++){const A=Pv(y[E]);A&&(A.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function _(E){const A=Pv(E);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var R;A.events.compute==null||A.events.compute(c,A,(R=A.previousRoot)==null?void 0:R.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(E,!0):[]}let w=y.flatMap(_).sort((E,A)=>{const R=Pv(E.object),D=Pv(A.object);return!R||!D?E.distance-A.distance:D.events.priority-R.events.priority||E.distance-A.distance}).filter(E=>{const A=lE(E);return p.has(A)?!1:(p.add(A),!0)});d.events.filter&&(w=d.events.filter(w,d));for(const E of w){let A=E.object;for(;A;){var S;(S=A.__r3f)!=null&&S.eventCount&&v.push({...E,eventObject:A}),A=A.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let E of d.internal.capturedMap.get(c.pointerId).values())p.has(lE(E.intersection))||v.push(E.intersection);return v}function r(c,u,d,p){if(c.length){const v={stopped:!1};for(const y of c){let _=Pv(y.object);if(_||y.object.traverseAncestors(w=>{const S=Pv(w);if(S)return _=S,!1}),_){const{raycaster:w,pointer:S,camera:E,internal:A}=_,R=new ie(S.x,S.y,0).unproject(E),D=I=>{var L,j;return(L=(j=A.capturedMap.get(I))==null?void 0:j.has(y.eventObject))!=null?L:!1},k=I=>{const L={intersection:y,target:u.target};A.capturedMap.has(I)?A.capturedMap.get(I).set(y.eventObject,L):A.capturedMap.set(I,new Map([[y.eventObject,L]])),u.target.setPointerCapture(I)},N=I=>{const L=A.capturedMap.get(I);L&&Z8(A.capturedMap,y.eventObject,L,I)};let z={};for(let I in u){let L=u[I];typeof L!="function"&&(z[I]=L)}let V={...y,...z,pointer:S,intersections:c,stopped:v.stopped,delta:d,unprojectedPoint:R,ray:w.ray,camera:E,stopPropagation(){const I="pointerId"in u&&A.capturedMap.get(u.pointerId);if((!I||I.has(y.eventObject))&&(V.stopped=v.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(L=>L.eventObject===y.eventObject))){const L=c.slice(0,c.indexOf(y));s([...L,y])}},target:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:N},currentTarget:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:N},nativeEvent:u};if(p(V),v.stopped===!0)break}}}return c}function s(c){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!c.length||!c.find(p=>p.object===d.object&&p.index===d.index&&p.instanceId===d.instanceId)){const v=d.eventObject.__r3f;if(u.hovered.delete(lE(d)),v!=null&&v.eventCount){const y=v.handlers,_={...d,intersections:c};y.onPointerOut==null||y.onPointerOut(_),y.onPointerLeave==null||y.onPointerLeave(_)}}}function a(c,u){for(let d=0;d<u.length;d++){const p=u[d].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(c)}}function o(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:p,internal:v}=n.getState();v.lastEvent.current=d;const y=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",S=i(d,y?t:void 0),E=_?e(d):0;c==="onPointerDown"&&(v.initialClick=[d.offsetX,d.offsetY],v.initialHits=S.map(R=>R.eventObject)),_&&!S.length&&E<=2&&(a(d,v.interaction),p&&p(d)),y&&s(S);function A(R){const D=R.eventObject,k=D.__r3f;if(!(k!=null&&k.eventCount))return;const N=k.handlers;if(y){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const z=lE(R),V=v.hovered.get(z);V?V.stopped&&R.stopPropagation():(v.hovered.set(z,R),N.onPointerOver==null||N.onPointerOver(R),N.onPointerEnter==null||N.onPointerEnter(R))}N.onPointerMove==null||N.onPointerMove(R)}else{const z=N[c];z?(!_||v.initialHits.includes(D))&&(a(d,v.interaction.filter(V=>!v.initialHits.includes(V))),z(R)):_&&v.initialHits.includes(D)&&a(d,v.interaction.filter(V=>!v.initialHits.includes(V)))}}r(S,d,E,A)}}return{handlePointer:o}}const Nz=n=>!!(n!=null&&n.render),Q8=B.createContext(null),dve=(n,e)=>{const t=Bge((o,c)=>{const u=new ie,d=new ie,p=new ie;function v(E=c().camera,A=d,R=c().size){const{width:D,height:k,top:N,left:z}=R,V=D/k;A.isVector3?p.copy(A):p.set(...A);const I=E.getWorldPosition(u).distanceTo(p);if(X8(E))return{width:D/E.zoom,height:k/E.zoom,top:N,left:z,factor:1,distance:I,aspect:V};{const L=E.fov*Math.PI/180,j=2*Math.tan(L/2)*I,X=j*(D/k);return{width:X,height:j,top:N,left:z,factor:D/X,distance:I,aspect:V}}}let y;const _=E=>o(A=>({performance:{...A.performance,current:E}})),w=new nt;return{set:o,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(E=1)=>n(c(),E),advance:(E,A)=>e(E,A,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new TP,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=c();y&&clearTimeout(y),E.performance.current!==E.performance.min&&_(E.performance.min),y=setTimeout(()=>_(c().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:E=>o(A=>({...A,events:{...A.events,...E}})),setSize:(E,A,R=0,D=0)=>{const k=c().camera,N={width:E,height:A,top:R,left:D};o(z=>({size:N,viewport:{...z.viewport,...v(k,d,N)}}))},setDpr:E=>o(A=>{const R=K8(E);return{viewport:{...A.viewport,dpr:R,initialDpr:A.viewport.initialDpr||R}}}),setFrameloop:(E="always")=>{const A=c().clock;A.stop(),A.elapsedTime=0,E!=="never"&&(A.start(),A.elapsedTime=0),o(()=>({frameloop:E}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:B.createRef(),active:!1,frames:0,priority:0,subscribe:(E,A,R)=>{const D=c().internal;return D.priority=D.priority+(A>0?1:0),D.subscribers.push({ref:E,priority:A,store:R}),D.subscribers=D.subscribers.sort((k,N)=>k.priority-N.priority),()=>{const k=c().internal;k!=null&&k.subscribers&&(k.priority=k.priority-(A>0?1:0),k.subscribers=k.subscribers.filter(N=>N.ref!==E))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:c,viewport:u,gl:d,set:p}=t.getState();if(c.width!==r.width||c.height!==r.height||u.dpr!==s){r=c,s=u.dpr,uve(o,c),u.dpr>0&&d.setPixelRatio(u.dpr);const v=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,v)}o!==a&&(a=o,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function J8(){const n=B.useContext(Q8);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Kh(n=t=>t,e){return J8()(n,e)}function pve(n,e=0){const t=J8(),i=t.getState().internal.subscribe,r=Y8(n);return Rx(()=>i(r,e,t),[e,i,t]),null}const Pz=new WeakMap,mve=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function e7(n,e){return function(t,...i){let r;return mve(t)?(r=Pz.get(t),r||(r=new t,Pz.set(t,r))):r=t,n&&n(r),Promise.all(i.map(s=>new Promise((a,o)=>r.load(s,c=>{Fa(c==null?void 0:c.scene)&&Object.assign(c,ive(c.scene)),a(c)},e,c=>o(new Error(`Could not load ${s}: ${c==null?void 0:c.message}`))))))}}function Dx(n,e,t,i){const r=Array.isArray(e)?e:[e],s=qge(e7(t,i),[n,...r],{equal:lr.equ});return Array.isArray(e)?s:s[0]}Dx.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Wge(e7(t),[n,...i])};Dx.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Xge([n,...t])};function gve(n){const e=jge(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version}),e}const t7=0,Dy={},vve=/^three(?=[A-Z])/,KM=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let yve=0;const bve=n=>typeof n=="function";function _ve(n){if(bve(n)){const e=`${yve++}`;return Dy[e]=n,e}else Object.assign(Dy,n)}function n7(n,e){const t=KM(n),i=Dy[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function xve(n,e,t){var i;return n=KM(n)in Dy?n:n.replace(vve,""),n7(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,xT(e.object,t,n,e)}function Sve(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?ET(n.parent,n):Fa(n.object)&&(n.object.visible=!1),n.isHidden=!0,Jy(n)}}function i7(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?ST(n.parent,n):Fa(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Jy(n)}}function NP(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=Dy[KM(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(Ed(e.object,e.props),e.props.attach)ST(n,e);else if(Fa(e.object)&&Fa(n.object)){const a=n.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const c=o<a?a-1:a;n.object.children.splice(c,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)NP(e,a);Jy(e)}}function XR(n,e){e&&(e.parent=n,n.children.push(e),NP(n,e))}function Iz(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),NP(n,e,t)}function r7(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():Rz.unstable_scheduleCallback(Rz.unstable_IdlePriority,e)}}function B3(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?ET(n,e):Fa(e.object)&&Fa(n.object)&&(n.object.remove(e.object),hve(W8(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];B3(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&r7(e.object),t===void 0&&Jy(e)}function Eve(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const qE=[];function wve(){for(const[t]of qE){const i=t.parent;if(i){t.props.attach?ET(i,t):Fa(t.object)&&Fa(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?ET(t,r):Fa(r.object)&&Fa(t.object)&&t.object.remove(r.object)}t.isHidden&&i7(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&r7(t.object)}for(const[t,i,r]of qE){t.props=i;const s=t.parent;if(s){var n,e;const a=Dy[KM(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Eve(r,t.object),Ed(t.object,t.props),t.props.attach?ST(s,t):Fa(t.object)&&Fa(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?ST(t,o):Fa(o.object)&&Fa(t.object)&&t.object.add(o.object);Jy(t)}}qE.length=0}const YR=()=>{},Lz={};let cE=t7;const Tve=0,Mve=4,k3=gve({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:xve,removeChild:B3,appendChild:XR,appendInitialChild:XR,insertBefore:Iz,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||XR(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||B3(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||Iz(i,e,t)},getRootHostContext:()=>Lz,getChildHostContext:()=>Lz,commitUpdate(n,e,t,i,r){var s,a,o;n7(e,i);let c=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((d,p)=>{var v;return d!==((v=t.args)==null?void 0:v[p])}))&&(c=!0),c)qE.push([n,{...i},r]);else{const d=ove(n,i);Object.keys(d).length&&(Object.assign(n.props,d),Ed(n.object,d))}(r.sibling===null||(r.flags&Mve)===Tve)&&wve()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>xT(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Sve,unhideInstance:i7,createTextInstance:YR,hideTextInstance:YR,unhideTextInstance:YR,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:B.createContext(null),setCurrentUpdatePriority(n){cE=n},getCurrentUpdatePriority(){return cE},resolveUpdatePriority(){var n;if(cE!==t7)return cE;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return GE.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return GE.ContinuousEventPriority;default:return GE.DefaultEventPriority}},resetFormInstance(){}}),Jm=new Map,Iv={objects:"shallow",strict:!1};function Ave(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Cve(n){const e=Jm.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||dve(j3,zz),a=t||k3.createContainer(s,GE.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Jm.set(n,{fiber:a,store:s});let o,c,u=!1,d=null;return{async configure(p={}){let v;d=new Promise(le=>v=le);let{gl:y,size:_,scene:w,events:S,onCreated:E,shadows:A=!1,linear:R=!1,flat:D=!1,legacy:k=!1,orthographic:N=!1,frameloop:z="always",dpr:V=[1,2],performance:I,raycaster:L,camera:j,onPointerMissed:X}=p,G=s.getState(),re=G.gl;if(!G.gl){const le={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Ae=typeof y=="function"?await y(le):y;Nz(Ae)?re=Ae:re=new W9({...le,...y}),G.set({gl:re})}let de=G.raycaster;de||G.set({raycaster:de=new B8});const{params:K,...ue}=L||{};if(lr.equ(ue,de,Iv)||Ed(de,{...ue}),lr.equ(K,de.params,Iv)||Ed(de,{params:{...de.params,...K}}),!G.camera||G.camera===c&&!lr.equ(c,j,Iv)){c=j;const le=j==null?void 0:j.isCamera,Ae=le?j:N?new Cd(0,0,0,0,.1,1e3):new qr(75,0,.1,1e3);le||(Ae.position.z=5,j&&(Ed(Ae,j),Ae.manual||("aspect"in j||"left"in j||"right"in j||"bottom"in j||"top"in j)&&(Ae.manual=!0,Ae.updateProjectionMatrix())),!G.camera&&!(j!=null&&j.rotation)&&Ae.lookAt(0,0,0)),G.set({camera:Ae}),de.camera=Ae}if(!G.scene){let le;w!=null&&w.isScene?(le=w,xT(le,s,"",{})):(le=new lP,xT(le,s,"",{}),w&&Ed(le,w)),G.set({scene:le})}S&&!G.events.handlers&&G.set({events:S(s)});const ne=Ave(n,_);if(lr.equ(ne,G.size,Iv)||G.setSize(ne.width,ne.height,ne.top,ne.left),V&&G.viewport.dpr!==K8(V)&&G.setDpr(V),G.frameloop!==z&&G.setFrameloop(z),G.onPointerMissed||G.set({onPointerMissed:X}),I&&!lr.equ(I,G.performance,Iv)&&G.set(le=>({performance:{...le.performance,...I}})),!G.xr){var ve;const le=(oe,Oe)=>{const Ie=s.getState();Ie.frameloop!=="never"&&zz(oe,!0,Ie,Oe)},Ae=()=>{const oe=s.getState();oe.gl.xr.enabled=oe.gl.xr.isPresenting,oe.gl.xr.setAnimationLoop(oe.gl.xr.isPresenting?le:null),oe.gl.xr.isPresenting||j3(oe)},De={connect(){const oe=s.getState().gl;oe.xr.addEventListener("sessionstart",Ae),oe.xr.addEventListener("sessionend",Ae)},disconnect(){const oe=s.getState().gl;oe.xr.removeEventListener("sessionstart",Ae),oe.xr.removeEventListener("sessionend",Ae)}};typeof((ve=re.xr)==null?void 0:ve.addEventListener)=="function"&&De.connect(),G.set({xr:De})}if(re.shadowMap){const le=re.shadowMap.enabled,Ae=re.shadowMap.type;if(re.shadowMap.enabled=!!A,lr.boo(A))re.shadowMap.type=Jb;else if(lr.str(A)){var Z;const De={basic:jH,percentage:gM,soft:Jb,variance:xc};re.shadowMap.type=(Z=De[A])!=null?Z:Jb}else lr.obj(A)&&Object.assign(re.shadowMap,A);(le!==re.shadowMap.enabled||Ae!==re.shadowMap.type)&&(re.shadowMap.needsUpdate=!0)}return ii.enabled=!k,u||(re.outputColorSpace=R?Jd:fa,re.toneMapping=D?Yu:FN),G.legacy!==k&&G.set(()=>({legacy:k})),G.linear!==R&&G.set(()=>({linear:R})),G.flat!==D&&G.set(()=>({flat:D})),y&&!lr.fun(y)&&!Nz(y)&&!lr.equ(y,re,Iv)&&Ed(re,y),o=E,u=!0,v(),this},render(p){return!u&&!d&&this.configure(),d.then(()=>{k3.updateContainer(U.jsx(Rve,{store:s,children:p,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){s7(n)}}}function Rve({store:n,children:e,onCreated:t,rootElement:i}){return Rx(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),U.jsx(Q8.Provider,{value:n,children:e})}function s7(n,e){const t=Jm.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),k3.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,c;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),rve(r.scene),Jm.delete(n)}catch{}},500)})}}const Dve=new Set,Ove=new Set,Nve=new Set;function KR(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function c_(n,e){switch(n){case"before":return KR(Dve,e);case"after":return KR(Ove,e);case"tail":return KR(Nve,e)}}let $R,ZR;function F3(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),$R=e.internal.subscribers;for(let r=0;r<$R.length;r++)ZR=$R[r],ZR.ref.current(ZR.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let wT=!1,H3=!1,QR,Uz,Lv;function a7(n){Uz=requestAnimationFrame(a7),wT=!0,QR=0,c_("before",n),H3=!0;for(const t of Jm.values()){var e;Lv=t.store.getState(),Lv.internal.active&&(Lv.frameloop==="always"||Lv.internal.frames>0)&&!((e=Lv.gl.xr)!=null&&e.isPresenting)&&(QR+=F3(n,Lv))}if(H3=!1,c_("after",n),QR===0)return c_("tail",n),wT=!1,cancelAnimationFrame(Uz)}function j3(n,e=1){var t;if(!n)return Jm.forEach(i=>j3(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):H3?n.internal.frames=2:n.internal.frames=1,wT||(wT=!0,requestAnimationFrame(a7)))}function zz(n,e=!0,t,i){if(e&&c_("before",n),t)F3(n,t,i);else for(const r of Jm.values())F3(n,r.store.getState());e&&c_("after",n)}const JR={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Pve(n){const{handlePointer:e}=fve(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(JR).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,c]=JR[s];t.addEventListener(o,a,{passive:c})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=JR[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function Vz(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Ive({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,d=B.useRef(!1);B.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,v,y]=B.useMemo(()=>{const E=()=>{if(!o.current.element)return;const{left:A,top:R,width:D,height:k,bottom:N,right:z,x:V,y:I}=o.current.element.getBoundingClientRect(),L={left:A,top:R,width:D,height:k,bottom:N,right:z,x:V,y:I};o.current.element instanceof HTMLElement&&i&&(L.height=o.current.element.offsetHeight,L.width=o.current.element.offsetWidth),Object.freeze(L),d.current&&!Vve(o.current.lastBounds,L)&&a(o.current.lastBounds=L)};return[E,u?Vz(E,u):E,c?Vz(E,c):E]},[a,i,c,u]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",y,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function w(){o.current.element&&(o.current.resizeObserver=new r(y),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(E=>E.addEventListener("scroll",y,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const S=E=>{!E||E===o.current.element||(_(),o.current.element=E,o.current.scrollContainers=o7(E),w())};return Uve(y,!!e),Lve(v),B.useEffect(()=>{_(),w()},[e,y,v]),B.useEffect(()=>_,[]),[S,s,p]}function Lve(n){B.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Uve(n,e){B.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function o7(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...o7(n.parentElement)]}const zve=["x","y","top","bottom","left","right","width","height"],Vve=(n,e)=>zve.every(t=>n[t]===e[t]);function Bve({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=Pve,eventSource:o,eventPrefix:c,shadows:u,linear:d,flat:p,legacy:v,orthographic:y,frameloop:_,dpr:w,performance:S,raycaster:E,camera:A,scene:R,onPointerMissed:D,onCreated:k,...N}){B.useMemo(()=>_ve(Mge),[]);const z=eve(),[V,I]=Ive({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=B.useRef(null),j=B.useRef(null);B.useImperativeHandle(n,()=>L.current);const X=Y8(D),[G,re]=B.useState(!1),[de,K]=B.useState(!1);if(G)throw G;if(de)throw de;const ue=B.useRef(null);Rx(()=>{const ve=L.current;if(I.width>0&&I.height>0&&ve){ue.current||(ue.current=Cve(ve));async function Z(){await ue.current.configure({gl:s,scene:R,events:a,shadows:u,linear:d,flat:p,legacy:v,orthographic:y,frameloop:_,dpr:w,performance:S,raycaster:E,camera:A,size:I,onPointerMissed:(...le)=>X.current==null?void 0:X.current(...le),onCreated:le=>{le.events.connect==null||le.events.connect(o?Qge(o)?o.current:o:j.current),c&&le.setEvents({compute:(Ae,De)=>{const oe=Ae[c+"X"],Oe=Ae[c+"Y"];De.pointer.set(oe/De.size.width*2-1,-(Oe/De.size.height)*2+1),De.raycaster.setFromCamera(De.pointer,De.camera)}}),k==null||k(le)}}),ue.current.render(U.jsx(z,{children:U.jsx(nve,{set:K,children:U.jsx(B.Suspense,{fallback:U.jsx(tve,{set:re}),children:e??null})})}))}Z()}}),B.useEffect(()=>{const ve=L.current;if(ve)return()=>s7(ve)},[]);const ne=o?"none":"auto";return U.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ne,...r},...N,children:U.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:U.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function $M(n){return U.jsx(G8,{children:U.jsx(Bve,{...n})})}var kve=Object.defineProperty,Fve=(n,e,t)=>e in n?kve(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hve=(n,e,t)=>(Fve(n,e+"",t),t);class jve{constructor(){Hve(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var Gve=Object.defineProperty,qve=(n,e,t)=>e in n?Gve(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gn=(n,e,t)=>(qve(n,typeof e!="symbol"?e+"":e,t),t);const uE=new pg,Bz=new Zh,Wve=Math.cos(70*(Math.PI/180)),kz=(n,e)=>(n%e+e)%e;let Xve=class extends jve{constructor(e,t){super(),gn(this,"object"),gn(this,"domElement"),gn(this,"enabled",!0),gn(this,"target",new ie),gn(this,"minDistance",0),gn(this,"maxDistance",1/0),gn(this,"minZoom",0),gn(this,"maxZoom",1/0),gn(this,"minPolarAngle",0),gn(this,"maxPolarAngle",Math.PI),gn(this,"minAzimuthAngle",-1/0),gn(this,"maxAzimuthAngle",1/0),gn(this,"enableDamping",!1),gn(this,"dampingFactor",.05),gn(this,"enableZoom",!0),gn(this,"zoomSpeed",1),gn(this,"enableRotate",!0),gn(this,"rotateSpeed",1),gn(this,"enablePan",!0),gn(this,"panSpeed",1),gn(this,"screenSpacePanning",!0),gn(this,"keyPanSpeed",7),gn(this,"zoomToCursor",!1),gn(this,"autoRotate",!1),gn(this,"autoRotateSpeed",2),gn(this,"reverseOrbit",!1),gn(this,"reverseHorizontalOrbit",!1),gn(this,"reverseVerticalOrbit",!1),gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gn(this,"mouseButtons",{LEFT:um.ROTATE,MIDDLE:um.DOLLY,RIGHT:um.PAN}),gn(this,"touches",{ONE:hm.ROTATE,TWO:hm.DOLLY_PAN}),gn(this,"target0"),gn(this,"position0"),gn(this,"zoom0"),gn(this,"_domElementKeyEvents",null),gn(this,"getPolarAngle"),gn(this,"getAzimuthalAngle"),gn(this,"setPolarAngle"),gn(this,"setAzimuthalAngle"),gn(this,"getDistance"),gn(this,"getZoomScale"),gn(this,"listenToKeyEvents"),gn(this,"stopListenToKeyEvents"),gn(this,"saveState"),gn(this,"reset"),gn(this,"update"),gn(this,"connect"),gn(this,"dispose"),gn(this,"dollyIn"),gn(this,"dollyOut"),gn(this,"getScale"),gn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=pe=>{let Be=kz(pe,2*Math.PI),Tt=d.phi;Tt<0&&(Tt+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let he=Math.abs(Be-Tt);2*Math.PI-he<he&&(Be<Tt?Be+=2*Math.PI:Tt+=2*Math.PI),p.phi=Be-Tt,i.update()},this.setAzimuthalAngle=pe=>{let Be=kz(pe,2*Math.PI),Tt=d.theta;Tt<0&&(Tt+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let he=Math.abs(Be-Tt);2*Math.PI-he<he&&(Be<Tt?Be+=2*Math.PI:Tt+=2*Math.PI),p.theta=Be-Tt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",_t),this._domElementKeyEvents=pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",_t),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),c=o.NONE},this.update=(()=>{const pe=new ie,Be=new ie(0,1,0),Tt=new xa().setFromUnitVectors(e.up,Be),he=Tt.clone().invert(),ht=new ie,Le=new xa,We=2*Math.PI;return function(){const rt=i.object.position;Tt.setFromUnitVectors(e.up,Be),he.copy(Tt).invert(),pe.copy(rt).sub(i.target),pe.applyQuaternion(Tt),d.setFromVector3(pe),i.autoRotate&&c===o.NONE&&re(X()),i.enableDamping?(d.theta+=p.theta*i.dampingFactor,d.phi+=p.phi*i.dampingFactor):(d.theta+=p.theta,d.phi+=p.phi);let Dt=i.minAzimuthAngle,sn=i.maxAzimuthAngle;isFinite(Dt)&&isFinite(sn)&&(Dt<-Math.PI?Dt+=We:Dt>Math.PI&&(Dt-=We),sn<-Math.PI?sn+=We:sn>Math.PI&&(sn-=We),Dt<=sn?d.theta=Math.max(Dt,Math.min(sn,d.theta)):d.theta=d.theta>(Dt+sn)/2?Math.max(Dt,d.theta):Math.min(sn,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),i.zoomToCursor&&I||i.object.isOrthographicCamera?d.radius=De(d.radius):d.radius=De(d.radius*v),pe.setFromSpherical(d),pe.applyQuaternion(he),rt.copy(i.target).add(pe),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(p.theta*=1-i.dampingFactor,p.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(p.set(0,0,0),y.set(0,0,0));let Un=!1;if(i.zoomToCursor&&I){let ae=null;if(i.object instanceof qr&&i.object.isPerspectiveCamera){const ge=pe.length();ae=De(ge*v);const Ee=ge-ae;i.object.position.addScaledVector(z,Ee),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const ge=new ie(V.x,V.y,0);ge.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),Un=!0;const Ee=new ie(V.x,V.y,0);Ee.unproject(i.object),i.object.position.sub(Ee).add(ge),i.object.updateMatrixWorld(),ae=pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;ae!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(ae).add(i.object.position):(uE.origin.copy(i.object.position),uE.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(uE.direction))<Wve?e.lookAt(i.target):(Bz.setFromNormalAndCoplanarPoint(i.object.up,i.target),uE.intersectPlane(Bz,i.target))))}else i.object instanceof Cd&&i.object.isOrthographicCamera&&(Un=v!==1,Un&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,I=!1,Un||ht.distanceToSquared(i.object.position)>u||8*(1-Le.dot(i.object.quaternion))>u?(i.dispatchEvent(r),ht.copy(i.object.position),Le.copy(i.object.quaternion),Un=!1,!0):!1}})(),this.connect=pe=>{i.domElement=pe,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",st),i.domElement.addEventListener("pointerdown",Y),i.domElement.addEventListener("pointercancel",Fe),i.domElement.addEventListener("wheel",yt)},this.dispose=()=>{var pe,Be,Tt,he,ht,Le;i.domElement&&(i.domElement.style.touchAction="auto"),(pe=i.domElement)==null||pe.removeEventListener("contextmenu",st),(Be=i.domElement)==null||Be.removeEventListener("pointerdown",Y),(Tt=i.domElement)==null||Tt.removeEventListener("pointercancel",Fe),(he=i.domElement)==null||he.removeEventListener("wheel",yt),(ht=i.domElement)==null||ht.ownerDocument.removeEventListener("pointermove",we),(Le=i.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",Fe),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",_t)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=o.NONE;const u=1e-6,d=new z3,p=new z3;let v=1;const y=new ie,_=new nt,w=new nt,S=new nt,E=new nt,A=new nt,R=new nt,D=new nt,k=new nt,N=new nt,z=new ie,V=new nt;let I=!1;const L=[],j={};function X(){return 2*Math.PI/60/60*i.autoRotateSpeed}function G(){return Math.pow(.95,i.zoomSpeed)}function re(pe){i.reverseOrbit||i.reverseHorizontalOrbit?p.theta+=pe:p.theta-=pe}function de(pe){i.reverseOrbit||i.reverseVerticalOrbit?p.phi+=pe:p.phi-=pe}const K=(()=>{const pe=new ie;return function(Tt,he){pe.setFromMatrixColumn(he,0),pe.multiplyScalar(-Tt),y.add(pe)}})(),ue=(()=>{const pe=new ie;return function(Tt,he){i.screenSpacePanning===!0?pe.setFromMatrixColumn(he,1):(pe.setFromMatrixColumn(he,0),pe.crossVectors(i.object.up,pe)),pe.multiplyScalar(Tt),y.add(pe)}})(),ne=(()=>{const pe=new ie;return function(Tt,he){const ht=i.domElement;if(ht&&i.object instanceof qr&&i.object.isPerspectiveCamera){const Le=i.object.position;pe.copy(Le).sub(i.target);let We=pe.length();We*=Math.tan(i.object.fov/2*Math.PI/180),K(2*Tt*We/ht.clientHeight,i.object.matrix),ue(2*he*We/ht.clientHeight,i.object.matrix)}else ht&&i.object instanceof Cd&&i.object.isOrthographicCamera?(K(Tt*(i.object.right-i.object.left)/i.object.zoom/ht.clientWidth,i.object.matrix),ue(he*(i.object.top-i.object.bottom)/i.object.zoom/ht.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ve(pe){i.object instanceof qr&&i.object.isPerspectiveCamera||i.object instanceof Cd&&i.object.isOrthographicCamera?v=pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Z(pe){ve(v/pe)}function le(pe){ve(v*pe)}function Ae(pe){if(!i.zoomToCursor||!i.domElement)return;I=!0;const Be=i.domElement.getBoundingClientRect(),Tt=pe.clientX-Be.left,he=pe.clientY-Be.top,ht=Be.width,Le=Be.height;V.x=Tt/ht*2-1,V.y=-(he/Le)*2+1,z.set(V.x,V.y,1).unproject(i.object).sub(i.object.position).normalize()}function De(pe){return Math.max(i.minDistance,Math.min(i.maxDistance,pe))}function oe(pe){_.set(pe.clientX,pe.clientY)}function Oe(pe){Ae(pe),D.set(pe.clientX,pe.clientY)}function Ie(pe){E.set(pe.clientX,pe.clientY)}function je(pe){w.set(pe.clientX,pe.clientY),S.subVectors(w,_).multiplyScalar(i.rotateSpeed);const Be=i.domElement;Be&&(re(2*Math.PI*S.x/Be.clientHeight),de(2*Math.PI*S.y/Be.clientHeight)),_.copy(w),i.update()}function tt(pe){k.set(pe.clientX,pe.clientY),N.subVectors(k,D),N.y>0?Z(G()):N.y<0&&le(G()),D.copy(k),i.update()}function wt(pe){A.set(pe.clientX,pe.clientY),R.subVectors(A,E).multiplyScalar(i.panSpeed),ne(R.x,R.y),E.copy(A),i.update()}function Qe(pe){Ae(pe),pe.deltaY<0?le(G()):pe.deltaY>0&&Z(G()),i.update()}function qt(pe){let Be=!1;switch(pe.code){case i.keys.UP:ne(0,i.keyPanSpeed),Be=!0;break;case i.keys.BOTTOM:ne(0,-i.keyPanSpeed),Be=!0;break;case i.keys.LEFT:ne(i.keyPanSpeed,0),Be=!0;break;case i.keys.RIGHT:ne(-i.keyPanSpeed,0),Be=!0;break}Be&&(pe.preventDefault(),i.update())}function Ge(){if(L.length==1)_.set(L[0].pageX,L[0].pageY);else{const pe=.5*(L[0].pageX+L[1].pageX),Be=.5*(L[0].pageY+L[1].pageY);_.set(pe,Be)}}function Ye(){if(L.length==1)E.set(L[0].pageX,L[0].pageY);else{const pe=.5*(L[0].pageX+L[1].pageX),Be=.5*(L[0].pageY+L[1].pageY);E.set(pe,Be)}}function se(){const pe=L[0].pageX-L[1].pageX,Be=L[0].pageY-L[1].pageY,Tt=Math.sqrt(pe*pe+Be*Be);D.set(0,Tt)}function bt(){i.enableZoom&&se(),i.enablePan&&Ye()}function Je(){i.enableZoom&&se(),i.enableRotate&&Ge()}function dt(pe){if(L.length==1)w.set(pe.pageX,pe.pageY);else{const Tt=Pt(pe),he=.5*(pe.pageX+Tt.x),ht=.5*(pe.pageY+Tt.y);w.set(he,ht)}S.subVectors(w,_).multiplyScalar(i.rotateSpeed);const Be=i.domElement;Be&&(re(2*Math.PI*S.x/Be.clientHeight),de(2*Math.PI*S.y/Be.clientHeight)),_.copy(w)}function pt(pe){if(L.length==1)A.set(pe.pageX,pe.pageY);else{const Be=Pt(pe),Tt=.5*(pe.pageX+Be.x),he=.5*(pe.pageY+Be.y);A.set(Tt,he)}R.subVectors(A,E).multiplyScalar(i.panSpeed),ne(R.x,R.y),E.copy(A)}function It(pe){const Be=Pt(pe),Tt=pe.pageX-Be.x,he=pe.pageY-Be.y,ht=Math.sqrt(Tt*Tt+he*he);k.set(0,ht),N.set(0,Math.pow(k.y/D.y,i.zoomSpeed)),Z(N.y),D.copy(k)}function Et(pe){i.enableZoom&&It(pe),i.enablePan&&pt(pe)}function te(pe){i.enableZoom&&It(pe),i.enableRotate&&dt(pe)}function Y(pe){var Be,Tt;i.enabled!==!1&&(L.length===0&&((Be=i.domElement)==null||Be.ownerDocument.addEventListener("pointermove",we),(Tt=i.domElement)==null||Tt.ownerDocument.addEventListener("pointerup",Fe)),Ct(pe),pe.pointerType==="touch"?Nt(pe):it(pe))}function we(pe){i.enabled!==!1&&(pe.pointerType==="touch"?hn(pe):ze(pe))}function Fe(pe){var Be,Tt,he;Wt(pe),L.length===0&&((Be=i.domElement)==null||Be.releasePointerCapture(pe.pointerId),(Tt=i.domElement)==null||Tt.ownerDocument.removeEventListener("pointermove",we),(he=i.domElement)==null||he.ownerDocument.removeEventListener("pointerup",Fe)),i.dispatchEvent(a),c=o.NONE}function it(pe){let Be;switch(pe.button){case 0:Be=i.mouseButtons.LEFT;break;case 1:Be=i.mouseButtons.MIDDLE;break;case 2:Be=i.mouseButtons.RIGHT;break;default:Be=-1}switch(Be){case um.DOLLY:if(i.enableZoom===!1)return;Oe(pe),c=o.DOLLY;break;case um.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(i.enablePan===!1)return;Ie(pe),c=o.PAN}else{if(i.enableRotate===!1)return;oe(pe),c=o.ROTATE}break;case um.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(i.enableRotate===!1)return;oe(pe),c=o.ROTATE}else{if(i.enablePan===!1)return;Ie(pe),c=o.PAN}break;default:c=o.NONE}c!==o.NONE&&i.dispatchEvent(s)}function ze(pe){if(i.enabled!==!1)switch(c){case o.ROTATE:if(i.enableRotate===!1)return;je(pe);break;case o.DOLLY:if(i.enableZoom===!1)return;tt(pe);break;case o.PAN:if(i.enablePan===!1)return;wt(pe);break}}function yt(pe){i.enabled===!1||i.enableZoom===!1||c!==o.NONE&&c!==o.ROTATE||(pe.preventDefault(),i.dispatchEvent(s),Qe(pe),i.dispatchEvent(a))}function _t(pe){i.enabled===!1||i.enablePan===!1||qt(pe)}function Nt(pe){switch(Vt(pe),L.length){case 1:switch(i.touches.ONE){case hm.ROTATE:if(i.enableRotate===!1)return;Ge(),c=o.TOUCH_ROTATE;break;case hm.PAN:if(i.enablePan===!1)return;Ye(),c=o.TOUCH_PAN;break;default:c=o.NONE}break;case 2:switch(i.touches.TWO){case hm.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;bt(),c=o.TOUCH_DOLLY_PAN;break;case hm.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Je(),c=o.TOUCH_DOLLY_ROTATE;break;default:c=o.NONE}break;default:c=o.NONE}c!==o.NONE&&i.dispatchEvent(s)}function hn(pe){switch(Vt(pe),c){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;dt(pe),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;pt(pe),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Et(pe),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;te(pe),i.update();break;default:c=o.NONE}}function st(pe){i.enabled!==!1&&pe.preventDefault()}function Ct(pe){L.push(pe)}function Wt(pe){delete j[pe.pointerId];for(let Be=0;Be<L.length;Be++)if(L[Be].pointerId==pe.pointerId){L.splice(Be,1);return}}function Vt(pe){let Be=j[pe.pointerId];Be===void 0&&(Be=new nt,j[pe.pointerId]=Be),Be.set(pe.pageX,pe.pageY)}function Pt(pe){const Be=pe.pointerId===L[0].pointerId?L[1]:L[0];return j[Be.pointerId]}this.dollyIn=(pe=G())=>{le(pe),i.update()},this.dollyOut=(pe=G())=>{Z(pe),i.update()},this.getScale=()=>v,this.setScale=pe=>{ve(pe),i.update()},this.getZoomScale=()=>G(),t!==void 0&&this.connect(t),this.update()}};const eD=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function PP(n,e){const t=Kh(s=>s.gl),i=Dx(XM,eD(n)?Object.values(n):n);return B.useLayoutEffect(()=>{e==null||e(i)},[e]),B.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(i)?s=i:i instanceof cr?s=[i]:eD(i)&&(s=Object.values(i)),s.forEach(a=>{a instanceof cr&&t.initTexture(a)})}},[t,i]),B.useMemo(()=>{if(eD(n)){const s={};let a=0;for(const o in n)s[o]=i[a++];return s}else return i},[n,i])}PP.preload=n=>Dx.preload(XM,n);PP.clear=n=>Dx.clear(XM,n);const ZM=B.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:c,...u},d)=>{const p=Kh(N=>N.invalidate),v=Kh(N=>N.camera),y=Kh(N=>N.gl),_=Kh(N=>N.events),w=Kh(N=>N.setEvents),S=Kh(N=>N.set),E=Kh(N=>N.get),A=Kh(N=>N.performance),R=e||v,D=i||_.connected||y.domElement,k=B.useMemo(()=>new Xve(R),[R]);return pve(()=>{k.enabled&&k.update()},-1),B.useEffect(()=>(s&&k.connect(s===!0?D:s),k.connect(D),()=>void k.dispose()),[s,D,t,k,p]),B.useEffect(()=>{const N=I=>{p(),t&&A.regress(),a&&a(I)},z=I=>{o&&o(I)},V=I=>{c&&c(I)};return k.addEventListener("change",N),k.addEventListener("start",z),k.addEventListener("end",V),()=>{k.removeEventListener("start",z),k.removeEventListener("end",V),k.removeEventListener("change",N)}},[a,o,c,k,p,w]),B.useEffect(()=>{if(n){const N=E().controls;return S({controls:k}),()=>S({controls:N})}},[n,k]),B.createElement("primitive",Lw({ref:d,object:k,enableDamping:r},u))});function Yve(n,e){const t=n+"Geometry";return B.forwardRef(({args:i,children:r,...s},a)=>{const o=B.useRef(null);return B.useImperativeHandle(a,()=>o.current),B.useLayoutEffect(()=>void(e==null?void 0:e(o.current))),B.createElement("mesh",Lw({ref:o},s),B.createElement(t,{attach:"geometry",args:i}),r)})}const Ox=Yve("sphere");class Kve extends Mt.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?U.jsx("div",{children:"Something went wrong loading the globe."}):this.props.children}}function $ve(){const n=PP("/AI-TRIP-PLANNER/earth.jpg");return Mt.useEffect(()=>()=>{n&&n.dispose()},[n]),U.jsx(Ox,{args:[1,32,32],children:U.jsx("meshPhongMaterial",{map:n,bumpScale:.1,specularMap:n,shininess:100,opacity:.9,transparent:!0})})}const Zve=()=>U.jsx(Ox,{args:[1,16,16],children:U.jsx("meshBasicMaterial",{color:"#123456",wireframe:!0})});function Qve(){return U.jsx(Kve,{children:U.jsxs($M,{camera:{position:[0,0,3]},gl:{antialias:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},children:[U.jsx("ambientLight",{intensity:1}),U.jsx("pointLight",{position:[10,10,10],intensity:1}),U.jsx(B.Suspense,{fallback:U.jsx(Zve,{}),children:U.jsx($ve,{})}),U.jsx(ZM,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:1,enablePan:!1,minPolarAngle:Math.PI/2.5,maxPolarAngle:Math.PI/1.5})]})})}function Jve(){const n=B.useRef(null),e=Cte(n,{once:!0}),t=nH(),i=async s=>await pM(s);B.useEffect(()=>{e&&t.start("visible")},[e,t]);const r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:"easeOut",when:"beforeChildren"}}};return U.jsxs("div",{className:"relative h-[92vh] flex  items-center justify-center overflow-hidden",children:[U.jsxs("div",{className:"absolute inset-0 z-0",children:[U.jsx(fM,{init:i,options:{fps_limit:30,particles:{number:{value:30},move:{enable:!0,speed:.3,outModes:"out"},opacity:{value:.3},size:{value:1}},retina_detect:!1,detectRetina:!1},className:"absolute inset-0"}),U.jsx("div",{className:"absolute inset-0",style:{background:"#081125"}})]}),U.jsx("div",{className:"absolute left-1/2 top-250 -translate-x-1/2 -translate-y-1/2 w-[3000px] h-[3000px] opacity-100 mix-blend-screen z-0",children:U.jsx(B.Suspense,{fallback:null,children:U.jsx(Qve,{})})}),U.jsxs(ye.div,{ref:n,initial:"hidden",animate:t,className:"mainHeroText relative z-10 flex flex-col items-center max-w-5xl gap-9 px-4",children:[U.jsx(ye.h1,{className:"text-5xl md:text-7xl text-center leading-tight",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1,delayChildren:.3}}},children:["Discover Your Next Adventure with AI: Personalized Itineraries at Your Fingertips"].map((s,a)=>U.jsx(ye.span,{className:"block bg-clip-text text-white",variants:r,children:s},a))}),U.jsx(ye.p,{className:"text-xl text-gray-300 text-center max-w-2xl",variants:r,children:"Your personal trip planner and travel curator, creating custom itineraries tailored to your interests and budget."}),U.jsx(ye.div,{variants:r,children:U.jsx(qy,{to:"/create-trip",children:U.jsxs(Tc,{className:"cssbuttons-io-button",children:[U.jsx("span",{children:"Get Started, It's Free"}),U.jsx("div",{className:"icon",children:U.jsxs("svg",{height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[U.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),U.jsx("path",{d:"M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z",fill:"currentColor"})]})})]})})}),U.jsx("div",{className:"absolute -top-20 -left-20 w-48 h-48 bg-cyan-500/20 rounded-full blur-3xl animate-float"}),U.jsx("div",{className:"absolute -bottom-20 -right-20 w-48 h-48 bg-purple-500/20 rounded-full blur-3xl animate-float-delayed"})]}),U.jsxs(ye.div,{className:"absolute bottom-25 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2",animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2,ease:"linear"},children:[U.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-full"}),U.jsx("span",{className:"text-sm text-gray-300",children:"Explore More"})]})]})}const eye=B.memo(({feature:n,index:e})=>{const t={float:{y:[-5,5,-5],transition:{duration:3,repeat:1/0,ease:"easeInOut",repeatType:"reverse"}}};return U.jsxs(ye.div,{className:"feature-card",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},whileHover:{scale:1.02,transition:{duration:.2}},style:{padding:"2rem",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(12px)",borderRadius:"1rem",border:`1px solid ${n.color}20`,position:"relative",overflow:"hidden"},children:[U.jsx(ye.div,{variants:t,style:{fontSize:"4rem",marginBottom:"1.5rem",textShadow:`0 0 20px ${n.color}`},children:n.icon}),U.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:700,color:"#fff",marginBottom:"1rem"},children:n.title}),U.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",lineHeight:1.6},children:n.desc}),U.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",right:"-50%",bottom:"-50%",background:`radial-gradient(circle at 50% 50%, ${n.color}10, transparent 60%)`,pointerEvents:"none"}})]})}),tye=B.memo(({testimonial:n,index:e,smoothSpring:t})=>U.jsxs(ye.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{delay:e*.2,...t},whileHover:{y:-10},className:"relative overflow-hidden rounded-2xl p-8 bg-white/5 backdrop-blur-lg",children:[U.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-[#00f3ff] to-[#7d4fff]"}),U.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[U.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full rounded-full object-cover border-3 border-[#00f3ff]"}),U.jsx("div",{className:"absolute inset-[-3px] rounded-full bg-gradient-to-r from-[#00f3ff] to-[#7d4fff] opacity-50 blur-lg -z-10"})]}),U.jsxs("p",{className:"text-white/90 text-lg leading-relaxed mb-6 min-h-[80px]",children:['"',n.text,'"']}),U.jsx("div",{className:"flex justify-center gap-2 mb-4",children:[...Array(n.rating)].map((i,r)=>U.jsx("span",{className:"text-[#00f3ff]",children:""},r))}),U.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:n.name}),U.jsx("p",{className:"text-white/70 text-sm",children:n.role})]},e)),nye=B.memo(({feature:n,index:e,smoothSpring:t})=>U.jsxs(ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.1,...t},whileHover:{scale:1.05,boxShadow:`0 0 30px ${n.color}20`},className:"relative overflow-hidden rounded-2xl p-8 bg-white/[0.03] backdrop-blur-lg border",style:{borderColor:`${n.color}30`},children:[U.jsx(ye.div,{className:"text-4xl mb-4",style:{textShadow:`0 0 20px ${n.color}`},children:n.icon}),U.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:n.title}),U.jsx("p",{className:"text-white/70 leading-relaxed",children:n.description}),U.jsx("div",{className:"absolute inset-[-50%] pointer-events-none opacity-50",style:{background:`radial-gradient(circle at 50% 50%, ${n.color}10, transparent 70%)`}})]},e)),iye=B.memo(({features:n,smoothSpring:e})=>U.jsx("section",{className:"py-24 px-6 relative",children:U.jsx(ye.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{...e,staggerChildren:.2},className:"max-w-7xl mx-auto grid gap-12 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:n.map((t,i)=>U.jsx(nye,{feature:t,index:i,smoothSpring:e},i))})})),rye=B.memo(({day:n,index:e,isEven:t,smoothSpring:i})=>U.jsxs(ye.div,{initial:{x:t?100:-100,opacity:0},whileInView:{x:0,opacity:1},viewport:{once:!0},transition:{...i,delay:e*.2},className:`relative w-1/2 p-8 mb-16 ${t?"ml-[50%]":""} `,children:[U.jsx(ye.div,{className:`absolute ${t?"-left-[36px]":"-right-[36px]"} w-6 h-6 rounded-full bg-[#00f3ff] top-1/2 -translate-y-1/2`,initial:{scale:0},whileInView:{scale:1},whileHover:{scale:1.2},transition:{type:"spring",stiffness:300},style:{boxShadow:"0 0 15px #00f3ff"}}),U.jsxs(ye.div,{whileHover:{scale:1.02},className:"relative p-6 rounded-2xl bg-white/[0.03] backdrop-blur-sm border border-white/10",children:[U.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#00f3ff]/5 to-transparent pointer-events-none"}),U.jsx(ye.h3,{initial:{y:-10,opacity:0},whileInView:{y:0,opacity:1},transition:{delay:.2},className:"text-2xl font-bold text-white mb-4",children:n.split(":")[0]}),U.jsx(ye.p,{initial:{y:10,opacity:0},whileInView:{y:0,opacity:1},transition:{delay:.3},className:"text-white/70",children:"AI-curated activities and optimized scheduling"}),U.jsx(ye.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -right-2 text-2xl opacity-50",children:e===0?"":e===3?"":""})]})]})),sye=B.memo(({smoothSpring:n})=>{const e=["Day 1: Arrival","Day 2: Exploration","Day 3: Adventure","Day 4: Departure"];return U.jsx("section",{className:"py-24 px-6 relative",children:U.jsxs(ye.div,{initial:{opacity:0},whileInView:{opacity:1},className:"max-w-7xl mx-auto relative",children:[U.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-[#00f3ff] to-transparent transform -translate-x-1/2"}),e.map((t,i)=>U.jsx(rye,{day:t,index:i,isEven:i%2===1,smoothSpring:n},t)),U.jsx(ye.div,{initial:{scale:0},whileInView:{scale:1},className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-4 h-4",children:U.jsx("div",{className:"w-full h-full rounded-full bg-[#00f3ff] animate-ping"})})]})})}),aye=B.memo(({city:n,index:e})=>U.jsxs(ye.div,{initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:1,transition:{type:"spring",damping:15,stiffness:120,delay:e*.3}},whileHover:{scale:1.15,y:-10,transition:{type:"spring",stiffness:300}},className:"absolute p-4 rounded-2xl backdrop-blur-lg cursor-pointer",style:{left:`${20+e*20}%`,top:`${50-Math.sin(e)*10}%`,background:"rgba(255, 255, 255, 0.1)",filter:"drop-shadow(0 0 10px rgba(0, 243, 255, 0.3))"},children:[U.jsxs(ye.div,{animate:{scale:[1,1.2,1],y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"flex gap-2 items-center relative",children:[U.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`hsl(${e*90}, 100%, 50%)`,boxShadow:`0 0 15px hsl(${e*90}, 100%, 50%)`}}),U.jsx(ye.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-white text-shadow",children:n})]}),U.jsxs(ye.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute top-full left-1/2 -translate-x-1/2 p-2 bg-black/80 rounded-lg whitespace-nowrap pointer-events-none",children:[U.jsx("span",{className:"text-[#00f3ff]",children:""}),U.jsxs("span",{className:"text-white ml-2",children:[Math.floor(Math.random()*1e3)," current visitors"]})]})]},n)),oye=B.memo(({scaleProgress:n})=>{const e=["Paris","Tokyo","New York","Bali"];return U.jsx("section",{className:"py-24 px-6 h-screen relative overflow-hidden",children:U.jsxs(ye.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},className:"relative h-full rounded-3xl overflow-hidden bg-gradient-to-br from-[#081125] to-[#0a1a3a]",children:[U.jsx(ye.div,{animate:{background:["linear-gradient(45deg, #00f3ff10 0%, #7d4fff10 50%, #ff66cc10 100%)","linear-gradient(45deg, #ff66cc10 0%, #00f3ff10 50%, #7d4fff10 100%)","linear-gradient(45deg, #7d4fff10 0%, #ff66cc10 50%, #00f3ff10 100%)"]},transition:{duration:20,repeat:1/0},className:"absolute inset-0 mix-blend-screen"}),U.jsx(ye.div,{animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0",style:{background:`repeating-linear-gradient(
              45deg,
              rgba(255,255,255,0.03) 0px,
              rgba(255,255,255,0.03) 1px,
              transparent 1px,
              transparent 50px
            )`,maskImage:"linear-gradient(to bottom, black 30%, transparent)"}}),U.jsx(ye.div,{animate:{opacity:[.3,.5,.3],scale:[1,1.2,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute left-1/2 top-1/2 w-[150%] h-[150%] -translate-x-1/2 -translate-y-1/2",style:{background:"radial-gradient(circle at 50% 50%, #00f3ff20, transparent 60%)"}}),U.jsx(ye.div,{animate:{scale:[1,1.02,1],rotate:[0,.5,-.5,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 opacity-30",style:{background:"url('/AI-TRIP-PLANNER/world-map.svg') center/contain no-repeat"}}),e.map((t,i)=>U.jsx(aye,{city:t,index:i},t)),U.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:e.map((t,i)=>U.jsx(ye.path,{initial:{pathLength:0},whileInView:{pathLength:1},transition:{duration:1.5,delay:i*.2},d:`M${20+i*20} ${50-Math.sin(i)*10} L50 50`,stroke:`hsl(${i*90}, 100, 50)`,strokeWidth:"1",fill:"none",strokeDasharray:"5 5"},i))}),U.jsxs(ye.div,{style:{position:"absolute",bottom:"2rem",left:"50%",transform:"translateX(-50%)",textAlign:"center",scale:n},className:"w-full max-w-4xl px-6",children:[U.jsx("h2",{className:"text-4xl font-bold text-white mb-4 text-shadow",children:"AI-Powered Destination Insights"}),U.jsx(ye.p,{animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},className:"text-white/70 text-xl",children:"Real-time popularity analysis and personalized recommendations"})]})]})})}),lye=B.memo(({text:n,index:e})=>U.jsxs(ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.2},className:"flex items-center gap-4 p-4 my-2 bg-white/5 rounded-lg",children:[U.jsx(ye.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5,delay:e*.3},className:"flex-shrink-0",children:""}),U.jsx("span",{className:"text-white/90",children:n})]},e)),cye=()=>U.jsx("div",{className:"flex gap-4 mb-6",children:["#ff5f56","#ffbd2e","#27c93f"].map((n,e)=>U.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:n}},e))}),uye=B.memo(()=>{const n=["1.  Choose your destination","2.  Set your budget","3.  Select interests","4.  Generate magic!"];return U.jsx("section",{className:"py-24 px-6 relative",children:U.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-16 items-center",children:[U.jsxs(ye.div,{initial:{x:-100,opacity:0},whileInView:{x:0,opacity:1},transition:{type:"spring",bounce:.4},className:"relative flex-1 w-full max-w-2xl",children:[U.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,#00f3ff20,transparent_60%)] blur-3xl -z-10"}),U.jsxs("div",{className:"p-8 bg-black/30 backdrop-blur-xl rounded-2xl border border-white/10",children:[U.jsx(cye,{}),n.map((e,t)=>U.jsx(lye,{text:e,index:t},t))]})]}),U.jsxs(ye.div,{initial:{x:100,opacity:0},whileInView:{x:0,opacity:1},transition:{type:"spring",bounce:.4},className:"flex-1 text-center",children:[U.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Create Your Perfect Trip in Minutes"}),U.jsx("p",{className:"text-xl text-white/70 mb-8",children:"Our AI analyzes millions of data points to craft your ideal itinerary, complete with hidden gems and local favorites."}),U.jsx(ye.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:U.jsxs(Tc,{className:"relative overflow-hidden px-12 py-6 text-lg bg-gradient-to-r from-[#00f3ff] to-[#7d4fff] rounded-lg",children:[U.jsx("span",{className:"relative z-10",children:"Watch Demo Video"}),U.jsx(ye.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:1.5},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]})})]})]})})}),tD={type:"spring",damping:15,stiffness:120};function hye(){const{scrollYProgress:n}=DN({throttle:30,smooth:!0}),e=o3(n,[0,1],[.8,1.2]),t=B.useMemo(()=>[{title:"AI-Powered Planning",desc:"Instant itinerary generation powered by GPT-4",icon:"",color:"#00f3ff"},{title:"Real-Time Pricing",desc:"Integrated flight/hotel pricing from 100+ providers",icon:"",color:"#ff66cc"},{title:"Local Experiences",desc:"Curated activities from local experts",icon:"",color:"#66ff99"}],[]),i=B.useMemo(()=>[{name:"Sarah Johnson",role:"Adventure Enthusiast",image:"https://randomuser.me/api/portraits/women/1.jpg",text:"The AI recommendations were spot-on! Found hidden gems in Tokyo I never would have discovered otherwise.",rating:5},{name:"Michael Chen",role:"Digital Nomad",image:"https://randomuser.me/api/portraits/men/2.jpg",text:"Saved me hours of planning. The itineraries are perfectly balanced between tourist spots and local experiences.",rating:5},{name:"Emma Davis",role:"Family Traveler",image:"https://randomuser.me/api/portraits/women/3.jpg",text:"Perfect for family trips! The AI considered our kids' needs and created a stress-free schedule.",rating:5}],[]),r=B.useMemo(()=>[{title:"Smart Itinerary Planning",description:"AI algorithms create personalized day-by-day schedules based on your preferences",icon:"",color:"#00f3ff"},{title:"Dynamic Weather Adaptation",description:"Real-time itinerary adjustments based on weather forecasts",icon:"",color:"#ff66cc"},{title:"Budget Optimization",description:"Smart cost allocation across accommodations, activities, and dining",icon:"",color:"#66ff99"},{title:"Local Insights",description:"Access to hidden gems and local recommendations",icon:"",color:"#ffcc00"},{title:"Real-time Updates",description:"Live updates for attractions, events, and booking availability",icon:"",color:"#ff9966"},{title:"Smart Transportation",description:"Optimal routes and transportation methods between destinations",icon:"",color:"#cc99ff"}],[]),s=()=>U.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:U.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00f3ff] rounded-full animate-spin"})});return U.jsxs("div",{style:{background:"linear-gradient(to bottom, #081125, #0a1a3a)"},children:[U.jsx("section",{className:"py-24 px-6 relative",children:U.jsx("div",{className:"max-w-7xl mx-auto grid gap-12 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:t.map((a,o)=>U.jsx(eye,{feature:a,index:o},o))})}),U.jsx(B.Suspense,{fallback:U.jsx(s,{}),children:U.jsx(uye,{})}),U.jsx("section",{className:"py-24 px-6 bg-gradient-to-r from-[rgba(0,119,255,0.05)] to-[rgba(170,0,255,0.05)]",children:U.jsxs(ye.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},className:"max-w-7xl mx-auto text-center",children:[U.jsx("h2",{className:"text-4xl font-bold text-white mb-12",children:"What Our Travelers Say"}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 p-4",children:i.map((a,o)=>U.jsx(tye,{testimonial:a,index:o,smoothSpring:tD},o))})]})}),U.jsxs("div",{style:{background:"linear-gradient(to bottom, #081125, #0a1a3a)"},children:[U.jsx(B.Suspense,{fallback:U.jsx(s,{}),children:U.jsx(iye,{features:r,smoothSpring:tD})}),U.jsx(B.Suspense,{fallback:U.jsx(s,{}),children:U.jsx(oye,{scaleProgress:e})}),U.jsx(B.Suspense,{fallback:U.jsx(s,{}),children:U.jsx(sye,{smoothSpring:tD})}),U.jsx("section",{style:{padding:"6rem 1.5rem",position:"relative"},children:U.jsx("div",{style:{maxWidth:"56rem",margin:"0 auto",textAlign:"center",position:"relative"},children:U.jsxs(ye.div,{initial:{scale:.5,opacity:0},whileInView:{scale:1,opacity:1},transition:{type:"spring",bounce:.4},children:[U.jsx("h2",{style:{fontSize:"3rem",fontWeight:700,color:"#fff",marginBottom:"2rem",textShadow:"0 0 20px rgba(0, 243, 255, 0.5)"},children:"Ready to Revolutionize Your Travel Planning?"}),U.jsx("p",{style:{fontSize:"1.25rem",color:"rgba(255, 255, 255, 0.7)",marginBottom:"3rem"},children:"Join thousands of savvy travelers already using AI Trip Planner"}),U.jsx(ye.div,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"inline-block"},children:U.jsxs(Tc,{style:{padding:"1.5rem 3rem",fontSize:"1.25rem",background:"linear-gradient(45deg, #00f3ff, #ff66cc)",border:"none",borderRadius:"0.5rem",position:"relative",overflow:"hidden"},children:[U.jsx("span",{style:{position:"relative",zIndex:1},children:"Start Planning Free Today"}),U.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(45deg, transparent 50%, rgba(255, 255, 255, 0.1) 50%)",backgroundSize:"300% 300%",transition:"0.5s",opacity:0}})]})})]})})})]})]})}function fye(){const[n,e]=B.useState(0);return U.jsxs(U.Fragment,{children:[U.jsx(Jve,{}),U.jsx(hye,{})]})}var nD={exports:{}},Fz;function dye(){if(Fz)return nD.exports;Fz=1;var n=nD.exports={},e,t;function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?t=clearTimeout:t=r}catch{t=r}})();function s(w){if(e===setTimeout)return setTimeout(w,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(w,0);try{return e(w,0)}catch{try{return e.call(null,w,0)}catch{return e.call(this,w,0)}}}function a(w){if(t===clearTimeout)return clearTimeout(w);if((t===r||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(w);try{return t(w)}catch{try{return t.call(null,w)}catch{return t.call(this,w)}}}var o=[],c=!1,u,d=-1;function p(){!c||!u||(c=!1,u.length?o=u.concat(o):d=-1,o.length&&v())}function v(){if(!c){var w=s(p);c=!0;for(var S=o.length;S;){for(u=o,o=[];++d<S;)u&&u[d].run();d=-1,S=o.length}u=null,c=!1,a(w)}}n.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)S[E-1]=arguments[E];o.push(new y(w,S)),o.length===1&&!c&&s(v)};function y(w,S){this.fun=w,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function _(){}return n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.prependListener=_,n.prependOnceListener=_,n.listeners=function(w){return[]},n.binding=function(w){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(w){throw new Error("process.chdir is not supported")},n.umask=function(){return 0},nD.exports}dye();const pye=[{id:1,title:"Just me",desc:"A sole travels in exploration",icon:"",people:"1"},{id:2,title:"A Couple",desc:"Two traveles in tandem",icon:"",people:"2 People"},{id:3,title:"Family",desc:"A group of fun loving adv",icon:"",people:"3 to 5 People"},{id:4,title:"Freinds",desc:"A bunch of thrill-seekes",icon:"",people:"5 to 10 People"}],mye=[{id:1,title:"Cheap",desc:"Stay conscious of costs",icon:""},{id:2,title:"Moderate",desc:"Keep cost on the average side",icon:""},{id:3,title:"Luxury",desc:"Dont worry about cost",icon:""}],gye="Generate Travel Plan for Location: {location}, for {totalDays} Days for {traveler} with a {budget}, give me Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time Travel each of the location for {totalDays} days with each day plan with best time to visit in JSON format";var Hz;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(Hz||(Hz={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jz;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(jz||(jz={}));var Gz;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Gz||(Gz={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=["user","model","function","system"];var Wz;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Wz||(Wz={}));var Xz;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Xz||(Xz={}));var Yz;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Yz||(Yz={}));var Kz;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(Kz||(Kz={}));var u_;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(u_||(u_={}));var $z;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})($z||($z={}));var Zz;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Zz||(Zz={}));var Qz;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Qz||(Qz={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Uv extends pa{constructor(e,t){super(e),this.response=t}}class l7 extends pa{constructor(e,t,i,r){super(e),this.status=t,this.statusText=i,this.errorDetails=r}}class Rd extends pa{}class c7 extends pa{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vye="https://generativelanguage.googleapis.com",yye="v1beta",bye="0.23.0",_ye="genai-js";var eg;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(eg||(eg={}));class xye{constructor(e,t,i,r,s){this.model=e,this.task=t,this.apiKey=i,this.stream=r,this.requestOptions=s}toString(){var e,t;const i=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||yye;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||vye}/${i}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function Sye(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${_ye}/${bye}`),e.join(" ")}async function Eye(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",Sye(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let i=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(r){throw new Rd(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${r.message}`)}for(const[r,s]of i.entries()){if(r==="x-goog-api-key")throw new Rd(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Rd(`Header name ${r} can only be set using the apiClient field`);t.append(r,s)}}return t}async function wye(n,e,t,i,r,s){const a=new xye(n,e,t,i,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},Cye(s)),{method:"POST",headers:await Eye(a),body:r})}}async function Nx(n,e,t,i,r,s={},a=fetch){const{url:o,fetchOptions:c}=await wye(n,e,t,i,r,s);return Tye(o,c,a)}async function Tye(n,e,t=fetch){let i;try{i=await t(n,e)}catch(r){Mye(r,n)}return i.ok||await Aye(i,n),i}function Mye(n,e){let t=n;throw t.name==="AbortError"?(t=new c7(`Request aborted when fetching ${e.toString()}: ${n.message}`),t.stack=n.stack):n instanceof l7||n instanceof Rd||(t=new pa(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function Aye(n,e){let t="",i;try{const r=await n.json();t=r.error.message,r.error.details&&(t+=` ${JSON.stringify(r.error.details)}`,i=r.error.details)}catch{}throw new l7(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,i)}function Cye(n){const e={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const t=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>t.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),WE(n.candidates[0]))throw new Uv(`${bd(n)}`,n);return Rye(n)}else if(n.promptFeedback)throw new Uv(`Text not available. ${bd(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),WE(n.candidates[0]))throw new Uv(`${bd(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Jz(n)[0]}else if(n.promptFeedback)throw new Uv(`Function call not available. ${bd(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),WE(n.candidates[0]))throw new Uv(`${bd(n)}`,n);return Jz(n)}else if(n.promptFeedback)throw new Uv(`Function call not available. ${bd(n)}`,n)},n}function Rye(n){var e,t,i,r;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function Jz(n){var e,t,i,r;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(r=(i=n.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const Dye=[u_.RECITATION,u_.SAFETY,u_.LANGUAGE];function WE(n){return!!n.finishReason&&Dye.includes(n.finishReason)}function bd(n){var e,t,i;let r="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)r+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(r+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((i=n.candidates)===null||i===void 0)&&i[0]){const s=n.candidates[0];WE(s)&&(r+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(r+=`: ${s.finishMessage}`))}return r}function W_(n){return this instanceof W_?(this.v=n,this):new W_(n)}function Oye(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(v){i[v]&&(r[v]=function(y){return new Promise(function(_,w){s.push([v,y,_,w])>1||o(v,y)})})}function o(v,y){try{c(i[v](y))}catch(_){p(s[0][3],_)}}function c(v){v.value instanceof W_?Promise.resolve(v.value.v).then(u,d):p(s[0][2],v)}function u(v){o("next",v)}function d(v){o("throw",v)}function p(v,y){v(y),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Nye(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=Lye(e),[i,r]=t.tee();return{stream:Iye(i),response:Pye(r)}}async function Pye(n){const e=[],t=n.getReader();for(;;){const{done:i,value:r}=await t.read();if(i)return IP(Uye(e));e.push(r)}}function Iye(n){return Oye(this,arguments,function*(){const t=n.getReader();for(;;){const{value:i,done:r}=yield W_(t.read());if(r)break;yield yield W_(IP(i))}})}function Lye(n){const e=n.getReader();return new ReadableStream({start(i){let r="";return s();function s(){return e.read().then(({value:a,done:o})=>{if(o){if(r.trim()){i.error(new pa("Failed to parse stream"));return}i.close();return}r+=a;let c=r.match(eV),u;for(;c;){try{u=JSON.parse(c[1])}catch{i.error(new pa(`Error parsing JSON response: "${c[1]}"`));return}i.enqueue(u),r=r.substring(c[0].length),c=r.match(eV)}return s()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new c7("Request aborted when reading from the stream"):o=new pa("Error reading from the stream"),o})}}})}function Uye(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const i of n){if(i.candidates){let r=0;for(const s of i.candidates)if(t.candidates||(t.candidates=[]),t.candidates[r]||(t.candidates[r]={index:r}),t.candidates[r].citationMetadata=s.citationMetadata,t.candidates[r].groundingMetadata=s.groundingMetadata,t.candidates[r].finishReason=s.finishReason,t.candidates[r].finishMessage=s.finishMessage,t.candidates[r].safetyRatings=s.safetyRatings,s.content&&s.content.parts){t.candidates[r].content||(t.candidates[r].content={role:s.content.role||"user",parts:[]});const a={};for(const o of s.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),t.candidates[r].content.parts.push(a)}r++}i.usageMetadata&&(t.usageMetadata=i.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u7(n,e,t,i){const r=await Nx(e,eg.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),i);return Nye(r)}async function h7(n,e,t,i){const s=await(await Nx(e,eg.GENERATE_CONTENT,n,!1,JSON.stringify(t),i)).json();return{response:IP(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function X_(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return zye(e)}function zye(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let i=!1,r=!1;for(const s of n)"functionResponse"in s?(t.parts.push(s),r=!0):(e.parts.push(s),i=!0);if(i&&r)throw new pa("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!r)throw new pa("No content is provided for sending chat message.");return i?e:t}function Vye(n,e){var t;let i={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const r=n.generateContentRequest!=null;if(n.contents){if(r)throw new Rd("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=n.contents}else if(r)i=Object.assign(Object.assign({},i),n.generateContentRequest);else{const s=X_(n);i.contents=[s]}return{generateContentRequest:i}}function tV(n){let e;return n.contents?e=n:e={contents:[X_(n)]},n.systemInstruction&&(e.systemInstruction=f7(n.systemInstruction)),e}function Bye(n){return typeof n=="string"||Array.isArray(n)?{content:X_(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],kye={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Fye(n){let e=!1;for(const t of n){const{role:i,parts:r}=t;if(!e&&i!=="user")throw new pa(`First content should be with role 'user', got ${i}`);if(!qz.includes(i))throw new pa(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(qz)}`);if(!Array.isArray(r))throw new pa("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new pa("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of r)for(const c of nV)c in o&&(s[c]+=1);const a=kye[i];for(const o of nV)if(!a.includes(o)&&s[o]>0)throw new pa(`Content with role '${i}' can't contain '${o}' part`);e=!0}}function iV(n){var e;if(n.candidates===void 0||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const i of t.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="SILENT_ERROR";class Hye{constructor(e,t,i,r={}){this.model=t,this.params=i,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,i!=null&&i.history&&(Fye(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var i,r,s,a,o,c;await this._sendPromise;const u=X_(e),d={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),t);let v;return this._sendPromise=this._sendPromise.then(()=>h7(this._apiKey,this.model,d,p)).then(y=>{var _;if(iV(y.response)){this._history.push(u);const w=Object.assign({parts:[],role:"model"},(_=y.response.candidates)===null||_===void 0?void 0:_[0].content);this._history.push(w)}else{const w=bd(y.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}v=y}),await this._sendPromise,v}async sendMessageStream(e,t={}){var i,r,s,a,o,c;await this._sendPromise;const u=X_(e),d={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),t),v=u7(this._apiKey,this.model,d,p);return this._sendPromise=this._sendPromise.then(()=>v).catch(y=>{throw new Error(rV)}).then(y=>y.response).then(y=>{if(iV(y)){this._history.push(u);const _=Object.assign({},y.candidates[0].content);_.role||(_.role="model"),this._history.push(_)}else{const _=bd(y);_&&console.warn(`sendMessageStream() was unsuccessful. ${_}. Inspect response object for details.`)}}).catch(y=>{y.message!==rV&&console.error(y)}),v}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jye(n,e,t,i){return(await Nx(e,eg.COUNT_TOKENS,n,!1,JSON.stringify(t),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gye(n,e,t,i){return(await Nx(e,eg.EMBED_CONTENT,n,!1,JSON.stringify(t),i)).json()}async function qye(n,e,t,i){const r=t.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await Nx(e,eg.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:r}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,t,i={}){this.apiKey=e,this._requestOptions=i,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=f7(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var i;const r=tV(e),s=Object.assign(Object.assign({},this._requestOptions),t);return h7(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}async generateContentStream(e,t={}){var i;const r=tV(e),s=Object.assign(Object.assign({},this._requestOptions),t);return u7(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}startChat(e){var t;return new Hye(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const i=Vye(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return jye(this.apiKey,this.model,i,r)}async embedContent(e,t={}){const i=Bye(e),r=Object.assign(Object.assign({},this._requestOptions),t);return Gye(this.apiKey,this.model,i,r)}async batchEmbedContents(e,t={}){const i=Object.assign(Object.assign({},this._requestOptions),t);return qye(this.apiKey,this.model,e,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wye{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new pa("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new sV(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,i){if(!e.name)throw new Rd("Cached content must contain a `name` field.");if(!e.model)throw new Rd("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const a of r)if(t!=null&&t[a]&&e[a]&&(t==null?void 0:t[a])!==e[a]){if(a==="model"){const o=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===c)continue}throw new Rd(`Different value for "${a}" specified in modelParams (${t[a]}) and cachedContent (${e[a]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new sV(this.apiKey,s,i)}}const Xye="AIzaSyCOeOibEg45OPW5ORHnVDXC7elAvTENmTQ",Yye=new Wye(Xye),Kye=Yye.getGenerativeModel({model:"gemini-2.0-flash"}),$ye={temperature:1,topP:.95,topK:64,maxOutputTokens:8192,responseMimeType:"application/json"},Zye=Kye.startChat({generationConfig:$ye,history:[{role:"user",parts:[{text:"Generate Travel Plan for Location: Las Vegas, for 3 Dats for Couple with a Cheap Budget. Give me a Hotels options list with HOtelName, Hotel address, Price, hotel image url, geo coordinates, rating,descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time Travel each of the location for 3 days with each day plan with best time to visin in JSON format"}]},{role:"model",parts:[{text:`Okay, here's a detailed 3-day Las Vegas itinerary for a couple on a tight budget, presented in JSON format.  It emphasizes free attractions, affordable eats, and strategic timing to maximize your experience without breaking the bank.

\`\`\`json
{
  "tripName": "Las Vegas on a Budget: 3-Day Couple's Getaway",
  "location": "Las Vegas, Nevada",
  "budget": "Cheap",
  "duration": "3 Days",
  "travelers": "Couple",
  "currency": "USD",
  "hotelOptions": [
    {
      "hotelName": "Circus Circus Hotel & Casino",
      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",
      "price": "35-75",
      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/72/46/3d/exterior.jpg?w=1200&h=-1&s=1",
      "geoCoordinates": {
        "latitude": 36.1293,
        "longitude": -115.1667
      },
      "rating": 3.5,
      "description": "Offers affordable rates, free circus acts, and a large amusement park (Adventuredome). Rooms are basic, but it's a good option for budget travelers."
    },
    {
      "hotelName": "Stratosphere Hotel, Casino & Tower",
      "hotelAddress": "2000 S Las Vegas Blvd, Las Vegas, NV 89104",
      "price": "40-80",
      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/36/69/e4/the-strat-hotel-casino.jpg?w=1200&h=-1&s=1",
      "geoCoordinates": {
        "latitude": 36.1478,
        "longitude": -115.1557
      },
      "rating": 3.7,
      "description": "Located at the north end of the Strip, Stratosphere offers stunning views from its tower (separate fee). Rooms are reasonably priced."
    },
    {
      "hotelName": "Excalibur Hotel & Casino",
      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",
      "price": "45-90",
      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/cb/2c/83/excalibur-hotel-casino.jpg?w=1200&h=-1&s=1",
      "geoCoordinates": {
        "latitude": 36.0984,
        "longitude": -115.1743
      },
      "rating": 4.0,
      "description": "A castle-themed hotel with affordable rooms and a family-friendly atmosphere.  Located at the south end of the Strip."
    }
  ],
  "itinerary": {
    "day1": {
      "theme": "South Strip Exploration & Fountain Shows",
      "bestTimeToVisit": "Afternoon and Evening",
      "places": [
        {
          "placeName": "Welcome to Las Vegas Sign",
          "placeDetails": "A classic photo opportunity.  Get there early to avoid long lines.  Consider going at sunrise for the best light.",
          "placeImageUrl": "https://www.lasvegas.com/wp-content/uploads/2023/06/Welcome-to-Fabulous-Las-Vegas-Sign-1.jpg",
          "geoCoordinates": {
            "latitude": 36.0826,
            "longitude": -115.1725
          },
          "ticketPricing": "Free",
          "rating": 4.5,
          "timeTravel": "30-60 minutes"
        },
        {
          "placeName": "Luxor Hotel & Casino",
          "placeDetails": "Explore the interior of this pyramid-shaped hotel.  Walk around the casino and admire the architecture.",
          "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/a8/6f/19/luxor-hotel-casino.jpg?w=1200&h=-1&s=1",
          "geoCoordinates": {
            "latitude": 36.0956,
            "longitude": -115.1759
          },
          "ticketPricing": "Free (unless you enter specific exhibits)",
          "rating": 4.0,
          "timeTravel": "1-2 hours"
        },
        {
          "placeName": "Excalibur Hotel & Casino",
          "placeDetails": "Wander through the medieval-themed Excalibur.  Enjoy the free shows and atmosphere.",
          "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/cb/2c/83/excalibur-hotel-casino.jpg?w=1200&h=-1&s=1",
          "geoCoordinates": {
            "latitude": 36.0984,
            "longitude": -115.1743
          },
          "ticketPricing": "Free (unless you see a show)",
          "rating": 3.8,
          "timeTravel": "1 hour"
        },
        {
          "placeName": "New York-New York Hotel & Casino",
          "placeDetails": "Walk across the Brooklyn Bridge replica, take photos, and admire the architecture.",
          "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/27/42/2b/new-york-new-york-hotel.jpg?w=1200&h=-1&s=1",
          "geoCoordinates": {
            "latitude": 36.1026,
            "longitude": -115.1747
          },
          "ticketPricing": "Free (unless you ride the roller coaster)",
          "rating": 4.2,
          "timeTravel": "1 hour"
        },
        {
          "placeName": "Bellagio Fountain Show",
          "placeDetails": "A spectacular free water show set to music. Shows run frequently in the afternoon and evening. Check the schedule online.",
          "placeImageUrl": "https://www.wheretraveler.com/sites/default/files/styles/body_1200x630/public/Bellagio_Fountains-20170913_145400.jpg?itok=wXJgqW9W",
          "geoCoordinates": {
            "latitude": 36.1126,
            "longitude": -115.1745
          },
          "ticketPricing": "Free",
          "rating": 5.0,
          "timeTravel": "1-2 hours (including waiting for shows)"
        }
      ]
    },
    "day2": {
      "theme": "Central Strip Wonders & Downtown Fremont Street",
      "bestTimeToVisit": "Afternoon for the Strip, Evening for Fremont Street",
      "places": [
        {
          "placeName": "The Venetian & The Palazzo",
          "placeDetails": "Explore the Grand Canal Shoppes, watch the street performers, and take photos of the Venetian canals.",
          "placeImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/b2/1d/94/venice.jpg?w=1200&h=-1&s=1",
          "geoCoordinates": {
            "latitude": 36.1213,
            "longitude": -115.1723
          },
          "ticketPricing": "Free (unless you ride a gondola)",
          "rating": 4.7,
          "timeTravel": "2-3 hours"
        },
        {
          "placeName": "Mirage Volcano",
          "placeDetails": "A free volcano eruption show in front of the Mirage hotel.  Shows run in the evening.",
          "placeImageUrl": "https://www.casino.org/news/wp-content/uploads/2023/02/mirage-volcano-1200x630.jpg",
          "geoCoordinates": {
            "latitude": 36.1215,
            "longitude": -115.1755
          },
          "ticketPricing": "Free",
          "rating": 4.5,
          "timeTravel": "30-60 minutes (including waiting for the show)"
        },
        {
          "placeName": "Fremont Street Experience",
          "placeDetails": "A pedestrian mall with a massive video screen canopy and free light shows. Enjoy the street performers and atmosphere.",
          "placeImageUrl": "https://www.fodors.com/wp-content/uploads/2023/02/HERO_UltimateGuide_FremontStreet_Hero_4x3-1.jpg",
          "geoCoordinates": {
            "latitude": 36.1703,
            "longitude": -115.1422
          },
          "ticketPricing": "Free",
          "rating": 4.6,
          "timeTravel": "3-4 hours (including travel time to/from the Strip)"
        }
      ]
    },
    "day3": {
      "theme": "High Roller & Ethel M Chocolate Factory",
      "bestTimeToVisit": "Late afternoon for High Roller, Morning for Ethel M",
      "places": [
        {
          "placeName": "High Roller Observation Wheel",
          "placeDetails": "offers you 360-degree views of Las Vegas. Located at the LINQ Promenade.",
          "placeImageUrl": "https://i.natgeofe.com/n/82415291-df39-4286-935a-1d5a78810c67/las-vegas-strip-high-roller_3x2.jpg",
          "geoCoordinates": {
            "latitude": 36.1164,
            "longitude": -115.1693
          },
          "ticketPricing": "37",
          "rating": 4.4,
          "timeTravel": "2 hours"
        },
        {
          "placeName": "Ethel M Chocolate Factory and Cactus Garden",
          "placeDetails": "Free chocolate factory tour and a beautiful cactus garden.  A nice escape from the Strip.",
          "placeImageUrl": "https://www.wheretraveler.com/sites/default/files/images/Ethel_M_Chocolates_116097373.jpg",
          "geoCoordinates": {
            "latitude": 36.0327,
            "longitude": -115.0755
          },
          "ticketPricing": "Free (chocolate tasting may have a fee)",
          "rating": 4.3,
          "timeTravel": "2-3 hours (including travel time)"
        },
        {
          "placeName": "Optional:  Walk the LINQ Promenade",
          "placeDetails": "Shop and explore the LINQ Promenade.  Watch the street performers.",
          "placeImageUrl": "https://vegasexperience.com/wp-content/uploads/2023/03/The-LINQ-Promenade.jpg",
          "geoCoordinates": {
            "latitude": 36.1166,
            "longitude": -115.1690
          },
          "ticketPricing": "Free (unless you shop or dine)",
          "rating": 4.2,
          "timeTravel": "1-2 hours"
        }
      ]
    }
  },
  "budgetTips": [
    "Walk as much as possible. Wear comfortable shoes.",
    "Take advantage of free attractions and shows.",
    "Eat at affordable restaurants or fast-food places. Consider grocery shopping for snacks and breakfast items.",
    "Drink water instead of buying expensive drinks.  Bring a refillable water bottle.",
    "Look for happy hour specials.",
    "Consider using public transportation (the Deuce bus) for longer distances.",
    "Avoid gambling if you're on a tight budget.",
    "Look for free activities at your hotel, such as swimming pools or fitness centers.",
    "Book your hotel in advance, especially if traveling during peak season.",
     "take advantage of free parking"
  ]
}
\`\`\`

**Key Considerations for a Budget Trip:**

*   **Transportation:** Walking is your best friend on the Strip.  The Deuce bus is an affordable option for longer distances. Avoid taxis and ride-sharing services as much as possible.
*   **Food:**  Look for affordable restaurants off the main Strip.  Fast food, food courts, and grocery stores are your allies.  Consider bringing snacks.
*   **Drinks:**  Las Vegas drinks can be expensive. Drink water to stay hydrated and avoid buying alcohol frequently.
*   **Gambling:** It's easy to get caught up in the casinos, but stick to your budget and avoid gambling if you're trying to save money.
*   **Free Activities:**  Las Vegas has tons of free things to do. Take advantage of them!
*   **Hotel Location:** Hotels a bit off the Strip are often cheaper.  Consider the Stratosphere or hotels downtown.
*   **Travel Time:**  Factor in travel time, especially when going downtown.

This itinerary is a starting point.  Adjust it to your interests and energy levels. Have a fantastic time in Las Vegas!
`}]}]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bm=function(){return Bm=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Bm.apply(this,arguments)};function Qye(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function o(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){var d;u.done?r(u.value):(d=u.value,d instanceof t?d:new t(function(p){p(d)})).then(a,o)}c((i=i.apply(n,[])).next())})}function Jye(n,e){var t,i,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return function(d){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,i&&(r=2&d[0]?i.return:d[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,d[1])).done)return r;switch(i=0,r&&(d=[2&d[0],r.value]),d[0]){case 0:case 1:r=d;break;case 4:return a.label++,{value:d[1],done:!1};case 5:a.label++,i=d[1],d=[0];continue;case 7:d=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!((r=r.length>0&&r[r.length-1])||d[0]!==6&&d[0]!==2)){a=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){a.label=d[1];break}if(d[0]===6&&a.label<r[1]){a.label=r[1],r=d;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(d);break}r[2]&&a.ops.pop(),a.trys.pop();continue}d=e.call(n,a)}catch(p){d=[6,p],i=0}finally{t=r=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([c,u])}}}function xn(){return xn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xn.apply(this,arguments)}function km(n){return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(n)}function d7(n){var e=function(t,i){if(km(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,i);if(km(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return km(e)==="symbol"?e:String(e)}function ry(n,e,t){return(e=d7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function un(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(t),!0).forEach(function(i){ry(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oV(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,d7(i.key),i)}}function G3(n,e){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},G3(n,e)}function TT(n){return TT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TT(n)}function e0e(n,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)}function t0e(n){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=TT(n);if(e){var r=TT(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return e0e(this,t)}}function q3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function p7(n,e){if(n){if(typeof n=="string")return q3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q3(n,e):void 0}}function LP(n){return function(e){if(Array.isArray(e))return q3(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||p7(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var n0e=function(){function n(t){var i=this;this._insertTag=function(r){var s;s=i.tags.length===0?i.insertionPoint?i.insertionPoint.nextSibling:i.prepend?i.container.firstChild:i.before:i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(s){var a=document.createElement("style");return a.setAttribute("data-emotion",s.key),s.nonce!==void 0&&a.setAttribute("nonce",s.nonce),a.appendChild(document.createTextNode("")),a.setAttribute("data-s",""),a}(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(s){if(s.sheet)return s.sheet;for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].ownerNode===s)return document.styleSheets[a]}(i);try{r.insertRule(t,r.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0},n}(),Dl="-ms-",lV="-moz-",Ci="-webkit-",UP="decl",m7="@keyframes",i0e=Math.abs,QM=String.fromCharCode,r0e=Object.assign;function g7(n){return n.trim()}function Pi(n,e,t){return n.replace(e,t)}function W3(n,e){return n.indexOf(e)}function ks(n,e){return 0|n.charCodeAt(e)}function Y_(n,e,t){return n.slice(e,t)}function Uu(n){return n.length}function zP(n){return n.length}function hE(n,e){return e.push(n),n}var JM=1,Oy=1,v7=0,Co=0,es=0,e0="";function eA(n,e,t,i,r,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:JM,column:Oy,length:a,return:""}}function Nb(n,e){return r0e(eA("",null,null,"",null,null,0),n,{length:-n.length},e)}function nl(){return es=Co<v7?ks(e0,Co++):0,Oy++,es===10&&(Oy=1,JM++),es}function Zu(){return ks(e0,Co)}function XE(){return Co}function Px(n,e){return Y_(e0,n,e)}function K_(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y7(n){return JM=Oy=1,v7=Uu(e0=n),Co=0,[]}function b7(n){return e0="",n}function YE(n){return g7(Px(Co-1,X3(n===91?n+2:n===40?n+1:n)))}function s0e(n){for(;(es=Zu())&&es<33;)nl();return K_(n)>2||K_(es)>3?"":" "}function a0e(n,e){for(;--e&&nl()&&!(es<48||es>102||es>57&&es<65||es>70&&es<97););return Px(n,XE()+(e<6&&Zu()==32&&nl()==32))}function X3(n){for(;nl();)switch(es){case n:return Co;case 34:case 39:n!==34&&n!==39&&X3(es);break;case 40:n===41&&X3(n);break;case 92:nl()}return Co}function o0e(n,e){for(;nl()&&n+es!==57&&(n+es!==84||Zu()!==47););return"/*"+Px(e,Co-1)+"*"+QM(n===47?n:nl())}function l0e(n){for(;!K_(Zu());)nl();return Px(n,Co)}function cV(n){return b7(KE("",null,null,null,[""],n=y7(n),0,[0],n))}function KE(n,e,t,i,r,s,a,o,c){for(var u=0,d=0,p=a,v=0,y=0,_=0,w=1,S=1,E=1,A=0,R="",D=r,k=s,N=i,z=R;S;)switch(_=A,A=nl()){case 40:if(_!=108&&ks(z,p-1)==58){W3(z+=Pi(YE(A),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:z+=YE(A);break;case 9:case 10:case 13:case 32:z+=s0e(_);break;case 92:z+=a0e(XE()-1,7);continue;case 47:switch(Zu()){case 42:case 47:hE(c0e(o0e(nl(),XE()),e,t),c);break;default:z+="/"}break;case 123*w:o[u++]=Uu(z)*E;case 125*w:case 59:case 0:switch(A){case 0:case 125:S=0;case 59+d:y>0&&Uu(z)-p&&hE(y>32?hV(z+";",i,t,p-1):hV(Pi(z," ","")+";",i,t,p-2),c);break;case 59:z+=";";default:if(hE(N=uV(z,e,t,u,d,r,o,R,D=[],k=[],p),s),A===123)if(d===0)KE(z,e,N,N,D,s,p,o,k);else switch(v===99&&ks(z,3)===110?100:v){case 100:case 109:case 115:KE(n,N,N,i&&hE(uV(n,N,N,0,0,r,o,R,r,D=[],p),k),r,k,p,o,i?D:k);break;default:KE(z,N,N,N,[""],k,0,o,k)}}u=d=y=0,w=E=1,R=z="",p=a;break;case 58:p=1+Uu(z),y=_;default:if(w<1){if(A==123)--w;else if(A==125&&w++==0&&(es=Co>0?ks(e0,--Co):0,Oy--,es===10&&(Oy=1,JM--),es==125))continue}switch(z+=QM(A),A*w){case 38:E=d>0?1:(z+="\f",-1);break;case 44:o[u++]=(Uu(z)-1)*E,E=1;break;case 64:Zu()===45&&(z+=YE(nl())),v=Zu(),d=p=Uu(R=z+=l0e(XE())),A++;break;case 45:_===45&&Uu(z)==2&&(w=0)}}return s}function uV(n,e,t,i,r,s,a,o,c,u,d){for(var p=r-1,v=r===0?s:[""],y=zP(v),_=0,w=0,S=0;_<i;++_)for(var E=0,A=Y_(n,p+1,p=i0e(w=a[_])),R=n;E<y;++E)(R=g7(w>0?v[E]+" "+A:Pi(A,/&\f/g,v[E])))&&(c[S++]=R);return eA(n,e,t,r===0?"rule":o,c,u,d)}function c0e(n,e,t){return eA(n,e,t,"comm",QM(es),Y_(n,2,-2),0)}function hV(n,e,t,i){return eA(n,e,t,UP,Y_(n,0,i),Y_(n,i+1,-1),i)}function Fm(n,e){for(var t="",i=zP(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function fV(n,e,t,i){switch(n.type){case"@import":case UP:return n.return=n.return||n.value;case"comm":return"";case m7:return n.return=n.value+"{"+Fm(n.children,i)+"}";case"rule":n.value=n.props.join(",")}return Uu(t=Fm(n.children,i))?n.return=n.value+"{"+t+"}":""}function dV(n){var e=zP(n);return function(t,i,r,s){for(var a="",o=0;o<e;o++)a+=n[o](t,i,r,s)||"";return a}}function u0e(n){return function(e){e.root||(e=e.return)&&n(e)}}function _7(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var h0e=function(n,e,t){for(var i=0,r=0;i=r,r=Zu(),i===38&&r===12&&(e[t]=1),!K_(r);)nl();return Px(n,Co)},f0e=function(n,e){return b7(function(t,i){var r=-1,s=44;do switch(K_(s)){case 0:s===38&&Zu()===12&&(i[r]=1),t[r]+=h0e(Co-1,i,r);break;case 2:t[r]+=YE(s);break;case 4:if(s===44){t[++r]=Zu()===58?"&\f":"",i[r]=t[r].length;break}default:t[r]+=QM(s)}while(s=nl());return t}(y7(n),e))},pV=new WeakMap,d0e=function(n){if(n.type==="rule"&&n.parent&&!(n.length<1)){for(var e=n.value,t=n.parent,i=n.column===t.column&&n.line===t.line;t.type!=="rule";)if(!(t=t.parent))return;if((n.props.length!==1||e.charCodeAt(0)===58||pV.get(t))&&!i){pV.set(n,!0);for(var r=[],s=f0e(e,r),a=t.props,o=0,c=0;o<s.length;o++)for(var u=0;u<a.length;u++,c++)n.props[c]=r[o]?s[o].replace(/&\f/g,a[u]):a[u]+" "+s[o]}}},p0e=function(n){if(n.type==="decl"){var e=n.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(n.return="",n.value="")}};function x7(n,e){switch(function(t,i){return 45^ks(t,0)?(((i<<2^ks(t,0))<<2^ks(t,1))<<2^ks(t,2))<<2^ks(t,3):0}(n,e)){case 5103:return Ci+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ci+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ci+n+lV+n+Dl+n+n;case 6828:case 4268:return Ci+n+Dl+n+n;case 6165:return Ci+n+Dl+"flex-"+n+n;case 5187:return Ci+n+Pi(n,/(\w+).+(:[^]+)/,Ci+"box-$1$2-ms-flex-$1$2")+n;case 5443:return Ci+n+Dl+"flex-item-"+Pi(n,/flex-|-self/,"")+n;case 4675:return Ci+n+Dl+"flex-line-pack"+Pi(n,/align-content|flex-|-self/,"")+n;case 5548:return Ci+n+Dl+Pi(n,"shrink","negative")+n;case 5292:return Ci+n+Dl+Pi(n,"basis","preferred-size")+n;case 6060:return Ci+"box-"+Pi(n,"-grow","")+Ci+n+Dl+Pi(n,"grow","positive")+n;case 4554:return Ci+Pi(n,/([^-])(transform)/g,"$1"+Ci+"$2")+n;case 6187:return Pi(Pi(Pi(n,/(zoom-|grab)/,Ci+"$1"),/(image-set)/,Ci+"$1"),n,"")+n;case 5495:case 3959:return Pi(n,/(image-set\([^]*)/,Ci+"$1$`$1");case 4968:return Pi(Pi(n,/(.+:)(flex-)?(.*)/,Ci+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ci+n+n;case 4095:case 3583:case 4068:case 2532:return Pi(n,/(.+)-inline(.+)/,Ci+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Uu(n)-1-e>6)switch(ks(n,e+1)){case 109:if(ks(n,e+4)!==45)break;case 102:return Pi(n,/(.+:)(.+)-([^]+)/,"$1"+Ci+"$2-$3$1"+lV+(ks(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~W3(n,"stretch")?x7(Pi(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ks(n,e+1)!==115)break;case 6444:switch(ks(n,Uu(n)-3-(~W3(n,"!important")&&10))){case 107:return Pi(n,":",":"+Ci)+n;case 101:return Pi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ci+(ks(n,14)===45?"inline-":"")+"box$3$1"+Ci+"$2$3$1-ms-$2box$3")+n}break;case 5936:switch(ks(n,e+11)){case 114:return Ci+n+Dl+Pi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ci+n+Dl+Pi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ci+n+Dl+Pi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ci+n+Dl+n+n}return n}var mV,fE,$E=typeof document<"u",m0e=$E?void 0:(mV=function(){return _7(function(){var n={};return function(e){return n[e]}})},fE=new WeakMap,function(n){if(fE.has(n))return fE.get(n);var e=mV(n);return fE.set(n,e),e}),g0e=[function(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case UP:n.return=x7(n.value,n.length);break;case m7:return Fm([Nb(n,{value:Pi(n.value,"@","@"+Ci)})],i);case"rule":if(n.length)return function(r,s){return r.map(s).join("")}(n.props,function(r){switch(function(s,a){return(s=a.exec(s))?s[0]:s}(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fm([Nb(n,{props:[Pi(r,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return Fm([Nb(n,{props:[Pi(r,/:(plac\w+)/,":"+Ci+"input-$1")]}),Nb(n,{props:[Pi(r,/:(plac\w+)/,":-moz-$1")]}),Nb(n,{props:[Pi(r,/:(plac\w+)/,"-ms-input-$1")]})],i)}return""})}}],S7=function(n){var e=n.key;if($E&&e==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(E){E.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=n.stylisPlugins||g0e,r,s,a={},o=[];$E&&(r=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(E){for(var A=E.getAttribute("data-emotion").split(" "),R=1;R<A.length;R++)a[A[R]]=!0;o.push(E)}));var c=[d0e,p0e];if($E){var u,d=[fV,u0e(function(E){u.insert(E)})],p=dV(c.concat(i,d));s=function(E,A,R,D){u=R,Fm(cV(E?E+"{"+A.styles+"}":A.styles),p),D&&(S.inserted[A.name]=!0)}}else{var v=[fV],y=dV(c.concat(i,v)),_=m0e(i)(e),w=function(E,A){var R=A.name;return _[R]===void 0&&(_[R]=Fm(cV(E?E+"{"+A.styles+"}":A.styles),y)),_[R]};s=function(E,A,R,D){var k=A.name,N=w(E,A);return S.compat===void 0?(D&&(S.inserted[k]=!0),N):D?void(S.inserted[k]=N):N}}var S={key:e,sheet:new n0e({key:e,container:r,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:a,registered:{},insert:s};return S.sheet.hydrate(o),S};function Ii(n,e,t){return n(t={path:e,exports:{},require:function(i,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(r==null&&t.path)}},t.exports),t.exports}var Os=typeof Symbol=="function"&&Symbol.for,Y3=Os?Symbol.for("react.element"):60103,K3=Os?Symbol.for("react.portal"):60106,ZE=Os?Symbol.for("react.fragment"):60107,QE=Os?Symbol.for("react.strict_mode"):60108,JE=Os?Symbol.for("react.profiler"):60114,ew=Os?Symbol.for("react.provider"):60109,tw=Os?Symbol.for("react.context"):60110,$3=Os?Symbol.for("react.async_mode"):60111,MT=Os?Symbol.for("react.concurrent_mode"):60111,nw=Os?Symbol.for("react.forward_ref"):60112,iw=Os?Symbol.for("react.suspense"):60113,v0e=Os?Symbol.for("react.suspense_list"):60120,rw=Os?Symbol.for("react.memo"):60115,sw=Os?Symbol.for("react.lazy"):60116,y0e=Os?Symbol.for("react.block"):60121,b0e=Os?Symbol.for("react.fundamental"):60117,_0e=Os?Symbol.for("react.responder"):60118,x0e=Os?Symbol.for("react.scope"):60119;function Ko(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Y3:switch(n=n.type){case $3:case MT:case ZE:case JE:case QE:case iw:return n;default:switch(n=n&&n.$$typeof){case tw:case nw:case sw:case rw:case ew:return n;default:return e}}case K3:return e}}}function gV(n){return Ko(n)===MT}var S0e={AsyncMode:$3,ConcurrentMode:MT,ContextConsumer:tw,ContextProvider:ew,Element:Y3,ForwardRef:nw,Fragment:ZE,Lazy:sw,Memo:rw,Portal:K3,Profiler:JE,StrictMode:QE,Suspense:iw,isAsyncMode:function(n){return gV(n)||Ko(n)===$3},isConcurrentMode:gV,isContextConsumer:function(n){return Ko(n)===tw},isContextProvider:function(n){return Ko(n)===ew},isElement:function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Y3},isForwardRef:function(n){return Ko(n)===nw},isFragment:function(n){return Ko(n)===ZE},isLazy:function(n){return Ko(n)===sw},isMemo:function(n){return Ko(n)===rw},isPortal:function(n){return Ko(n)===K3},isProfiler:function(n){return Ko(n)===JE},isStrictMode:function(n){return Ko(n)===QE},isSuspense:function(n){return Ko(n)===iw},isValidElementType:function(n){return typeof n=="string"||typeof n=="function"||n===ZE||n===MT||n===JE||n===QE||n===iw||n===v0e||typeof n=="object"&&n!==null&&(n.$$typeof===sw||n.$$typeof===rw||n.$$typeof===ew||n.$$typeof===tw||n.$$typeof===nw||n.$$typeof===b0e||n.$$typeof===_0e||n.$$typeof===x0e||n.$$typeof===y0e)},typeOf:Ko};Ii(function(n,e){});var vV=Ii(function(n){n.exports=S0e}),yV={};yV[vV.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yV[vV.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Z3=typeof document<"u";function E7(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):i+=r+" "}),i}var VP=function(n,e,t){var i=n.key+"-"+e.name;(t===!1||Z3===!1&&n.compat!==void 0)&&n.registered[i]===void 0&&(n.registered[i]=e.styles)},BP=function(n,e,t){VP(n,e,t);var i=n.key+"-"+e.name;if(n.inserted[e.name]===void 0){var r="",s=e;do{var a=n.insert(e===s?"."+i:"",s,n.sheet,!0);Z3||a===void 0||(r+=a),s=s.next}while(s!==void 0);if(!Z3&&r.length!==0)return r}},E0e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},w0e=/[A-Z]|^ms/g,T0e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w7=function(n){return n.charCodeAt(1)===45},bV=function(n){return n!=null&&typeof n!="boolean"},iD=_7(function(n){return w7(n)?n:n.replace(w0e,"-$&").toLowerCase()}),_V=function(n,e){switch(n){case"animation":case"animationName":if(typeof e=="string")return e.replace(T0e,function(t,i,r){return zu={name:i,styles:r,next:zu},i})}return E0e[n]===1||w7(n)||typeof e!="number"||e===0?e:e+"px"};function h_(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":if(t.anim===1)return zu={name:t.name,styles:t.styles,next:zu},t.name;if(t.styles!==void 0){var i=t.next;if(i!==void 0)for(;i!==void 0;)zu={name:i.name,styles:i.styles,next:zu},i=i.next;var r=t.styles+";";return r}return function(c,u,d){var p="";if(Array.isArray(d))for(var v=0;v<d.length;v++)p+=h_(c,u,d[v])+";";else for(var y in d){var _=d[y];if(typeof _!="object")u!=null&&u[_]!==void 0?p+=y+"{"+u[_]+"}":bV(_)&&(p+=iD(y)+":"+_V(y,_)+";");else if(!Array.isArray(_)||typeof _[0]!="string"||u!=null&&u[_[0]]!==void 0){var w=h_(c,u,_);switch(y){case"animation":case"animationName":p+=iD(y)+":"+w+";";break;default:p+=y+"{"+w+"}"}}else for(var S=0;S<_.length;S++)bV(_[S])&&(p+=iD(y)+":"+_V(y,_[S])+";")}return p}(n,e,t);case"function":if(n!==void 0){var s=zu,a=t(n);return zu=s,h_(n,e,a)}break}if(e==null)return t;var o=e[t];return o!==void 0?o:t}var zu,xV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tA=function(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";zu=void 0;var s=n[0];s==null||s.raw===void 0?(i=!1,r+=h_(t,e,s)):r+=s[0];for(var a=1;a<n.length;a++)r+=h_(t,e,n[a]),i&&(r+=s[a]);xV.lastIndex=0;for(var o,c="";(o=xV.exec(r))!==null;)c+="-"+o[1];var u=function(d){for(var p,v=0,y=0,_=d.length;_>=4;++y,_-=4)p=1540483477*(65535&(p=255&d.charCodeAt(y)|(255&d.charCodeAt(++y))<<8|(255&d.charCodeAt(++y))<<16|(255&d.charCodeAt(++y))<<24))+(59797*(p>>>16)<<16),v=1540483477*(65535&(p^=p>>>24))+(59797*(p>>>16)<<16)^1540483477*(65535&v)+(59797*(v>>>16)<<16);switch(_){case 3:v^=(255&d.charCodeAt(y+2))<<16;case 2:v^=(255&d.charCodeAt(y+1))<<8;case 1:v=1540483477*(65535&(v^=255&d.charCodeAt(y)))+(59797*(v>>>16)<<16)}return(((v=1540483477*(65535&(v^=v>>>13))+(59797*(v>>>16)<<16))^v>>>15)>>>0).toString(36)}(r)+c;return{name:u,styles:r,next:zu}},M0e=typeof document<"u",A0e=function(n){return n()},T7=!!B.useInsertionEffect&&B.useInsertionEffect,M7=M0e&&T7||A0e,SV=T7||B.useLayoutEffect,fy=typeof document<"u",kP={}.hasOwnProperty,AT=B.createContext(typeof HTMLElement<"u"?S7({key:"css"}):null);AT.Provider;var nA=function(n){return B.forwardRef(function(e,t){var i=B.useContext(AT);return n(e,i,t)})};fy||(nA=function(n){return function(e){var t=B.useContext(AT);return t===null?(t=S7({key:"css"}),B.createElement(AT.Provider,{value:t},n(e,t))):n(e,t)}});var FP=B.createContext({}),Q3="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",C0e=function(n,e){var t={};for(var i in e)kP.call(e,i)&&(t[i]=e[i]);return t[Q3]=n,t},R0e=function(n){var e=n.cache,t=n.serialized,i=n.isStringTag;VP(e,t,i);var r=M7(function(){return BP(e,t,i)});if(!fy&&r!==void 0){for(var s,a=t.name,o=t.next;o!==void 0;)a+=" "+o.name,o=o.next;return B.createElement("style",((s={})["data-emotion"]=e.key+" "+a,s.dangerouslySetInnerHTML={__html:r},s.nonce=e.sheet.nonce,s))}return null},D0e=nA(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[Q3],s=[i],a="";typeof n.className=="string"?a=E7(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var o=tA(s,void 0,B.useContext(FP));a+=e.key+"-"+o.name;var c={};for(var u in n)!kP.call(n,u)||u==="css"||u===Q3||(c[u]=n[u]);return c.ref=t,c.className=a,B.createElement(B.Fragment,null,B.createElement(R0e,{cache:e,serialized:o,isStringTag:typeof r=="string"}),B.createElement(r,c))});Ii(function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(this,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports});var mn=function(n,e){var t=arguments;if(e==null||!kP.call(e,"css"))return B.createElement.apply(void 0,t);var i=t.length,r=new Array(i);r[0]=D0e,r[1]=C0e(n,e);for(var s=2;s<i;s++)r[s]=t[s];return B.createElement.apply(null,r)};nA(function(n,e){var t=n.styles,i=tA([t],void 0,B.useContext(FP));if(!fy){for(var r,s=i.name,a=i.styles,o=i.next;o!==void 0;)s+=" "+o.name,a+=o.styles,o=o.next;var c=e.compat===!0,u=e.insert("",{name:s,styles:a},e.sheet,c);return c?null:B.createElement("style",((r={})["data-emotion"]=e.key+"-global "+s,r.dangerouslySetInnerHTML={__html:u},r.nonce=e.sheet.nonce,r))}var d=B.useRef();return SV(function(){var p=e.key+"-global",v=new e.sheet.constructor({key:p,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),y=!1,_=document.querySelector('style[data-emotion="'+p+" "+i.name+'"]');return e.sheet.tags.length&&(v.before=e.sheet.tags[0]),_!==null&&(y=!0,_.setAttribute("data-emotion",p),v.hydrate([_])),d.current=[v,y],function(){v.flush()}},[e]),SV(function(){var p=d.current,v=p[0];if(p[1])p[1]=!1;else{if(i.next!==void 0&&BP(e,i.next,!0),v.tags.length){var y=v.tags[v.tags.length-1].nextElementSibling;v.before=y,v.flush()}e.insert("",i,v,!1)}},[e,i.name]),null});function HP(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return tA(e)}var O0e=function n(e){for(var t=e.length,i=0,r="";i<t;i++){var s=e[i];if(s!=null){var a=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))a=n(s);else for(var o in a="",s)s[o]&&o&&(a&&(a+=" "),a+=o);break;default:a=s}a&&(r&&(r+=" "),r+=a)}}return r};function N0e(n,e,t){var i=[],r=E7(n,i,t);return i.length<2?t:r+e(i)}var P0e=function(n){var e,t=n.cache,i=n.serializedArr,r=M7(function(){for(var s="",a=0;a<i.length;a++){var o=BP(t,i[a],!1);fy||o===void 0||(s+=o)}if(!fy)return s});return fy||r.length===0?null:B.createElement("style",((e={})["data-emotion"]=t.key+" "+i.map(function(s){return s.name}).join(" "),e.dangerouslySetInnerHTML={__html:r},e.nonce=t.sheet.nonce,e))};nA(function(n,e){var t=[],i=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var u=tA(o,e.registered);return t.push(u),VP(e,u,!1),e.key+"-"+u.name},r={css:i,cx:function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return N0e(e.registered,i,O0e(o))},theme:B.useContext(FP)},s=n.children(r);return B.createElement(B.Fragment,null,B.createElement(P0e,{cache:e,serializedArr:t}),s)});function As(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,o,c,u=[],d=!0,p=!1;try{if(o=(r=r.call(t)).next,i===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(s=o.call(r)).done)&&(u.push(s.value),u.length!==i);d=!0);}catch(v){p=!0,a=v}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}(n,e)||p7(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bu(n,e){if(n==null)return{};var t,i,r=function(a,o){if(a==null)return{};var c,u,d={},p=Object.keys(a);for(u=0;u<p.length;u++)c=p[u],o.indexOf(c)>=0||(d[c]=a[c]);return d}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function cf(n){var e;return((e=n.ownerDocument)==null?void 0:e.defaultView)||window}function A7(n){return cf(n).getComputedStyle(n)}const dE=Math.round;function C7(n){return D7(n)?(n.nodeName||"").toLowerCase():""}let pE;function R7(n){return n instanceof cf(n).HTMLElement}function aw(n){return n instanceof cf(n).Element}function D7(n){return n instanceof cf(n).Node}function EV(n){return typeof ShadowRoot>"u"?!1:n instanceof cf(n).ShadowRoot||n instanceof ShadowRoot}function O7(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=A7(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function I0e(){return/^((?!chrome|android).)*safari/i.test(function(){if(pE)return pE;const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?(pE=n.brands.map(e=>e.brand+"/"+e.version).join(" "),pE):navigator.userAgent}())}function N7(n){return aw(n)?n:n.contextElement}const P7={x:1,y:1};function wV(n){const e=N7(n);if(!R7(e))return P7;const t=e.getBoundingClientRect(),{width:i,height:r,fallback:s}=function(c){const u=A7(c);let d=parseFloat(u.width),p=parseFloat(u.height);const v=c.offsetWidth,y=c.offsetHeight,_=dE(d)!==v||dE(p)!==y;return _&&(d=v,p=y),{width:d,height:p,fallback:_}}(e);let a=(s?dE(t.width):t.width)/i,o=(s?dE(t.height):t.height)/r;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}function TV(n,e,t,i){var r,s;e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=N7(n);let c=P7;e&&(c=wV(n));const u=o?cf(o):window,d=I0e()&&t;let p=(a.left+(d&&((r=u.visualViewport)==null?void 0:r.offsetLeft)||0))/c.x,v=(a.top+(d&&((s=u.visualViewport)==null?void 0:s.offsetTop)||0))/c.y,y=a.width/c.x,_=a.height/c.y;if(o){const w=cf(o),S=i;let E=w.frameElement;for(;E&&i&&S!==w;){const A=wV(E),R=E.getBoundingClientRect(),D=getComputedStyle(E);R.x+=(E.clientLeft+parseFloat(D.paddingLeft))*A.x,R.y+=(E.clientTop+parseFloat(D.paddingTop))*A.y,p*=A.x,v*=A.y,y*=A.x,_*=A.y,p+=R.x,v+=R.y,E=cf(E).frameElement}}return{width:y,height:_,top:v,right:p+y,bottom:v+_,left:p,x:p,y:v}}function L0e(n){if(C7(n)==="html")return n;const e=n.assignedSlot||n.parentNode||EV(n)&&n.host||function(t){return((D7(t)?t.ownerDocument:t.document)||window.document).documentElement}(n);return EV(e)?e.host:e}function I7(n){const e=L0e(n);return function(t){return["html","body","#document"].includes(C7(t))}(e)?e.ownerDocument.body:R7(e)&&O7(e)?e:I7(e)}function ow(n,e){var t;e===void 0&&(e=[]);const i=I7(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=cf(i);return r?e.concat(s,s.visualViewport||[],O7(i)?i:[]):e.concat(i,ow(i))}var J3=typeof document<"u"?B.useLayoutEffect:B.useEffect,U0e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],CT=function(){};function z0e(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function V0e(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=[].concat(i);if(e&&n)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(z0e(n,a)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var MV=function(n){return e=n,Array.isArray(e)?n.filter(Boolean):km(n)==="object"&&n!==null?[n]:[];var e},AV=function(n){return n.className,n.clearValue,n.cx,n.getStyles,n.getClassNames,n.getValue,n.hasValue,n.isMulti,n.isRtl,n.options,n.selectOption,n.selectProps,n.setValue,n.theme,un({},Bu(n,U0e))},Ur=function(n,e,t){var i=n.cx,r=n.getStyles,s=n.getClassNames,a=n.className;return{css:r(e,n),className:i(t??{},s(e,n),a)}};function iA(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function L7(n){return iA(n)?window.pageYOffset:n.scrollTop}function RT(n,e){iA(n)?window.scrollTo(0,e):n.scrollTop=e}function B0e(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function mE(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:CT,r=L7(n),s=e-r,a=10,o=0;function c(){var u=B0e(o+=a,r,s,t);RT(n,u),o<t?window.requestAnimationFrame(c):i(n)}c()}function CV(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=e.offsetHeight/3;i.bottom+r>t.bottom?RT(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+r,n.scrollHeight)):i.top-r<t.top&&RT(n,Math.max(e.offsetTop-r,0))}function RV(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var U7=!1,k0e={get passive(){return U7=!0}},gE=typeof window<"u"?window:{};gE.addEventListener&&gE.removeEventListener&&(gE.addEventListener("p",CT,k0e),gE.removeEventListener("p",CT,!1));var F0e=U7;function H0e(n){return n!=null}function vE(n,e,t){return n?e:t}var j0e=["children","innerProps"],G0e=["children","innerProps"];function q0e(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,r=n.placement,s=n.shouldScroll,a=n.isFixedPosition,o=n.controlHeight,c=function(de){var K=getComputedStyle(de),ue=K.position==="absolute",ne=/(auto|scroll)/;if(K.position==="fixed")return document.documentElement;for(var ve=de;ve=ve.parentElement;)if(K=getComputedStyle(ve),(!ue||K.position!=="static")&&ne.test(K.overflow+K.overflowY+K.overflowX))return ve;return document.documentElement}(t),u={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return u;var d,p=c.getBoundingClientRect().height,v=t.getBoundingClientRect(),y=v.bottom,_=v.height,w=v.top,S=t.offsetParent.getBoundingClientRect().top,E=a||iA(d=c)?window.innerHeight:d.clientHeight,A=L7(c),R=parseInt(getComputedStyle(t).marginBottom,10),D=parseInt(getComputedStyle(t).marginTop,10),k=S-D,N=E-w,z=k+A,V=p-A-w,I=y-E+A+R,L=A+w-D,j=160;switch(r){case"auto":case"bottom":if(N>=_)return{placement:"bottom",maxHeight:e};if(V>=_&&!a)return s&&mE(c,I,j),{placement:"bottom",maxHeight:e};if(!a&&V>=i||a&&N>=i)return s&&mE(c,I,j),{placement:"bottom",maxHeight:a?N-R:V-R};if(r==="auto"||a){var X=e,G=a?k:z;return G>=i&&(X=Math.min(G-R-o,e)),{placement:"top",maxHeight:X}}if(r==="bottom")return s&&RT(c,I),{placement:"bottom",maxHeight:e};break;case"top":if(k>=_)return{placement:"top",maxHeight:e};if(z>=_&&!a)return s&&mE(c,L,j),{placement:"top",maxHeight:e};if(!a&&z>=i||a&&k>=i){var re=e;return(!a&&z>=i||a&&k>=i)&&(re=a?k-D:z-D),s&&mE(c,L,j),{placement:"top",maxHeight:re}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return u}var DV,z7=function(n){return n==="auto"?"bottom":n},V7=B.createContext(null),W0e=function(n){var e=n.children,t=n.minMenuHeight,i=n.maxMenuHeight,r=n.menuPlacement,s=n.menuPosition,a=n.menuShouldScrollIntoView,o=n.theme,c=(B.useContext(V7)||{}).setPortalPlacement,u=B.useRef(null),d=As(B.useState(i),2),p=d[0],v=d[1],y=As(B.useState(null),2),_=y[0],w=y[1],S=o.spacing.controlHeight;return J3(function(){var E=u.current;if(E){var A=s==="fixed",R=q0e({maxHeight:i,menuEl:E,minHeight:t,placement:r,shouldScroll:a&&!A,isFixedPosition:A,controlHeight:S});v(R.maxHeight),w(R.placement),c==null||c(R.placement)}},[i,r,s,a,t,c,S]),e({ref:u,placerProps:un(un({},n),{},{placement:_||z7(r),maxHeight:p})})},X0e=function(n){var e=n.children,t=n.innerRef,i=n.innerProps;return mn("div",xn({},Ur(n,"menu",{menu:!0}),{ref:t},i),e)},B7=function(n,e){var t=n.theme,i=t.spacing.baseUnit,r=t.colors;return un({textAlign:"center"},e?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},Y0e=B7,K0e=B7,$0e=["size"],Z0e=["innerProps","isRtl","size"],rD,sD,Q0e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},k7=function(n){var e=n.size,t=Bu(n,$0e);return mn("svg",xn({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Q0e},t))},aD=function(n){return mn(k7,xn({size:20},n),mn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},OV=function(n){return mn(k7,xn({size:20},n),mn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},F7=function(n,e){var t=n.isFocused,i=n.theme,r=i.spacing.baseUnit,s=i.colors;return un({label:"indicatorContainer",display:"flex",transition:"color 150ms"},e?{}:{color:t?s.neutral60:s.neutral20,padding:2*r,":hover":{color:t?s.neutral80:s.neutral40}})},J0e=F7,ebe=F7,tbe=function(){var n=HP.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(DV||(rD=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],sD||(sD=rD.slice(0)),DV=Object.freeze(Object.defineProperties(rD,{raw:{value:Object.freeze(sD)}})))),oD=function(n){var e=n.delay,t=n.offset;return mn("span",{css:HP({animation:"".concat(tbe," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:t?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},nbe=function(n){var e=n.children,t=n.isDisabled,i=n.isFocused,r=n.innerRef,s=n.innerProps,a=n.menuIsOpen;return mn("div",xn({ref:r},Ur(n,"control",{control:!0,"control--is-disabled":t,"control--is-focused":i,"control--menu-is-open":a}),s,{"aria-disabled":t||void 0}),e)},ibe=["data"],rbe=function(n){var e=n.children,t=n.cx,i=n.getStyles,r=n.getClassNames,s=n.Heading,a=n.headingProps,o=n.innerProps,c=n.label,u=n.theme,d=n.selectProps;return mn("div",xn({},Ur(n,"group",{group:!0}),o),mn(s,xn({},a,{selectProps:d,theme:u,getStyles:i,getClassNames:r,cx:t}),c),mn("div",null,e))},sbe=["innerRef","isDisabled","isHidden","inputClassName"],H7={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},abe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":un({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},H7)},obe=function(n){return un({label:"input",color:"inherit",background:0,opacity:n?0:1,width:"100%"},H7)},NV=function(n){var e=n.children,t=n.innerProps;return mn("div",t,e)},lbe=function(n){var e=n.children,t=n.components,i=n.data,r=n.innerProps,s=n.isDisabled,a=n.removeProps,o=n.selectProps,c=t.Container,u=t.Label,d=t.Remove;return mn(c,{data:i,innerProps:un(un({},Ur(n,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),r),selectProps:o},mn(u,{data:i,innerProps:un({},Ur(n,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},e),mn(d,{data:i,innerProps:un(un({},Ur(n,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(e||"option")},a),selectProps:o}))},cbe={ClearIndicator:function(n){var e=n.children,t=n.innerProps;return mn("div",xn({},Ur(n,"clearIndicator",{indicator:!0,"clear-indicator":!0}),t),e||mn(aD,null))},Control:nbe,DropdownIndicator:function(n){var e=n.children,t=n.innerProps;return mn("div",xn({},Ur(n,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),t),e||mn(OV,null))},DownChevron:OV,CrossIcon:aD,Group:rbe,GroupHeading:function(n){var e=AV(n);e.data;var t=Bu(e,ibe);return mn("div",xn({},Ur(n,"groupHeading",{"group-heading":!0}),t))},IndicatorsContainer:function(n){var e=n.children,t=n.innerProps;return mn("div",xn({},Ur(n,"indicatorsContainer",{indicators:!0}),t),e)},IndicatorSeparator:function(n){var e=n.innerProps;return mn("span",xn({},e,Ur(n,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(n){var e=n.cx,t=n.value,i=AV(n),r=i.innerRef,s=i.isDisabled,a=i.isHidden,o=i.inputClassName,c=Bu(i,sbe);return mn("div",xn({},Ur(n,"input",{"input-container":!0}),{"data-value":t||""}),mn("input",xn({className:e({input:!0},o),ref:r,style:obe(a),disabled:s},c)))},LoadingIndicator:function(n){var e=n.innerProps,t=n.isRtl,i=n.size,r=i===void 0?4:i,s=Bu(n,Z0e);return mn("div",xn({},Ur(un(un({},s),{},{innerProps:e,isRtl:t,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),e),mn(oD,{delay:0,offset:t}),mn(oD,{delay:160,offset:!0}),mn(oD,{delay:320,offset:!t}))},Menu:X0e,MenuList:function(n){var e=n.children,t=n.innerProps,i=n.innerRef,r=n.isMulti;return mn("div",xn({},Ur(n,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},t),e)},MenuPortal:function(n){var e=n.appendTo,t=n.children,i=n.controlElement,r=n.innerProps,s=n.menuPlacement,a=n.menuPosition,o=B.useRef(null),c=B.useRef(null),u=As(B.useState(z7(s)),2),d=u[0],p=u[1],v=B.useMemo(function(){return{setPortalPlacement:p}},[]),y=As(B.useState(null),2),_=y[0],w=y[1],S=B.useCallback(function(){if(i){var D=function(z){var V=z.getBoundingClientRect();return{bottom:V.bottom,height:V.height,left:V.left,right:V.right,top:V.top,width:V.width}}(i),k=a==="fixed"?0:window.pageYOffset,N=D[d]+k;N===(_==null?void 0:_.offset)&&D.left===(_==null?void 0:_.rect.left)&&D.width===(_==null?void 0:_.rect.width)||w({offset:N,rect:D})}},[i,a,d,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);J3(function(){S()},[S]);var E=B.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&o.current&&(c.current=function(D,k,N,z){z===void 0&&(z={});const{ancestorScroll:V=!0,ancestorResize:I=!0,elementResize:L=!0,animationFrame:j=!1}=z,X=V&&!j,G=X||I?[...aw(D)?ow(D):D.contextElement?ow(D.contextElement):[],...ow(k)]:[];G.forEach(ue=>{X&&ue.addEventListener("scroll",N,{passive:!0}),I&&ue.addEventListener("resize",N)});let re,de=null;if(L){let ue=!0;de=new ResizeObserver(()=>{ue||N(),ue=!1}),aw(D)&&!j&&de.observe(D),aw(D)||!D.contextElement||j||de.observe(D.contextElement),de.observe(k)}let K=j?TV(D):null;return j&&function ue(){const ne=TV(D);!K||ne.x===K.x&&ne.y===K.y&&ne.width===K.width&&ne.height===K.height||N(),K=ne,re=requestAnimationFrame(ue)}(),N(),()=>{var ue;G.forEach(ne=>{X&&ne.removeEventListener("scroll",N),I&&ne.removeEventListener("resize",N)}),(ue=de)==null||ue.disconnect(),de=null,j&&cancelAnimationFrame(re)}}(i,o.current,S,{elementResize:"ResizeObserver"in window}))},[i,S]);J3(function(){E()},[E]);var A=B.useCallback(function(D){o.current=D,E()},[E]);if(!e&&a!=="fixed"||!_)return null;var R=mn("div",xn({ref:A},Ur(un(un({},n),{},{offset:_.offset,position:a,rect:_.rect}),"menuPortal",{"menu-portal":!0}),r),t);return mn(V7.Provider,{value:v},e?fx.createPortal(R,e):R)},LoadingMessage:function(n){var e=n.children,t=e===void 0?"Loading...":e,i=n.innerProps,r=Bu(n,G0e);return mn("div",xn({},Ur(un(un({},r),{},{children:t,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),t)},NoOptionsMessage:function(n){var e=n.children,t=e===void 0?"No options":e,i=n.innerProps,r=Bu(n,j0e);return mn("div",xn({},Ur(un(un({},r),{},{children:t,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),t)},MultiValue:lbe,MultiValueContainer:NV,MultiValueLabel:NV,MultiValueRemove:function(n){var e=n.children,t=n.innerProps;return mn("div",xn({role:"button"},t),e||mn(aD,{size:14}))},Option:function(n){var e=n.children,t=n.isDisabled,i=n.isFocused,r=n.isSelected,s=n.innerRef,a=n.innerProps;return mn("div",xn({},Ur(n,"option",{option:!0,"option--is-disabled":t,"option--is-focused":i,"option--is-selected":r}),{ref:s,"aria-disabled":t},a),e)},Placeholder:function(n){var e=n.children,t=n.innerProps;return mn("div",xn({},Ur(n,"placeholder",{placeholder:!0}),t),e)},SelectContainer:function(n){var e=n.children,t=n.innerProps,i=n.isDisabled,r=n.isRtl;return mn("div",xn({},Ur(n,"container",{"--is-disabled":i,"--is-rtl":r}),t),e)},SingleValue:function(n){var e=n.children,t=n.isDisabled,i=n.innerProps;return mn("div",xn({},Ur(n,"singleValue",{"single-value":!0,"single-value--is-disabled":t}),i),e)},ValueContainer:function(n){var e=n.children,t=n.innerProps,i=n.isMulti,r=n.hasValue;return mn("div",xn({},Ur(n,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),t),e)}},PV=Number.isNaN||function(n){return typeof n=="number"&&n!=n};function ube(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(i=n[t],r=e[t],!(i===r||PV(i)&&PV(r)))return!1;var i,r;return!0}for(var hbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},IV=function(n){return mn("span",xn({css:hbe},n))},fbe={guidance:function(n){var e=n.isSearchable,t=n.isMulti,i=n.tabSelectsValue,r=n.context,s=n.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(n["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(t?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(n){var e=n.action,t=n.label,i=t===void 0?"":t,r=n.labels,s=n.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(n){var e=n.context,t=n.focused,i=n.options,r=n.label,s=r===void 0?"":r,a=n.selectValue,o=n.isDisabled,c=n.isSelected,u=n.isAppleDevice,d=function(y,_){return y&&y.length?"".concat(y.indexOf(_)+1," of ").concat(y.length):""};if(e==="value"&&a)return"value ".concat(s," focused, ").concat(d(a,t),".");if(e==="menu"&&u){var p=o?" disabled":"",v="".concat(c?" selected":"").concat(p);return"".concat(s).concat(v,", ").concat(d(i,t),".")}return""},onFilter:function(n){var e=n.inputValue,t=n.resultsMessage;return"".concat(t).concat(e?" for search term "+e:"",".")}},dbe=function(n){var e=n.ariaSelection,t=n.focusedOption,i=n.focusedValue,r=n.focusableOptions,s=n.isFocused,a=n.selectValue,o=n.selectProps,c=n.id,u=n.isAppleDevice,d=o.ariaLiveMessages,p=o.getOptionLabel,v=o.inputValue,y=o.isMulti,_=o.isOptionDisabled,w=o.isSearchable,S=o.menuIsOpen,E=o.options,A=o.screenReaderStatus,R=o.tabSelectsValue,D=o.isLoading,k=o["aria-label"],N=o["aria-live"],z=B.useMemo(function(){return un(un({},fbe),d||{})},[d]),V=B.useMemo(function(){var re,de="";if(e&&z.onChange){var K=e.option,ue=e.options,ne=e.removedValue,ve=e.removedValues,Z=e.value,le=ne||K||(re=Z,Array.isArray(re)?null:re),Ae=le?p(le):"",De=ue||ve||void 0,oe=De?De.map(p):[],Oe=un({isDisabled:le&&_(le,a),label:Ae,labels:oe},e);de=z.onChange(Oe)}return de},[e,z,_,a,p]),I=B.useMemo(function(){var re="",de=t||i,K=!!(t&&a&&a.includes(t));if(de&&z.onFocus){var ue={focused:de,label:p(de),isDisabled:_(de,a),isSelected:K,options:r,context:de===t?"menu":"value",selectValue:a,isAppleDevice:u};re=z.onFocus(ue)}return re},[t,i,p,_,z,r,a,u]),L=B.useMemo(function(){var re="";if(S&&E.length&&!D&&z.onFilter){var de=A({count:r.length});re=z.onFilter({inputValue:v,resultsMessage:de})}return re},[r,v,S,z,E,A,D]),j=(e==null?void 0:e.action)==="initial-input-focus",X=B.useMemo(function(){var re="";if(z.guidance){var de=i?"value":S?"menu":"input";re=z.guidance({"aria-label":k,context:de,isDisabled:t&&_(t,a),isMulti:y,isSearchable:w,tabSelectsValue:R,isInitialFocus:j})}return re},[k,t,i,y,_,w,S,z,a,R,j]),G=mn(B.Fragment,null,mn("span",{id:"aria-selection"},V),mn("span",{id:"aria-focused"},I),mn("span",{id:"aria-results"},L),mn("span",{id:"aria-guidance"},X));return mn(B.Fragment,null,mn(IV,{id:c},j&&G),mn(IV,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!j&&G))},lD=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],pbe=new RegExp("["+lD.map(function(n){return n.letters}).join("")+"]","g"),j7={},cD=0;cD<lD.length;cD++)for(var uD=lD[cD],hD=0;hD<uD.letters.length;hD++)j7[uD.letters[hD]]=uD.base;var G7=function(n){return n.replace(pbe,function(e){return j7[e]})},mbe=function(n,e){e===void 0&&(e=ube);var t=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(t&&t.lastThis===this&&e(r,t.lastArgs))return t.lastResult;var a=n.apply(this,r);return t={lastResult:a,lastArgs:r,lastThis:this},a}return i.clear=function(){t=null},i}(G7),LV=function(n){return n.replace(/^\s+|\s+$/g,"")},gbe=function(n){return"".concat(n.label," ").concat(n.value)},vbe=["innerRef"];function ybe(n){var e=n.innerRef,t=function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];var o=Object.entries(i).filter(function(c){var u=As(c,1)[0];return!s.includes(u)});return o.reduce(function(c,u){var d=As(u,2),p=d[0],v=d[1];return c[p]=v,c},{})}(Bu(n,vbe),"onExited","in","enter","exit","appear");return mn("input",xn({ref:e},t,{css:HP({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var UV=["boxSizing","height","overflow","paddingRight","position"],zV={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function VV(n){n.preventDefault()}function BV(n){n.stopPropagation()}function kV(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function FV(){return"ontouchstart"in window||navigator.maxTouchPoints}var HV=!(typeof window>"u"||!window.document||!window.document.createElement),Pb=0,zv={capture:!1,passive:!1},bbe=function(n){var e=n.target;return e.ownerDocument.activeElement&&e.ownerDocument.activeElement.blur()},_be={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function xbe(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,r=function(a){var o=a.isEnabled,c=a.onBottomArrive,u=a.onBottomLeave,d=a.onTopArrive,p=a.onTopLeave,v=B.useRef(!1),y=B.useRef(!1),_=B.useRef(0),w=B.useRef(null),S=B.useCallback(function(N,z){if(w.current!==null){var V=w.current,I=V.scrollTop,L=V.scrollHeight,j=V.clientHeight,X=w.current,G=z>0,re=L-j-I,de=!1;re>z&&v.current&&(u&&u(N),v.current=!1),G&&y.current&&(p&&p(N),y.current=!1),G&&z>re?(c&&!v.current&&c(N),X.scrollTop=L,de=!0,v.current=!0):!G&&-z>I&&(d&&!y.current&&d(N),X.scrollTop=0,de=!0,y.current=!0),de&&function(K){K.cancelable&&K.preventDefault(),K.stopPropagation()}(N)}},[c,u,d,p]),E=B.useCallback(function(N){S(N,N.deltaY)},[S]),A=B.useCallback(function(N){_.current=N.changedTouches[0].clientY},[]),R=B.useCallback(function(N){var z=_.current-N.changedTouches[0].clientY;S(N,z)},[S]),D=B.useCallback(function(N){if(N){var z=!!F0e&&{passive:!1};N.addEventListener("wheel",E,z),N.addEventListener("touchstart",A,z),N.addEventListener("touchmove",R,z)}},[R,A,E]),k=B.useCallback(function(N){N&&(N.removeEventListener("wheel",E,!1),N.removeEventListener("touchstart",A,!1),N.removeEventListener("touchmove",R,!1))},[R,A,E]);return B.useEffect(function(){if(o){var N=w.current;return D(N),function(){k(N)}}},[o,D,k]),function(N){w.current=N}}({isEnabled:i===void 0||i,onBottomArrive:n.onBottomArrive,onBottomLeave:n.onBottomLeave,onTopArrive:n.onTopArrive,onTopLeave:n.onTopLeave}),s=function(a){var o=a.isEnabled,c=a.accountForScrollbars,u=c===void 0||c,d=B.useRef({}),p=B.useRef(null),v=B.useCallback(function(_){if(HV){var w=document.body,S=w&&w.style;if(u&&UV.forEach(function(D){var k=S&&S[D];d.current[D]=k}),u&&Pb<1){var E=parseInt(d.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,R=window.innerWidth-A+E||0;Object.keys(zV).forEach(function(D){var k=zV[D];S&&(S[D]=k)}),S&&(S.paddingRight="".concat(R,"px"))}w&&FV()&&(w.addEventListener("touchmove",VV,zv),_&&(_.addEventListener("touchstart",kV,zv),_.addEventListener("touchmove",BV,zv))),Pb+=1}},[u]),y=B.useCallback(function(_){if(HV){var w=document.body,S=w&&w.style;Pb=Math.max(Pb-1,0),u&&Pb<1&&UV.forEach(function(E){var A=d.current[E];S&&(S[E]=A)}),w&&FV()&&(w.removeEventListener("touchmove",VV,zv),_&&(_.removeEventListener("touchstart",kV,zv),_.removeEventListener("touchmove",BV,zv)))}},[u]);return B.useEffect(function(){if(o){var _=p.current;return v(_),function(){y(_)}}},[o,v,y]),function(_){p.current=_}}({isEnabled:t});return mn(B.Fragment,null,t&&mn("div",{onClick:bbe,css:_be}),e(function(a){r(a),s(a)}))}var Sbe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ebe=function(n){var e=n.name,t=n.onFocus;return mn("input",{required:!0,name:e,tabIndex:-1,"aria-hidden":"true",onFocus:t,css:Sbe,value:"",onChange:function(){}})};function eO(n){var e;return typeof window<"u"&&window.navigator!=null&&n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform)}function q7(){return eO(/^Mac/i)}function wbe(){return eO(/^iPhone/i)||eO(/^iPad/i)||q7()&&navigator.maxTouchPoints>1}var Tbe,Mbe={clearIndicator:ebe,container:function(n){var e=n.isDisabled;return{label:"container",direction:n.isRtl?"rtl":void 0,pointerEvents:e?"none":void 0,position:"relative"}},control:function(n,e){var t=n.isDisabled,i=n.isFocused,r=n.theme,s=r.colors,a=r.borderRadius;return un({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},e?{}:{backgroundColor:t?s.neutral5:s.neutral0,borderColor:t?s.neutral10:i?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},dropdownIndicator:J0e,group:function(n,e){var t=n.theme.spacing;return e?{}:{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(n,e){var t=n.theme,i=t.colors,r=t.spacing;return un({label:"group",cursor:"default",display:"block"},e?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(n,e){var t=n.isDisabled,i=n.theme,r=i.spacing.baseUnit,s=i.colors;return un({label:"indicatorSeparator",alignSelf:"stretch",width:1},e?{}:{backgroundColor:t?s.neutral10:s.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(n,e){var t=n.isDisabled,i=n.value,r=n.theme,s=r.spacing,a=r.colors;return un(un({visibility:t?"hidden":"visible",transform:i?"translateZ(0)":""},abe),e?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},loadingIndicator:function(n,e){var t=n.isFocused,i=n.size,r=n.theme,s=r.colors,a=r.spacing.baseUnit;return un({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},e?{}:{color:t?s.neutral60:s.neutral20,padding:2*a})},loadingMessage:K0e,menu:function(n,e){var t,i=n.placement,r=n.theme,s=r.borderRadius,a=r.spacing,o=r.colors;return un((ry(t={label:"menu"},function(c){return c?{bottom:"top",top:"bottom"}[c]:"bottom"}(i),"100%"),ry(t,"position","absolute"),ry(t,"width","100%"),ry(t,"zIndex",1),t),e?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(n,e){var t=n.maxHeight,i=n.theme.spacing.baseUnit;return un({maxHeight:t,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},e?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(n){var e=n.rect,t=n.offset,i=n.position;return{left:e.left,position:i,top:t,width:e.width,zIndex:1}},multiValue:function(n,e){var t=n.theme,i=t.spacing,r=t.borderRadius,s=t.colors;return un({label:"multiValue",display:"flex",minWidth:0},e?{}:{backgroundColor:s.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(n,e){var t=n.theme,i=t.borderRadius,r=t.colors,s=n.cropWithEllipsis;return un({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},e?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(n,e){var t=n.theme,i=t.spacing,r=t.borderRadius,s=t.colors,a=n.isFocused;return un({alignItems:"center",display:"flex"},e?{}:{borderRadius:r/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:Y0e,option:function(n,e){var t=n.isDisabled,i=n.isFocused,r=n.isSelected,s=n.theme,a=s.spacing,o=s.colors;return un({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},e?{}:{backgroundColor:r?o.primary:i?o.primary25:"transparent",color:t?o.neutral20:r?o.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:t?void 0:r?o.primary:o.primary50}})},placeholder:function(n,e){var t=n.theme,i=t.spacing,r=t.colors;return un({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},e?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(n,e){var t=n.isDisabled,i=n.theme,r=i.spacing,s=i.colors;return un({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e?{}:{color:t?s.neutral40:s.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(n,e){var t=n.theme.spacing,i=n.isMulti,r=n.hasValue,s=n.selectProps.controlShouldRenderValue;return un({alignItems:"center",display:i&&r&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},e?{}:{padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px")})}},fD={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Abe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:RV(),captureMenuScroll:!RV(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(n,e){if(n.data.__isNew__)return!0;var t=un({ignoreCase:!0,ignoreAccents:!0,stringify:gbe,trim:!0,matchFrom:"any"},Tbe),i=t.ignoreCase,r=t.ignoreAccents,s=t.stringify,a=t.trim,o=t.matchFrom,c=a?LV(e):e,u=a?LV(s(n)):s(n);return i&&(c=c.toLowerCase(),u=u.toLowerCase()),r&&(c=mbe(c),u=G7(u)),o==="start"?u.substr(0,c.length)===c:u.indexOf(c)>-1},formatGroupLabel:function(n){return n.label},getOptionLabel:function(n){return n.label},getOptionValue:function(n){return n.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(n){return!!n.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(n){var e=n.count;return"".concat(e," result").concat(e!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function jV(n,e,t,i){return{type:"option",data:e,isDisabled:X7(n,e,t),isSelected:Y7(n,e,t),label:W7(n,e),value:DT(n,e),index:i}}function yE(n,e){return n.options.map(function(t,i){if("options"in t){var r=t.options.map(function(a,o){return jV(n,a,e,o)}).filter(function(a){return WV(n,a)});return r.length>0?{type:"group",data:t,options:r,index:i}:void 0}var s=jV(n,t,e,i);return WV(n,s)?s:void 0}).filter(H0e)}function GV(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,LP(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function qV(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,LP(i.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(i.index,"-").concat(r.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function WV(n,e){var t=n.inputValue,i=t===void 0?"":t,r=e.data,s=e.isSelected,a=e.label,o=e.value;return(!$7(n)||!s)&&K7(n,{label:a,value:o,data:r},i)}var dD=function(n,e){var t;return((t=n.find(function(i){return i.data===e}))===null||t===void 0?void 0:t.id)||null},W7=function(n,e){return n.getOptionLabel(e)},DT=function(n,e){return n.getOptionValue(e)};function X7(n,e,t){return typeof n.isOptionDisabled=="function"&&n.isOptionDisabled(e,t)}function Y7(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=DT(n,e);return t.some(function(r){return DT(n,r)===i})}function K7(n,e,t){return!n.filterOption||n.filterOption(e,t)}var $7=function(n){var e=n.hideSelectedOptions,t=n.isMulti;return e===void 0?t:e},Cbe=1,Z7=function(n){(function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),o&&G3(a,o)})(s,B.Component);var e,t,i,r=t0e(s);function s(a){var o;if(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),(o=r.call(this,a)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=q7()||wbe(),o.controlRef=null,o.getControlRef=function(p){o.controlRef=p},o.focusedOptionRef=null,o.getFocusedOptionRef=function(p){o.focusedOptionRef=p},o.menuListRef=null,o.getMenuListRef=function(p){o.menuListRef=p},o.inputRef=null,o.getInputRef=function(p){o.inputRef=p},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(p,v){var y=o.props,_=y.onChange,w=y.name;v.name=w,o.ariaOnChange(p,v),_(p,v)},o.setValue=function(p,v,y){var _=o.props,w=_.closeMenuOnSelect,S=_.isMulti,E=_.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:E}),w&&(o.setState({inputIsHiddenAfterUpdate:!S}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(p,{action:v,option:y})},o.selectOption=function(p){var v=o.props,y=v.blurInputOnSelect,_=v.isMulti,w=v.name,S=o.state.selectValue,E=_&&o.isOptionSelected(p,S),A=o.isOptionDisabled(p,S);if(E){var R=o.getOptionValue(p);o.setValue(S.filter(function(D){return o.getOptionValue(D)!==R}),"deselect-option",p)}else{if(A)return void o.ariaOnChange(p,{action:"select-option",option:p,name:w});_?o.setValue([].concat(LP(S),[p]),"select-option",p):o.setValue(p,"select-option")}y&&o.blurInput()},o.removeValue=function(p){var v=o.props.isMulti,y=o.state.selectValue,_=o.getOptionValue(p),w=y.filter(function(E){return o.getOptionValue(E)!==_}),S=vE(v,w,w[0]||null);o.onChange(S,{action:"remove-value",removedValue:p}),o.focusInput()},o.clearValue=function(){var p=o.state.selectValue;o.onChange(vE(o.props.isMulti,[],null),{action:"clear",removedValues:p})},o.popValue=function(){var p=o.props.isMulti,v=o.state.selectValue,y=v[v.length-1],_=v.slice(0,v.length-1),w=vE(p,_,_[0]||null);o.onChange(w,{action:"pop-value",removedValue:y})},o.getFocusedOptionId=function(p){return dD(o.state.focusableOptionsWithIds,p)},o.getFocusableOptionsWithIds=function(){return qV(yE(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];return V0e.apply(void 0,[o.props.classNamePrefix].concat(v))},o.getOptionLabel=function(p){return W7(o.props,p)},o.getOptionValue=function(p){return DT(o.props,p)},o.getStyles=function(p,v){var y=o.props.unstyled,_=Mbe[p](v,y);_.boxSizing="border-box";var w=o.props.styles[p];return w?w(_,v):_},o.getClassNames=function(p,v){var y,_;return(y=(_=o.props.classNames)[p])===null||y===void 0?void 0:y.call(_,v)},o.getElementId=function(p){return"".concat(o.state.instancePrefix,"-").concat(p)},o.getComponents=function(){return p=o.props,un(un({},cbe),p.components);var p},o.buildCategorizedOptions=function(){return yE(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return GV(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(p,v){o.setState({ariaSelection:un({value:p},v)})},o.onMenuMouseDown=function(p){p.button===0&&(p.stopPropagation(),p.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(p){o.blockOptionHover=!1},o.onControlMouseDown=function(p){if(!p.defaultPrevented){var v=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?p.target.tagName!=="INPUT"&&p.target.tagName!=="TEXTAREA"&&o.onMenuClose():v&&o.openMenu("first"):(v&&(o.openAfterFocus=!0),o.focusInput()),p.target.tagName!=="INPUT"&&p.target.tagName!=="TEXTAREA"&&p.preventDefault()}},o.onDropdownIndicatorMouseDown=function(p){if(!(p&&p.type==="mousedown"&&p.button!==0||o.props.isDisabled)){var v=o.props,y=v.isMulti,_=v.menuIsOpen;o.focusInput(),_?(o.setState({inputIsHiddenAfterUpdate:!y}),o.onMenuClose()):o.openMenu("first"),p.preventDefault()}},o.onClearIndicatorMouseDown=function(p){p&&p.type==="mousedown"&&p.button!==0||(o.clearValue(),p.preventDefault(),o.openAfterFocus=!1,p.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(p){typeof o.props.closeMenuOnScroll=="boolean"?p.target instanceof HTMLElement&&iA(p.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(p)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(p){var v=p.touches,y=v&&v.item(0);y&&(o.initialTouchX=y.clientX,o.initialTouchY=y.clientY,o.userIsDragging=!1)},o.onTouchMove=function(p){var v=p.touches,y=v&&v.item(0);if(y){var _=Math.abs(y.clientX-o.initialTouchX),w=Math.abs(y.clientY-o.initialTouchY);o.userIsDragging=_>5||w>5}},o.onTouchEnd=function(p){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(p.target)&&o.menuListRef&&!o.menuListRef.contains(p.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(p){o.userIsDragging||o.onControlMouseDown(p)},o.onClearIndicatorTouchEnd=function(p){o.userIsDragging||o.onClearIndicatorMouseDown(p)},o.onDropdownIndicatorTouchEnd=function(p){o.userIsDragging||o.onDropdownIndicatorMouseDown(p)},o.handleInputChange=function(p){var v=o.props.inputValue,y=p.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(y,{action:"input-change",prevInputValue:v}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(p){o.props.onFocus&&o.props.onFocus(p),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(p){var v=o.props.inputValue;o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(p),o.onInputChange("",{action:"input-blur",prevInputValue:v}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(p){if(!o.blockOptionHover&&o.state.focusedOption!==p){var v=o.getFocusableOptions().indexOf(p);o.setState({focusedOption:p,focusedOptionId:v>-1?o.getFocusedOptionId(p):null})}},o.shouldHideSelectedOptions=function(){return $7(o.props)},o.onValueInputFocus=function(p){p.preventDefault(),p.stopPropagation(),o.focus()},o.onKeyDown=function(p){var v=o.props,y=v.isMulti,_=v.backspaceRemovesValue,w=v.escapeClearsValue,S=v.inputValue,E=v.isClearable,A=v.isDisabled,R=v.menuIsOpen,D=v.onKeyDown,k=v.tabSelectsValue,N=v.openMenuOnFocus,z=o.state,V=z.focusedOption,I=z.focusedValue,L=z.selectValue;if(!(A||typeof D=="function"&&(D(p),p.defaultPrevented))){switch(o.blockOptionHover=!0,p.key){case"ArrowLeft":if(!y||S)return;o.focusValue("previous");break;case"ArrowRight":if(!y||S)return;o.focusValue("next");break;case"Delete":case"Backspace":if(S)return;if(I)o.removeValue(I);else{if(!_)return;y?o.popValue():E&&o.clearValue()}break;case"Tab":if(o.isComposing||p.shiftKey||!R||!k||!V||N&&o.isOptionSelected(V,L))return;o.selectOption(V);break;case"Enter":if(p.keyCode===229)break;if(R){if(!V||o.isComposing)return;o.selectOption(V);break}return;case"Escape":R?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:S}),o.onMenuClose()):E&&w&&o.clearValue();break;case" ":if(S)return;if(!R){o.openMenu("first");break}if(!V)return;o.selectOption(V);break;case"ArrowUp":R?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":R?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!R)return;o.focusOption("pageup");break;case"PageDown":if(!R)return;o.focusOption("pagedown");break;case"Home":if(!R)return;o.focusOption("first");break;case"End":if(!R)return;o.focusOption("last");break;default:return}p.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++Cbe),o.state.selectValue=MV(a.value),a.menuIsOpen&&o.state.selectValue.length){var c=o.getFocusableOptionsWithIds(),u=o.buildFocusableOptions(),d=u.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=c,o.state.focusedOption=u[d],o.state.focusedOptionId=dD(c,u[d])}return o}return e=s,t=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&CV(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var o=this.props,c=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused;(d&&!c&&a.isDisabled||d&&u&&!a.menuIsOpen)&&this.focusInput(),d&&c&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):d||c||!a.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(CV(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,o){this.props.onInputChange(a,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var o=this,c=this.state,u=c.selectValue,d=c.isFocused,p=this.buildFocusableOptions(),v=a==="first"?0:p.length-1;if(!this.props.isMulti){var y=p.indexOf(u[0]);y>-1&&(v=y)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[v],focusedOptionId:this.getFocusedOptionId(p[v])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(a){var o=this.state,c=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=c.indexOf(u);u||(d=-1);var p=c.length-1,v=-1;if(c.length){switch(a){case"previous":v=d===0?0:d===-1?p:d-1;break;case"next":d>-1&&d<p&&(v=d+1)}this.setState({inputIsHidden:v!==-1,focusedValue:c[v]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,c=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,p=u.indexOf(c);c||(p=-1),a==="up"?d=p>0?p-1:u.length-1:a==="down"?d=(p+1)%u.length:a==="pageup"?(d=p-o)<0&&(d=0):a==="pagedown"?(d=p+o)>u.length-1&&(d=u.length-1):a==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(fD):un(un({},fD),this.props.theme):fD}},{key:"getCommonProps",value:function(){var a=this.clearValue,o=this.cx,c=this.getStyles,u=this.getClassNames,d=this.getValue,p=this.selectOption,v=this.setValue,y=this.props,_=y.isMulti,w=y.isRtl,S=y.options;return{clearValue:a,cx:o,getStyles:c,getClassNames:u,getValue:d,hasValue:this.hasValue(),isMulti:_,isRtl:w,options:S,selectOption:p,selectProps:y,setValue:v,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,o=a.isClearable,c=a.isMulti;return o===void 0?c:o}},{key:"isOptionDisabled",value:function(a,o){return X7(this.props,a,o)}},{key:"isOptionSelected",value:function(a,o){return Y7(this.props,a,o)}},{key:"filterOption",value:function(a,o){return K7(this.props,a,o)}},{key:"formatOptionLabel",value:function(a,o){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(a,{context:o,inputValue:c,selectValue:u})}return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,o=a.isDisabled,c=a.isSearchable,u=a.inputId,d=a.inputValue,p=a.tabIndex,v=a.form,y=a.menuIsOpen,_=a.required,w=this.getComponents().Input,S=this.state,E=S.inputIsHidden,A=S.ariaSelection,R=this.commonProps,D=u||this.getElementId("input"),k=un(un(un({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":_,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(A==null?void 0:A.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?B.createElement(w,xn({},R,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:D,innerRef:this.getInputRef,isDisabled:o,isHidden:E,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:v,type:"text",value:d},k)):B.createElement(ybe,xn({id:D,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:CT,onFocus:this.onInputFocus,disabled:o,tabIndex:p,inputMode:"none",form:v,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,o=this.getComponents(),c=o.MultiValue,u=o.MultiValueContainer,d=o.MultiValueLabel,p=o.MultiValueRemove,v=o.SingleValue,y=o.Placeholder,_=this.commonProps,w=this.props,S=w.controlShouldRenderValue,E=w.isDisabled,A=w.isMulti,R=w.inputValue,D=w.placeholder,k=this.state,N=k.selectValue,z=k.focusedValue,V=k.isFocused;if(!this.hasValue()||!S)return R?null:B.createElement(y,xn({},_,{key:"placeholder",isDisabled:E,isFocused:V,innerProps:{id:this.getElementId("placeholder")}}),D);if(A)return N.map(function(L,j){var X=L===z,G="".concat(a.getOptionLabel(L),"-").concat(a.getOptionValue(L));return B.createElement(c,xn({},_,{components:{Container:u,Label:d,Remove:p},isFocused:X,isDisabled:E,key:G,index:j,removeProps:{onClick:function(){return a.removeValue(L)},onTouchEnd:function(){return a.removeValue(L)},onMouseDown:function(re){re.preventDefault()}},data:L}),a.formatOptionLabel(L,"value"))});if(R)return null;var I=N[0];return B.createElement(v,xn({},_,{data:I,isDisabled:E}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents().ClearIndicator,o=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!a||u||!this.hasValue()||d)return null;var v={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(a,xn({},o,{innerProps:v,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents().LoadingIndicator,o=this.commonProps,c=this.props,u=c.isDisabled,d=c.isLoading,p=this.state.isFocused;return a&&d?B.createElement(a,xn({},o,{innerProps:{"aria-hidden":"true"},isDisabled:u,isFocused:p})):null}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator,c=a.IndicatorSeparator;if(!o||!c)return null;var u=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused;return B.createElement(c,xn({},u,{isDisabled:d,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents().DropdownIndicator;if(!a)return null;var o=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(a,xn({},o,{innerProps:d,isDisabled:c,isFocused:u}))}},{key:"renderMenu",value:function(){var a=this,o=this.getComponents(),c=o.Group,u=o.GroupHeading,d=o.Menu,p=o.MenuList,v=o.MenuPortal,y=o.LoadingMessage,_=o.NoOptionsMessage,w=o.Option,S=this.commonProps,E=this.state.focusedOption,A=this.props,R=A.captureMenuScroll,D=A.inputValue,k=A.isLoading,N=A.loadingMessage,z=A.minMenuHeight,V=A.maxMenuHeight,I=A.menuIsOpen,L=A.menuPlacement,j=A.menuPosition,X=A.menuPortalTarget,G=A.menuShouldBlockScroll,re=A.menuShouldScrollIntoView,de=A.noOptionsMessage,K=A.onMenuScrollToTop,ue=A.onMenuScrollToBottom;if(!I)return null;var ne,ve=function(oe,Oe){var Ie=oe.type,je=oe.data,tt=oe.isDisabled,wt=oe.isSelected,Qe=oe.label,qt=oe.value,Ge=E===je,Ye=tt?void 0:function(){return a.onOptionHover(je)},se=tt?void 0:function(){return a.selectOption(je)},bt="".concat(a.getElementId("option"),"-").concat(Oe),Je={id:bt,onClick:se,onMouseMove:Ye,onMouseOver:Ye,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:wt};return B.createElement(w,xn({},S,{innerProps:Je,data:je,isDisabled:tt,isSelected:wt,key:bt,label:Qe,type:Ie,value:qt,isFocused:Ge,innerRef:Ge?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(oe.data,"menu"))};if(this.hasOptions())ne=this.getCategorizedOptions().map(function(oe){if(oe.type==="group"){var Oe=oe.data,Ie=oe.options,je=oe.index,tt="".concat(a.getElementId("group"),"-").concat(je),wt="".concat(tt,"-heading");return B.createElement(c,xn({},S,{key:tt,data:Oe,options:Ie,Heading:u,headingProps:{id:wt,data:oe.data},label:a.formatGroupLabel(oe.data)}),oe.options.map(function(Qe){return ve(Qe,"".concat(je,"-").concat(Qe.index))}))}if(oe.type==="option")return ve(oe,"".concat(oe.index))});else if(k){var Z=N({inputValue:D});if(Z===null)return null;ne=B.createElement(y,S,Z)}else{var le=de({inputValue:D});if(le===null)return null;ne=B.createElement(_,S,le)}var Ae={minMenuHeight:z,maxMenuHeight:V,menuPlacement:L,menuPosition:j,menuShouldScrollIntoView:re},De=B.createElement(W0e,xn({},S,Ae),function(oe){var Oe=oe.ref,Ie=oe.placerProps,je=Ie.placement,tt=Ie.maxHeight;return B.createElement(d,xn({},S,Ae,{innerRef:Oe,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:k,placement:je}),B.createElement(xbe,{captureEnabled:R,onTopArrive:K,onBottomArrive:ue,lockEnabled:G},function(wt){return B.createElement(p,xn({},S,{innerRef:function(Qe){a.getMenuListRef(Qe),wt(Qe)},innerProps:{role:"listbox","aria-multiselectable":S.isMulti,id:a.getElementId("listbox")},isLoading:k,maxHeight:tt,focusedOption:E}),ne)}))});return X||j==="fixed"?B.createElement(v,xn({},S,{appendTo:X,controlElement:this.controlRef,menuPlacement:L,menuPosition:j}),De):De}},{key:"renderFormField",value:function(){var a=this,o=this.props,c=o.delimiter,u=o.isDisabled,d=o.isMulti,p=o.name,v=o.required,y=this.state.selectValue;if(v&&!this.hasValue()&&!u)return B.createElement(Ebe,{name:p,onFocus:this.onValueInputFocus});if(p&&!u){if(d){if(c){var _=y.map(function(E){return a.getOptionValue(E)}).join(c);return B.createElement("input",{name:p,type:"hidden",value:_})}var w=y.length>0?y.map(function(E,A){return B.createElement("input",{key:"i-".concat(A),name:p,type:"hidden",value:a.getOptionValue(E)})}):B.createElement("input",{name:p,type:"hidden",value:""});return B.createElement("div",null,w)}var S=y[0]?this.getOptionValue(y[0]):"";return B.createElement("input",{name:p,type:"hidden",value:S})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,o=this.state,c=o.ariaSelection,u=o.focusedOption,d=o.focusedValue,p=o.isFocused,v=o.selectValue,y=this.getFocusableOptions();return B.createElement(dbe,xn({},a,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:u,focusedValue:d,isFocused:p,selectValue:v,focusableOptions:y,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),o=a.Control,c=a.IndicatorsContainer,u=a.SelectContainer,d=a.ValueContainer,p=this.props,v=p.className,y=p.id,_=p.isDisabled,w=p.menuIsOpen,S=this.state.isFocused,E=this.commonProps=this.getCommonProps();return B.createElement(u,xn({},E,{className:v,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:_,isFocused:S}),this.renderLiveRegion(),B.createElement(o,xn({},E,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:_,isFocused:S,menuIsOpen:w}),B.createElement(d,xn({},E,{isDisabled:_}),this.renderPlaceholderOrValue(),this.renderInput()),B.createElement(c,xn({},E,{isDisabled:_}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],i=[{key:"getDerivedStateFromProps",value:function(a,o){var c=o.prevProps,u=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,p=o.ariaSelection,v=o.isFocused,y=o.prevWasFocused,_=o.instancePrefix,w=a.options,S=a.value,E=a.menuIsOpen,A=a.inputValue,R=a.isMulti,D=MV(S),k={};if(c&&(S!==c.value||w!==c.options||E!==c.menuIsOpen||A!==c.inputValue)){var N=E?function(G,re){return GV(yE(G,re))}(a,D):[],z=E?qV(yE(a,D),"".concat(_,"-option")):[],V=u?function(G,re){var de=G.focusedValue,K=G.selectValue.indexOf(de);if(K>-1){if(re.indexOf(de)>-1)return de;if(K<re.length)return re[K]}return null}(o,D):null,I=function(G,re){var de=G.focusedOption;return de&&re.indexOf(de)>-1?de:re[0]}(o,N);k={selectValue:D,focusedOption:I,focusedOptionId:dD(z,I),focusableOptionsWithIds:z,focusedValue:V,clearFocusValueOnUpdate:!1}}var L=d!=null&&a!==c?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},j=p,X=v&&y;return v&&!X&&(j={value:vE(R,D,D[0]||null),options:D,action:"initial-input-focus"},X=!y),(p==null?void 0:p.action)==="initial-input-focus"&&(j=null),un(un(un({},k),L),{},{prevProps:a,ariaSelection:j,prevWasFocused:X})}}],t&&oV(e.prototype,t),i&&oV(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}();Z7.defaultProps=Abe;var Rbe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],Dbe=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],jP=Ii(function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}),Obe=Ii(function(n){var e=jP.default;n.exports=function(t,i){if(e(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,i||"default");if(e(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)},n.exports.__esModule=!0,n.exports.default=n.exports}),Q7=Ii(function(n){var e=jP.default;n.exports=function(t){var i=Obe(t,"string");return e(i)==="symbol"?i:String(i)},n.exports.__esModule=!0,n.exports.default=n.exports}),Nbe=Ii(function(n){n.exports=function(e,t,i){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},n.exports.__esModule=!0,n.exports.default=n.exports});Ii(function(n){function e(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}n.exports=function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?e(Object(r),!0).forEach(function(s){Nbe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t},n.exports.__esModule=!0,n.exports.default=n.exports}),Ii(function(n){n.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.exports.__esModule=!0,n.exports.default=n.exports}),Ii(function(n){function e(t,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Q7(s.key),s)}}n.exports=function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},n.exports.__esModule=!0,n.exports.default=n.exports});var Pbe=Ii(function(n){function e(t,i){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,i)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports});Ii(function(n){n.exports=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pbe(e,t)},n.exports.__esModule=!0,n.exports.default=n.exports});var XV=Ii(function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}),Ibe=Ii(function(n){n.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},n.exports.__esModule=!0,n.exports.default=n.exports}),Lbe=Ii(function(n){n.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},n.exports.__esModule=!0,n.exports.default=n.exports}),Ube=Ii(function(n){var e=jP.default;n.exports=function(t,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbe(t)},n.exports.__esModule=!0,n.exports.default=n.exports});Ii(function(n){n.exports=function(e){var t=Ibe();return function(){var i,r=XV(e);if(t){var s=XV(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Ube(this,i)}},n.exports.__esModule=!0,n.exports.default=n.exports});var tO=Ii(function(n){n.exports=function(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r},n.exports.__esModule=!0,n.exports.default=n.exports}),zbe=Ii(function(n){n.exports=function(e){if(Array.isArray(e))return tO(e)},n.exports.__esModule=!0,n.exports.default=n.exports}),Vbe=Ii(function(n){n.exports=function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)},n.exports.__esModule=!0,n.exports.default=n.exports}),J7=Ii(function(n){n.exports=function(e,t){if(e){if(typeof e=="string")return tO(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?tO(e,t):void 0}},n.exports.__esModule=!0,n.exports.default=n.exports}),Bbe=Ii(function(n){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},n.exports.__esModule=!0,n.exports.default=n.exports});Ii(function(n){n.exports=function(e){return zbe(e)||Vbe(e)||J7(e)||Bbe()},n.exports.__esModule=!0,n.exports.default=n.exports});var kbe=Ii(function(n){n.exports=function(e){if(Array.isArray(e))return e},n.exports.__esModule=!0,n.exports.default=n.exports}),Fbe=Ii(function(n){n.exports=function(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r,s,a,o,c=[],u=!0,d=!1;try{if(a=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=a.call(i)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(p){d=!0,s=p}finally{try{if(!u&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}},n.exports.__esModule=!0,n.exports.default=n.exports}),Hbe=Ii(function(n){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},n.exports.__esModule=!0,n.exports.default=n.exports});Ii(function(n){n.exports=function(e,t){return kbe(e)||Fbe(e,t)||J7(e,t)||Hbe()},n.exports.__esModule=!0,n.exports.default=n.exports});var jbe=Ii(function(n){n.exports=function(e,t){if(e==null)return{};var i,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(s[i]=e[i]);return s},n.exports.__esModule=!0,n.exports.default=n.exports});Ii(function(n){n.exports=function(e,t){if(e==null)return{};var i,r,s=jbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s},n.exports.__esModule=!0,n.exports.default=n.exports}),Ii(function(n){n.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},n.exports.__esModule=!0,n.exports.default=n.exports});var Gbe=B.forwardRef(function(n,e){var t=function(r){var s=r.defaultOptions,a=s!==void 0&&s,o=r.cacheOptions,c=o!==void 0&&o,u=r.loadOptions;r.options;var d=r.isLoading,p=d!==void 0&&d,v=r.onInputChange,y=r.filterOption,_=y===void 0?null:y,w=Bu(r,Dbe),S=w.inputValue,E=B.useRef(void 0),A=B.useRef(!1),R=As(B.useState(Array.isArray(a)?a:void 0),2),D=R[0],k=R[1],N=As(B.useState(S!==void 0?S:""),2),z=N[0],V=N[1],I=As(B.useState(a===!0),2),L=I[0],j=I[1],X=As(B.useState(void 0),2),G=X[0],re=X[1],de=As(B.useState([]),2),K=de[0],ue=de[1],ne=As(B.useState(!1),2),ve=ne[0],Z=ne[1],le=As(B.useState({}),2),Ae=le[0],De=le[1],oe=As(B.useState(void 0),2),Oe=oe[0],Ie=oe[1],je=As(B.useState(void 0),2),tt=je[0],wt=je[1];c!==tt&&(De({}),wt(c)),a!==Oe&&(k(Array.isArray(a)?a:void 0),Ie(a)),B.useEffect(function(){return A.current=!0,function(){A.current=!1}},[]);var Qe=B.useCallback(function(Ye,se){if(!u)return se();var bt=u(Ye,se);bt&&typeof bt.then=="function"&&bt.then(se,function(){return se()})},[u]);B.useEffect(function(){a===!0&&Qe(z,function(Ye){A.current&&(k(Ye||[]),j(!!E.current))})},[]);var qt=B.useCallback(function(Ye,se){var bt=function(dt,pt,It){if(It){var Et=It(dt,pt);if(typeof Et=="string")return Et}return dt}(Ye,se,v);if(!bt)return E.current=void 0,V(""),re(""),ue([]),j(!1),void Z(!1);if(c&&Ae[bt])V(bt),re(bt),ue(Ae[bt]),j(!1),Z(!1);else{var Je=E.current={};V(bt),j(!0),Z(!G),Qe(bt,function(dt){A&&Je===E.current&&(E.current=void 0,j(!1),re(bt),ue(dt||[]),Z(!1),De(dt?un(un({},Ae),{},ry({},bt,dt)):Ae))})}},[c,Qe,G,Ae,v]),Ge=ve?[]:z&&G?K:D||[];return un(un({},w),{},{options:Ge,isLoading:L||p,onInputChange:qt,filterOption:_})}(n),i=function(r){var s=r.defaultInputValue,a=s===void 0?"":s,o=r.defaultMenuIsOpen,c=o!==void 0&&o,u=r.defaultValue,d=u===void 0?null:u,p=r.inputValue,v=r.menuIsOpen,y=r.onChange,_=r.onInputChange,w=r.onMenuClose,S=r.onMenuOpen,E=r.value,A=Bu(r,Rbe),R=As(B.useState(p!==void 0?p:a),2),D=R[0],k=R[1],N=As(B.useState(v!==void 0?v:c),2),z=N[0],V=N[1],I=As(B.useState(E!==void 0?E:d),2),L=I[0],j=I[1],X=B.useCallback(function(ve,Z){typeof y=="function"&&y(ve,Z),j(ve)},[y]),G=B.useCallback(function(ve,Z){var le;typeof _=="function"&&(le=_(ve,Z)),k(le!==void 0?le:ve)},[_]),re=B.useCallback(function(){typeof S=="function"&&S(),V(!0)},[S]),de=B.useCallback(function(){typeof w=="function"&&w(),V(!1)},[w]),K=p!==void 0?p:D,ue=v!==void 0?v:z,ne=E!==void 0?E:L;return un(un({},A),{},{inputValue:K,menuIsOpen:ue,onChange:X,onInputChange:G,onMenuClose:de,onMenuOpen:re,value:ne})}(t);return B.createElement(Z7,xn({ref:e},i))}),qbe=Gbe,Wbe=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if((i=e.length)!=t.length)return!1;for(r=i;r--!=0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((i=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=i;r--!=0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!=0;){var a=s[r];if(!n(e[a],t[a]))return!1}return!0}return e!=e&&t!=t},sy;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(sy||(sy={}));class ym{constructor({apiKey:e,authReferrerPolicy:t,channel:i,client:r,id:s="__googleMapsScriptId",language:a,libraries:o=[],mapIds:c,nonce:u,region:d,retries:p=3,url:v="https://maps.googleapis.com/maps/api/js",version:y}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=i,this.client=r,this.id=s||"__googleMapsScriptId",this.language=a,this.libraries=o,this.mapIds=c,this.nonce=u,this.region=d,this.retries=p,this.url=v,this.version=y,ym.instance){if(!Wbe(this.options,ym.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(ym.instance.options)}`);return ym.instance}ym.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?sy.FAILURE:this.done?sy.SUCCESS:this.loading?sy.LOADING:sy.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(i=>{i?t(i.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var Xbe=function(n,e,t){var i,r=n.bounds,s=n.location,a=function(c,u){var d={};for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&u.indexOf(p)<0&&(d[p]=c[p]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var v=0;for(p=Object.getOwnPropertySymbols(c);v<p.length;v++)u.indexOf(p[v])<0&&Object.prototype.propertyIsEnumerable.call(c,p[v])&&(d[p[v]]=c[p[v]])}return d}(n,["bounds","location"]),o=Bm({input:e},a);return t&&(o.sessionToken=t),r&&(o.bounds=new((i=google.maps.LatLngBounds).bind.apply(i,function(){for(var c=0,u=0,d=arguments.length;u<d;u++)c+=arguments[u].length;var p=Array(c),v=0;for(u=0;u<d;u++)for(var y=arguments[u],_=0,w=y.length;_<w;_++,v++)p[v]=y[_];return p}([void 0],r)))),s&&(o.location=new google.maps.LatLng(s)),o},Ybe=function(n){var e=n.autocompletionRequest,t=n.debounce,i=n.minLengthAutocomplete,r=n.placesService,s=n.sessionToken,a=n.withSessionToken,o=function(c,u,d){d===void 0&&(d={});var p=d.maxWait,v=B.useRef(null),y=B.useRef([]),_=d.leading,w=d.trailing===void 0||d.trailing,S=B.useRef(!1),E=B.useRef(null),A=B.useRef(!1),R=B.useRef(c);R.current=c;var D=B.useCallback(function(){clearTimeout(E.current),clearTimeout(v.current),v.current=null,y.current=[],E.current=null,S.current=!1},[]);B.useEffect(function(){return A.current=!1,function(){A.current=!0}},[]);var k=B.useCallback(function(){for(var z=[],V=0;V<arguments.length;V++)z[V]=arguments[V];y.current=z,clearTimeout(E.current),S.current&&(S.current=!1),E.current||!_||S.current||(R.current.apply(R,z),S.current=!0),E.current=setTimeout(function(){var I=!0;_&&S.current&&(I=!1),D(),!A.current&&w&&I&&R.current.apply(R,z)},u),p&&!v.current&&w&&(v.current=setTimeout(function(){var I=y.current;D(),A.current||R.current.apply(null,I)},p))},[p,u,D,_,w]),N=B.useCallback(function(){E.current&&(R.current.apply(null,y.current),D())},[D]);return[k,D,N]}(function(c,u){if(!r)return u([]);if(c.length<i)return u([]);var d=Bm({},e);r.getPlacePredictions(Xbe(d,c,a&&s),function(p){u((p||[]).map(function(v){return{label:v.description,value:v}}))})},t)[0];return o},Kbe=B.forwardRef(function(n,e){var t,i,r,s,a,o,c,u,d=function(w){var S=w.apiKey,E=w.apiOptions,A=w.onLoadFailed,R=B.useState(void 0),D=R[0],k=R[1],N=B.useState(void 0),z=N[0],V=N[1],I=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");k(new window.google.maps.places.AutocompleteService),V(new google.maps.places.AutocompleteSessionToken)};return B.useEffect(function(){S?Qye(void 0,void 0,void 0,function(){var L;return Jye(this,function(j){switch(j.label){case 0:if(!S)return[2];j.label=1;case 1:return j.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new ym(Bm({apiKey:S},Bm({libraries:["places"]},E))).load()];case 2:j.sent(),j.label=3;case 3:return I(),[3,5];case 4:return L=j.sent(),typeof A=="function"&&A(L),[3,5];case 5:return[2]}})}):I()},[]),{placesService:D,sessionToken:z,setSessionToken:V}}({apiKey:(t=n.apiKey)!==null&&t!==void 0?t:"",apiOptions:(i=n.apiOptions)!==null&&i!==void 0?i:{},onLoadFailed:(r=n.onLoadFailed)!==null&&r!==void 0?r:console.error}),p=d.placesService,v=d.sessionToken,y=d.setSessionToken,_=Ybe({autocompletionRequest:(s=n.autocompletionRequest)!==null&&s!==void 0?s:{},debounce:(a=n.debounce)!==null&&a!==void 0?a:300,minLengthAutocomplete:(o=n.minLengthAutocomplete)!==null&&o!==void 0?o:0,placesService:p,sessionToken:v,withSessionToken:(c=n.withSessionToken)!==null&&c!==void 0&&c});return B.useImperativeHandle(e,function(){return{getSessionToken:function(){return v},refreshSessionToken:function(){y(new google.maps.places.AutocompleteSessionToken)}}},[v]),Mt.createElement(qbe,Bm({},(u=n.selectProps)!==null&&u!==void 0?u:{},{loadOptions:_,getOptionValue:function(w){return w.value.place_id}}))});function $be(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const Zbe=n=>{switch(n){case"success":return e_e;case"info":return n_e;case"warning":return t_e;case"error":return i_e;default:return null}},Qbe=Array(12).fill(0),Jbe=({visible:n,className:e})=>Mt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Mt.createElement("div",{className:"sonner-spinner"},Qbe.map((t,i)=>Mt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),e_e=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),t_e=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),n_e=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),i_e=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),r_e=Mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Mt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Mt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),s_e=()=>{const[n,e]=Mt.useState(document.hidden);return Mt.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let nO=1;class a_e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:nO++,a=this.toasts.find(c=>c.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:i}),{...c,...e,id:s,dismissible:o,title:i}):c):this.addToast({title:i,...r,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let s=i!==void 0,a;const o=r.then(async u=>{if(a=["resolve",u],Mt.isValidElement(u))s=!1,this.create({id:i,type:"default",message:u});else if(l_e(u)&&!u.ok){s=!1;const p=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,v=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description,y=typeof p=="object"?p:{message:p};this.create({id:i,type:"error",description:v,...y})}else if(u instanceof Error){s=!1;const p=typeof t.error=="function"?await t.error(u):t.error,v=typeof t.description=="function"?await t.description(u):t.description,y=typeof p=="object"?p:{message:p};this.create({id:i,type:"error",description:v,...y})}else if(t.success!==void 0){s=!1;const p=typeof t.success=="function"?await t.success(u):t.success,v=typeof t.description=="function"?await t.description(u):t.description,y=typeof p=="object"?p:{message:p};this.create({id:i,type:"success",description:v,...y})}}).catch(async u=>{if(a=["reject",u],t.error!==void 0){s=!1;const d=typeof t.error=="function"?await t.error(u):t.error,p=typeof t.description=="function"?await t.description(u):t.description,v=typeof d=="object"?d:{message:d};this.create({id:i,type:"error",description:p,...v})}}).finally(()=>{s&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),c=()=>new Promise((u,d)=>o.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(e,t)=>{const i=(t==null?void 0:t.id)||nO++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xo=new a_e,o_e=(n,e)=>{const t=(e==null?void 0:e.id)||nO++;return xo.addToast({title:n,...e,id:t}),t},l_e=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",c_e=o_e,u_e=()=>xo.toasts,h_e=()=>xo.getActiveToasts(),$h=Object.assign(c_e,{success:xo.success,info:xo.info,warning:xo.warning,error:xo.error,custom:xo.custom,message:xo.message,promise:xo.promise,dismiss:xo.dismiss,loading:xo.loading},{getHistory:u_e,getToasts:h_e});$be("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bE(n){return n.label!==void 0}const f_e=3,d_e="24px",p_e="16px",YV=4e3,m_e=356,g_e=14,v_e=45,y_e=200;function Nu(...n){return n.filter(Boolean).join(" ")}function b_e(n){const[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const __e=n=>{var e,t,i,r,s,a,o,c,u;const{invert:d,toast:p,unstyled:v,interacting:y,setHeights:_,visibleToasts:w,heights:S,index:E,toasts:A,expanded:R,removeToast:D,defaultRichColors:k,closeButton:N,style:z,cancelButtonStyle:V,actionButtonStyle:I,className:L="",descriptionClassName:j="",duration:X,position:G,gap:re,expandByDefault:de,classNames:K,icons:ue,closeButtonAriaLabel:ne="Close toast"}=n,[ve,Z]=Mt.useState(null),[le,Ae]=Mt.useState(null),[De,oe]=Mt.useState(!1),[Oe,Ie]=Mt.useState(!1),[je,tt]=Mt.useState(!1),[wt,Qe]=Mt.useState(!1),[qt,Ge]=Mt.useState(!1),[Ye,se]=Mt.useState(0),[bt,Je]=Mt.useState(0),dt=Mt.useRef(p.duration||X||YV),pt=Mt.useRef(null),It=Mt.useRef(null),Et=E===0,te=E+1<=w,Y=p.type,we=p.dismissible!==!1,Fe=p.className||"",it=p.descriptionClassName||"",ze=Mt.useMemo(()=>S.findIndex(Xe=>Xe.toastId===p.id)||0,[S,p.id]),yt=Mt.useMemo(()=>{var Xe;return(Xe=p.closeButton)!=null?Xe:N},[p.closeButton,N]),_t=Mt.useMemo(()=>p.duration||X||YV,[p.duration,X]),Nt=Mt.useRef(0),hn=Mt.useRef(0),st=Mt.useRef(0),Ct=Mt.useRef(null),[Wt,Vt]=G.split("-"),Pt=Mt.useMemo(()=>S.reduce((Xe,rt,Dt)=>Dt>=ze?Xe:Xe+rt.height,0),[S,ze]),pe=s_e(),Be=p.invert||d,Tt=Y==="loading";hn.current=Mt.useMemo(()=>ze*re+Pt,[ze,Pt]),Mt.useEffect(()=>{dt.current=_t},[_t]),Mt.useEffect(()=>{oe(!0)},[]),Mt.useEffect(()=>{const Xe=It.current;if(Xe){const rt=Xe.getBoundingClientRect().height;return Je(rt),_(Dt=>[{toastId:p.id,height:rt,position:p.position},...Dt]),()=>_(Dt=>Dt.filter(sn=>sn.toastId!==p.id))}},[_,p.id]),Mt.useLayoutEffect(()=>{if(!De)return;const Xe=It.current,rt=Xe.style.height;Xe.style.height="auto";const Dt=Xe.getBoundingClientRect().height;Xe.style.height=rt,Je(Dt),_(sn=>sn.find(ae=>ae.toastId===p.id)?sn.map(ae=>ae.toastId===p.id?{...ae,height:Dt}:ae):[{toastId:p.id,height:Dt,position:p.position},...sn])},[De,p.title,p.description,_,p.id]);const he=Mt.useCallback(()=>{Ie(!0),se(hn.current),_(Xe=>Xe.filter(rt=>rt.toastId!==p.id)),setTimeout(()=>{D(p)},y_e)},[p,D,_,hn]);Mt.useEffect(()=>{if(p.promise&&Y==="loading"||p.duration===1/0||p.type==="loading")return;let Xe;return R||y||pe?(()=>{if(st.current<Nt.current){const sn=new Date().getTime()-Nt.current;dt.current=dt.current-sn}st.current=new Date().getTime()})():(()=>{dt.current!==1/0&&(Nt.current=new Date().getTime(),Xe=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),he()},dt.current))})(),()=>clearTimeout(Xe)},[R,y,p,Y,pe,he]),Mt.useEffect(()=>{p.delete&&he()},[he,p.delete]);function ht(){var Xe;if(ue!=null&&ue.loading){var rt;return Mt.createElement("div",{className:Nu(K==null?void 0:K.loader,p==null||(rt=p.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":Y==="loading"},ue.loading)}return Mt.createElement(Jbe,{className:Nu(K==null?void 0:K.loader,p==null||(Xe=p.classNames)==null?void 0:Xe.loader),visible:Y==="loading"})}var Le,We;return Mt.createElement("li",{tabIndex:0,ref:It,className:Nu(L,Fe,K==null?void 0:K.toast,p==null||(e=p.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[Y],p==null||(t=p.classNames)==null?void 0:t[Y]),"data-sonner-toast":"","data-rich-colors":(Le=p.richColors)!=null?Le:k,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":De,"data-promise":!!p.promise,"data-swiped":qt,"data-removed":Oe,"data-visible":te,"data-y-position":Wt,"data-x-position":Vt,"data-index":E,"data-front":Et,"data-swiping":je,"data-dismissible":we,"data-type":Y,"data-invert":Be,"data-swipe-out":wt,"data-swipe-direction":le,"data-expanded":!!(R||de&&De),style:{"--index":E,"--toasts-before":E,"--z-index":A.length-E,"--offset":`${Oe?Ye:hn.current}px`,"--initial-height":de?"auto":`${bt}px`,...z,...p.style},onDragEnd:()=>{tt(!1),Z(null),Ct.current=null},onPointerDown:Xe=>{Tt||!we||(pt.current=new Date,se(hn.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(tt(!0),Ct.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,rt,Dt;if(wt||!we)return;Ct.current=null;const sn=Number(((Xe=It.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((rt=It.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ae=new Date().getTime()-((Dt=pt.current)==null?void 0:Dt.getTime()),ge=ve==="x"?sn:Un,Ee=Math.abs(ge)/ae;if(Math.abs(ge)>=v_e||Ee>.11){se(hn.current),p.onDismiss==null||p.onDismiss.call(p,p),Ae(ve==="x"?sn>0?"right":"left":Un>0?"down":"up"),he(),Qe(!0);return}else{var et,xt;(et=It.current)==null||et.style.setProperty("--swipe-amount-x","0px"),(xt=It.current)==null||xt.style.setProperty("--swipe-amount-y","0px")}Ge(!1),tt(!1),Z(null)},onPointerMove:Xe=>{var rt,Dt,sn;if(!Ct.current||!we||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;const ae=Xe.clientY-Ct.current.y,ge=Xe.clientX-Ct.current.x;var Ee;const et=(Ee=n.swipeDirections)!=null?Ee:b_e(G);!ve&&(Math.abs(ge)>1||Math.abs(ae)>1)&&Z(Math.abs(ge)>Math.abs(ae)?"x":"y");let xt={x:0,y:0};const Bt=Yt=>1/(1.5+Math.abs(Yt)/20);if(ve==="y"){if(et.includes("top")||et.includes("bottom"))if(et.includes("top")&&ae<0||et.includes("bottom")&&ae>0)xt.y=ae;else{const Yt=ae*Bt(ae);xt.y=Math.abs(Yt)<Math.abs(ae)?Yt:ae}}else if(ve==="x"&&(et.includes("left")||et.includes("right")))if(et.includes("left")&&ge<0||et.includes("right")&&ge>0)xt.x=ge;else{const Yt=ge*Bt(ge);xt.x=Math.abs(Yt)<Math.abs(ge)?Yt:ge}(Math.abs(xt.x)>0||Math.abs(xt.y)>0)&&Ge(!0),(Dt=It.current)==null||Dt.style.setProperty("--swipe-amount-x",`${xt.x}px`),(sn=It.current)==null||sn.style.setProperty("--swipe-amount-y",`${xt.y}px`)}},yt&&!p.jsx&&Y!=="loading"?Mt.createElement("button",{"aria-label":ne,"data-disabled":Tt,"data-close-button":!0,onClick:Tt||!we?()=>{}:()=>{he(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Nu(K==null?void 0:K.closeButton,p==null||(i=p.classNames)==null?void 0:i.closeButton)},(We=ue==null?void 0:ue.close)!=null?We:r_e):null,Y||p.icon||p.promise?Mt.createElement("div",{"data-icon":"",className:Nu(K==null?void 0:K.icon,p==null||(r=p.classNames)==null?void 0:r.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ht():null,p.type!=="loading"?p.icon||(ue==null?void 0:ue[Y])||Zbe(Y):null):null,Mt.createElement("div",{"data-content":"",className:Nu(K==null?void 0:K.content,p==null||(s=p.classNames)==null?void 0:s.content)},Mt.createElement("div",{"data-title":"",className:Nu(K==null?void 0:K.title,p==null||(a=p.classNames)==null?void 0:a.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?Mt.createElement("div",{"data-description":"",className:Nu(j,it,K==null?void 0:K.description,p==null||(o=p.classNames)==null?void 0:o.description)},typeof p.description=="function"?p.description():p.description):null),Mt.isValidElement(p.cancel)?p.cancel:p.cancel&&bE(p.cancel)?Mt.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||V,onClick:Xe=>{bE(p.cancel)&&we&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Xe),he())},className:Nu(K==null?void 0:K.cancelButton,p==null||(c=p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,Mt.isValidElement(p.action)?p.action:p.action&&bE(p.action)?Mt.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:Xe=>{bE(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Xe),!Xe.defaultPrevented&&he())},className:Nu(K==null?void 0:K.actionButton,p==null||(u=p.classNames)==null?void 0:u.actionButton)},p.action.label):null)};function KV(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function x_e(n,e){const t={};return[n,e].forEach((i,r)=>{const s=r===1,a=s?"--mobile-offset":"--offset",o=s?p_e:d_e;function c(u){["top","right","bottom","left"].forEach(d=>{t[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(u=>{i[u]===void 0?t[`${a}-${u}`]=o:t[`${a}-${u}`]=typeof i[u]=="number"?`${i[u]}px`:i[u]}):c(o)}),t}const S_e=Mt.forwardRef(function(e,t){const{invert:i,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:c,offset:u,mobileOffset:d,theme:p="light",richColors:v,duration:y,style:_,visibleToasts:w=f_e,toastOptions:S,dir:E=KV(),gap:A=g_e,icons:R,containerAriaLabel:D="Notifications"}=e,[k,N]=Mt.useState([]),z=Mt.useMemo(()=>Array.from(new Set([r].concat(k.filter(le=>le.position).map(le=>le.position)))),[k,r]),[V,I]=Mt.useState([]),[L,j]=Mt.useState(!1),[X,G]=Mt.useState(!1),[re,de]=Mt.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Mt.useRef(null),ue=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=Mt.useRef(null),ve=Mt.useRef(!1),Z=Mt.useCallback(le=>{N(Ae=>{var De;return(De=Ae.find(oe=>oe.id===le.id))!=null&&De.delete||xo.dismiss(le.id),Ae.filter(({id:oe})=>oe!==le.id)})},[]);return Mt.useEffect(()=>xo.subscribe(le=>{if(le.dismiss){const Ae=k.map(De=>De.id===le.id?{...De,delete:!0}:De);requestAnimationFrame(()=>{N(Ae)});return}setTimeout(()=>{_k.flushSync(()=>{N(Ae=>{const De=Ae.findIndex(oe=>oe.id===le.id);return De!==-1?[...Ae.slice(0,De),{...Ae[De],...le},...Ae.slice(De+1)]:[le,...Ae]})})})}),[k]),Mt.useEffect(()=>{if(p!=="system"){de(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;const le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:Ae})=>{de(Ae?"dark":"light")})}catch{le.addListener(({matches:De})=>{try{de(De?"dark":"light")}catch(oe){console.error(oe)}})}},[p]),Mt.useEffect(()=>{k.length<=1&&j(!1)},[k]),Mt.useEffect(()=>{const le=Ae=>{var De;if(s.every(Ie=>Ae[Ie]||Ae.code===Ie)){var Oe;j(!0),(Oe=K.current)==null||Oe.focus()}Ae.code==="Escape"&&(document.activeElement===K.current||(De=K.current)!=null&&De.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[s]),Mt.useEffect(()=>{if(K.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,ve.current=!1)}},[K.current]),Mt.createElement("section",{ref:t,"aria-label":`${D} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((le,Ae)=>{var De;const[oe,Oe]=le.split("-");return k.length?Mt.createElement("ol",{key:le,dir:E==="auto"?KV():E,tabIndex:-1,ref:K,className:c,"data-sonner-toaster":!0,"data-sonner-theme":re,"data-y-position":oe,"data-lifted":L&&k.length>1&&!a,"data-x-position":Oe,style:{"--front-toast-height":`${((De=V[0])==null?void 0:De.height)||0}px`,"--width":`${m_e}px`,"--gap":`${A}px`,..._,...x_e(u,d)},onBlur:Ie=>{ve.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(ve.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||ve.current||(ve.current=!0,ne.current=Ie.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{X||j(!1)},onDragEnd:()=>j(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},k.filter(Ie=>!Ie.position&&Ae===0||Ie.position===le).map((Ie,je)=>{var tt,wt;return Mt.createElement(__e,{key:Ie.id,icons:R,index:je,toast:Ie,defaultRichColors:v,duration:(tt=S==null?void 0:S.duration)!=null?tt:y,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:i,visibleToasts:w,closeButton:(wt=S==null?void 0:S.closeButton)!=null?wt:o,interacting:X,position:le,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:Z,toasts:k.filter(Qe=>Qe.position==Ie.position),heights:V.filter(Qe=>Qe.position==Ie.position),setHeights:I,expandByDefault:a,gap:A,expanded:L,swipeDirections:e.swipeDirections})})):null}))});var ej={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$V=Mt.createContext&&Mt.createContext(ej),E_e=["attr","size","title"];function w_e(n,e){if(n==null)return{};var t=T_e(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function T_e(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function OT(){return OT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OT.apply(this,arguments)}function ZV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function NT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(t),!0).forEach(function(i){M_e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function M_e(n,e,t){return e=A_e(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A_e(n){var e=C_e(n,"string");return typeof e=="symbol"?e:e+""}function C_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tj(n){return n&&n.map((e,t)=>Mt.createElement(e.tag,NT({key:t},e.attr),tj(e.child)))}function Ta(n){return e=>Mt.createElement(R_e,OT({attr:NT({},n.attr)},e),tj(n.child))}function R_e(n){var e=t=>{var{attr:i,size:r,title:s}=n,a=w_e(n,E_e),o=r||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),Mt.createElement("svg",OT({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:c,style:NT(NT({color:n.color||t.color},t.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Mt.createElement("title",null,s),n.children)};return $V!==void 0?Mt.createElement($V.Consumer,null,t=>e(t)):e(ej)}function D_e(n){return Ta({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(n)}function il(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function O_e(n,e){const t=B.createContext(e),i=s=>{const{children:a,...o}=s,c=B.useMemo(()=>o,Object.values(o));return U.jsx(t.Provider,{value:c,children:a})};i.displayName=n+"Provider";function r(s){const a=B.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[i,r]}function GP(n,e=[]){let t=[];function i(s,a){const o=B.createContext(a),c=t.length;t=[...t,a];const u=p=>{var E;const{scope:v,children:y,..._}=p,w=((E=v==null?void 0:v[n])==null?void 0:E[c])||o,S=B.useMemo(()=>_,Object.values(_));return U.jsx(w.Provider,{value:S,children:y})};u.displayName=s+"Provider";function d(p,v){var w;const y=((w=v==null?void 0:v[n])==null?void 0:w[c])||o,_=B.useContext(y);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,d]}const r=()=>{const s=t.map(a=>B.createContext(a));return function(o){const c=(o==null?void 0:o[n])||s;return B.useMemo(()=>({[`__scope${n}`]:{...o,[n]:c}}),[o,c])}};return r.scopeName=n,[i,N_e(r,...e)]}function N_e(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((o,{useScope:c,scopeName:u})=>{const p=c(s)[`__scope${u}`];return{...o,...p}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var tg=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},P_e=EX.useId||(()=>{}),I_e=0;function lw(n){const[e,t]=B.useState(P_e());return tg(()=>{t(i=>i??String(I_e++))},[n]),n||(e?`radix-${e}`:"")}function kd(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n}),B.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function nj({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=L_e({defaultProp:e,onChange:t}),s=n!==void 0,a=s?n:i,o=kd(t),c=B.useCallback(u=>{if(s){const p=typeof u=="function"?u(n):u;p!==n&&o(p)}else r(u)},[s,n,r,o]);return[a,c]}function L_e({defaultProp:n,onChange:e}){const t=B.useState(n),[i]=t,r=B.useRef(i),s=kd(e);return B.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}var U_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ka=U_e.reduce((n,e)=>{const t=B.forwardRef((i,r)=>{const{asChild:s,...a}=i,o=s?lx:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),U.jsx(o,{...a,ref:r})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function z_e(n,e){n&&fx.flushSync(()=>n.dispatchEvent(e))}function V_e(n,e=globalThis==null?void 0:globalThis.document){const t=kd(n);B.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var B_e="DismissableLayer",iO="dismissableLayer.update",k_e="dismissableLayer.pointerDownOutside",F_e="dismissableLayer.focusOutside",QV,ij=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qP=B.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=n,u=B.useContext(ij),[d,p]=B.useState(null),v=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=B.useState({}),_=Bc(e,z=>p(z)),w=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(S),A=d?w.indexOf(d):-1,R=u.layersWithOutsidePointerEventsDisabled.size>0,D=A>=E,k=G_e(z=>{const V=z.target,I=[...u.branches].some(L=>L.contains(V));!D||I||(r==null||r(z),a==null||a(z),z.defaultPrevented||o==null||o())},v),N=q_e(z=>{const V=z.target;[...u.branches].some(L=>L.contains(V))||(s==null||s(z),a==null||a(z),z.defaultPrevented||o==null||o())},v);return V_e(z=>{A===u.layers.size-1&&(i==null||i(z),!z.defaultPrevented&&o&&(z.preventDefault(),o()))},v),B.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(QV=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),JV(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=QV)}},[d,v,t,u]),B.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),JV())},[d,u]),B.useEffect(()=>{const z=()=>y({});return document.addEventListener(iO,z),()=>document.removeEventListener(iO,z)},[]),U.jsx(Ka.div,{...c,ref:_,style:{pointerEvents:R?D?"auto":"none":void 0,...n.style},onFocusCapture:il(n.onFocusCapture,N.onFocusCapture),onBlurCapture:il(n.onBlurCapture,N.onBlurCapture),onPointerDownCapture:il(n.onPointerDownCapture,k.onPointerDownCapture)})});qP.displayName=B_e;var H_e="DismissableLayerBranch",j_e=B.forwardRef((n,e)=>{const t=B.useContext(ij),i=B.useRef(null),r=Bc(e,i);return B.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),U.jsx(Ka.div,{...n,ref:r})});j_e.displayName=H_e;function G_e(n,e=globalThis==null?void 0:globalThis.document){const t=kd(n),i=B.useRef(!1),r=B.useRef(()=>{});return B.useEffect(()=>{const s=o=>{if(o.target&&!i.current){let c=function(){rj(k_e,t,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function q_e(n,e=globalThis==null?void 0:globalThis.document){const t=kd(n),i=B.useRef(!1);return B.useEffect(()=>{const r=s=>{s.target&&!i.current&&rj(F_e,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function JV(){const n=new CustomEvent(iO);document.dispatchEvent(n)}function rj(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?z_e(r,s):r.dispatchEvent(s)}var pD="focusScope.autoFocusOnMount",mD="focusScope.autoFocusOnUnmount",eB={bubbles:!1,cancelable:!0},W_e="FocusScope",WP=B.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=n,[o,c]=B.useState(null),u=kd(r),d=kd(s),p=B.useRef(null),v=Bc(e,w=>c(w)),y=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(i){let w=function(R){if(y.paused||!o)return;const D=R.target;o.contains(D)?p.current=D:yd(p.current,{select:!0})},S=function(R){if(y.paused||!o)return;const D=R.relatedTarget;D!==null&&(o.contains(D)||yd(p.current,{select:!0}))},E=function(R){if(document.activeElement===document.body)for(const k of R)k.removedNodes.length>0&&yd(o)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const A=new MutationObserver(E);return o&&A.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),A.disconnect()}}},[i,o,y.paused]),B.useEffect(()=>{if(o){nB.add(y);const w=document.activeElement;if(!o.contains(w)){const E=new CustomEvent(pD,eB);o.addEventListener(pD,u),o.dispatchEvent(E),E.defaultPrevented||(X_e(Q_e(sj(o)),{select:!0}),document.activeElement===w&&yd(o))}return()=>{o.removeEventListener(pD,u),setTimeout(()=>{const E=new CustomEvent(mD,eB);o.addEventListener(mD,d),o.dispatchEvent(E),E.defaultPrevented||yd(w??document.body,{select:!0}),o.removeEventListener(mD,d),nB.remove(y)},0)}}},[o,u,d,y]);const _=B.useCallback(w=>{if(!t&&!i||y.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(S&&E){const A=w.currentTarget,[R,D]=Y_e(A);R&&D?!w.shiftKey&&E===D?(w.preventDefault(),t&&yd(R,{select:!0})):w.shiftKey&&E===R&&(w.preventDefault(),t&&yd(D,{select:!0})):E===A&&w.preventDefault()}},[t,i,y.paused]);return U.jsx(Ka.div,{tabIndex:-1,...a,ref:v,onKeyDown:_})});WP.displayName=W_e;function X_e(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(yd(i,{select:e}),document.activeElement!==t)return}function Y_e(n){const e=sj(n),t=tB(e,n),i=tB(e.reverse(),n);return[t,i]}function sj(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function tB(n,e){for(const t of n)if(!K_e(t,{upTo:e}))return t}function K_e(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function $_e(n){return n instanceof HTMLInputElement&&"select"in n}function yd(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&$_e(n)&&e&&n.select()}}var nB=Z_e();function Z_e(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=iB(n,e),n.unshift(e)},remove(e){var t;n=iB(n,e),(t=n[0])==null||t.resume()}}}function iB(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function Q_e(n){return n.filter(e=>e.tagName!=="A")}var J_e="Portal",XP=B.forwardRef((n,e)=>{var o;const{container:t,...i}=n,[r,s]=B.useState(!1);tg(()=>s(!0),[]);const a=t||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?_k.createPortal(U.jsx(Ka.div,{...i,ref:e}),a):null});XP.displayName=J_e;function exe(n,e){return B.useReducer((t,i)=>e[t][i]??t,n)}var t0=n=>{const{present:e,children:t}=n,i=txe(e),r=typeof t=="function"?t({present:i.isPresent}):B.Children.only(t),s=Bc(i.ref,nxe(r));return typeof t=="function"||i.isPresent?B.cloneElement(r,{ref:s}):null};t0.displayName="Presence";function txe(n){const[e,t]=B.useState(),i=B.useRef({}),r=B.useRef(n),s=B.useRef("none"),a=n?"mounted":"unmounted",[o,c]=exe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const u=_E(i.current);s.current=o==="mounted"?u:"none"},[o]),tg(()=>{const u=i.current,d=r.current;if(d!==n){const v=s.current,y=_E(u);n?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&v!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,c]),tg(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=y=>{const w=_E(i.current).includes(y.animationName);if(y.target===e&&w&&(c("ANIMATION_END"),!r.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=y=>{y.target===e&&(s.current=_E(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:B.useCallback(u=>{u&&(i.current=getComputedStyle(u)),t(u)},[])}}function _E(n){return(n==null?void 0:n.animationName)||"none"}function nxe(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var gD=0;function aj(){B.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??rB()),document.body.insertAdjacentElement("beforeend",n[1]??rB()),gD++,()=>{gD===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gD--}},[])}function rB(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ku=function(){return ku=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ku.apply(this,arguments)};function oj(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function ixe(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var cw="right-scroll-bar-position",uw="width-before-scroll-bar",rxe="with-scroll-bars-hidden",sxe="--removed-body-scroll-bar-size";function vD(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function axe(n,e){var t=B.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var r=t.value;r!==i&&(t.value=i,t.callback(i,r))}}}})[0];return t.callback=e,t.facade}var oxe=typeof window<"u"?B.useLayoutEffect:B.useEffect,sB=new WeakMap;function lxe(n,e){var t=axe(null,function(i){return n.forEach(function(r){return vD(r,i)})});return oxe(function(){var i=sB.get(t);if(i){var r=new Set(i),s=new Set(n),a=t.current;r.forEach(function(o){s.has(o)||vD(o,null)}),s.forEach(function(o){r.has(o)||vD(o,a)})}sB.set(t,n)},[n]),t}function cxe(n){return n}function uxe(n,e){e===void 0&&(e=cxe);var t=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var a=e(s,i);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(i=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){i=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),t={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),t}}}};return r}function hxe(n){n===void 0&&(n={});var e=uxe(null);return e.options=ku({async:!0,ssr:!1},n),e}var lj=function(n){var e=n.sideCar,t=oj(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return B.createElement(i,ku({},t))};lj.isSideCarExport=!0;function fxe(n,e){return n.useMedium(e),lj}var cj=hxe(),yD=function(){},rA=B.forwardRef(function(n,e){var t=B.useRef(null),i=B.useState({onScrollCapture:yD,onWheelCapture:yD,onTouchMoveCapture:yD}),r=i[0],s=i[1],a=n.forwardProps,o=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,p=n.shards,v=n.sideCar,y=n.noIsolation,_=n.inert,w=n.allowPinchZoom,S=n.as,E=S===void 0?"div":S,A=n.gapMode,R=oj(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,k=lxe([t,e]),N=ku(ku({},R),r);return B.createElement(B.Fragment,null,d&&B.createElement(D,{sideCar:cj,removeScrollBar:u,shards:p,noIsolation:y,inert:_,setCallbacks:s,allowPinchZoom:!!w,lockRef:t,gapMode:A}),a?B.cloneElement(B.Children.only(o),ku(ku({},N),{ref:k})):B.createElement(E,ku({},N,{className:c,ref:k}),o))});rA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rA.classNames={fullWidth:uw,zeroRight:cw};var dxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pxe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=dxe();return e&&n.setAttribute("nonce",e),n}function mxe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function gxe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var vxe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=pxe())&&(mxe(e,t),gxe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yxe=function(){var n=vxe();return function(e,t){B.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},uj=function(){var n=yxe(),e=function(t){var i=t.styles,r=t.dynamic;return n(i,r),null};return e},bxe={left:0,top:0,right:0,gap:0},bD=function(n){return parseInt(n||"",10)||0},_xe=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[bD(t),bD(i),bD(r)]},xxe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return bxe;var e=_xe(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},Sxe=uj(),dy="data-scroll-locked",Exe=function(n,e,t,i){var r=n.left,s=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(rxe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(o,"px ").concat(i,`;
  }
  body[`).concat(dy,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cw,` {
    right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(uw,` {
    margin-right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(cw," .").concat(cw,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(uw," .").concat(uw,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(dy,`] {
    `).concat(sxe,": ").concat(o,`px;
  }
`)},aB=function(){var n=parseInt(document.body.getAttribute(dy)||"0",10);return isFinite(n)?n:0},wxe=function(){B.useEffect(function(){return document.body.setAttribute(dy,(aB()+1).toString()),function(){var n=aB()-1;n<=0?document.body.removeAttribute(dy):document.body.setAttribute(dy,n.toString())}},[])},Txe=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;wxe();var s=B.useMemo(function(){return xxe(r)},[r]);return B.createElement(Sxe,{styles:Exe(s,!e,r,t?"":"!important")})},rO=!1;if(typeof window<"u")try{var xE=Object.defineProperty({},"passive",{get:function(){return rO=!0,!0}});window.addEventListener("test",xE,xE),window.removeEventListener("test",xE,xE)}catch{rO=!1}var Vv=rO?{passive:!1}:!1,Mxe=function(n){return n.tagName==="TEXTAREA"},hj=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Mxe(n)&&t[e]==="visible")},Axe=function(n){return hj(n,"overflowY")},Cxe=function(n){return hj(n,"overflowX")},oB=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=fj(n,i);if(r){var s=dj(n,i),a=s[1],o=s[2];if(a>o)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},Rxe=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},Dxe=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},fj=function(n,e){return n==="v"?Axe(e):Cxe(e)},dj=function(n,e){return n==="v"?Rxe(e):Dxe(e)},Oxe=function(n,e){return n==="h"&&e==="rtl"?-1:1},Nxe=function(n,e,t,i,r){var s=Oxe(n,window.getComputedStyle(e).direction),a=s*i,o=t.target,c=e.contains(o),u=!1,d=a>0,p=0,v=0;do{var y=dj(n,o),_=y[0],w=y[1],S=y[2],E=w-S-s*_;(_||E)&&fj(n,o)&&(p+=E,v+=_),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(p)<1||!d&&Math.abs(v)<1)&&(u=!0),u},SE=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},lB=function(n){return[n.deltaX,n.deltaY]},cB=function(n){return n&&"current"in n?n.current:n},Pxe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Ixe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Lxe=0,Bv=[];function Uxe(n){var e=B.useRef([]),t=B.useRef([0,0]),i=B.useRef(),r=B.useState(Lxe++)[0],s=B.useState(uj)[0],a=B.useRef(n);B.useEffect(function(){a.current=n},[n]),B.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var w=ixe([n.lockRef.current],(n.shards||[]).map(cB),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var o=B.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var E=SE(w),A=t.current,R="deltaX"in w?w.deltaX:A[0]-E[0],D="deltaY"in w?w.deltaY:A[1]-E[1],k,N=w.target,z=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in w&&z==="h"&&N.type==="range")return!1;var V=oB(z,N);if(!V)return!0;if(V?k=z:(k=z==="v"?"h":"v",V=oB(z,N)),!V)return!1;if(!i.current&&"changedTouches"in w&&(R||D)&&(i.current=k),!k)return!0;var I=i.current||k;return Nxe(I,S,w,I==="h"?R:D)},[]),c=B.useCallback(function(w){var S=w;if(!(!Bv.length||Bv[Bv.length-1]!==s)){var E="deltaY"in S?lB(S):SE(S),A=e.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&Pxe(k.delta,E)})[0];if(A&&A.should){S.cancelable&&S.preventDefault();return}if(!A){var R=(a.current.shards||[]).map(cB).filter(Boolean).filter(function(k){return k.contains(S.target)}),D=R.length>0?o(S,R[0]):!a.current.noIsolation;D&&S.cancelable&&S.preventDefault()}}},[]),u=B.useCallback(function(w,S,E,A){var R={name:w,delta:S,target:E,should:A,shadowParent:zxe(E)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(D){return D!==R})},1)},[]),d=B.useCallback(function(w){t.current=SE(w),i.current=void 0},[]),p=B.useCallback(function(w){u(w.type,lB(w),w.target,o(w,n.lockRef.current))},[]),v=B.useCallback(function(w){u(w.type,SE(w),w.target,o(w,n.lockRef.current))},[]);B.useEffect(function(){return Bv.push(s),n.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Vv),document.addEventListener("touchmove",c,Vv),document.addEventListener("touchstart",d,Vv),function(){Bv=Bv.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Vv),document.removeEventListener("touchmove",c,Vv),document.removeEventListener("touchstart",d,Vv)}},[]);var y=n.removeScrollBar,_=n.inert;return B.createElement(B.Fragment,null,_?B.createElement(s,{styles:Ixe(r)}):null,y?B.createElement(Txe,{gapMode:n.gapMode}):null)}function zxe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Vxe=fxe(cj,Uxe);var YP=B.forwardRef(function(n,e){return B.createElement(rA,ku({},n,{ref:e,sideCar:Vxe}))});YP.classNames=rA.classNames;var Bxe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},kv=new WeakMap,EE=new WeakMap,wE={},_D=0,pj=function(n){return n&&(n.host||pj(n.parentNode))},kxe=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=pj(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Fxe=function(n,e,t,i){var r=kxe(e,Array.isArray(n)?n:[n]);wE[t]||(wE[t]=new WeakMap);var s=wE[t],a=[],o=new Set,c=new Set(r),u=function(p){!p||o.has(p)||(o.add(p),u(p.parentNode))};r.forEach(u);var d=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(v){if(o.has(v))d(v);else try{var y=v.getAttribute(i),_=y!==null&&y!=="false",w=(kv.get(v)||0)+1,S=(s.get(v)||0)+1;kv.set(v,w),s.set(v,S),a.push(v),w===1&&_&&EE.set(v,!0),S===1&&v.setAttribute(t,"true"),_||v.setAttribute(i,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return d(e),o.clear(),_D++,function(){a.forEach(function(p){var v=kv.get(p)-1,y=s.get(p)-1;kv.set(p,v),s.set(p,y),v||(EE.has(p)||p.removeAttribute(i),EE.delete(p)),y||p.removeAttribute(t)}),_D--,_D||(kv=new WeakMap,kv=new WeakMap,EE=new WeakMap,wE={})}},mj=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=Bxe(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),Fxe(i,r,t,"aria-hidden")):function(){return null}},KP="Dialog",[gj,zDe]=GP(KP),[Hxe,Hc]=gj(KP),vj=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:a=!0}=n,o=B.useRef(null),c=B.useRef(null),[u=!1,d]=nj({prop:i,defaultProp:r,onChange:s});return U.jsx(Hxe,{scope:e,triggerRef:o,contentRef:c,contentId:lw(),titleId:lw(),descriptionId:lw(),open:u,onOpenChange:d,onOpenToggle:B.useCallback(()=>d(p=>!p),[d]),modal:a,children:t})};vj.displayName=KP;var yj="DialogTrigger",jxe=B.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Hc(yj,t),s=Bc(e,r.triggerRef);return U.jsx(Ka.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":QP(r.open),...i,ref:s,onClick:il(n.onClick,r.onOpenToggle)})});jxe.displayName=yj;var $P="DialogPortal",[Gxe,bj]=gj($P,{forceMount:void 0}),_j=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:r}=n,s=Hc($P,e);return U.jsx(Gxe,{scope:e,forceMount:t,children:B.Children.map(i,a=>U.jsx(t0,{present:t||s.open,children:U.jsx(XP,{asChild:!0,container:r,children:a})}))})};_j.displayName=$P;var PT="DialogOverlay",xj=B.forwardRef((n,e)=>{const t=bj(PT,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Hc(PT,n.__scopeDialog);return s.modal?U.jsx(t0,{present:i||s.open,children:U.jsx(qxe,{...r,ref:e})}):null});xj.displayName=PT;var qxe=B.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Hc(PT,t);return U.jsx(YP,{as:lx,allowPinchZoom:!0,shards:[r.contentRef],children:U.jsx(Ka.div,{"data-state":QP(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),ng="DialogContent",Sj=B.forwardRef((n,e)=>{const t=bj(ng,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Hc(ng,n.__scopeDialog);return U.jsx(t0,{present:i||s.open,children:s.modal?U.jsx(Wxe,{...r,ref:e}):U.jsx(Xxe,{...r,ref:e})})});Sj.displayName=ng;var Wxe=B.forwardRef((n,e)=>{const t=Hc(ng,n.__scopeDialog),i=B.useRef(null),r=Bc(e,t.contentRef,i);return B.useEffect(()=>{const s=i.current;if(s)return mj(s)},[]),U.jsx(Ej,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:il(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:il(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:il(n.onFocusOutside,s=>s.preventDefault())})}),Xxe=B.forwardRef((n,e)=>{const t=Hc(ng,n.__scopeDialog),i=B.useRef(!1),r=B.useRef(!1);return U.jsx(Ej,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(i.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var c,u;(c=n.onInteractOutside)==null||c.call(n,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),Ej=B.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...a}=n,o=Hc(ng,t),c=B.useRef(null),u=Bc(e,c);return aj(),U.jsxs(U.Fragment,{children:[U.jsx(WP,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:U.jsx(qP,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":QP(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),U.jsxs(U.Fragment,{children:[U.jsx(Yxe,{titleId:o.titleId}),U.jsx($xe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),ZP="DialogTitle",wj=B.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Hc(ZP,t);return U.jsx(Ka.h2,{id:r.titleId,...i,ref:e})});wj.displayName=ZP;var Tj="DialogDescription",Mj=B.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Hc(Tj,t);return U.jsx(Ka.p,{id:r.descriptionId,...i,ref:e})});Mj.displayName=Tj;var Aj="DialogClose",Cj=B.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Hc(Aj,t);return U.jsx(Ka.button,{type:"button",...i,ref:e,onClick:il(n.onClick,()=>r.onOpenChange(!1))})});Cj.displayName=Aj;function QP(n){return n?"open":"closed"}var Rj="DialogTitleWarning",[VDe,Dj]=O_e(Rj,{contentName:ng,titleName:ZP,docsSlug:"dialog"}),Yxe=({titleId:n})=>{const e=Dj(Rj),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Kxe="DialogDescriptionWarning",$xe=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dj(Kxe).contentName}}.`;return B.useEffect(()=>{var s;const r=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},Zxe=vj,Qxe=_j,Jxe=xj,e1e=Sj,t1e=wj,n1e=Mj,i1e=Cj;/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1e=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oj=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1e=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},c)=>B.createElement("svg",{ref:c,...s1e,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Oj("lucide",r),...o},[...a.map(([u,d])=>B.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=(n,e)=>{const t=B.forwardRef(({className:i,...r},s)=>B.createElement(a1e,{ref:s,iconNode:e,className:Oj(`lucide-${r1e(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],l1e=ol("Calendar",o1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],u1e=ol("CirclePlus",c1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Nj=ol("Clock",h1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1e=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],d1e=ol("Coffee",f1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],m1e=ol("ExternalLink",p1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1e=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pj=ol("MapPin",g1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1e=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],y1e=ol("Sparkles",v1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1e=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_1e=ol("Star",b1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1e=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],S1e=ol("Ticket",x1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1e=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],w1e=ol("Tv",E1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],M1e=ol("Users",T1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],C1e=ol("Wifi",A1e);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D1e=ol("X",R1e);function Ij({...n}){return U.jsx(Zxe,{"data-slot":"dialog",...n})}function O1e({...n}){return U.jsx(Qxe,{"data-slot":"dialog-portal",...n})}function N1e({className:n,...e}){return U.jsx(Jxe,{"data-slot":"dialog-overlay",className:lg("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",n),...e})}function Lj({className:n,children:e,...t}){return U.jsxs(O1e,{"data-slot":"dialog-portal",children:[U.jsx(N1e,{}),U.jsxs(e1e,{"data-slot":"dialog-content",className:lg("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,U.jsxs(i1e,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[U.jsx(D1e,{}),U.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Uj({className:n,...e}){return U.jsx("div",{"data-slot":"dialog-header",className:lg("flex flex-col gap-2 text-center sm:text-left",n),...e})}function P1e({className:n,...e}){return U.jsx(t1e,{"data-slot":"dialog-title",className:lg("text-lg leading-none font-semibold",n),...e})}function zj({className:n,...e}){return U.jsx(n1e,{"data-slot":"dialog-description",className:lg("text-muted-foreground text-sm",n),...e})}var I1e="VisuallyHidden",Vj=B.forwardRef((n,e)=>U.jsx(Ka.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Vj.displayName=I1e;function Bj(n){return Ta({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function L1e(n={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:i}=n,[r,s]=B.useState(!1),a=B.useRef(t);a.current=t;const o=B.useRef(i);return o.current=i,B.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=e,c.onload=()=>{var u;s(!0),(u=a.current)===null||u===void 0||u.call(a)},c.onerror=()=>{var u;s(!1),(u=o.current)===null||u===void 0||u.call(o)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[e]),r}const kj=B.createContext(null);function U1e({clientId:n,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:i,children:r}){const s=L1e({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:i}),a=B.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:s}),[n,s]);return Mt.createElement(kj.Provider,{value:a},r)}function z1e(){const n=B.useContext(kj);if(!n)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return n}function V1e(){var n,e,t;(t=(e=(n=window==null?void 0:window.google)===null||n===void 0?void 0:n.accounts)===null||e===void 0?void 0:e.id)===null||t===void 0||t.disableAutoSelect()}function Fj({flow:n="implicit",scope:e="",onSuccess:t,onError:i,onNonOAuthError:r,overrideScope:s,state:a,...o}){const{clientId:c,scriptLoadedSuccessfully:u}=z1e(),d=B.useRef(),p=B.useRef(t);p.current=t;const v=B.useRef(i);v.current=i;const y=B.useRef(r);y.current=r,B.useEffect(()=>{var S,E;if(!u)return;const A=n==="implicit"?"initTokenClient":"initCodeClient",R=(E=(S=window==null?void 0:window.google)===null||S===void 0?void 0:S.accounts)===null||E===void 0?void 0:E.oauth2[A]({client_id:c,scope:s?e:`openid profile email ${e}`,callback:D=>{var k,N;if(D.error)return(k=v.current)===null||k===void 0?void 0:k.call(v,D);(N=p.current)===null||N===void 0||N.call(p,D)},error_callback:D=>{var k;(k=y.current)===null||k===void 0||k.call(y,D)},state:a,...o});d.current=R},[c,u,n,e,a]);const _=B.useCallback(S=>{var E;return(E=d.current)===null||E===void 0?void 0:E.requestAccessToken(S)},[]),w=B.useCallback(()=>{var S;return(S=d.current)===null||S===void 0?void 0:S.requestCode()},[]);return n==="implicit"?_:w}function Hj(n,e){return function(){return n.apply(e,arguments)}}const{toString:B1e}=Object.prototype,{getPrototypeOf:JP}=Object,sA=(n=>e=>{const t=B1e.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jc=n=>(n=n.toLowerCase(),e=>sA(e)===n),aA=n=>e=>typeof e===n,{isArray:n0}=Array,$_=aA("undefined");function k1e(n){return n!==null&&!$_(n)&&n.constructor!==null&&!$_(n.constructor)&&rl(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const jj=jc("ArrayBuffer");function F1e(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&jj(n.buffer),e}const H1e=aA("string"),rl=aA("function"),Gj=aA("number"),oA=n=>n!==null&&typeof n=="object",j1e=n=>n===!0||n===!1,hw=n=>{if(sA(n)!=="object")return!1;const e=JP(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},G1e=jc("Date"),q1e=jc("File"),W1e=jc("Blob"),X1e=jc("FileList"),Y1e=n=>oA(n)&&rl(n.pipe),K1e=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||rl(n.append)&&((e=sA(n))==="formdata"||e==="object"&&rl(n.toString)&&n.toString()==="[object FormData]"))},$1e=jc("URLSearchParams"),[Z1e,Q1e,J1e,eSe]=["ReadableStream","Request","Response","Headers"].map(jc),tSe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ix(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),n0(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,n[o],o,n)}}function qj(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const Om=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Wj=n=>!$_(n)&&n!==Om;function sO(){const{caseless:n}=Wj(this)&&this||{},e={},t=(i,r)=>{const s=n&&qj(e,r)||r;hw(e[s])&&hw(i)?e[s]=sO(e[s],i):hw(i)?e[s]=sO({},i):n0(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Ix(arguments[i],t);return e}const nSe=(n,e,t,{allOwnKeys:i}={})=>(Ix(e,(r,s)=>{t&&rl(r)?n[s]=Hj(r,t):n[s]=r},{allOwnKeys:i}),n),iSe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),rSe=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},sSe=(n,e,t,i)=>{let r,s,a;const o={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)a=r[s],(!i||i(a,n,e))&&!o[a]&&(e[a]=n[a],o[a]=!0);n=t!==!1&&JP(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},aSe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},oSe=n=>{if(!n)return null;if(n0(n))return n;let e=n.length;if(!Gj(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},lSe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&JP(Uint8Array)),cSe=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},uSe=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},hSe=jc("HTMLFormElement"),fSe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),uB=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),dSe=jc("RegExp"),Xj=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Ix(t,(r,s)=>{let a;(a=e(r,s,n))!==!1&&(i[s]=a||r)}),Object.defineProperties(n,i)},pSe=n=>{Xj(n,(e,t)=>{if(rl(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(rl(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mSe=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return n0(n)?i(n):i(String(n).split(e)),t},gSe=()=>{},vSe=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function ySe(n){return!!(n&&rl(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const bSe=n=>{const e=new Array(10),t=(i,r)=>{if(oA(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=n0(i)?[]:{};return Ix(i,(a,o)=>{const c=t(a,r+1);!$_(c)&&(s[o]=c)}),e[r]=void 0,s}}return i};return t(n,0)},_Se=jc("AsyncFunction"),xSe=n=>n&&(oA(n)||rl(n))&&rl(n.then)&&rl(n.catch),Yj=((n,e)=>n?setImmediate:e?((t,i)=>(Om.addEventListener("message",({source:r,data:s})=>{r===Om&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),Om.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",rl(Om.postMessage)),SSe=typeof queueMicrotask<"u"?queueMicrotask.bind(Om):typeof process<"u"&&process.nextTick||Yj,qe={isArray:n0,isArrayBuffer:jj,isBuffer:k1e,isFormData:K1e,isArrayBufferView:F1e,isString:H1e,isNumber:Gj,isBoolean:j1e,isObject:oA,isPlainObject:hw,isReadableStream:Z1e,isRequest:Q1e,isResponse:J1e,isHeaders:eSe,isUndefined:$_,isDate:G1e,isFile:q1e,isBlob:W1e,isRegExp:dSe,isFunction:rl,isStream:Y1e,isURLSearchParams:$1e,isTypedArray:lSe,isFileList:X1e,forEach:Ix,merge:sO,extend:nSe,trim:tSe,stripBOM:iSe,inherits:rSe,toFlatObject:sSe,kindOf:sA,kindOfTest:jc,endsWith:aSe,toArray:oSe,forEachEntry:cSe,matchAll:uSe,isHTMLForm:hSe,hasOwnProperty:uB,hasOwnProp:uB,reduceDescriptors:Xj,freezeMethods:pSe,toObjectSet:mSe,toCamelCase:fSe,noop:gSe,toFiniteNumber:vSe,findKey:qj,global:Om,isContextDefined:Wj,isSpecCompliantForm:ySe,toJSONObject:bSe,isAsyncFn:_Se,isThenable:xSe,setImmediate:Yj,asap:SSe};function Ln(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}qe.inherits(Ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.status}}});const Kj=Ln.prototype,$j={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{$j[n]={value:n}});Object.defineProperties(Ln,$j);Object.defineProperty(Kj,"isAxiosError",{value:!0});Ln.from=(n,e,t,i,r,s)=>{const a=Object.create(Kj);return qe.toFlatObject(n,a,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Ln.call(a,n.message,e,t,i,r),a.cause=n,a.name=n.name,s&&Object.assign(a,s),a};const ESe=null;function aO(n){return qe.isPlainObject(n)||qe.isArray(n)}function Zj(n){return qe.endsWith(n,"[]")?n.slice(0,-2):n}function hB(n,e,t){return n?n.concat(e).map(function(r,s){return r=Zj(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function wSe(n){return qe.isArray(n)&&!n.some(aO)}const TSe=qe.toFlatObject(qe,{},null,function(e){return/^is[A-Z]/.test(e)});function lA(n,e,t){if(!qe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=qe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!qe.isUndefined(S[w])});const i=t.metaTokens,r=t.visitor||d,s=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(e);if(!qe.isFunction(r))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(qe.isDate(_))return _.toISOString();if(!c&&qe.isBlob(_))throw new Ln("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(_)||qe.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,w,S){let E=_;if(_&&!S&&typeof _=="object"){if(qe.endsWith(w,"{}"))w=i?w:w.slice(0,-2),_=JSON.stringify(_);else if(qe.isArray(_)&&wSe(_)||(qe.isFileList(_)||qe.endsWith(w,"[]"))&&(E=qe.toArray(_)))return w=Zj(w),E.forEach(function(R,D){!(qe.isUndefined(R)||R===null)&&e.append(a===!0?hB([w],D,s):a===null?w:w+"[]",u(R))}),!1}return aO(_)?!0:(e.append(hB(S,w,s),u(_)),!1)}const p=[],v=Object.assign(TSe,{defaultVisitor:d,convertValue:u,isVisitable:aO});function y(_,w){if(!qe.isUndefined(_)){if(p.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(_),qe.forEach(_,function(E,A){(!(qe.isUndefined(E)||E===null)&&r.call(e,E,qe.isString(A)?A.trim():A,w,v))===!0&&y(E,w?w.concat(A):[A])}),p.pop()}}if(!qe.isObject(n))throw new TypeError("data must be an object");return y(n),e}function fB(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function eI(n,e){this._pairs=[],n&&lA(n,this,e)}const Qj=eI.prototype;Qj.append=function(e,t){this._pairs.push([e,t])};Qj.toString=function(e){const t=e?function(i){return e.call(this,i,fB)}:fB;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function MSe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jj(n,e,t){if(!e)return n;const i=t&&t.encode||MSe;qe.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=qe.isURLSearchParams(e)?e.toString():new eI(e,t).toString(i),s){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class dB{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){qe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const eG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ASe=typeof URLSearchParams<"u"?URLSearchParams:eI,CSe=typeof FormData<"u"?FormData:null,RSe=typeof Blob<"u"?Blob:null,DSe={isBrowser:!0,classes:{URLSearchParams:ASe,FormData:CSe,Blob:RSe},protocols:["http","https","file","blob","url","data"]},tI=typeof window<"u"&&typeof document<"u",oO=typeof navigator=="object"&&navigator||void 0,OSe=tI&&(!oO||["ReactNative","NativeScript","NS"].indexOf(oO.product)<0),NSe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PSe=tI&&window.location.href||"http://localhost",ISe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tI,hasStandardBrowserEnv:OSe,hasStandardBrowserWebWorkerEnv:NSe,navigator:oO,origin:PSe},Symbol.toStringTag,{value:"Module"})),ma={...ISe,...DSe};function LSe(n,e){return lA(n,new ma.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return ma.isNode&&qe.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function USe(n){return qe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zSe(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function tG(n){function e(t,i,r,s){let a=t[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=s>=t.length;return a=!a&&qe.isArray(r)?r.length:a,c?(qe.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!qe.isObject(r[a]))&&(r[a]=[]),e(t,i,r[a],s)&&qe.isArray(r[a])&&(r[a]=zSe(r[a])),!o)}if(qe.isFormData(n)&&qe.isFunction(n.entries)){const t={};return qe.forEachEntry(n,(i,r)=>{e(USe(i),r,t,0)}),t}return null}function VSe(n,e,t){if(qe.isString(n))try{return(e||JSON.parse)(n),qe.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Lx={transitional:eG,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=qe.isObject(e);if(s&&qe.isHTMLForm(e)&&(e=new FormData(e)),qe.isFormData(e))return r?JSON.stringify(tG(e)):e;if(qe.isArrayBuffer(e)||qe.isBuffer(e)||qe.isStream(e)||qe.isFile(e)||qe.isBlob(e)||qe.isReadableStream(e))return e;if(qe.isArrayBufferView(e))return e.buffer;if(qe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return LSe(e,this.formSerializer).toString();if((o=qe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return lA(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),VSe(e)):e}],transformResponse:[function(e){const t=this.transitional||Lx.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(qe.isResponse(e)||qe.isReadableStream(e))return e;if(e&&qe.isString(e)&&(i&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Ln.from(o,Ln.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ma.classes.FormData,Blob:ma.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],n=>{Lx.headers[n]={}});const BSe=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kSe=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(a){r=a.indexOf(":"),t=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!t||e[t]&&BSe[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},pB=Symbol("internals");function Ib(n){return n&&String(n).trim().toLowerCase()}function fw(n){return n===!1||n==null?n:qe.isArray(n)?n.map(fw):String(n)}function FSe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const HSe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function xD(n,e,t,i,r){if(qe.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!qe.isString(e)){if(qe.isString(i))return e.indexOf(i)!==-1;if(qe.isRegExp(i))return i.test(e)}}function jSe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function GSe(n,e){const t=qe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}let To=class{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(o,c,u){const d=Ib(c);if(!d)throw new Error("header name must be a non-empty string");const p=qe.findKey(r,d);(!p||r[p]===void 0||u===!0||u===void 0&&r[p]!==!1)&&(r[p||c]=fw(o))}const a=(o,c)=>qe.forEach(o,(u,d)=>s(u,d,c));if(qe.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(qe.isString(e)&&(e=e.trim())&&!HSe(e))a(kSe(e),t);else if(qe.isHeaders(e))for(const[o,c]of e.entries())s(c,o,i);else e!=null&&s(t,e,i);return this}get(e,t){if(e=Ib(e),e){const i=qe.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return FSe(r);if(qe.isFunction(t))return t.call(this,r,i);if(qe.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ib(e),e){const i=qe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||xD(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(a){if(a=Ib(a),a){const o=qe.findKey(i,a);o&&(!t||xD(i,i[o],o,t))&&(delete i[o],r=!0)}}return qe.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||xD(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return qe.forEach(this,(r,s)=>{const a=qe.findKey(i,s);if(a){t[a]=fw(r),delete t[s];return}const o=e?jSe(s):String(s).trim();o!==s&&delete t[s],t[o]=fw(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return qe.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&qe.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[pB]=this[pB]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=Ib(a);i[o]||(GSe(r,a),i[o]=!0)}return qe.isArray(e)?e.forEach(s):s(e),this}};To.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(To.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});qe.freezeMethods(To);function SD(n,e){const t=this||Lx,i=e||t,r=To.from(i.headers);let s=i.data;return qe.forEach(n,function(o){s=o.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function nG(n){return!!(n&&n.__CANCEL__)}function i0(n,e,t){Ln.call(this,n??"canceled",Ln.ERR_CANCELED,e,t),this.name="CanceledError"}qe.inherits(i0,Ln,{__CANCEL__:!0});function iG(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ln("Request failed with status code "+t.status,[Ln.ERR_BAD_REQUEST,Ln.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function qSe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function WSe(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=i[s];a||(a=u),t[r]=c,i[r]=u;let p=s,v=0;for(;p!==r;)v+=t[p++],p=p%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),u-a<e)return;const y=d&&u-d;return y?Math.round(v*1e3/y):void 0}}function XSe(n,e){let t=0,i=1e3/e,r,s;const a=(u,d=Date.now())=>{t=d,r=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-t;p>=i?a(u,d):(r=u,s||(s=setTimeout(()=>{s=null,a(r)},i-p)))},()=>r&&a(r)]}const IT=(n,e,t=3)=>{let i=0;const r=WSe(50,250);return XSe(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,c=a-i,u=r(c),d=a<=o;i=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};n(p)},t)},mB=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},gB=n=>(...e)=>qe.asap(()=>n(...e)),YSe=ma.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ma.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ma.origin),ma.navigator&&/(msie|trident)/i.test(ma.navigator.userAgent)):()=>!0,KSe=ma.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const a=[n+"="+encodeURIComponent(e)];qe.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),qe.isString(i)&&a.push("path="+i),qe.isString(r)&&a.push("domain="+r),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $Se(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ZSe(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function rG(n,e,t){let i=!$Se(e);return n&&i||t==!1?ZSe(n,e):e}const vB=n=>n instanceof To?{...n}:n;function ig(n,e){e=e||{};const t={};function i(u,d,p,v){return qe.isPlainObject(u)&&qe.isPlainObject(d)?qe.merge.call({caseless:v},u,d):qe.isPlainObject(d)?qe.merge({},d):qe.isArray(d)?d.slice():d}function r(u,d,p,v){if(qe.isUndefined(d)){if(!qe.isUndefined(u))return i(void 0,u,p,v)}else return i(u,d,p,v)}function s(u,d){if(!qe.isUndefined(d))return i(void 0,d)}function a(u,d){if(qe.isUndefined(d)){if(!qe.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function o(u,d,p){if(p in e)return i(u,d);if(p in n)return i(void 0,u)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,p)=>r(vB(u),vB(d),p,!0)};return qe.forEach(Object.keys(Object.assign({},n,e)),function(d){const p=c[d]||r,v=p(n[d],e[d],d);qe.isUndefined(v)&&p!==o||(t[d]=v)}),t}const sG=n=>{const e=ig({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=To.from(a),e.url=Jj(rG(e.baseURL,e.url),n.params,n.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(qe.isFormData(t)){if(ma.hasStandardBrowserEnv||ma.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...d]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ma.hasStandardBrowserEnv&&(i&&qe.isFunction(i)&&(i=i(e)),i||i!==!1&&YSe(e.url))){const u=r&&s&&KSe.read(s);u&&a.set(r,u)}return e},QSe=typeof XMLHttpRequest<"u",JSe=QSe&&function(n){return new Promise(function(t,i){const r=sG(n);let s=r.data;const a=To.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=r,d,p,v,y,_;function w(){y&&y(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function E(){if(!S)return;const R=To.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:R,config:n,request:S};iG(function(z){t(z),w()},function(z){i(z),w()},k),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(i(new Ln("Request aborted",Ln.ECONNABORTED,n,S)),S=null)},S.onerror=function(){i(new Ln("Network Error",Ln.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let D=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const k=r.transitional||eG;r.timeoutErrorMessage&&(D=r.timeoutErrorMessage),i(new Ln(D,k.clarifyTimeoutError?Ln.ETIMEDOUT:Ln.ECONNABORTED,n,S)),S=null},s===void 0&&a.setContentType(null),"setRequestHeader"in S&&qe.forEach(a.toJSON(),function(D,k){S.setRequestHeader(k,D)}),qe.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),o&&o!=="json"&&(S.responseType=r.responseType),u&&([v,_]=IT(u,!0),S.addEventListener("progress",v)),c&&S.upload&&([p,y]=IT(c),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(d=R=>{S&&(i(!R||R.type?new i0(null,n,S):R),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const A=qSe(r.url);if(A&&ma.protocols.indexOf(A)===-1){i(new Ln("Unsupported protocol "+A+":",Ln.ERR_BAD_REQUEST,n));return}S.send(s||null)})},eEe=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(u){if(!r){r=!0,o();const d=u instanceof Error?u:this.reason;i.abort(d instanceof Ln?d:new i0(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ln(`timeout ${e} of ms exceeded`,Ln.ETIMEDOUT))},e);const o=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:c}=i;return c.unsubscribe=()=>qe.asap(o),c}},tEe=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},nEe=async function*(n,e){for await(const t of iEe(n))yield*tEe(t,e)},iEe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},yB=(n,e,t,i)=>{const r=nEe(n,e);let s=0,a,o=c=>{a||(a=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){o(),c.close();return}let p=d.byteLength;if(t){let v=s+=p;t(v)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},cA=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aG=cA&&typeof ReadableStream=="function",rEe=cA&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),oG=(n,...e)=>{try{return!!n(...e)}catch{return!1}},sEe=aG&&oG(()=>{let n=!1;const e=new Request(ma.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),bB=64*1024,lO=aG&&oG(()=>qe.isReadableStream(new Response("").body)),LT={stream:lO&&(n=>n.body)};cA&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!LT[e]&&(LT[e]=qe.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Ln(`Response type '${e}' is not supported`,Ln.ERR_NOT_SUPPORT,i)})})})(new Response);const aEe=async n=>{if(n==null)return 0;if(qe.isBlob(n))return n.size;if(qe.isSpecCompliantForm(n))return(await new Request(ma.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(qe.isArrayBufferView(n)||qe.isArrayBuffer(n))return n.byteLength;if(qe.isURLSearchParams(n)&&(n=n+""),qe.isString(n))return(await rEe(n)).byteLength},oEe=async(n,e)=>{const t=qe.toFiniteNumber(n.getContentLength());return t??aEe(e)},lEe=cA&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:v}=sG(n);u=u?(u+"").toLowerCase():"text";let y=eEe([r,s&&s.toAbortSignal()],a),_;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(c&&sEe&&t!=="get"&&t!=="head"&&(S=await oEe(d,i))!==0){let k=new Request(e,{method:"POST",body:i,duplex:"half"}),N;if(qe.isFormData(i)&&(N=k.headers.get("content-type"))&&d.setContentType(N),k.body){const[z,V]=mB(S,IT(gB(c)));i=yB(k.body,bB,z,V)}}qe.isString(p)||(p=p?"include":"omit");const E="credentials"in Request.prototype;_=new Request(e,{...v,signal:y,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:E?p:void 0});let A=await fetch(_);const R=lO&&(u==="stream"||u==="response");if(lO&&(o||R&&w)){const k={};["status","statusText","headers"].forEach(I=>{k[I]=A[I]});const N=qe.toFiniteNumber(A.headers.get("content-length")),[z,V]=o&&mB(N,IT(gB(o),!0))||[];A=new Response(yB(A.body,bB,z,()=>{V&&V(),w&&w()}),k)}u=u||"text";let D=await LT[qe.findKey(LT,u)||"text"](A,n);return!R&&w&&w(),await new Promise((k,N)=>{iG(k,N,{data:D,headers:To.from(A.headers),status:A.status,statusText:A.statusText,config:n,request:_})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new Ln("Network Error",Ln.ERR_NETWORK,n,_),{cause:E.cause||E}):Ln.from(E,E&&E.code,n,_)}}),cO={http:ESe,xhr:JSe,fetch:lEe};qe.forEach(cO,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const _B=n=>`- ${n}`,cEe=n=>qe.isFunction(n)||n===null||n===!1,lG={getAdapter:n=>{n=qe.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let a;if(i=t,!cEe(t)&&(i=cO[(a=String(t)).toLowerCase()],i===void 0))throw new Ln(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+s]=i}if(!i){const s=Object.entries(r).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(_B).join(`
`):" "+_B(s[0]):"as no adapter specified";throw new Ln("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:cO};function ED(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new i0(null,n)}function xB(n){return ED(n),n.headers=To.from(n.headers),n.data=SD.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),lG.getAdapter(n.adapter||Lx.adapter)(n).then(function(i){return ED(n),i.data=SD.call(n,n.transformResponse,i),i.headers=To.from(i.headers),i},function(i){return nG(i)||(ED(n),i&&i.response&&(i.response.data=SD.call(n,n.transformResponse,i.response),i.response.headers=To.from(i.response.headers))),Promise.reject(i)})}const cG="1.8.1",uA={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{uA[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const SB={};uA.transitional=function(e,t,i){function r(s,a){return"[Axios v"+cG+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new Ln(r(a," has been removed"+(t?" in "+t:"")),Ln.ERR_DEPRECATED);return t&&!SB[a]&&(SB[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,o):!0}};uA.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function uEe(n,e,t){if(typeof n!="object")throw new Ln("options must be an object",Ln.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=n[s],c=o===void 0||a(o,s,n);if(c!==!0)throw new Ln("option "+s+" must be "+c,Ln.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ln("Unknown option "+s,Ln.ERR_BAD_OPTION)}}const dw={assertOptions:uEe,validators:uA},Pu=dw.validators;let Hm=class{constructor(e){this.defaults=e,this.interceptors={request:new dB,response:new dB}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ig(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&dw.assertOptions(i,{silentJSONParsing:Pu.transitional(Pu.boolean),forcedJSONParsing:Pu.transitional(Pu.boolean),clarifyTimeoutError:Pu.transitional(Pu.boolean)},!1),r!=null&&(qe.isFunction(r)?t.paramsSerializer={serialize:r}:dw.assertOptions(r,{encode:Pu.function,serialize:Pu.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),dw.assertOptions(t,{baseUrl:Pu.spelling("baseURL"),withXsrfToken:Pu.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&qe.merge(s.common,s[t.method]);s&&qe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),t.headers=To.concat(a,s);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,p=0,v;if(!c){const _=[xB.bind(this),void 0];for(_.unshift.apply(_,o),_.push.apply(_,u),v=_.length,d=Promise.resolve(t);p<v;)d=d.then(_[p++],_[p++]);return d}v=o.length;let y=t;for(p=0;p<v;){const _=o[p++],w=o[p++];try{y=_(y)}catch(S){w.call(this,S);break}}try{d=xB.call(this,y)}catch(_){return Promise.reject(_)}for(p=0,v=u.length;p<v;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=ig(this.defaults,e);const t=rG(e.baseURL,e.url,e.allowAbsoluteUrls);return Jj(t,e.params,e.paramsSerializer)}};qe.forEach(["delete","get","head","options"],function(e){Hm.prototype[e]=function(t,i){return this.request(ig(i||{},{method:e,url:t,data:(i||{}).data}))}});qe.forEach(["post","put","patch"],function(e){function t(i){return function(s,a,o){return this.request(ig(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Hm.prototype[e]=t(),Hm.prototype[e+"Form"]=t(!0)});let hEe=class uG{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new i0(s,a,o),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new uG(function(r){e=r}),cancel:e}}};function fEe(n){return function(t){return n.apply(null,t)}}function dEe(n){return qe.isObject(n)&&n.isAxiosError===!0}const uO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uO).forEach(([n,e])=>{uO[e]=n});function hG(n){const e=new Hm(n),t=Hj(Hm.prototype.request,e);return qe.extend(t,Hm.prototype,e,{allOwnKeys:!0}),qe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return hG(ig(n,r))},t}const Er=hG(Lx);Er.Axios=Hm;Er.CanceledError=i0;Er.CancelToken=hEe;Er.isCancel=nG;Er.VERSION=cG;Er.toFormData=lA;Er.AxiosError=Ln;Er.Cancel=Er.CanceledError;Er.all=function(e){return Promise.all(e)};Er.spread=fEe;Er.isAxiosError=dEe;Er.mergeConfig=ig;Er.AxiosHeaders=To;Er.formToJSON=n=>tG(qe.isHTMLForm(n)?new FormData(n):n);Er.getAdapter=lG.getAdapter;Er.HttpStatusCode=uO;Er.default=Er;const{Axios:FDe,AxiosError:HDe,CanceledError:jDe,isCancel:GDe,CancelToken:qDe,VERSION:WDe,all:XDe,Cancel:YDe,isAxiosError:KDe,spread:$De,toFormData:ZDe,AxiosHeaders:QDe,HttpStatusCode:JDe,formToJSON:e3e,getAdapter:t3e,mergeConfig:n3e}=Er,pEe=()=>{};var EB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},mEe=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},dG={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,d=s>>2,p=(s&3)<<4|o>>4;let v=(o&15)<<2|u>>6,y=u&63;c||(y=64,a||(v=64)),i.push(t[d],t[p],t[v],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fG(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mEe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const u=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||u==null||p==null)throw new gEe;const v=s<<2|o>>4;if(i.push(v),u!==64){const y=o<<4&240|u>>2;if(i.push(y),p!==64){const _=u<<6&192|p;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gEe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vEe=function(n){const e=fG(n);return dG.encodeByteArray(e,!0)},UT=function(n){return vEe(n).replace(/\./g,"")},yEe=function(n){try{return dG.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bEe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Ee=()=>bEe().__FIREBASE_DEFAULTS__,xEe=()=>{if(typeof process>"u"||typeof EB>"u")return;const n=EB.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},SEe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yEe(n[1]);return e&&JSON.parse(e)},nI=()=>{try{return pEe()||_Ee()||xEe()||SEe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},EEe=n=>{var e,t;return(t=(e=nI())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wEe=n=>{const e=EEe(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},pG=()=>{var n;return(n=nI())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TEe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MEe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[UT(JSON.stringify(t)),UT(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AEe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CEe(){var n;const e=(n=nI())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function REe(){return!CEe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DEe(){try{return typeof indexedDB=="object"}catch{return!1}}function OEe(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NEe="FirebaseError";class r0 extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=NEe,Object.setPrototypeOf(this,r0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mG.prototype.create)}}class mG{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?PEe(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new r0(r,o,i)}}function PEe(n,e){return n.replace(IEe,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const IEe=/\{\$([^}]+)}/g;function zT(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(wB(s)&&wB(a)){if(!zT(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function wB(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n){return n&&n._delegate?n._delegate:n}class Z_{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LEe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new TEe;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zEe(e))try{this.getOrInitializeService({instanceIdentifier:pm})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=pm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pm){return this.instances.has(e)}getOptions(e=pm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UEe(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pm){return this.component?this.component.multipleInstances?e:pm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UEe(n){return n===pm?void 0:n}function zEe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VEe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LEe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mi||(mi={}));const BEe={debug:mi.DEBUG,verbose:mi.VERBOSE,info:mi.INFO,warn:mi.WARN,error:mi.ERROR,silent:mi.SILENT},kEe=mi.INFO,FEe={[mi.DEBUG]:"log",[mi.VERBOSE]:"log",[mi.INFO]:"info",[mi.WARN]:"warn",[mi.ERROR]:"error"},HEe=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=FEe[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gG{constructor(e){this.name=e,this._logLevel=kEe,this._logHandler=HEe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mi))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BEe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mi.DEBUG,...e),this._logHandler(this,mi.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mi.VERBOSE,...e),this._logHandler(this,mi.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mi.INFO,...e),this._logHandler(this,mi.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mi.WARN,...e),this._logHandler(this,mi.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mi.ERROR,...e),this._logHandler(this,mi.ERROR,...e)}}const jEe=(n,e)=>e.some(t=>n instanceof t);let TB,MB;function GEe(){return TB||(TB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qEe(){return MB||(MB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vG=new WeakMap,hO=new WeakMap,yG=new WeakMap,wD=new WeakMap,iI=new WeakMap;function WEe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Dd(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&vG.set(t,n)}).catch(()=>{}),iI.set(e,n),e}function XEe(n){if(hO.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});hO.set(n,e)}let fO={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hO.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yG.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dd(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YEe(n){fO=n(fO)}function KEe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(TD(this),e,...t);return yG.set(i,e.sort?e.sort():[e]),Dd(i)}:qEe().includes(n)?function(...e){return n.apply(TD(this),e),Dd(vG.get(this))}:function(...e){return Dd(n.apply(TD(this),e))}}function $Ee(n){return typeof n=="function"?KEe(n):(n instanceof IDBTransaction&&XEe(n),jEe(n,GEe())?new Proxy(n,fO):n)}function Dd(n){if(n instanceof IDBRequest)return WEe(n);if(wD.has(n))return wD.get(n);const e=$Ee(n);return e!==n&&(wD.set(n,e),iI.set(e,n)),e}const TD=n=>iI.get(n);function ZEe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=Dd(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Dd(a.result),c.oldVersion,c.newVersion,Dd(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const QEe=["get","getKey","getAll","getAllKeys","count"],JEe=["put","add","delete","clear"],MD=new Map;function AB(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(MD.get(e))return MD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=JEe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||QEe.includes(t)))return;const s=async function(a,...o){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),r&&c.done]))[0]};return MD.set(e,s),s}YEe(n=>({...n,get:(e,t,i)=>AB(e,t)||n.get(e,t,i),has:(e,t)=>!!AB(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ewe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(twe(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function twe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dO="@firebase/app",CB="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new gG("@firebase/app"),nwe="@firebase/app-compat",iwe="@firebase/analytics-compat",rwe="@firebase/analytics",swe="@firebase/app-check-compat",awe="@firebase/app-check",owe="@firebase/auth",lwe="@firebase/auth-compat",cwe="@firebase/database",uwe="@firebase/data-connect",hwe="@firebase/database-compat",fwe="@firebase/functions",dwe="@firebase/functions-compat",pwe="@firebase/installations",mwe="@firebase/installations-compat",gwe="@firebase/messaging",vwe="@firebase/messaging-compat",ywe="@firebase/performance",bwe="@firebase/performance-compat",_we="@firebase/remote-config",xwe="@firebase/remote-config-compat",Swe="@firebase/storage",Ewe="@firebase/storage-compat",wwe="@firebase/firestore",Twe="@firebase/vertexai",Mwe="@firebase/firestore-compat",Awe="firebase",Cwe="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="[DEFAULT]",Rwe={[dO]:"fire-core",[nwe]:"fire-core-compat",[rwe]:"fire-analytics",[iwe]:"fire-analytics-compat",[awe]:"fire-app-check",[swe]:"fire-app-check-compat",[owe]:"fire-auth",[lwe]:"fire-auth-compat",[cwe]:"fire-rtdb",[uwe]:"fire-data-connect",[hwe]:"fire-rtdb-compat",[fwe]:"fire-fn",[dwe]:"fire-fn-compat",[pwe]:"fire-iid",[mwe]:"fire-iid-compat",[gwe]:"fire-fcm",[vwe]:"fire-fcm-compat",[ywe]:"fire-perf",[bwe]:"fire-perf-compat",[_we]:"fire-rc",[xwe]:"fire-rc-compat",[Swe]:"fire-gcs",[Ewe]:"fire-gcs-compat",[wwe]:"fire-fst",[Mwe]:"fire-fst-compat",[Twe]:"fire-vertex","fire-js":"fire-js",[Awe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map,Dwe=new Map,mO=new Map;function RB(n,e){try{n.container.addComponent(e)}catch(t){gf.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function BT(n){const e=n.name;if(mO.has(e))return gf.debug(`There were multiple attempts to register component ${e}.`),!1;mO.set(e,n);for(const t of VT.values())RB(t,n);for(const t of Dwe.values())RB(t,n);return!0}function Owe(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nwe(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pwe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Od=new mG("app","Firebase",Pwe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iwe{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Z_("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Od.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lwe=Cwe;function bG(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:pO,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Od.create("bad-app-name",{appName:String(r)});if(t||(t=pG()),!t)throw Od.create("no-options");const s=VT.get(r);if(s){if(zT(t,s.options)&&zT(i,s.config))return s;throw Od.create("duplicate-app",{appName:r})}const a=new VEe(r);for(const c of mO.values())a.addComponent(c);const o=new Iwe(t,i,a);return VT.set(r,o),o}function Uwe(n=pO){const e=VT.get(n);if(!e&&n===pO&&pG())return bG();if(!e)throw Od.create("no-app",{appName:n});return e}function py(n,e,t){var i;let r=(i=Rwe[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gf.warn(o.join(" "));return}BT(new Z_(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zwe="firebase-heartbeat-database",Vwe=1,Q_="firebase-heartbeat-store";let AD=null;function _G(){return AD||(AD=ZEe(zwe,Vwe,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Q_)}catch(t){console.warn(t)}}}}).catch(n=>{throw Od.create("idb-open",{originalErrorMessage:n.message})})),AD}async function Bwe(n){try{const t=(await _G()).transaction(Q_),i=await t.objectStore(Q_).get(xG(n));return await t.done,i}catch(e){if(e instanceof r0)gf.warn(e.message);else{const t=Od.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gf.warn(t.message)}}}async function DB(n,e){try{const i=(await _G()).transaction(Q_,"readwrite");await i.objectStore(Q_).put(e,xG(n)),await i.done}catch(t){if(t instanceof r0)gf.warn(t.message);else{const i=Od.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gf.warn(i.message)}}}function xG(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kwe=1024,Fwe=30;class Hwe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Gwe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OB();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Fwe){const a=qwe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gf.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OB(),{heartbeatsToSend:i,unsentEntries:r}=jwe(this._heartbeatsCache.heartbeats),s=UT(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return gf.warn(t),""}}}function OB(){return new Date().toISOString().substring(0,10)}function jwe(n,e=kwe){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),NB(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),NB(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Gwe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DEe()?OEe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Bwe(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return DB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return DB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function NB(n){return UT(JSON.stringify({version:2,heartbeats:n})).length}function qwe(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wwe(n){BT(new Z_("platform-logger",e=>new ewe(e),"PRIVATE")),BT(new Z_("heartbeat",e=>new Hwe(e),"PRIVATE")),py(dO,CB,n),py(dO,CB,"esm2017"),py("fire-js","")}Wwe("");var PB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nd,SG;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,V){function I(){}I.prototype=V.prototype,z.D=V.prototype,z.prototype=new I,z.prototype.constructor=z,z.C=function(L,j,X){for(var G=Array(arguments.length-2),re=2;re<arguments.length;re++)G[re-2]=arguments[re];return V.prototype[j].apply(L,G)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(z,V,I){I||(I=0);var L=Array(16);if(typeof V=="string")for(var j=0;16>j;++j)L[j]=V.charCodeAt(I++)|V.charCodeAt(I++)<<8|V.charCodeAt(I++)<<16|V.charCodeAt(I++)<<24;else for(j=0;16>j;++j)L[j]=V[I++]|V[I++]<<8|V[I++]<<16|V[I++]<<24;V=z.g[0],I=z.g[1],j=z.g[2];var X=z.g[3],G=V+(X^I&(j^X))+L[0]+3614090360&4294967295;V=I+(G<<7&4294967295|G>>>25),G=X+(j^V&(I^j))+L[1]+3905402710&4294967295,X=V+(G<<12&4294967295|G>>>20),G=j+(I^X&(V^I))+L[2]+606105819&4294967295,j=X+(G<<17&4294967295|G>>>15),G=I+(V^j&(X^V))+L[3]+3250441966&4294967295,I=j+(G<<22&4294967295|G>>>10),G=V+(X^I&(j^X))+L[4]+4118548399&4294967295,V=I+(G<<7&4294967295|G>>>25),G=X+(j^V&(I^j))+L[5]+1200080426&4294967295,X=V+(G<<12&4294967295|G>>>20),G=j+(I^X&(V^I))+L[6]+2821735955&4294967295,j=X+(G<<17&4294967295|G>>>15),G=I+(V^j&(X^V))+L[7]+4249261313&4294967295,I=j+(G<<22&4294967295|G>>>10),G=V+(X^I&(j^X))+L[8]+1770035416&4294967295,V=I+(G<<7&4294967295|G>>>25),G=X+(j^V&(I^j))+L[9]+2336552879&4294967295,X=V+(G<<12&4294967295|G>>>20),G=j+(I^X&(V^I))+L[10]+4294925233&4294967295,j=X+(G<<17&4294967295|G>>>15),G=I+(V^j&(X^V))+L[11]+2304563134&4294967295,I=j+(G<<22&4294967295|G>>>10),G=V+(X^I&(j^X))+L[12]+1804603682&4294967295,V=I+(G<<7&4294967295|G>>>25),G=X+(j^V&(I^j))+L[13]+4254626195&4294967295,X=V+(G<<12&4294967295|G>>>20),G=j+(I^X&(V^I))+L[14]+2792965006&4294967295,j=X+(G<<17&4294967295|G>>>15),G=I+(V^j&(X^V))+L[15]+1236535329&4294967295,I=j+(G<<22&4294967295|G>>>10),G=V+(j^X&(I^j))+L[1]+4129170786&4294967295,V=I+(G<<5&4294967295|G>>>27),G=X+(I^j&(V^I))+L[6]+3225465664&4294967295,X=V+(G<<9&4294967295|G>>>23),G=j+(V^I&(X^V))+L[11]+643717713&4294967295,j=X+(G<<14&4294967295|G>>>18),G=I+(X^V&(j^X))+L[0]+3921069994&4294967295,I=j+(G<<20&4294967295|G>>>12),G=V+(j^X&(I^j))+L[5]+3593408605&4294967295,V=I+(G<<5&4294967295|G>>>27),G=X+(I^j&(V^I))+L[10]+38016083&4294967295,X=V+(G<<9&4294967295|G>>>23),G=j+(V^I&(X^V))+L[15]+3634488961&4294967295,j=X+(G<<14&4294967295|G>>>18),G=I+(X^V&(j^X))+L[4]+3889429448&4294967295,I=j+(G<<20&4294967295|G>>>12),G=V+(j^X&(I^j))+L[9]+568446438&4294967295,V=I+(G<<5&4294967295|G>>>27),G=X+(I^j&(V^I))+L[14]+3275163606&4294967295,X=V+(G<<9&4294967295|G>>>23),G=j+(V^I&(X^V))+L[3]+4107603335&4294967295,j=X+(G<<14&4294967295|G>>>18),G=I+(X^V&(j^X))+L[8]+1163531501&4294967295,I=j+(G<<20&4294967295|G>>>12),G=V+(j^X&(I^j))+L[13]+2850285829&4294967295,V=I+(G<<5&4294967295|G>>>27),G=X+(I^j&(V^I))+L[2]+4243563512&4294967295,X=V+(G<<9&4294967295|G>>>23),G=j+(V^I&(X^V))+L[7]+1735328473&4294967295,j=X+(G<<14&4294967295|G>>>18),G=I+(X^V&(j^X))+L[12]+2368359562&4294967295,I=j+(G<<20&4294967295|G>>>12),G=V+(I^j^X)+L[5]+4294588738&4294967295,V=I+(G<<4&4294967295|G>>>28),G=X+(V^I^j)+L[8]+2272392833&4294967295,X=V+(G<<11&4294967295|G>>>21),G=j+(X^V^I)+L[11]+1839030562&4294967295,j=X+(G<<16&4294967295|G>>>16),G=I+(j^X^V)+L[14]+4259657740&4294967295,I=j+(G<<23&4294967295|G>>>9),G=V+(I^j^X)+L[1]+2763975236&4294967295,V=I+(G<<4&4294967295|G>>>28),G=X+(V^I^j)+L[4]+1272893353&4294967295,X=V+(G<<11&4294967295|G>>>21),G=j+(X^V^I)+L[7]+4139469664&4294967295,j=X+(G<<16&4294967295|G>>>16),G=I+(j^X^V)+L[10]+3200236656&4294967295,I=j+(G<<23&4294967295|G>>>9),G=V+(I^j^X)+L[13]+681279174&4294967295,V=I+(G<<4&4294967295|G>>>28),G=X+(V^I^j)+L[0]+3936430074&4294967295,X=V+(G<<11&4294967295|G>>>21),G=j+(X^V^I)+L[3]+3572445317&4294967295,j=X+(G<<16&4294967295|G>>>16),G=I+(j^X^V)+L[6]+76029189&4294967295,I=j+(G<<23&4294967295|G>>>9),G=V+(I^j^X)+L[9]+3654602809&4294967295,V=I+(G<<4&4294967295|G>>>28),G=X+(V^I^j)+L[12]+3873151461&4294967295,X=V+(G<<11&4294967295|G>>>21),G=j+(X^V^I)+L[15]+530742520&4294967295,j=X+(G<<16&4294967295|G>>>16),G=I+(j^X^V)+L[2]+3299628645&4294967295,I=j+(G<<23&4294967295|G>>>9),G=V+(j^(I|~X))+L[0]+4096336452&4294967295,V=I+(G<<6&4294967295|G>>>26),G=X+(I^(V|~j))+L[7]+1126891415&4294967295,X=V+(G<<10&4294967295|G>>>22),G=j+(V^(X|~I))+L[14]+2878612391&4294967295,j=X+(G<<15&4294967295|G>>>17),G=I+(X^(j|~V))+L[5]+4237533241&4294967295,I=j+(G<<21&4294967295|G>>>11),G=V+(j^(I|~X))+L[12]+1700485571&4294967295,V=I+(G<<6&4294967295|G>>>26),G=X+(I^(V|~j))+L[3]+2399980690&4294967295,X=V+(G<<10&4294967295|G>>>22),G=j+(V^(X|~I))+L[10]+4293915773&4294967295,j=X+(G<<15&4294967295|G>>>17),G=I+(X^(j|~V))+L[1]+2240044497&4294967295,I=j+(G<<21&4294967295|G>>>11),G=V+(j^(I|~X))+L[8]+1873313359&4294967295,V=I+(G<<6&4294967295|G>>>26),G=X+(I^(V|~j))+L[15]+4264355552&4294967295,X=V+(G<<10&4294967295|G>>>22),G=j+(V^(X|~I))+L[6]+2734768916&4294967295,j=X+(G<<15&4294967295|G>>>17),G=I+(X^(j|~V))+L[13]+1309151649&4294967295,I=j+(G<<21&4294967295|G>>>11),G=V+(j^(I|~X))+L[4]+4149444226&4294967295,V=I+(G<<6&4294967295|G>>>26),G=X+(I^(V|~j))+L[11]+3174756917&4294967295,X=V+(G<<10&4294967295|G>>>22),G=j+(V^(X|~I))+L[2]+718787259&4294967295,j=X+(G<<15&4294967295|G>>>17),G=I+(X^(j|~V))+L[9]+3951481745&4294967295,z.g[0]=z.g[0]+V&4294967295,z.g[1]=z.g[1]+(j+(G<<21&4294967295|G>>>11))&4294967295,z.g[2]=z.g[2]+j&4294967295,z.g[3]=z.g[3]+X&4294967295}i.prototype.u=function(z,V){V===void 0&&(V=z.length);for(var I=V-this.blockSize,L=this.B,j=this.h,X=0;X<V;){if(j==0)for(;X<=I;)r(this,z,X),X+=this.blockSize;if(typeof z=="string"){for(;X<V;)if(L[j++]=z.charCodeAt(X++),j==this.blockSize){r(this,L),j=0;break}}else for(;X<V;)if(L[j++]=z[X++],j==this.blockSize){r(this,L),j=0;break}}this.h=j,this.o+=V},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var V=1;V<z.length-8;++V)z[V]=0;var I=8*this.o;for(V=z.length-8;V<z.length;++V)z[V]=I&255,I/=256;for(this.u(z),z=Array(16),V=I=0;4>V;++V)for(var L=0;32>L;L+=8)z[I++]=this.g[V]>>>L&255;return z};function s(z,V){var I=o;return Object.prototype.hasOwnProperty.call(I,z)?I[z]:I[z]=V(z)}function a(z,V){this.h=V;for(var I=[],L=!0,j=z.length-1;0<=j;j--){var X=z[j]|0;L&&X==V||(I[j]=X,L=!1)}this.g=I}var o={};function c(z){return-128<=z&&128>z?s(z,function(V){return new a([V|0],0>V?-1:0)}):new a([z|0],0>z?-1:0)}function u(z){if(isNaN(z)||!isFinite(z))return p;if(0>z)return S(u(-z));for(var V=[],I=1,L=0;z>=I;L++)V[L]=z/I|0,I*=4294967296;return new a(V,0)}function d(z,V){if(z.length==0)throw Error("number format error: empty string");if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(z.charAt(0)=="-")return S(d(z.substring(1),V));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(V,8)),L=p,j=0;j<z.length;j+=8){var X=Math.min(8,z.length-j),G=parseInt(z.substring(j,j+X),V);8>X?(X=u(Math.pow(V,X)),L=L.j(X).add(u(G))):(L=L.j(I),L=L.add(u(G)))}return L}var p=c(0),v=c(1),y=c(16777216);n=a.prototype,n.m=function(){if(w(this))return-S(this).m();for(var z=0,V=1,I=0;I<this.g.length;I++){var L=this.i(I);z+=(0<=L?L:4294967296+L)*V,V*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(_(this))return"0";if(w(this))return"-"+S(this).toString(z);for(var V=u(Math.pow(z,6)),I=this,L="";;){var j=D(I,V).g;I=E(I,j.j(V));var X=((0<I.g.length?I.g[0]:I.h)>>>0).toString(z);if(I=j,_(I))return X+L;for(;6>X.length;)X="0"+X;L=X+L}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function _(z){if(z.h!=0)return!1;for(var V=0;V<z.g.length;V++)if(z.g[V]!=0)return!1;return!0}function w(z){return z.h==-1}n.l=function(z){return z=E(this,z),w(z)?-1:_(z)?0:1};function S(z){for(var V=z.g.length,I=[],L=0;L<V;L++)I[L]=~z.g[L];return new a(I,~z.h).add(v)}n.abs=function(){return w(this)?S(this):this},n.add=function(z){for(var V=Math.max(this.g.length,z.g.length),I=[],L=0,j=0;j<=V;j++){var X=L+(this.i(j)&65535)+(z.i(j)&65535),G=(X>>>16)+(this.i(j)>>>16)+(z.i(j)>>>16);L=G>>>16,X&=65535,G&=65535,I[j]=G<<16|X}return new a(I,I[I.length-1]&-2147483648?-1:0)};function E(z,V){return z.add(S(V))}n.j=function(z){if(_(this)||_(z))return p;if(w(this))return w(z)?S(this).j(S(z)):S(S(this).j(z));if(w(z))return S(this.j(S(z)));if(0>this.l(y)&&0>z.l(y))return u(this.m()*z.m());for(var V=this.g.length+z.g.length,I=[],L=0;L<2*V;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<z.g.length;j++){var X=this.i(L)>>>16,G=this.i(L)&65535,re=z.i(j)>>>16,de=z.i(j)&65535;I[2*L+2*j]+=G*de,A(I,2*L+2*j),I[2*L+2*j+1]+=X*de,A(I,2*L+2*j+1),I[2*L+2*j+1]+=G*re,A(I,2*L+2*j+1),I[2*L+2*j+2]+=X*re,A(I,2*L+2*j+2)}for(L=0;L<V;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=V;L<2*V;L++)I[L]=0;return new a(I,0)};function A(z,V){for(;(z[V]&65535)!=z[V];)z[V+1]+=z[V]>>>16,z[V]&=65535,V++}function R(z,V){this.g=z,this.h=V}function D(z,V){if(_(V))throw Error("division by zero");if(_(z))return new R(p,p);if(w(z))return V=D(S(z),V),new R(S(V.g),S(V.h));if(w(V))return V=D(z,S(V)),new R(S(V.g),V.h);if(30<z.g.length){if(w(z)||w(V))throw Error("slowDivide_ only works with positive integers.");for(var I=v,L=V;0>=L.l(z);)I=k(I),L=k(L);var j=N(I,1),X=N(L,1);for(L=N(L,2),I=N(I,2);!_(L);){var G=X.add(L);0>=G.l(z)&&(j=j.add(I),X=G),L=N(L,1),I=N(I,1)}return V=E(z,j.j(V)),new R(j,V)}for(j=p;0<=z.l(V);){for(I=Math.max(1,Math.floor(z.m()/V.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),X=u(I),G=X.j(V);w(G)||0<G.l(z);)I-=L,X=u(I),G=X.j(V);_(X)&&(X=v),j=j.add(X),z=E(z,G)}return new R(j,z)}n.A=function(z){return D(this,z).h},n.and=function(z){for(var V=Math.max(this.g.length,z.g.length),I=[],L=0;L<V;L++)I[L]=this.i(L)&z.i(L);return new a(I,this.h&z.h)},n.or=function(z){for(var V=Math.max(this.g.length,z.g.length),I=[],L=0;L<V;L++)I[L]=this.i(L)|z.i(L);return new a(I,this.h|z.h)},n.xor=function(z){for(var V=Math.max(this.g.length,z.g.length),I=[],L=0;L<V;L++)I[L]=this.i(L)^z.i(L);return new a(I,this.h^z.h)};function k(z){for(var V=z.g.length+1,I=[],L=0;L<V;L++)I[L]=z.i(L)<<1|z.i(L-1)>>>31;return new a(I,z.h)}function N(z,V){var I=V>>5;V%=32;for(var L=z.g.length-I,j=[],X=0;X<L;X++)j[X]=0<V?z.i(X+I)>>>V|z.i(X+I+1)<<32-V:z.i(X+I);return new a(j,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SG=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Nd=a}).apply(typeof PB<"u"?PB:typeof self<"u"?self:typeof window<"u"?window:{});var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EG,Hb,wG,pw,gO,TG,MG,AG;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,F,q){return T==Array.prototype||T==Object.prototype||(T[F]=q.value),T};function t(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof TE=="object"&&TE];for(var F=0;F<T.length;++F){var q=T[F];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var i=t(this);function r(T,F){if(F)e:{var q=i;T=T.split(".");for(var ee=0;ee<T.length-1;ee++){var Se=T[ee];if(!(Se in q))break e;q=q[Se]}T=T[T.length-1],ee=q[T],F=F(ee),F!=ee&&F!=null&&e(q,T,{configurable:!0,writable:!0,value:F})}}function s(T,F){T instanceof String&&(T+="");var q=0,ee=!1,Se={next:function(){if(!ee&&q<T.length){var He=q++;return{value:F(He,T[He]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}r("Array.prototype.values",function(T){return T||function(){return s(this,function(F,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(T){var F=typeof T;return F=F!="object"?F:T?Array.isArray(T)?"array":F:"null",F=="array"||F=="object"&&typeof T.length=="number"}function u(T){var F=typeof T;return F=="object"&&T!=null||F=="function"}function d(T,F,q){return T.call.apply(T.bind,arguments)}function p(T,F,q){if(!T)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,ee),T.apply(F,Se)}}return function(){return T.apply(F,arguments)}}function v(T,F,q){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function y(T,F){var q=Array.prototype.slice.call(arguments,1);return function(){var ee=q.slice();return ee.push.apply(ee,arguments),T.apply(this,ee)}}function _(T,F){function q(){}q.prototype=F.prototype,T.aa=F.prototype,T.prototype=new q,T.prototype.constructor=T,T.Qb=function(ee,Se,He){for(var Rt=Array(arguments.length-2),$n=2;$n<arguments.length;$n++)Rt[$n-2]=arguments[$n];return F.prototype[Se].apply(ee,Rt)}}function w(T){const F=T.length;if(0<F){const q=Array(F);for(let ee=0;ee<F;ee++)q[ee]=T[ee];return q}return[]}function S(T,F){for(let q=1;q<arguments.length;q++){const ee=arguments[q];if(c(ee)){const Se=T.length||0,He=ee.length||0;T.length=Se+He;for(let Rt=0;Rt<He;Rt++)T[Se+Rt]=ee[Rt]}else T.push(ee)}}class E{constructor(F,q){this.i=F,this.j=q,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function A(T){return/^[\s\xa0]*$/.test(T)}function R(){var T=o.navigator;return T&&(T=T.userAgent)?T:""}function D(T){return D[" "](T),T}D[" "]=function(){};var k=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function N(T,F,q){for(const ee in T)F.call(q,T[ee],ee,T)}function z(T,F){for(const q in T)F.call(void 0,T[q],q,T)}function V(T){const F={};for(const q in T)F[q]=T[q];return F}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(T,F){let q,ee;for(let Se=1;Se<arguments.length;Se++){ee=arguments[Se];for(q in ee)T[q]=ee[q];for(let He=0;He<I.length;He++)q=I[He],Object.prototype.hasOwnProperty.call(ee,q)&&(T[q]=ee[q])}}function j(T){var F=1;T=T.split(":");const q=[];for(;0<F&&T.length;)q.push(T.shift()),F--;return T.length&&q.push(T.join(":")),q}function X(T){o.setTimeout(()=>{throw T},0)}function G(){var T=ve;let F=null;return T.g&&(F=T.g,T.g=T.g.next,T.g||(T.h=null),F.next=null),F}class re{constructor(){this.h=this.g=null}add(F,q){const ee=de.get();ee.set(F,q),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var de=new E(()=>new K,T=>T.reset());class K{constructor(){this.next=this.g=this.h=null}set(F,q){this.h=F,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ne=!1,ve=new re,Z=()=>{const T=o.Promise.resolve(void 0);ue=()=>{T.then(le)}};var le=()=>{for(var T;T=G();){try{T.h.call(T.g)}catch(q){X(q)}var F=de;F.j(T),100>F.h&&(F.h++,T.next=F.g,F.g=T)}ne=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(T,F){this.type=T,this.g=this.target=F,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var T=!1,F=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const q=()=>{};o.addEventListener("test",q,F),o.removeEventListener("test",q,F)}catch{}return T}();function Oe(T,F){if(De.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var q=this.type=T.type,ee=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=F,F=T.relatedTarget){if(k){e:{try{D(F.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(F=null)}}else q=="mouseover"?F=T.fromElement:q=="mouseout"&&(F=T.toElement);this.relatedTarget=F,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:Ie[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&Oe.aa.h.call(this)}}_(Oe,De);var Ie={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),tt=0;function wt(T,F,q,ee,Se){this.listener=T,this.proxy=null,this.src=F,this.type=q,this.capture=!!ee,this.ha=Se,this.key=++tt,this.da=this.fa=!1}function Qe(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function qt(T){this.src=T,this.g={},this.h=0}qt.prototype.add=function(T,F,q,ee,Se){var He=T.toString();T=this.g[He],T||(T=this.g[He]=[],this.h++);var Rt=Ye(T,F,ee,Se);return-1<Rt?(F=T[Rt],q||(F.fa=!1)):(F=new wt(F,this.src,He,!!ee,Se),F.fa=q,T.push(F)),F};function Ge(T,F){var q=F.type;if(q in T.g){var ee=T.g[q],Se=Array.prototype.indexOf.call(ee,F,void 0),He;(He=0<=Se)&&Array.prototype.splice.call(ee,Se,1),He&&(Qe(F),T.g[q].length==0&&(delete T.g[q],T.h--))}}function Ye(T,F,q,ee){for(var Se=0;Se<T.length;++Se){var He=T[Se];if(!He.da&&He.listener==F&&He.capture==!!q&&He.ha==ee)return Se}return-1}var se="closure_lm_"+(1e6*Math.random()|0),bt={};function Je(T,F,q,ee,Se){if(Array.isArray(F)){for(var He=0;He<F.length;He++)Je(T,F[He],q,ee,Se);return null}return q=it(q),T&&T[je]?T.K(F,q,u(ee)?!!ee.capture:!1,Se):dt(T,F,q,!1,ee,Se)}function dt(T,F,q,ee,Se,He){if(!F)throw Error("Invalid event type");var Rt=u(Se)?!!Se.capture:!!Se,$n=we(T);if($n||(T[se]=$n=new qt(T)),q=$n.add(F,q,ee,Rt,He),q.proxy)return q;if(ee=pt(),q.proxy=ee,ee.src=T,ee.listener=q,T.addEventListener)oe||(Se=Rt),Se===void 0&&(Se=!1),T.addEventListener(F.toString(),ee,Se);else if(T.attachEvent)T.attachEvent(te(F.toString()),ee);else if(T.addListener&&T.removeListener)T.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return q}function pt(){function T(q){return F.call(T.src,T.listener,q)}const F=Y;return T}function It(T,F,q,ee,Se){if(Array.isArray(F))for(var He=0;He<F.length;He++)It(T,F[He],q,ee,Se);else ee=u(ee)?!!ee.capture:!!ee,q=it(q),T&&T[je]?(T=T.i,F=String(F).toString(),F in T.g&&(He=T.g[F],q=Ye(He,q,ee,Se),-1<q&&(Qe(He[q]),Array.prototype.splice.call(He,q,1),He.length==0&&(delete T.g[F],T.h--)))):T&&(T=we(T))&&(F=T.g[F.toString()],T=-1,F&&(T=Ye(F,q,ee,Se)),(q=-1<T?F[T]:null)&&Et(q))}function Et(T){if(typeof T!="number"&&T&&!T.da){var F=T.src;if(F&&F[je])Ge(F.i,T);else{var q=T.type,ee=T.proxy;F.removeEventListener?F.removeEventListener(q,ee,T.capture):F.detachEvent?F.detachEvent(te(q),ee):F.addListener&&F.removeListener&&F.removeListener(ee),(q=we(F))?(Ge(q,T),q.h==0&&(q.src=null,F[se]=null)):Qe(T)}}}function te(T){return T in bt?bt[T]:bt[T]="on"+T}function Y(T,F){if(T.da)T=!0;else{F=new Oe(F,this);var q=T.listener,ee=T.ha||T.src;T.fa&&Et(T),T=q.call(ee,F)}return T}function we(T){return T=T[se],T instanceof qt?T:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(T){return typeof T=="function"?T:(T[Fe]||(T[Fe]=function(F){return T.handleEvent(F)}),T[Fe])}function ze(){Ae.call(this),this.i=new qt(this),this.M=this,this.F=null}_(ze,Ae),ze.prototype[je]=!0,ze.prototype.removeEventListener=function(T,F,q,ee){It(this,T,F,q,ee)};function yt(T,F){var q,ee=T.F;if(ee)for(q=[];ee;ee=ee.F)q.push(ee);if(T=T.M,ee=F.type||F,typeof F=="string")F=new De(F,T);else if(F instanceof De)F.target=F.target||T;else{var Se=F;F=new De(ee,T),L(F,Se)}if(Se=!0,q)for(var He=q.length-1;0<=He;He--){var Rt=F.g=q[He];Se=_t(Rt,ee,!0,F)&&Se}if(Rt=F.g=T,Se=_t(Rt,ee,!0,F)&&Se,Se=_t(Rt,ee,!1,F)&&Se,q)for(He=0;He<q.length;He++)Rt=F.g=q[He],Se=_t(Rt,ee,!1,F)&&Se}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var T=this.i,F;for(F in T.g){for(var q=T.g[F],ee=0;ee<q.length;ee++)Qe(q[ee]);delete T.g[F],T.h--}}this.F=null},ze.prototype.K=function(T,F,q,ee){return this.i.add(String(T),F,!1,q,ee)},ze.prototype.L=function(T,F,q,ee){return this.i.add(String(T),F,!0,q,ee)};function _t(T,F,q,ee){if(F=T.i.g[String(F)],!F)return!0;F=F.concat();for(var Se=!0,He=0;He<F.length;++He){var Rt=F[He];if(Rt&&!Rt.da&&Rt.capture==q){var $n=Rt.listener,tr=Rt.ha||Rt.src;Rt.fa&&Ge(T.i,Rt),Se=$n.call(tr,ee)!==!1&&Se}}return Se&&!ee.defaultPrevented}function Nt(T,F,q){if(typeof T=="function")q&&(T=v(T,q));else if(T&&typeof T.handleEvent=="function")T=v(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(T,F||0)}function hn(T){T.g=Nt(()=>{T.g=null,T.i&&(T.i=!1,hn(T))},T.l);const F=T.h;T.h=null,T.m.apply(null,F)}class st extends Ae{constructor(F,q){super(),this.m=F,this.l=q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(T){Ae.call(this),this.h=T,this.g={}}_(Ct,Ae);var Wt=[];function Vt(T){N(T.g,function(F,q){this.g.hasOwnProperty(q)&&Et(F)},T),T.g={}}Ct.prototype.N=function(){Ct.aa.N.call(this),Vt(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=o.JSON.stringify,pe=o.JSON.parse,Be=class{stringify(T){return o.JSON.stringify(T,void 0)}parse(T){return o.JSON.parse(T,void 0)}};function Tt(){}Tt.prototype.h=null;function he(T){return T.h||(T.h=T.i())}function ht(){}var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function We(){De.call(this,"d")}_(We,De);function Xe(){De.call(this,"c")}_(Xe,De);var rt={},Dt=null;function sn(){return Dt=Dt||new ze}rt.La="serverreachability";function Un(T){De.call(this,rt.La,T)}_(Un,De);function ae(T){const F=sn();yt(F,new Un(F))}rt.STAT_EVENT="statevent";function ge(T,F){De.call(this,rt.STAT_EVENT,T),this.stat=F}_(ge,De);function Ee(T){const F=sn();yt(F,new ge(F,T))}rt.Ma="timingevent";function et(T,F){De.call(this,rt.Ma,T),this.size=F}_(et,De);function xt(T,F){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){T()},F)}function Bt(){this.g=!0}Bt.prototype.xa=function(){this.g=!1};function Yt(T,F,q,ee,Se,He){T.info(function(){if(T.g)if(He)for(var Rt="",$n=He.split("&"),tr=0;tr<$n.length;tr++){var Zn=$n[tr].split("=");if(1<Zn.length){var hr=Zn[0];Zn=Zn[1];var Tr=hr.split("_");Rt=2<=Tr.length&&Tr[1]=="type"?Rt+(hr+"="+Zn+"&"):Rt+(hr+"=redacted&")}}else Rt=null;else Rt=He;return"XMLHTTP REQ ("+ee+") [attempt "+Se+"]: "+F+`
`+q+`
`+Rt})}function Gt(T,F,q,ee,Se,He,Rt){T.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Se+"]: "+F+`
`+q+`
`+He+" "+Rt})}function kt(T,F,q,ee){T.info(function(){return"XMLHTTP TEXT ("+F+"): "+Kt(T,q)+(ee?" "+ee:"")})}function gt(T,F){T.info(function(){return"TIMEOUT: "+F})}Bt.prototype.info=function(){};function Kt(T,F){if(!T.g)return F;if(!F)return null;try{var q=JSON.parse(F);if(q){for(T=0;T<q.length;T++)if(Array.isArray(q[T])){var ee=q[T];if(!(2>ee.length)){var Se=ee[1];if(Array.isArray(Se)&&!(1>Se.length)){var He=Se[0];if(He!="noop"&&He!="stop"&&He!="close")for(var Rt=1;Rt<Se.length;Rt++)Se[Rt]=""}}}}return Pt(q)}catch{return F}}var Ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function ai(){}_(ai,Tt),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},_i=new ai;function Vn(T,F,q,ee){this.j=T,this.i=F,this.l=q,this.R=ee||1,this.U=new Ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}var $={},be={};function Ne(T,F,q){T.L=1,T.v=Gc(Ti(F)),T.m=q,T.P=!0,Te(T,null)}function Te(T,F){T.F=Date.now(),ct(T),T.A=Ti(T.v);var q=T.A,ee=T.R;Array.isArray(ee)||(ee=[String(ee)]),cl(q.i,"t",ee),T.C=0,q=T.j.J,T.h=new Ui,T.g=Ja(T.j,q?F:null,!T.m),0<T.O&&(T.M=new st(v(T.Y,T,T.g),T.O)),F=T.U,q=T.g,ee=T.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Wt[0]=Se.toString()),Se=Wt);for(var He=0;He<Se.length;He++){var Rt=Je(q,Se[He],ee||F.handleEvent,!1,F.h||F);if(!Rt)break;F.g[Rt.key]=Rt}F=T.H?V(T.H):{},T.m?(T.u||(T.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,F)):(T.u="GET",T.g.ea(T.A,T.u,null,F)),ae(),Yt(T.i,T.u,T.A,T.l,T.R,T.m)}Vn.prototype.ca=function(T){T=T.target;const F=this.M;F&&Ra(T)==3?F.j():this.Y(T)},Vn.prototype.Y=function(T){try{if(T==this.g)e:{const Tr=Ra(this.g);var F=this.g.Ba();const fr=this.g.Z();if(!(3>Tr)&&(Tr!=3||this.g&&(this.h.h||this.g.oa()||op(this.g)))){this.J||Tr!=4||F==7||(F==8||0>=fr?ae(3):ae(2)),zt(this);var q=this.g.Z();this.X=q;t:if(me(this)){var ee=op(this.g);T="";var Se=ee.length,He=Ra(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),At(this);var Rt="";break t}this.h.i=new o.TextDecoder}for(F=0;F<Se;F++)this.h.h=!0,T+=this.h.i.decode(ee[F],{stream:!(He&&F==Se-1)});ee.length=0,this.h.g+=T,this.C=0,Rt=this.h.g}else Rt=this.g.oa();if(this.o=q==200,Gt(this.i,this.u,this.A,this.l,this.R,Tr,q),this.o){if(this.T&&!this.K){t:{if(this.g){var $n,tr=this.g;if(($n=tr.g?tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A($n)){var Zn=$n;break t}}Zn=null}if(q=Zn)kt(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ut(this,q);else{this.o=!1,this.s=3,Ee(12),Ft(this),At(this);break e}}if(this.P){q=!0;let Xr;for(;!this.J&&this.C<Rt.length;)if(Xr=ut(this,Rt),Xr==be){Tr==4&&(this.s=4,Ee(14),q=!1),kt(this.i,this.l,null,"[Incomplete Response]");break}else if(Xr==$){this.s=4,Ee(15),kt(this.i,this.l,Rt,"[Invalid Chunk]"),q=!1;break}else kt(this.i,this.l,Xr,null),Ut(this,Xr);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tr!=4||Rt.length!=0||this.h.h||(this.s=1,Ee(16),q=!1),this.o=this.o&&q,!q)kt(this.i,this.l,Rt,"[Invalid Chunked Response]"),Ft(this),At(this);else if(0<Rt.length&&!this.W){this.W=!0;var hr=this.j;hr.g==this&&hr.ba&&!hr.M&&(hr.j.info("Great, no buffering proxy detected. Bytes received: "+Rt.length),Fl(hr),hr.M=!0,Ee(11))}}else kt(this.i,this.l,Rt,null),Ut(this,Rt);Tr==4&&Ft(this),this.o&&!this.J&&(Tr==4?Tf(this.j,this):(this.o=!1,ct(this)))}else f0(this.g),q==400&&0<Rt.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ft(this),At(this)}}}catch{}finally{}};function me(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function ut(T,F){var q=T.C,ee=F.indexOf(`
`,q);return ee==-1?be:(q=Number(F.substring(q,ee)),isNaN(q)?$:(ee+=1,ee+q>F.length?be:(F=F.slice(ee,ee+q),T.C=ee+q,F)))}Vn.prototype.cancel=function(){this.J=!0,Ft(this)};function ct(T){T.S=Date.now()+T.I,Xt(T,T.I)}function Xt(T,F){if(T.B!=null)throw Error("WatchDog timer not null");T.B=xt(v(T.ba,T),F)}function zt(T){T.B&&(o.clearTimeout(T.B),T.B=null)}Vn.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(gt(this.i,this.A),this.L!=2&&(ae(),Ee(17)),Ft(this),this.s=2,At(this)):Xt(this,this.S-T)};function At(T){T.j.G==0||T.J||Tf(T.j,T)}function Ft(T){zt(T);var F=T.M;F&&typeof F.ma=="function"&&F.ma(),T.M=null,Vt(T.U),T.g&&(F=T.g,T.g=null,F.abort(),F.ma())}function Ut(T,F){try{var q=T.j;if(q.G!=0&&(q.g==T||Dn(q.h,T))){if(!T.K&&Dn(q.h,T)&&q.G==3){try{var ee=q.Da.g.parse(F)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Se=ee;if(Se[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<T.F)eu(q),dh(q);else break e;vh(q),Ee(18)}}else q.za=Se[1],0<q.za-q.T&&37500>Se[2]&&q.F&&q.v==0&&!q.C&&(q.C=xt(v(q.Za,q),6e3));if(1>=Ji(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else ul(q,11)}else if((T.K||q.g==T)&&eu(q),!A(F))for(Se=q.Da.g.parse(F),F=0;F<Se.length;F++){let Zn=Se[F];if(q.T=Zn[0],Zn=Zn[1],q.G==2)if(Zn[0]=="c"){q.K=Zn[1],q.ia=Zn[2];const hr=Zn[3];hr!=null&&(q.la=hr,q.j.info("VER="+q.la));const Tr=Zn[4];Tr!=null&&(q.Aa=Tr,q.j.info("SVER="+q.Aa));const fr=Zn[5];fr!=null&&typeof fr=="number"&&0<fr&&(ee=1.5*fr,q.L=ee,q.j.info("backChannelRequestTimeoutMs_="+ee)),ee=q;const Xr=T.g;if(Xr){const no=Xr.g?Xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(no){var He=ee.h;He.g||no.indexOf("spdy")==-1&&no.indexOf("quic")==-1&&no.indexOf("h2")==-1||(He.j=He.l,He.g=new Set,He.h&&(Zt(He,He.h),He.h=null))}if(ee.D){const Rf=Xr.g?Xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Rf&&(ee.ya=Rf,ei(ee.I,ee.D,Rf))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-T.F,q.j.info("Handshake RTT: "+q.R+"ms")),ee=q;var Rt=T;if(ee.qa=fp(ee,ee.J?ee.ia:null,ee.W),Rt.K){Xi(ee.h,Rt);var $n=Rt,tr=ee.L;tr&&($n.I=tr),$n.B&&(zt($n),ct($n)),ee.g=Rt}else up(ee);0<q.i.length&&ph(q)}else Zn[0]!="stop"&&Zn[0]!="close"||ul(q,7);else q.G==3&&(Zn[0]=="stop"||Zn[0]=="close"?Zn[0]=="stop"?ul(q,7):wf(q):Zn[0]!="noop"&&q.l&&q.l.ta(Zn),q.v=0)}}ae(4)}catch{}}var Cn=class{constructor(T,F){this.g=T,this.map=F}};function ln(T){this.l=T||10,o.PerformanceNavigationTiming?(T=o.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bn(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function Ji(T){return T.h?1:T.g?T.g.size:0}function Dn(T,F){return T.h?T.h==F:T.g?T.g.has(F):!1}function Zt(T,F){T.g?T.g.add(F):T.h=F}function Xi(T,F){T.h&&T.h==F?T.h=null:T.g&&T.g.has(F)&&T.g.delete(F)}ln.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function Sn(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let F=T.i;for(const q of T.g.values())F=F.concat(q.D);return F}return w(T.i)}function ds(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(c(T)){for(var F=[],q=T.length,ee=0;ee<q;ee++)F.push(T[ee]);return F}F=[],q=0;for(ee in T)F[q++]=T[ee];return F}function Do(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(c(T)||typeof T=="string"){var F=[];T=T.length;for(var q=0;q<T;q++)F.push(q);return F}F=[],q=0;for(const ee in T)F[q++]=ee;return F}}}function rr(T,F){if(T.forEach&&typeof T.forEach=="function")T.forEach(F,void 0);else if(c(T)||typeof T=="string")Array.prototype.forEach.call(T,F,void 0);else for(var q=Do(T),ee=ds(T),Se=ee.length,He=0;He<Se;He++)F.call(void 0,ee[He],q&&q[He],T)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ti(T,F){if(T){T=T.split("&");for(var q=0;q<T.length;q++){var ee=T[q].indexOf("="),Se=null;if(0<=ee){var He=T[q].substring(0,ee);Se=T[q].substring(ee+1)}else He=T[q];F(He,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function ur(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof ur){this.h=T.h,sr(this,T.j),this.o=T.o,this.g=T.g,rs(this,T.s),this.l=T.l;var F=T.i,q=new Oo;q.i=F.i,F.g&&(q.g=new Map(F.g),q.h=F.h),ps(this,q),this.m=T.m}else T&&(F=String(T).match($a))?(this.h=!1,sr(this,F[1]||"",!0),this.o=Ma(F[2]||""),this.g=Ma(F[3]||"",!0),rs(this,F[4]),this.l=Ma(F[5]||"",!0),ps(this,F[6]||"",!0),this.m=Ma(F[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}ur.prototype.toString=function(){var T=[],F=this.j;F&&T.push(Aa(F,qc,!0),":");var q=this.g;return(q||F=="file")&&(T.push("//"),(F=this.o)&&T.push(Aa(F,qc,!0),"@"),T.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&T.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&T.push("/"),T.push(Aa(q,q.charAt(0)=="/"?hh:rp,!0))),(q=this.i.toString())&&T.push("?",q),(q=this.m)&&T.push("#",Aa(q,wg)),T.join("")};function Ti(T){return new ur(T)}function sr(T,F,q){T.j=q?Ma(F,!0):F,T.j&&(T.j=T.j.replace(/:$/,""))}function rs(T,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);T.s=F}else T.s=null}function ps(T,F,q){F instanceof Oo?(T.i=F,Sf(T.i,T.h)):(q||(F=Aa(F,Eg)),T.i=new Oo(F,T.h))}function ei(T,F,q){T.i.set(F,q)}function Gc(T){return ei(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function Ma(T,F){return T?F?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function Aa(T,F,q){return typeof T=="string"?(T=encodeURI(T).replace(F,xf),q&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function xf(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var qc=/[#\/\?@]/g,rp=/[#\?:]/g,hh=/[#\?]/g,Eg=/[#\?@]/g,wg=/#/g;function Oo(T,F){this.h=this.g=null,this.i=T||null,this.j=!!F}function Ca(T){T.g||(T.g=new Map,T.h=0,T.i&&ti(T.i,function(F,q){T.add(decodeURIComponent(F.replace(/\+/g," ")),q)}))}n=Oo.prototype,n.add=function(T,F){Ca(this),this.i=null,T=No(this,T);var q=this.g.get(T);return q||this.g.set(T,q=[]),q.push(F),this.h+=1,this};function Wc(T,F){Ca(T),F=No(T,F),T.g.has(F)&&(T.i=null,T.h-=T.g.get(F).length,T.g.delete(F))}function ll(T,F){return Ca(T),F=No(T,F),T.g.has(F)}n.forEach=function(T,F){Ca(this),this.g.forEach(function(q,ee){q.forEach(function(Se){T.call(F,Se,ee,this)},this)},this)},n.na=function(){Ca(this);const T=Array.from(this.g.values()),F=Array.from(this.g.keys()),q=[];for(let ee=0;ee<F.length;ee++){const Se=T[ee];for(let He=0;He<Se.length;He++)q.push(F[ee])}return q},n.V=function(T){Ca(this);let F=[];if(typeof T=="string")ll(this,T)&&(F=F.concat(this.g.get(No(this,T))));else{T=Array.from(this.g.values());for(let q=0;q<T.length;q++)F=F.concat(T[q])}return F},n.set=function(T,F){return Ca(this),this.i=null,T=No(this,T),ll(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[F]),this.h+=1,this},n.get=function(T,F){return T?(T=this.V(T),0<T.length?String(T[0]):F):F};function cl(T,F,q){Wc(T,F),0<q.length&&(T.i=null,T.g.set(No(T,F),w(q)),T.h+=q.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],F=Array.from(this.g.keys());for(var q=0;q<F.length;q++){var ee=F[q];const He=encodeURIComponent(String(ee)),Rt=this.V(ee);for(ee=0;ee<Rt.length;ee++){var Se=He;Rt[ee]!==""&&(Se+="="+encodeURIComponent(String(Rt[ee]))),T.push(Se)}}return this.i=T.join("&")};function No(T,F){return F=String(F),T.j&&(F=F.toLowerCase()),F}function Sf(T,F){F&&!T.j&&(Ca(T),T.i=null,T.g.forEach(function(q,ee){var Se=ee.toLowerCase();ee!=Se&&(Wc(this,ee),cl(this,Se,q))},T)),T.j=F}function sp(T,F){const q=new Bt;if(o.Image){const ee=new Image;ee.onload=y(Xs,q,"TestLoadImage: loaded",!0,F,ee),ee.onerror=y(Xs,q,"TestLoadImage: error",!1,F,ee),ee.onabort=y(Xs,q,"TestLoadImage: abort",!1,F,ee),ee.ontimeout=y(Xs,q,"TestLoadImage: timeout",!1,F,ee),o.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=T}else F(!1)}function Xc(T,F){const q=new Bt,ee=new AbortController,Se=setTimeout(()=>{ee.abort(),Xs(q,"TestPingServer: timeout",!1,F)},1e4);fetch(T,{signal:ee.signal}).then(He=>{clearTimeout(Se),He.ok?Xs(q,"TestPingServer: ok",!0,F):Xs(q,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Se),Xs(q,"TestPingServer: error",!1,F)})}function Xs(T,F,q,ee,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),ee(q)}catch{}}function Yc(){this.g=new Be}function Po(T,F,q){const ee=q||"";try{rr(T,function(Se,He){let Rt=Se;u(Se)&&(Rt=Pt(Se)),F.push(ee+He+"="+encodeURIComponent(Rt))})}catch(Se){throw F.push(ee+"type="+encodeURIComponent("_badmap")),Se}}function Kc(T){this.l=T.Ub||null,this.j=T.eb||!1}_(Kc,Tt),Kc.prototype.g=function(){return new Vl(this.l,this.j)},Kc.prototype.i=function(T){return function(){return T}}({});function Vl(T,F){ze.call(this),this.D=T,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Vl,ze),n=Vl.prototype,n.open=function(T,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=F,this.readyState=1,Za(this)},n.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(F.body=T),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ef(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ef(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}n.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var F=T.value?T.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!T.done}))&&(this.response=this.responseText+=F)}T.done?Ys(this):Za(this),this.readyState==3&&Ef(this)}},n.Ra=function(T){this.g&&(this.response=this.responseText=T,Ys(this))},n.Qa=function(T){this.g&&(this.response=T,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(T){T.readyState=4,T.l=null,T.j=null,T.v=null,Za(T)}n.setRequestHeader=function(T,F){this.u.append(T,F)},n.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],F=this.h.entries();for(var q=F.next();!q.done;)q=q.value,T.push(q[0]+": "+q[1]),q=F.next();return T.join(`\r
`)};function Za(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function $c(T){let F="";return N(T,function(q,ee){F+=ee,F+=":",F+=q,F+=`\r
`}),F}function Br(T,F,q){e:{for(ee in q){var ee=!1;break e}ee=!0}ee||(q=$c(q),typeof T=="string"?q!=null&&encodeURIComponent(String(q)):ei(T,F,q))}function gi(T){ze.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(gi,ze);var Zc=/^https?$/i,Qc=["POST","PUT"];n=gi.prototype,n.Ha=function(T){this.J=T},n.ea=function(T,F,q,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);F=F?F.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?he(this.o):he(_i),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(F,String(T),!0),this.B=!1}catch(He){ap(this,He);return}if(T=q||"",q=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Se in ee)q.set(Se,ee[Se]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const He of ee.keys())q.set(He,ee.get(He));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(q.keys()).find(He=>He.toLowerCase()=="content-type"),Se=o.FormData&&T instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Qc,F,void 0))||ee||Se||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[He,Rt]of q)this.g.setRequestHeader(He,Rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kl(this),this.u=!0,this.g.send(T),this.u=!1}catch(He){ap(this,He)}};function ap(T,F){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=F,T.m=5,Qa(T),Io(T)}function Qa(T){T.A||(T.A=!0,yt(T,"complete"),yt(T,"error"))}n.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,yt(this,"complete"),yt(this,"abort"),Io(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Io(this,!0)),gi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Bl(this):this.bb())},n.bb=function(){Bl(this)};function Bl(T){if(T.h&&typeof a<"u"&&(!T.v[1]||Ra(T)!=4||T.Z()!=2)){if(T.u&&Ra(T)==4)Nt(T.Ea,0,T);else if(yt(T,"readystatechange"),Ra(T)==4){T.h=!1;try{const Rt=T.Z();e:switch(Rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var q;if(!(q=F)){var ee;if(ee=Rt===0){var Se=String(T.D).match($a)[1]||null;!Se&&o.self&&o.self.location&&(Se=o.self.location.protocol.slice(0,-1)),ee=!Zc.test(Se?Se.toLowerCase():"")}q=ee}if(q)yt(T,"complete"),yt(T,"success");else{T.m=6;try{var He=2<Ra(T)?T.g.statusText:""}catch{He=""}T.l=He+" ["+T.Z()+"]",Qa(T)}}finally{Io(T)}}}}function Io(T,F){if(T.g){kl(T);const q=T.g,ee=T.v[0]?()=>{}:null;T.g=null,T.v=null,F||yt(T,"ready");try{q.onreadystatechange=ee}catch{}}}function kl(T){T.I&&(o.clearTimeout(T.I),T.I=null)}n.isActive=function(){return!!this.g};function Ra(T){return T.g?T.g.readyState:0}n.Z=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(T){if(this.g){var F=this.g.responseText;return T&&F.indexOf(T)==0&&(F=F.substring(T.length)),pe(F)}};function op(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function f0(T){const F={};T=(T.g&&2<=Ra(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<T.length;ee++){if(A(T[ee]))continue;var q=j(T[ee]);const Se=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const He=F[Se]||[];F[Se]=He,He.push(q)}z(F,function(ee){return ee.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(T,F,q){return q&&q.internalChannelParams&&q.internalChannelParams[T]||F}function fh(T){this.Aa=0,this.i=[],this.j=new Bt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,T),this.cb=er("retryDelaySeedMs",1e4,T),this.Wa=er("forwardChannelMaxRetries",2,T),this.wa=er("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new ln(T&&T.concurrentRequestLimit),this.Da=new Yc,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fh.prototype,n.la=8,n.G=1,n.connect=function(T,F,q,ee){Ee(0),this.W=T,this.H=F||{},q&&ee!==void 0&&(this.H.OSID=q,this.H.OAID=ee),this.F=this.X,this.I=fp(this,null,this.W),ph(this)};function wf(T){if(lp(T),T.G==3){var F=T.U++,q=Ti(T.I);if(ei(q,"SID",T.K),ei(q,"RID",F),ei(q,"TYPE","terminate"),Jc(T,q),F=new Vn(T,T.j,F),F.L=2,F.v=Gc(Ti(q)),q=!1,o.navigator&&o.navigator.sendBeacon)try{q=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!q&&o.Image&&(new Image().src=F.v,q=!0),q||(F.g=Ja(F.j,null),F.g.ea(F.v)),F.F=Date.now(),ct(F)}Mf(T)}function dh(T){T.g&&(Fl(T),T.g.cancel(),T.g=null)}function lp(T){dh(T),T.u&&(o.clearTimeout(T.u),T.u=null),eu(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&o.clearTimeout(T.s),T.s=null)}function ph(T){if(!Bn(T.h)&&!T.s){T.s=!0;var F=T.Ga;ue||Z(),ne||(ue(),ne=!0),ve.add(F,T),T.B=0}}function mh(T,F){return Ji(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=F.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=xt(v(T.Ga,T,F),yh(T,T.B)),T.B++,!0)}n.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const Se=new Vn(this,this.j,T);let He=this.o;if(this.S&&(He?(He=V(He),L(He,this.S)):He=this.S),this.m!==null||this.O||(Se.H=He,He=null),this.P)e:{for(var F=0,q=0;q<this.i.length;q++){t:{var ee=this.i[q];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(F+=ee,4096<F){F=q;break e}if(F===4096||q===this.i.length-1){F=q+1;break e}}F=1e3}else F=1e3;F=cp(this,Se,F),q=Ti(this.I),ei(q,"RID",T),ei(q,"CVER",22),this.D&&ei(q,"X-HTTP-Session-Id",this.D),Jc(this,q),He&&(this.O?F="headers="+encodeURIComponent(String($c(He)))+"&"+F:this.m&&Br(q,this.m,He)),Zt(this.h,Se),this.Ua&&ei(q,"TYPE","init"),this.P?(ei(q,"$req",F),ei(q,"SID","null"),Se.T=!0,Ne(Se,q,null)):Ne(Se,q,F),this.G=2}}else this.G==3&&(T?gh(this,T):this.i.length==0||Bn(this.h)||gh(this))};function gh(T,F){var q;F?q=F.l:q=T.U++;const ee=Ti(T.I);ei(ee,"SID",T.K),ei(ee,"RID",q),ei(ee,"AID",T.T),Jc(T,ee),T.m&&T.o&&Br(ee,T.m,T.o),q=new Vn(T,T.j,q,T.B+1),T.m===null&&(q.H=T.o),F&&(T.i=F.D.concat(T.i)),F=cp(T,q,1e3),q.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),Zt(T.h,q),Ne(q,ee,F)}function Jc(T,F){T.H&&N(T.H,function(q,ee){ei(F,ee,q)}),T.l&&rr({},function(q,ee){ei(F,ee,q)})}function cp(T,F,q){q=Math.min(T.i.length,q);var ee=T.l?v(T.l.Na,T.l,T):null;e:{var Se=T.i;let He=-1;for(;;){const Rt=["count="+q];He==-1?0<q?(He=Se[0].g,Rt.push("ofs="+He)):He=0:Rt.push("ofs="+He);let $n=!0;for(let tr=0;tr<q;tr++){let Zn=Se[tr].g;const hr=Se[tr].map;if(Zn-=He,0>Zn)He=Math.max(0,Se[tr].g-100),$n=!1;else try{Po(hr,Rt,"req"+Zn+"_")}catch{ee&&ee(hr)}}if($n){ee=Rt.join("&");break e}}}return T=T.i.splice(0,q),F.D=T,ee}function up(T){if(!T.g&&!T.u){T.Y=1;var F=T.Fa;ue||Z(),ne||(ue(),ne=!0),ve.add(F,T),T.v=0}}function vh(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=xt(v(T.Fa,T),yh(T,T.v)),T.v++,!0)}n.Fa=function(){if(this.u=null,hp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=xt(v(this.ab,this),T)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),dh(this),hp(this))};function Fl(T){T.A!=null&&(o.clearTimeout(T.A),T.A=null)}function hp(T){T.g=new Vn(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var F=Ti(T.qa);ei(F,"RID","rpc"),ei(F,"SID",T.K),ei(F,"AID",T.T),ei(F,"CI",T.F?"0":"1"),!T.F&&T.ja&&ei(F,"TO",T.ja),ei(F,"TYPE","xmlhttp"),Jc(T,F),T.m&&T.o&&Br(F,T.m,T.o),T.L&&(T.g.I=T.L);var q=T.g;T=T.ia,q.L=1,q.v=Gc(Ti(F)),q.m=null,q.P=!0,Te(q,T)}n.Za=function(){this.C!=null&&(this.C=null,dh(this),vh(this),Ee(19))};function eu(T){T.C!=null&&(o.clearTimeout(T.C),T.C=null)}function Tf(T,F){var q=null;if(T.g==F){eu(T),Fl(T),T.g=null;var ee=2}else if(Dn(T.h,F))q=F.D,Xi(T.h,F),ee=1;else return;if(T.G!=0){if(F.o)if(ee==1){q=F.m?F.m.length:0,F=Date.now()-F.F;var Se=T.B;ee=sn(),yt(ee,new et(ee,q)),ph(T)}else up(T);else if(Se=F.s,Se==3||Se==0&&0<F.X||!(ee==1&&mh(T,F)||ee==2&&vh(T)))switch(q&&0<q.length&&(F=T.h,F.i=F.i.concat(q)),Se){case 1:ul(T,5);break;case 4:ul(T,10);break;case 3:ul(T,6);break;default:ul(T,2)}}}function yh(T,F){let q=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(q*=2),q*F}function ul(T,F){if(T.j.info("Error code "+F),F==2){var q=v(T.fb,T),ee=T.Xa;const Se=!ee;ee=new ur(ee||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||sr(ee,"https"),Gc(ee),Se?sp(ee.toString(),q):Xc(ee.toString(),q)}else Ee(2);T.G=0,T.l&&T.l.sa(F),Mf(T),lp(T)}n.fb=function(T){T?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Mf(T){if(T.G=0,T.ka=[],T.l){const F=Sn(T.h);(F.length!=0||T.i.length!=0)&&(S(T.ka,F),S(T.ka,T.i),T.h.i.length=0,w(T.i),T.i.length=0),T.l.ra()}}function fp(T,F,q){var ee=q instanceof ur?Ti(q):new ur(q);if(ee.g!="")F&&(ee.g=F+"."+ee.g),rs(ee,ee.s);else{var Se=o.location;ee=Se.protocol,F=F?F+"."+Se.hostname:Se.hostname,Se=+Se.port;var He=new ur(null);ee&&sr(He,ee),F&&(He.g=F),Se&&rs(He,Se),q&&(He.l=q),ee=He}return q=T.D,F=T.ya,q&&F&&ei(ee,q,F),ei(ee,"VER",T.la),Jc(T,ee),ee}function Ja(T,F,q){if(F&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=T.Ca&&!T.pa?new gi(new Kc({eb:q})):new gi(T.pa),F.Ha(T.J),F}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Af(){}n=Af.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cf(){}Cf.prototype.g=function(T,F){return new ms(T,F)};function ms(T,F){ze.call(this),this.g=new fh(F),this.l=T,this.h=F&&F.messageUrlParams||null,T=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(T?T["X-WebChannel-Content-Type"]=F.messageContentType:T={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(T?T["X-WebChannel-Client-Profile"]=F.va:T={"X-WebChannel-Client-Profile":F.va}),this.g.S=T,(T=F&&F.Sb)&&!A(T)&&(this.g.m=T),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!A(F)&&(this.g.D=F,T=this.h,T!==null&&F in T&&(T=this.h,F in T&&delete T[F])),this.j=new to(this)}_(ms,ze),ms.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ms.prototype.close=function(){wf(this.g)},ms.prototype.o=function(T){var F=this.g;if(typeof T=="string"){var q={};q.__data__=T,T=q}else this.u&&(q={},q.__data__=Pt(T),T=q);F.i.push(new Cn(F.Ya++,T)),F.G==3&&ph(F)},ms.prototype.N=function(){this.g.l=null,delete this.j,wf(this.g),delete this.g,ms.aa.N.call(this)};function Lo(T){We.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var F=T.__sm__;if(F){e:{for(const q in F){T=q;break e}T=void 0}(this.i=T)&&(T=this.i,F=F!==null&&T in F?F[T]:void 0),this.data=F}else this.data=T}_(Lo,We);function eo(){Xe.call(this),this.status=1}_(eo,Xe);function to(T){this.g=T}_(to,Af),to.prototype.ua=function(){yt(this.g,"a")},to.prototype.ta=function(T){yt(this.g,new Lo(T))},to.prototype.sa=function(T){yt(this.g,new eo)},to.prototype.ra=function(){yt(this.g,"b")},Cf.prototype.createWebChannel=Cf.prototype.g,ms.prototype.send=ms.prototype.o,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,AG=function(){return new Cf},MG=function(){return sn()},TG=rt,gO={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,pw=Ot,zn.COMPLETE="complete",wG=zn,ht.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Hb=ht,gi.prototype.listenOnce=gi.prototype.L,gi.prototype.getLastError=gi.prototype.Ka,gi.prototype.getLastErrorCode=gi.prototype.Ba,gi.prototype.getStatus=gi.prototype.Z,gi.prototype.getResponseJson=gi.prototype.Oa,gi.prototype.getResponseText=gi.prototype.oa,gi.prototype.send=gi.prototype.ea,gi.prototype.setWithCredentials=gi.prototype.Ha,EG=gi}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});const IB="@firebase/firestore",LB="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ua.UNAUTHENTICATED=new ua(null),ua.GOOGLE_CREDENTIALS=new ua("google-credentials-uid"),ua.FIRST_PARTY=new ua("first-party-uid"),ua.MOCK_USER=new ua("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new gG("@firebase/firestore");function Fv(){return rg.logLevel}function Qt(n,...e){if(rg.logLevel<=mi.DEBUG){const t=e.map(rI);rg.debug(`Firestore (${s0}): ${n}`,...t)}}function vf(n,...e){if(rg.logLevel<=mi.ERROR){const t=e.map(rI);rg.error(`Firestore (${s0}): ${n}`,...t)}}function Py(n,...e){if(rg.logLevel<=mi.WARN){const t=e.map(rI);rg.warn(`Firestore (${s0}): ${n}`,...t)}}function rI(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n="Unexpected state"){const e=`FIRESTORE (${s0}) INTERNAL ASSERTION FAILED: `+n;throw vf(e),new Error(e)}function Li(n,e){n||En()}function Nn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends r0{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xwe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ua.UNAUTHENTICATED))}shutdown(){}}class Ywe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kwe{constructor(e){this.t=e,this.currentUser=ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Li(this.o===void 0);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new uf;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new uf,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},o=c=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new uf)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Li(typeof i.accessToken=="string"),new CG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Li(e===null||typeof e=="string"),new ua(e)}}class $we{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=ua.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Zwe{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new $we(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ua.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qwe{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Nwe(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Li(this.o===void 0);const i=s=>{s.error!=null&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Qt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new UB(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Li(typeof t.token=="string"),this.R=t.token,new UB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jwe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Jwe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function ui(n,e){return n<e?-1:n>e?1:0}function Iy(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=-62135596800,VB=1e6;class cs{static now(){return cs.fromMillis(Date.now())}static fromDate(e){return cs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*VB);return new cs(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Jt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Jt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zB)throw new Jt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VB}_compareTo(e){return this.seconds===e.seconds?ui(this.nanoseconds,e.nanoseconds):ui(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new cs(0,0))}static max(){return new Rn(new cs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="__name__";class Lu{constructor(e,t,i){t===void 0?t=0:t>e.length&&En(),i===void 0?i=e.length-t:i>e.length-t&&En(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Lu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=Lu.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Lu.isNumericId(e),r=Lu.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Lu.extractNumericId(e).compare(Lu.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nd.fromString(e.substring(4,e.length-2))}}class ir extends Lu{construct(e,t,i){return new ir(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Jt(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ir(t)}static emptyPath(){return new ir([])}}const eTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class js extends Lu{construct(e,t,i){return new js(e,t,i)}static isValidIdentifier(e){return eTe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),js.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BB}static keyField(){return new js([BB])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Jt(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new Jt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Jt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new Jt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new js(t)}static emptyPath(){return new js([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.path=e}static fromPath(e){return new dn(ir.fromString(e))}static fromName(e){return new dn(ir.fromString(e).popFirst(5))}static empty(){return new dn(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ir.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ir.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dn(new ir(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-1;function tTe(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rn.fromTimestamp(i===1e9?new cs(t+1,0):new cs(t,i));return new Fd(r,dn.empty(),e)}function nTe(n){return new Fd(n.readTime,n.key,J_)}class Fd{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Fd(Rn.min(),dn.empty(),J_)}static max(){return new Fd(Rn.max(),dn.empty(),J_)}}function iTe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=dn.comparator(n.documentKey,e.documentKey),t!==0?t:ui(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rTe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sTe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==rTe)throw n;Qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lt((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof lt?t:lt.resolve(t)}catch(t){return lt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):lt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):lt.reject(t)}static resolve(e){return new lt((t,i)=>{t(e)})}static reject(e){return new lt((t,i)=>{i(e)})}static waitFor(e){return new lt((t,i)=>{let r=0,s=0,a=!1;e.forEach(o=>{++r,o.next(()=>{++s,a&&s===r&&t()},c=>i(c))}),a=!0,s===r&&t()})}static or(e){let t=lt.resolve(!1);for(const i of e)t=t.next(r=>r?lt.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new lt((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(d=>{a[u]=d,++o,o===s&&i(a)},d=>r(d))}})}static doWhile(e,t){return new lt((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function aTe(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function o0(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}hA.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=-1;function fA(n){return n==null}function kT(n){return n===0&&1/n==-1/0}function oTe(n){return typeof n=="number"&&Number.isInteger(n)&&!kT(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="";function lTe(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kB(e)),e=cTe(n.get(t),e);return kB(e)}function cTe(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case DG:t+="";break;default:t+=s}}return t}function kB(n){return n+DG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.comparator=e,this.root=t||Hs.EMPTY}insert(e,t){return new wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hs.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ME(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ME(this.root,e,this.comparator,!1)}getReverseIterator(){return new ME(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ME(this.root,e,this.comparator,!0)}}class ME{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hs{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Hs.RED,this.left=r??Hs.EMPTY,this.right=s??Hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Hs(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Hs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}Hs.EMPTY=null,Hs.RED=!0,Hs.BLACK=!1;Hs.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(e,t,i,r,s){return this}insert(e,t,i){return new Hs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HB(this.data.getIterator())}getIteratorFrom(e){return new HB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new us(this.comparator);return t.data=e,t}}class HB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.fields=e,e.sort(js.comparator)}static empty(){return new Ac([])}unionWith(e){let t=new us(js.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ac(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Iy(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new NG("Invalid base64 string: "+s):s}}(e);return new Ws(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Ws(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ui(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ws.EMPTY_BYTE_STRING=new Ws("");const uTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hd(n){if(Li(!!n),typeof n=="string"){let e=0;const t=uTe.exec(n);if(Li(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jd(n){return typeof n=="string"?Ws.fromBase64String(n):Ws.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="server_timestamp",IG="__type__",LG="__previous_value__",UG="__local_write_time__";function aI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[IG])===null||t===void 0?void 0:t.stringValue)===PG}function dA(n){const e=n.mapValue.fields[LG];return aI(e)?dA(e):e}function ex(n){const e=Hd(n.mapValue.fields[UG].timestampValue);return new cs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hTe{constructor(e,t,i,r,s,a,o,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u}}const FT="(default)";class tx{constructor(e,t){this.projectId=e,this.database=t||FT}static empty(){return new tx("","")}get isDefaultDatabase(){return this.database===FT}isEqual(e){return e instanceof tx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG="__type__",fTe="__max__",AE={mapValue:{}},VG="__vector__",HT="value";function Gd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aI(n)?4:pTe(n)?9007199254740991:dTe(n)?10:11:En()}function nh(n,e){if(n===e)return!0;const t=Gd(n);if(t!==Gd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ex(n).isEqual(ex(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Hd(r.timestampValue),o=Hd(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return jd(r.bytesValue).isEqual(jd(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Gr(r.geoPointValue.latitude)===Gr(s.geoPointValue.latitude)&&Gr(r.geoPointValue.longitude)===Gr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Gr(r.integerValue)===Gr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Gr(r.doubleValue),o=Gr(s.doubleValue);return a===o?kT(a)===kT(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Iy(n.arrayValue.values||[],e.arrayValue.values||[],nh);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(FB(a)!==FB(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!nh(a[c],o[c])))return!1;return!0}(n,e);default:return En()}}function nx(n,e){return(n.values||[]).find(t=>nh(t,e))!==void 0}function Ly(n,e){if(n===e)return 0;const t=Gd(n),i=Gd(e);if(t!==i)return ui(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ui(n.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Gr(s.integerValue||s.doubleValue),c=Gr(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(n,e);case 3:return jB(n.timestampValue,e.timestampValue);case 4:return jB(ex(n),ex(e));case 5:return ui(n.stringValue,e.stringValue);case 6:return function(s,a){const o=jd(s),c=jd(a);return o.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=ui(o[u],c[u]);if(d!==0)return d}return ui(o.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const o=ui(Gr(s.latitude),Gr(a.latitude));return o!==0?o:ui(Gr(s.longitude),Gr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return GB(n.arrayValue,e.arrayValue);case 10:return function(s,a){var o,c,u,d;const p=s.fields||{},v=a.fields||{},y=(o=p[HT])===null||o===void 0?void 0:o.arrayValue,_=(c=v[HT])===null||c===void 0?void 0:c.arrayValue,w=ui(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:GB(y,_)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===AE.mapValue&&a===AE.mapValue)return 0;if(s===AE.mapValue)return 1;if(a===AE.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const v=ui(c[p],d[p]);if(v!==0)return v;const y=Ly(o[c[p]],u[d[p]]);if(y!==0)return y}return ui(c.length,d.length)}(n.mapValue,e.mapValue);default:throw En()}}function jB(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ui(n,e);const t=Hd(n),i=Hd(e),r=ui(t.seconds,i.seconds);return r!==0?r:ui(t.nanos,i.nanos)}function GB(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=Ly(t[r],i[r]);if(s)return s}return ui(t.length,i.length)}function Uy(n){return vO(n)}function vO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Hd(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return jd(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return dn.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=vO(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${vO(t.fields[a])}`;return r+"}"}(n.mapValue):En()}function mw(n){switch(Gd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dA(n);return e?16+mw(e):16;case 5:return 2*n.stringValue.length;case 6:return jd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+mw(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return yg(i.fields,(s,a)=>{r+=s.length+mw(a)}),r}(n.mapValue);default:throw En()}}function qB(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yO(n){return!!n&&"integerValue"in n}function oI(n){return!!n&&"arrayValue"in n}function WB(n){return!!n&&"nullValue"in n}function XB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gw(n){return!!n&&"mapValue"in n}function dTe(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zG])===null||t===void 0?void 0:t.stringValue)===VG}function f_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yg(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=f_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=f_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pTe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fTe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.value=e}static empty(){return new Pl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=f_(t)}setAll(e){let t=js.emptyPath(),i={},r=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=o.popLast()}a?i[o.lastSegment()]=f_(a):r.push(o.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());gw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){yg(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Pl(f_(this.value))}}function BG(n){const e=[];return yg(n.fields,(t,i)=>{const r=new js([t]);if(gw(i)){const s=BG(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Ac(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,i,r,s,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new da(e,0,Rn.min(),Rn.min(),Rn.min(),Pl.empty(),0)}static newFoundDocument(e,t,i,r){return new da(e,1,t,Rn.min(),i,r,0)}static newNoDocument(e,t){return new da(e,2,t,Rn.min(),Rn.min(),Pl.empty(),0)}static newUnknownDocument(e,t){return new da(e,3,t,Rn.min(),Rn.min(),Pl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof da&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new da(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t){this.position=e,this.inclusive=t}}function YB(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=dn.comparator(dn.fromName(a.referenceValue),t.key):i=Ly(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function KB(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nh(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t="asc"){this.field=e,this.dir=t}}function mTe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{}class ts extends kG{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new vTe(e,t,i):t==="array-contains"?new _Te(e,i):t==="in"?new xTe(e,i):t==="not-in"?new STe(e,i):t==="array-contains-any"?new ETe(e,i):new ts(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new yTe(e,i):new bTe(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ly(t,this.value)):t!==null&&Gd(this.value)===Gd(t)&&this.matchesComparison(Ly(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Uc extends kG{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Uc(e,t)}matches(e){return FG(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function FG(n){return n.op==="and"}function HG(n){return gTe(n)&&FG(n)}function gTe(n){for(const e of n.filters)if(e instanceof Uc)return!1;return!0}function bO(n){if(n instanceof ts)return n.field.canonicalString()+n.op.toString()+Uy(n.value);if(HG(n))return n.filters.map(e=>bO(e)).join(",");{const e=n.filters.map(t=>bO(t)).join(",");return`${n.op}(${e})`}}function jG(n,e){return n instanceof ts?function(i,r){return r instanceof ts&&i.op===r.op&&i.field.isEqual(r.field)&&nh(i.value,r.value)}(n,e):n instanceof Uc?function(i,r){return r instanceof Uc&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,o)=>s&&jG(a,r.filters[o]),!0):!1}(n,e):void En()}function GG(n){return n instanceof ts?function(t){return`${t.field.canonicalString()} ${t.op} ${Uy(t.value)}`}(n):n instanceof Uc?function(t){return t.op.toString()+" {"+t.getFilters().map(GG).join(" ,")+"}"}(n):"Filter"}class vTe extends ts{constructor(e,t,i){super(e,t,i),this.key=dn.fromName(i.referenceValue)}matches(e){const t=dn.comparator(e.key,this.key);return this.matchesComparison(t)}}class yTe extends ts{constructor(e,t){super(e,"in",t),this.keys=qG("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bTe extends ts{constructor(e,t){super(e,"not-in",t),this.keys=qG("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qG(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>dn.fromName(i.referenceValue))}class _Te extends ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oI(t)&&nx(t.arrayValue,this.value)}}class xTe extends ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nx(this.value.arrayValue,t)}}class STe extends ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(nx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nx(this.value.arrayValue,t)}}class ETe extends ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>nx(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wTe{constructor(e,t=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.le=null}}function $B(n,e=null,t=[],i=[],r=null,s=null,a=null){return new wTe(n,e,t,i,r,s,a)}function lI(n){const e=Nn(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>bO(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),fA(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Uy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Uy(i)).join(",")),e.le=t}return e.le}function cI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mTe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jG(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KB(n.startAt,e.startAt)&&KB(n.endAt,e.endAt)}function _O(n){return dn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TTe(n,e,t,i,r,s,a,o){return new l0(n,e,t,i,r,s,a,o)}function uI(n){return new l0(n)}function ZB(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WG(n){return n.collectionGroup!==null}function d_(n){const e=Nn(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new us(js.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new ix(s,i))}),t.has(js.keyField().canonicalString())||e.he.push(new ix(js.keyField(),i))}return e.he}function Qu(n){const e=Nn(n);return e.Pe||(e.Pe=MTe(e,d_(n))),e.Pe}function MTe(n,e){if(n.limitType==="F")return $B(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new ix(r.field,s)});const t=n.endAt?new jT(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new jT(n.startAt.position,n.startAt.inclusive):null;return $B(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xO(n,e){const t=n.filters.concat([e]);return new l0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function SO(n,e,t){return new l0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pA(n,e){return cI(Qu(n),Qu(e))&&n.limitType===e.limitType}function XG(n){return`${lI(Qu(n))}|lt:${n.limitType}`}function Hv(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>GG(r)).join(", ")}]`),fA(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Uy(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Uy(r)).join(",")),`Target(${i})`}(Qu(n))}; limitType=${n.limitType})`}function mA(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):dn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of d_(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(a,o,c){const u=YB(a,o,c);return a.inclusive?u<=0:u<0}(i.startAt,d_(i),r)||i.endAt&&!function(a,o,c){const u=YB(a,o,c);return a.inclusive?u>=0:u>0}(i.endAt,d_(i),r))}(n,e)}function ATe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YG(n){return(e,t)=>{let i=!1;for(const r of d_(n)){const s=CTe(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function CTe(n,e,t){const i=n.field.isKeyField()?dn.comparator(e.key,t.key):function(s,a,o){const c=a.data.field(s),u=o.data.field(s);return c!==null&&u!==null?Ly(c,u):En()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return En()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yg(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return OG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RTe=new wr(dn.comparator);function yf(){return RTe}const KG=new wr(dn.comparator);function jb(...n){let e=KG;for(const t of n)e=e.insert(t.key,t);return e}function $G(n){let e=KG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Nm(){return p_()}function ZG(){return p_()}function p_(){return new bg(n=>n.toString(),(n,e)=>n.isEqual(e))}const DTe=new wr(dn.comparator),OTe=new us(dn.comparator);function si(...n){let e=OTe;for(const t of n)e=e.add(t);return e}const NTe=new us(ui);function PTe(){return NTe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kT(e)?"-0":e}}function QG(n){return{integerValue:""+n}}function ITe(n,e){return oTe(e)?QG(e):hI(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this._=void 0}}function LTe(n,e,t){return n instanceof GT?function(r,s){const a={fields:{[IG]:{stringValue:PG},[UG]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&aI(s)&&(s=dA(s)),s&&(a.fields[LG]=s),{mapValue:a}}(t,e):n instanceof rx?eq(n,e):n instanceof sx?tq(n,e):function(r,s){const a=JG(r,s),o=QB(a)+QB(r.Ie);return yO(a)&&yO(r.Ie)?QG(o):hI(r.serializer,o)}(n,e)}function UTe(n,e,t){return n instanceof rx?eq(n,e):n instanceof sx?tq(n,e):t}function JG(n,e){return n instanceof qT?function(i){return yO(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class GT extends gA{}class rx extends gA{constructor(e){super(),this.elements=e}}function eq(n,e){const t=nq(e);for(const i of n.elements)t.some(r=>nh(r,i))||t.push(i);return{arrayValue:{values:t}}}class sx extends gA{constructor(e){super(),this.elements=e}}function tq(n,e){let t=nq(e);for(const i of n.elements)t=t.filter(r=>!nh(r,i));return{arrayValue:{values:t}}}class qT extends gA{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function QB(n){return Gr(n.integerValue||n.doubleValue)}function nq(n){return oI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function zTe(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof rx&&r instanceof rx||i instanceof sx&&r instanceof sx?Iy(i.elements,r.elements,nh):i instanceof qT&&r instanceof qT?nh(i.Ie,r.Ie):i instanceof GT&&r instanceof GT}(n.transform,e.transform)}class VTe{constructor(e,t){this.version=e,this.transformResults=t}}class hf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hf}static exists(e){return new hf(void 0,e)}static updateTime(e){return new hf(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vw(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vA{}function iq(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sq(n.key,hf.none()):new Ux(n.key,n.data,hf.none());{const t=n.data,i=Pl.empty();let r=new us(js.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new _g(n.key,i,new Ac(r.toArray()),hf.none())}}function BTe(n,e,t){n instanceof Ux?function(r,s,a){const o=r.value.clone(),c=e6(r.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof _g?function(r,s,a){if(!vw(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=e6(r.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(rq(r)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function m_(n,e,t,i){return n instanceof Ux?function(s,a,o,c){if(!vw(s.precondition,a))return o;const u=s.value.clone(),d=t6(s.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof _g?function(s,a,o,c){if(!vw(s.precondition,a))return o;const u=t6(s.fieldTransforms,c,a),d=a.data;return d.setAll(rq(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(s,a,o){return vw(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function kTe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=JG(i.transform,r||null);s!=null&&(t===null&&(t=Pl.empty()),t.set(i.field,s))}return t||null}function JB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Iy(i,r,(s,a)=>zTe(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ux extends vA{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _g extends vA{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function e6(n,e,t){const i=new Map;Li(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,UTe(a,o,t[r]))}return i}function t6(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,LTe(s,a,e))}return i}class sq extends vA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FTe extends vA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HTe{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&BTe(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=m_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=m_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ZG();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(r.key)?null:o;const c=iq(a,o);c!==null&&i.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(Rn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),si())}isEqual(e){return this.batchId===e.batchId&&Iy(this.mutations,e.mutations,(t,i)=>JB(t,i))&&Iy(this.baseMutations,e.baseMutations,(t,i)=>JB(t,i))}}class fI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Li(e.mutations.length===i.length);let r=function(){return DTe}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new fI(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jTe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GTe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr,pi;function qTe(n){switch(n){case ot.OK:return En();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return En()}}function aq(n){if(n===void 0)return vf("GRPC error has no .code"),ot.UNKNOWN;switch(n){case Qr.OK:return ot.OK;case Qr.CANCELLED:return ot.CANCELLED;case Qr.UNKNOWN:return ot.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return ot.INTERNAL;case Qr.UNAVAILABLE:return ot.UNAVAILABLE;case Qr.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Qr.NOT_FOUND:return ot.NOT_FOUND;case Qr.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Qr.ABORTED:return ot.ABORTED;case Qr.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Qr.DATA_LOSS:return ot.DATA_LOSS;default:return En()}}(pi=Qr||(Qr={}))[pi.OK=0]="OK",pi[pi.CANCELLED=1]="CANCELLED",pi[pi.UNKNOWN=2]="UNKNOWN",pi[pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pi[pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pi[pi.NOT_FOUND=5]="NOT_FOUND",pi[pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",pi[pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",pi[pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",pi[pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pi[pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pi[pi.ABORTED=10]="ABORTED",pi[pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",pi[pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",pi[pi.INTERNAL=13]="INTERNAL",pi[pi.UNAVAILABLE=14]="UNAVAILABLE",pi[pi.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WTe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XTe=new Nd([4294967295,4294967295],0);function n6(n){const e=WTe().encode(n),t=new SG;return t.update(e),new Uint8Array(t.digest())}function i6(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Nd([t,i],0),new Nd([r,s],0)]}class dI{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Gb(`Invalid padding: ${t}`);if(i<0)throw new Gb(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Gb(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Gb(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Nd.fromNumber(this.Ee)}Ae(e,t,i){let r=e.add(t.multiply(Nd.fromNumber(i)));return r.compare(XTe)===1&&(r=new Nd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=n6(e),[i,r]=i6(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(i,r,s);if(!this.Re(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new dI(s,r,t);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.Ee===0)return;const t=n6(e),[i,r]=i6(t);for(let s=0;s<this.hashCount;s++){const a=this.Ae(i,r,s);this.Ve(a)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Gb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,zx.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yA(Rn.min(),r,new wr(ui),yf(),si())}}class zx{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new zx(i,t,si(),si(),si())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t,i,r){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=r}}class oq{constructor(e,t){this.targetId=e,this.ge=t}}class lq{constructor(e,t,i=Ws.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class r6{constructor(){this.pe=0,this.ye=s6(),this.we=Ws.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=si(),t=si(),i=si();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:En()}}),new zx(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=s6()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Li(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class YTe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=yf(),this.$e=CE(),this.Ke=CE(),this.Ue=new wr(ui)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:En()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,r)=>{this.Je(r)&&t(r)})}Ze(e){const t=e.targetId,i=e.ge.count,r=this.Xe(t);if(r){const s=r.target;if(_O(s))if(i===0){const a=new dn(s.path);this.ze(t,a,da.newNoDocument(a,Rn.min()))}else Li(i===1);else{const a=this.et(t);if(a!==i){const o=this.tt(e),c=o?this.nt(o,e,a):1;if(c!==0){this.Ye(t);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,u)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,o;try{a=jd(i).toUint8Array()}catch(c){if(c instanceof NG)return Py("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new dI(a,r,s)}catch(c){return Py(c instanceof Gb?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.Ee===0?null:o}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.ke.it(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,s,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((s,a)=>{const o=this.Xe(a);if(o){if(s.current&&_O(o.target)){const c=new dn(o.target.path);this._t(c).has(a)||this.ut(a,c)||this.ze(a,c,da.newNoDocument(c,e))}s.ve&&(t.set(a,s.Fe()),s.Me())}});let i=si();this.Ke.forEach((s,a)=>{let o=!0;a.forEachWhile(c=>{const u=this.Xe(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.Qe.forEach((s,a)=>a.setReadTime(e));const r=new yA(e,t,this.Ue,this.Qe,i);return this.Qe=yf(),this.$e=CE(),this.Ke=CE(),this.Ue=new wr(ui),r}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new r6,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new us(ui),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new us(ui),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Qt("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new r6),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function CE(){return new wr(dn.comparator)}function s6(){return new wr(dn.comparator)}const KTe={asc:"ASCENDING",desc:"DESCENDING"},$Te={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZTe={and:"AND",or:"OR"};class QTe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function EO(n,e){return n.useProto3Json||fA(e)?e:{value:e}}function WT(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JTe(n,e){return WT(n,e.toTimestamp())}function Ju(n){return Li(!!n),Rn.fromTimestamp(function(t){const i=Hd(t);return new cs(i.seconds,i.nanos)}(n))}function pI(n,e){return wO(n,e).canonicalString()}function wO(n,e){const t=function(r){return new ir(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uq(n){const e=ir.fromString(n);return Li(mq(e)),e}function TO(n,e){return pI(n.databaseId,e.path)}function CD(n,e){const t=uq(e);if(t.get(1)!==n.databaseId.projectId)throw new Jt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Jt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dn(fq(t))}function hq(n,e){return pI(n.databaseId,e)}function eMe(n){const e=uq(n);return e.length===4?ir.emptyPath():fq(e)}function MO(n){return new ir(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fq(n){return Li(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function a6(n,e,t){return{name:TO(n,e),fields:t.value.mapValue.fields}}function tMe(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:En()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Li(d===void 0||typeof d=="string"),Ws.fromBase64String(d||"")):(Li(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ws.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?ot.UNKNOWN:aq(u.code);return new Jt(d,u.message||"")}(a);t=new lq(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=CD(n,i.document.name),s=Ju(i.document.updateTime),a=i.document.createTime?Ju(i.document.createTime):Rn.min(),o=new Pl({mapValue:{fields:i.document.fields}}),c=da.newFoundDocument(r,s,a,o),u=i.targetIds||[],d=i.removedTargetIds||[];t=new yw(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=CD(n,i.document),s=i.readTime?Ju(i.readTime):Rn.min(),a=da.newNoDocument(r,s),o=i.removedTargetIds||[];t=new yw([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=CD(n,i.document),s=i.removedTargetIds||[];t=new yw([],s,r,null)}else{if(!("filter"in e))return En();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new GTe(r,s),o=i.targetId;t=new oq(o,a)}}return t}function nMe(n,e){let t;if(e instanceof Ux)t={update:a6(n,e.key,e.value)};else if(e instanceof sq)t={delete:TO(n,e.key)};else if(e instanceof _g)t={update:a6(n,e.key,e.data),updateMask:hMe(e.fieldMask)};else{if(!(e instanceof FTe))return En();t={verify:TO(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const o=a.transform;if(o instanceof GT)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof rx)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof sx)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof qT)return{fieldPath:a.field.canonicalString(),increment:o.Ie};throw En()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:JTe(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:En()}(n,e.precondition)),t}function iMe(n,e){return n&&n.length>0?(Li(e!==void 0),n.map(t=>function(r,s){let a=r.updateTime?Ju(r.updateTime):Ju(s);return a.isEqual(Rn.min())&&(a=Ju(s)),new VTe(a,r.transformResults||[])}(t,e))):[]}function rMe(n,e){return{documents:[hq(n,e.path)]}}function sMe(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=hq(n,r);const s=function(u){if(u.length!==0)return pq(Uc.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:jv(v.field),direction:lMe(v.dir)}}(d))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=EO(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:t,parent:r}}function aMe(n){let e=eMe(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Li(i===1);const d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(p){const v=dq(p);return v instanceof Uc&&HG(v)?v.getFilters():[v]}(t.where));let a=[];t.orderBy&&(a=function(p){return p.map(v=>function(_){return new ix(Gv(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(v))}(t.orderBy));let o=null;t.limit&&(o=function(p){let v;return v=typeof p=="object"?p.value:p,fA(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){const v=!!p.before,y=p.values||[];return new jT(y,v)}(t.startAt));let u=null;return t.endAt&&(u=function(p){const v=!p.before,y=p.values||[];return new jT(y,v)}(t.endAt)),TTe(e,r,a,s,o,"F",c,u)}function oMe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return En()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dq(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Gv(t.unaryFilter.field);return ts.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Gv(t.unaryFilter.field);return ts.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gv(t.unaryFilter.field);return ts.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gv(t.unaryFilter.field);return ts.create(a,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(n):n.fieldFilter!==void 0?function(t){return ts.create(Gv(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Uc.create(t.compositeFilter.filters.map(i=>dq(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return En()}}(t.compositeFilter.op))}(n):En()}function lMe(n){return KTe[n]}function cMe(n){return $Te[n]}function uMe(n){return ZTe[n]}function jv(n){return{fieldPath:n.canonicalString()}}function Gv(n){return js.fromServerFormat(n.fieldPath)}function pq(n){return n instanceof ts?function(t){if(t.op==="=="){if(XB(t.value))return{unaryFilter:{field:jv(t.field),op:"IS_NAN"}};if(WB(t.value))return{unaryFilter:{field:jv(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XB(t.value))return{unaryFilter:{field:jv(t.field),op:"IS_NOT_NAN"}};if(WB(t.value))return{unaryFilter:{field:jv(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jv(t.field),op:cMe(t.op),value:t.value}}}(n):n instanceof Uc?function(t){const i=t.getFilters().map(r=>pq(r));return i.length===1?i[0]:{compositeFilter:{op:uMe(t.op),filters:i}}}(n):En()}function hMe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mq(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,i,r,s=Rn.min(),a=Rn.min(),o=Ws.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Md(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fMe{constructor(e){this.Tt=e}}function dMe(n){const e=aMe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?SO(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pMe{constructor(){this.Tn=new mMe}addToCollectionParentIndex(e,t){return this.Tn.add(t),lt.resolve()}getCollectionParents(e,t){return lt.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return lt.resolve()}deleteFieldIndex(e,t){return lt.resolve()}deleteAllFieldIndexes(e){return lt.resolve()}createTargetIndexes(e,t){return lt.resolve()}getDocumentsMatchingTarget(e,t){return lt.resolve(null)}getIndexType(e,t){return lt.resolve(0)}getFieldIndexes(e,t){return lt.resolve([])}getNextCollectionGroupToUpdate(e){return lt.resolve(null)}getMinOffset(e,t){return lt.resolve(Fd.min())}getMinOffsetFromCollectionGroup(e,t){return lt.resolve(Fd.min())}updateCollectionGroup(e,t,i){return lt.resolve()}updateIndexEntries(e,t){return lt.resolve()}}class mMe{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new us(ir.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new us(ir.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gq=41943040;class So{static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(gq,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new zy(0)}static Un(){return new zy(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="LruGarbageCollector",gMe=1048576;function c6([n,e],[t,i]){const r=ui(n,t);return r===0?ui(e,i):r}class vMe{constructor(e){this.Hn=e,this.buffer=new us(c6),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();c6(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yMe{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Qt(l6,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){o0(t)?Qt(l6,"Ignoring IndexedDB error during garbage collection: ",t):await a0(t)}await this.er(3e5)})}}class bMe{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return lt.resolve(hA.ae);const i=new vMe(t);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(o6)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o6):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,r,s,a,o,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,o=Date.now(),this.removeTargets(e,i,t))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(u=Date.now(),Fv()<=mi.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function _Me(n,e){return new bMe(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xMe{constructor(){this.changes=new bg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,da.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?lt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SMe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EMe{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&m_(i.mutation,r,Ac.empty(),cs.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,si()).next(()=>i))}getLocalViewOfDocuments(e,t,i=si()){const r=Nm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=jb();return s.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=Nm();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,si()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,i,r){let s=yf();const a=p_(),o=function(){return p_()}();return t.forEach((c,u)=>{const d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof _g)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),m_(d.mutation,u,d.mutation.getFieldMask(),cs.now())):a.set(u.key,Ac.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>a.set(u,d)),t.forEach((u,d)=>{var p;return o.set(u,new SMe(d,(p=a.get(u))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(e,t){const i=p_();let r=new wr((a,o)=>a-o),s=si();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(c=>{const u=t.get(c);if(u===null)return;let d=i.get(c)||Ac.empty();d=o.applyToLocalView(u,d),i.set(c,d);const p=(r.get(o.batchId)||si()).add(c);r=r.insert(o.batchId,p)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,p=ZG();d.forEach(v=>{if(!s.has(v)){const y=iq(t.get(v),i.get(v));y!==null&&p.set(v,y),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return lt.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(a){return dn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WG(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):lt.resolve(Nm());let o=J_,c=s;return a.next(u=>lt.forEach(u,(d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(d)?lt.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,si())).next(d=>({batchId:o,changes:$G(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dn(t)).next(i=>{let r=jb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=jb();return this.indexManager.getCollectionParents(e,s).next(o=>lt.forEach(o,c=>{const u=function(p,v){return new l0(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((p,v)=>{a=a.insert(p,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(a=>{s.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,da.newInvalidDocument(d)))});let o=jb();return a.forEach((c,u)=>{const d=s.get(c);d!==void 0&&m_(d.mutation,u,Ac.empty(),cs.now()),mA(t,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wMe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return lt.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Ju(r.createTime)}}(t)),lt.resolve()}getNamedQuery(e,t){return lt.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:dMe(r.bundledQuery),readTime:Ju(r.readTime)}}(t)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TMe{constructor(){this.overlays=new wr(dn.comparator),this.Rr=new Map}getOverlay(e,t){return lt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Nm();return lt.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Et(e,t,s)}),lt.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),lt.resolve()}getOverlaysForCollection(e,t,i){const r=Nm(),s=t.length+1,a=new dn(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return lt.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new wr((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=Nm(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Nm(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=r)););return lt.resolve(o)}Et(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new jTe(t,i));let s=this.Rr.get(t);s===void 0&&(s=si(),this.Rr.set(t,s)),this.Rr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MMe{constructor(){this.sessionToken=Ws.EMPTY_BYTE_STRING}getSessionToken(e){return lt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.Vr=new us(Rs.mr),this.gr=new us(Rs.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Rs(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Rs(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new dn(new ir([])),i=new Rs(t,e),r=new Rs(t,e+1),s=[];return this.gr.forEachInRange([i,r],a=>{this.wr(a),s.push(a.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new dn(new ir([])),i=new Rs(t,e),r=new Rs(t,e+1);let s=si();return this.gr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Rs(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rs{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return dn.comparator(e.key,t.key)||ui(e.Cr,t.Cr)}static pr(e,t){return ui(e.Cr,t.Cr)||dn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AMe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new us(Rs.mr)}checkEmpty(e){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new HTe(s,t,i,r);this.mutationQueue.push(a);for(const o of r)this.Mr=this.Mr.add(new Rs(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return lt.resolve(a)}lookupMutationBatch(e,t){return lt.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Nr(i),s=r<0?0:r;return lt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?sI:this.Fr-1)}getAllMutationBatches(e){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rs(t,0),r=new Rs(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],a=>{const o=this.Or(a.Cr);s.push(o)}),lt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new us(ui);return t.forEach(r=>{const s=new Rs(r,0),a=new Rs(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,a],o=>{i=i.add(o.Cr)})}),lt.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;dn.isDocumentKey(s)||(s=s.child(""));const a=new Rs(new dn(s),0);let o=new us(ui);return this.Mr.forEachWhile(c=>{const u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(o=o.add(c.Cr)),!0)},a),lt.resolve(this.Br(o))}Br(e){const t=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Li(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return lt.forEach(t.mutations,r=>{const s=new Rs(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Rs(t,0),r=this.Mr.firstAfterOrEqual(i);return lt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,lt.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CMe{constructor(e){this.kr=e,this.docs=function(){return new wr(dn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return lt.resolve(i?i.document.mutableCopy():da.newInvalidDocument(t))}getEntries(e,t){let i=yf();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():da.newInvalidDocument(r))}),lt.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=yf();const a=t.path,o=new dn(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||iTe(nTe(d),i)<=0||(r.has(d.key)||mA(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return lt.resolve(s)}getAllFromCollectionGroup(e,t,i,r){En()}qr(e,t){return lt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new RMe(this)}getSize(e){return lt.resolve(this.size)}}class RMe extends xMe{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),lt.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DMe{constructor(e){this.persistence=e,this.Qr=new bg(t=>lI(t),cI),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.$r=0,this.Kr=new mI,this.targetCount=0,this.Ur=zy.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,r)=>t(r)),lt.resolve()}getLastRemoteSnapshotVersion(e){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),lt.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new zy(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,lt.resolve()}updateTargetData(e,t){return this.zn(t),lt.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,lt.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Qr.forEach((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.Qr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),lt.waitFor(s).next(()=>r)}getTargetCount(e){return lt.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return lt.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),lt.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),lt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),lt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return lt.resolve(i)}containsKey(e,t){return lt.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new hA(0),this.zr=!1,this.zr=!0,this.jr=new MMe,this.referenceDelegate=e(this),this.Hr=new DMe(this),this.indexManager=new pMe,this.remoteDocumentCache=function(r){return new CMe(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new fMe(t),this.Yr=new wMe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TMe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new AMe(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Qt("MemoryPersistence","Starting transaction:",e);const r=new OMe(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,t){return lt.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class OMe extends sTe{constructor(e){super(),this.currentSequenceNumber=e}}class gI{constructor(e){this.persistence=e,this.ti=new mI,this.ni=null}static ri(e){return new gI(e)}get ii(){if(this.ni)return this.ni;throw En()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),lt.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),lt.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),lt.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.ii,i=>{const r=dn.fromPath(i);return this.si(e,r).next(s=>{s||t.removeEntry(r,Rn.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return lt.or([()=>lt.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class XT{constructor(e,t){this.persistence=e,this.oi=new bg(i=>lTe(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=_Me(this,t)}static ri(e,t){return new XT(e,t)}Zr(){}Xr(e){return lt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return lt.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(s=>s?lt.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,a=>this.ar(e,a,t).next(o=>{o||(i++,s.removeEntry(a,Rn.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),lt.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),lt.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),lt.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),lt.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mw(e.data.value)),t}ar(e,t,i){return lt.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.oi.get(t);return lt.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=r}static Yi(e,t){let i=si(),r=si();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new vI(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NMe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PMe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return REe()?8:aTe(AEe())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.rs(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ss(e,t,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new NMe;return this._s(e,t,a).next(o=>{if(s.result=o,this.Xi)return this.us(e,t,a,o.size)})}).next(()=>s.result)}us(e,t,i,r){return i.documentReadCount<this.es?(Fv()<=mi.DEBUG&&Qt("QueryEngine","SDK will not create cache indexes for query:",Hv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),lt.resolve()):(Fv()<=mi.DEBUG&&Qt("QueryEngine","Query:",Hv(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Fv()<=mi.DEBUG&&Qt("QueryEngine","The SDK decides to create cache indexes for query:",Hv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qu(t))):lt.resolve())}rs(e,t){if(ZB(t))return lt.resolve(null);let i=Qu(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=SO(t,null,"F"),i=Qu(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=si(...s);return this.ns.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(c=>{const u=this.cs(t,o);return this.ls(t,u,a,c.readTime)?this.rs(e,SO(t,null,"F")):this.hs(e,u,t,c)}))})))}ss(e,t,i,r){return ZB(t)||r.isEqual(Rn.min())?lt.resolve(null):this.ns.getDocuments(e,i).next(s=>{const a=this.cs(t,s);return this.ls(t,a,i,r)?lt.resolve(null):(Fv()<=mi.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hv(t)),this.hs(e,a,t,tTe(r,J_)).next(o=>o))})}cs(e,t){let i=new us(YG(e));return t.forEach((r,s)=>{mA(e,s)&&(i=i.add(s))}),i}ls(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,t,i){return Fv()<=mi.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Hv(t)),this.ns.getDocumentsMatchingQuery(e,t,Fd.min(),i)}hs(e,t,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="LocalStore",IMe=3e8;class LMe{constructor(e,t,i,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new wr(ui),this.Is=new bg(s=>lI(s),cI),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EMe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function UMe(n,e,t,i){return new LMe(n,e,t,i)}async function yq(n,e){const t=Nn(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],o=[];let c=si();for(const u of r){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(i,c).next(u=>({Rs:u,removedBatchIds:a,addedBatchIds:o}))})})}function zMe(n,e){const t=Nn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const p=u.batch,v=p.keys();let y=lt.resolve();return v.forEach(_=>{y=y.next(()=>d.getEntry(c,_)).next(w=>{const S=u.docVersions.get(_);Li(S!==null),w.version.compareTo(S)<0&&(p.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(c,p))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let c=si();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function bq(n){const e=Nn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function VMe(n,e){const t=Nn(n),i=e.snapshotVersion;let r=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.ds.newChangeBuffer({trackRemovals:!0});r=t.Ts;const o=[];e.targetChanges.forEach((d,p)=>{const v=r.get(p);if(!v)return;o.push(t.Hr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>t.Hr.addMatchingKeys(s,d.addedDocuments,p)));let y=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ws.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,i)),r=r.insert(p,y),function(w,S,E){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=IMe?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(v,y,d)&&o.push(t.Hr.updateTargetData(s,y))});let c=yf(),u=si();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(BMe(s,a,e.documentUpdates).next(d=>{c=d.Vs,u=d.fs})),!i.isEqual(Rn.min())){const d=t.Hr.getLastRemoteSnapshotVersion(s).next(p=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(d)}return lt.waitFor(o).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.Ts=r,s))}function BMe(n,e,t){let i=si(),r=si();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=yf();return t.forEach((o,c)=>{const u=s.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(o)),c.isNoDocument()&&c.version.isEqual(Rn.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):Qt(yI,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{Vs:a,fs:r}})}function kMe(n,e){const t=Nn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=sI),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function FMe(n,e){const t=Nn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Hr.getTargetData(i,e).next(s=>s?(r=s,lt.resolve(r)):t.Hr.allocateTargetId(i).next(a=>(r=new Md(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function AO(n,e,t){const i=Nn(n),r=i.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!o0(a))throw a;Qt(yI,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function u6(n,e,t){const i=Nn(n);let r=Rn.min(),s=si();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const p=Nn(c),v=p.Is.get(d);return v!==void 0?lt.resolve(p.Ts.get(v)):p.Hr.getTargetData(u,d)}(i,a,Qu(e)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(a,o.targetId).next(c=>{s=c})}).next(()=>i.Ps.getDocumentsMatchingQuery(a,e,t?r:Rn.min(),t?s:si())).next(o=>(HMe(i,ATe(e),o),{documents:o,gs:s})))}function HMe(n,e,t){let i=n.Es.get(e)||Rn.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Es.set(e,i)}class h6{constructor(){this.activeTargetIds=PTe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jMe{constructor(){this.ho=new h6,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new h6,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GMe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="ConnectivityMonitor";class d6{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Qt(f6,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Qt(f6,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RE=null;function CO(){return RE===null?RE=function(){return 268435456+Math.round(2147483648*Math.random())}():RE++,"0x"+RE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="RestConnection",qMe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WMe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===FT?`project_id=${i}`:`project_id=${i}&database_id=${r}`}bo(e,t,i,r,s){const a=CO(),o=this.So(e,t.toUriEncodedString());Qt(RD,`Sending RPC '${e}' ${a}:`,o,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,r,s),this.vo(e,o,c,i).then(u=>(Qt(RD,`Received RPC '${e}' ${a}: `,u),u),u=>{throw Py(RD,`RPC '${e}' ${a} failed with error: `,u,"url: ",o,"request:",i),u})}Co(e,t,i,r,s,a){return this.bo(e,t,i,r,s)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+s0}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}So(e,t){const i=qMe[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XMe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="WebChannelConnection";class YMe extends WMe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,r){const s=CO();return new Promise((a,o)=>{const c=new EG;c.setWithCredentials(!0),c.listenOnce(wG.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case pw.NO_ERROR:const d=c.getResponseJson();Qt(la,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case pw.TIMEOUT:Qt(la,`RPC '${e}' ${s} timed out`),o(new Jt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case pw.HTTP_ERROR:const p=c.getStatus();if(Qt(la,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const y=v==null?void 0:v.error;if(y&&y.status&&y.message){const _=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(E)>=0?E:ot.UNKNOWN}(y.status);o(new Jt(_,y.message))}else o(new Jt(ot.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new Jt(ot.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{Qt(la,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);Qt(la,`RPC '${e}' ${s} sending request:`,r),c.send(t,"POST",u,i,15)})}Wo(e,t,i){const r=CO(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=AG(),o=MG(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const d=s.join("");Qt(la,`Creating RPC '${e}' stream ${r}: ${d}`,c);const p=a.createWebChannel(d,c);let v=!1,y=!1;const _=new XMe({Fo:S=>{y?Qt(la,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(v||(Qt(la,`Opening RPC '${e}' stream ${r} transport.`),p.open(),v=!0),Qt(la,`RPC '${e}' stream ${r} sending:`,S),p.send(S))},Mo:()=>p.close()}),w=(S,E,A)=>{S.listen(E,R=>{try{A(R)}catch(D){setTimeout(()=>{throw D},0)}})};return w(p,Hb.EventType.OPEN,()=>{y||(Qt(la,`RPC '${e}' stream ${r} transport opened.`),_.Qo())}),w(p,Hb.EventType.CLOSE,()=>{y||(y=!0,Qt(la,`RPC '${e}' stream ${r} transport closed`),_.Ko())}),w(p,Hb.EventType.ERROR,S=>{y||(y=!0,Py(la,`RPC '${e}' stream ${r} transport errored:`,S),_.Ko(new Jt(ot.UNAVAILABLE,"The operation could not be completed")))}),w(p,Hb.EventType.MESSAGE,S=>{var E;if(!y){const A=S.data[0];Li(!!A);const R=A,D=(R==null?void 0:R.error)||((E=R[0])===null||E===void 0?void 0:E.error);if(D){Qt(la,`RPC '${e}' stream ${r} received error:`,D);const k=D.status;let N=function(I){const L=Qr[I];if(L!==void 0)return aq(L)}(k),z=D.message;N===void 0&&(N=ot.INTERNAL,z="Unknown error status: "+k+" with message "+D.message),y=!0,_.Ko(new Jt(N,z)),p.close()}else Qt(la,`RPC '${e}' stream ${r} received:`,A),_.Uo(A)}}),w(o,TG.STAT_EVENT,S=>{S.stat===gO.PROXY?Qt(la,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===gO.NOPROXY&&Qt(la,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function DD(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){return new QTe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-i);r>0&&Qt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="PersistentStream";class xq{constructor(e,t,i,r,s,a,o,c){this.Ti=e,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _q(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ot.RESOURCE_EXHAUSTED?(vf(t.toString()),vf("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===t&&this.V_(i,r)},i=>{e(()=>{const r=new Jt(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Qt(p6,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Qt(p6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KMe extends xq{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=tMe(this.serializer,e),i=function(s){if(!("targetChange"in s))return Rn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Rn.min():a.readTime?Ju(a.readTime):Rn.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=MO(this.serializer),t.addTarget=function(s,a){let o;const c=a.target;if(o=_O(c)?{documents:rMe(s,c)}:{query:sMe(s,c).ht},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=cq(s,a.resumeToken);const u=EO(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Rn.min())>0){o.readTime=WT(s,a.snapshotVersion.toTimestamp());const u=EO(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const i=oMe(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=MO(this.serializer),t.removeTarget=e,this.I_(t)}}class $Me extends xq{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Li(!!e.streamToken),this.lastStreamToken=e.streamToken,Li(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Li(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=iMe(e.writeResults,e.commitTime),i=Ju(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=MO(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>nMe(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZMe{}class QMe extends ZMe{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Jt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.bo(e,wO(t,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Jt(ot.UNKNOWN,s.toString())})}Co(e,t,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Co(e,wO(t,i),r,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Jt(ot.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class JMe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vf(t),this.N_=!1):Qt("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="RemoteStore";class eAe{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(a=>{i.enqueueAndForget(async()=>{xg(this)&&(Qt(sg,"Restarting streams for network reachability change."),await async function(c){const u=Nn(c);u.W_.add(4),await Vx(u),u.j_.set("Unknown"),u.W_.delete(4),await _A(u)}(this))})}),this.j_=new JMe(i,r)}}async function _A(n){if(xg(n))for(const e of n.G_)await e(!0)}async function Vx(n){for(const e of n.G_)await e(!1)}function Sq(n,e){const t=Nn(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),SI(t)?xI(t):c0(t).c_()&&_I(t,e))}function bI(n,e){const t=Nn(n),i=c0(t);t.U_.delete(e),i.c_()&&Eq(t,e),t.U_.size===0&&(i.c_()?i.P_():xg(t)&&t.j_.set("Unknown"))}function _I(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}c0(n).y_(e)}function Eq(n,e){n.H_.Ne(e),c0(n).w_(e)}function xI(n){n.H_=new YTe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),c0(n).start(),n.j_.B_()}function SI(n){return xg(n)&&!c0(n).u_()&&n.U_.size>0}function xg(n){return Nn(n).W_.size===0}function wq(n){n.H_=void 0}async function tAe(n){n.j_.set("Online")}async function nAe(n){n.U_.forEach((e,t)=>{_I(n,e)})}async function iAe(n,e){wq(n),SI(n)?(n.j_.q_(e),xI(n)):n.j_.set("Unknown")}async function rAe(n,e,t){if(n.j_.set("Online"),e instanceof lq&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const o of s.targetIds)r.U_.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.U_.delete(o),r.H_.removeTarget(o))}(n,e)}catch(i){Qt(sg,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await YT(n,i)}else if(e instanceof yw?n.H_.We(e):e instanceof oq?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Rn.min()))try{const i=await bq(n.localStore);t.compareTo(i)>=0&&await function(s,a){const o=s.H_.ot(a);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.U_.get(u);d&&s.U_.set(u,d.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,u)=>{const d=s.U_.get(c);if(!d)return;s.U_.set(c,d.withResumeToken(Ws.EMPTY_BYTE_STRING,d.snapshotVersion)),Eq(s,c);const p=new Md(d.target,c,u,d.sequenceNumber);_I(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(i){Qt(sg,"Failed to raise snapshot:",i),await YT(n,i)}}async function YT(n,e,t){if(!o0(e))throw e;n.W_.add(1),await Vx(n),n.j_.set("Offline"),t||(t=()=>bq(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Qt(sg,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await _A(n)})}function Tq(n,e){return e().catch(t=>YT(n,t,e))}async function xA(n){const e=Nn(n),t=qd(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:sI;for(;sAe(e);)try{const r=await kMe(e.localStore,i);if(r===null){e.K_.length===0&&t.P_();break}i=r.batchId,aAe(e,r)}catch(r){await YT(e,r)}Mq(e)&&Aq(e)}function sAe(n){return xg(n)&&n.K_.length<10}function aAe(n,e){n.K_.push(e);const t=qd(n);t.c_()&&t.b_&&t.S_(e.mutations)}function Mq(n){return xg(n)&&!qd(n).u_()&&n.K_.length>0}function Aq(n){qd(n).start()}async function oAe(n){qd(n).C_()}async function lAe(n){const e=qd(n);for(const t of n.K_)e.S_(t.mutations)}async function cAe(n,e,t){const i=n.K_.shift(),r=fI.from(i,e,t);await Tq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await xA(n)}async function uAe(n,e){e&&qd(n).b_&&await async function(i,r){if(function(a){return qTe(a)&&a!==ot.ABORTED}(r.code)){const s=i.K_.shift();qd(i).h_(),await Tq(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await xA(i)}}(n,e),Mq(n)&&Aq(n)}async function m6(n,e){const t=Nn(n);t.asyncQueue.verifyOperationInProgress(),Qt(sg,"RemoteStore received new credentials");const i=xg(t);t.W_.add(3),await Vx(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await _A(t)}async function hAe(n,e){const t=Nn(n);e?(t.W_.delete(2),await _A(t)):e||(t.W_.add(2),await Vx(t),t.j_.set("Unknown"))}function c0(n){return n.J_||(n.J_=function(t,i,r){const s=Nn(t);return s.M_(),new KMe(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{xo:tAe.bind(null,n),No:nAe.bind(null,n),Lo:iAe.bind(null,n),p_:rAe.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),SI(n)?xI(n):n.j_.set("Unknown")):(await n.J_.stop(),wq(n))})),n.J_}function qd(n){return n.Y_||(n.Y_=function(t,i,r){const s=Nn(t);return s.M_(),new $Me(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:oAe.bind(null,n),Lo:uAe.bind(null,n),D_:lAe.bind(null,n),v_:cAe.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await xA(n)):(await n.Y_.stop(),n.K_.length>0&&(Qt(sg,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new uf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new EI(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jt(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wI(n,e){if(vf("AsyncQueue",`${e}: ${n}`),o0(n))return new Jt(ot.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{static emptySet(e){return new my(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||dn.comparator(t.key,i.key):(t,i)=>dn.comparator(t.key,i.key),this.keyedMap=jb(),this.sortedSet=new wr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof my)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new my;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.Z_=new wr(dn.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):En():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vy{constructor(e,t,i,r,s,a,o,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Vy(e,t,my.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fAe{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dAe{constructor(){this.queries=v6(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const r=Nn(t),s=r.queries;r.queries=v6(),s.forEach((a,o)=>{for(const c of o.ta)c.onError(i)})})(this,new Jt(ot.ABORTED,"Firestore shutting down"))}}function v6(){return new bg(n=>XG(n),pA)}async function Cq(n,e){const t=Nn(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new fAe,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await t.onListen(r,!0);break;case 1:s.ea=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const o=wI(a,`Initialization of query '${Hv(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&TI(t)}async function Rq(n,e){const t=Nn(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.ta.indexOf(e);a>=0&&(s.ta.splice(a,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function pAe(n,e){const t=Nn(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const o of a.ta)o.oa(r)&&(i=!0);a.ea=r}}i&&TI(t)}function mAe(n,e,t){const i=Nn(n),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(t);i.queries.delete(e)}function TI(n){n.ia.forEach(e=>{e.next()})}var RO,y6;(y6=RO||(RO={}))._a="default",y6.Cache="cache";class Dq{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Vy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Vy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==RO.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.key=e}}class Nq{constructor(e){this.key=e}}class gAe{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=si(),this.mutatedKeys=si(),this.ya=YG(e),this.wa=new my(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new g6,r=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,p)=>{const v=r.get(d),y=mA(this.query,p)?p:null,_=!!v&&this.mutatedKeys.has(v.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;v&&y?v.data.isEqual(y.data)?_!==w&&(i.track({type:3,doc:y}),S=!0):this.va(v,y)||(i.track({type:2,doc:y}),S=!0,(c&&this.ya(y,c)>0||u&&this.ya(y,u)<0)&&(o=!0)):!v&&y?(i.track({type:0,doc:y}),S=!0):v&&!y&&(i.track({type:1,doc:v}),S=!0,(c||u)&&(o=!0)),S&&(y?(a=a.add(y),s=w?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{wa:a,Da:i,ls:o,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort((d,p)=>function(y,_){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return w(y)-w(_)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(i),r=r!=null&&r;const o=t&&!r?this.Fa():[],c=this.pa.size===0&&this.current&&!r?1:0,u=c!==this.ga;return this.ga=c,a.length!==0||u?{snapshot:new Vy(this.query,e.wa,s,a,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new g6,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=si(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Nq(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new Oq(i))}),t}Oa(e){this.fa=e.gs,this.pa=si();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Vy.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const MI="SyncEngine";class vAe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yAe{constructor(e){this.key=e,this.Ba=!1}}class bAe{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new bg(o=>XG(o),pA),this.qa=new Map,this.Qa=new Set,this.$a=new wr(dn.comparator),this.Ka=new Map,this.Ua=new mI,this.Wa={},this.Ga=new Map,this.za=zy.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _Ae(n,e,t=!0){const i=Vq(n);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await Pq(i,e,t,!0),r}async function xAe(n,e){const t=Vq(n);await Pq(t,e,!0,!1)}async function Pq(n,e,t,i){const r=await FMe(n.localStore,Qu(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return i&&(o=await SAe(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&Sq(n.remoteStore,r),o}async function SAe(n,e,t,i,r){n.Ha=(p,v,y)=>async function(w,S,E,A){let R=S.view.Sa(E);R.ls&&(R=await u6(w.localStore,S.query,!1).then(({documents:z})=>S.view.Sa(z,R)));const D=A&&A.targetChanges.get(S.targetId),k=A&&A.targetMismatches.get(S.targetId)!=null,N=S.view.applyChanges(R,w.isPrimaryClient,D,k);return _6(w,S.targetId,N.Ma),N.snapshot}(n,p,v,y);const s=await u6(n.localStore,e,!0),a=new gAe(e,s.gs),o=a.Sa(s.documents),c=zx.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=a.applyChanges(o,n.isPrimaryClient,c);_6(n,t,u.Ma);const d=new vAe(e,t,a);return n.ka.set(e,d),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),u.snapshot}async function EAe(n,e,t){const i=Nn(n),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(a=>!pA(a,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await AO(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&bI(i.remoteStore,r.targetId),DO(i,r.targetId)}).catch(a0)):(DO(i,r.targetId),await AO(i.localStore,r.targetId,!0))}async function wAe(n,e){const t=Nn(n),i=t.ka.get(e),r=t.qa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),bI(t.remoteStore,i.targetId))}async function TAe(n,e,t){const i=NAe(n);try{const r=await function(a,o){const c=Nn(a),u=cs.now(),d=o.reduce((y,_)=>y.add(_.key),si());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=yf(),w=si();return c.ds.getEntries(y,d).next(S=>{_=S,_.forEach((E,A)=>{A.isValidDocument()||(w=w.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,_)).next(S=>{p=S;const E=[];for(const A of o){const R=kTe(A,p.get(A.key).overlayedDocument);R!=null&&E.push(new _g(A.key,R,BG(R.value.mapValue),hf.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,E,o)}).next(S=>{v=S;const E=S.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(y,S.batchId,E)})}).then(()=>({batchId:v.batchId,changes:$G(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,o,c){let u=a.Wa[a.currentUser.toKey()];u||(u=new wr(ui)),u=u.insert(o,c),a.Wa[a.currentUser.toKey()]=u}(i,r.batchId,t),await Bx(i,r.changes),await xA(i.remoteStore)}catch(r){const s=wI(r,"Failed to persist write");t.reject(s)}}async function Iq(n,e){const t=Nn(n);try{const i=await VMe(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.Ka.get(s);a&&(Li(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.Ba=!0:r.modifiedDocuments.size>0?Li(a.Ba):r.removedDocuments.size>0&&(Li(a.Ba),a.Ba=!1))}),await Bx(t,i,e)}catch(i){await a0(i)}}function b6(n,e,t){const i=Nn(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ka.forEach((s,a)=>{const o=a.view.sa(e);o.snapshot&&r.push(o.snapshot)}),function(a,o){const c=Nn(a);c.onlineState=o;let u=!1;c.queries.forEach((d,p)=>{for(const v of p.ta)v.sa(o)&&(u=!0)}),u&&TI(c)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function MAe(n,e,t){const i=Nn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Ka.get(e),s=r&&r.key;if(s){let a=new wr(dn.comparator);a=a.insert(s,da.newNoDocument(s,Rn.min()));const o=si().add(s),c=new yA(Rn.min(),new Map,new wr(ui),a,o);await Iq(i,c),i.$a=i.$a.remove(s),i.Ka.delete(e),AI(i)}else await AO(i.localStore,e,!1).then(()=>DO(i,e,t)).catch(a0)}async function AAe(n,e){const t=Nn(n),i=e.batch.batchId;try{const r=await zMe(t.localStore,e);Uq(t,i,null),Lq(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Bx(t,r)}catch(r){await a0(r)}}async function CAe(n,e,t){const i=Nn(n);try{const r=await function(a,o){const c=Nn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(p=>(Li(p!==null),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);Uq(i,e,t),Lq(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Bx(i,r)}catch(r){await a0(r)}}function Lq(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Uq(n,e,t){const i=Nn(n);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function DO(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||zq(n,i)})}function zq(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(bI(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),AI(n))}function _6(n,e,t){for(const i of t)i instanceof Oq?(n.Ua.addReference(i.key,e),RAe(n,i)):i instanceof Nq?(Qt(MI,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||zq(n,i.key)):En()}function RAe(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Qt(MI,"New document in limbo: "+t),n.Qa.add(i),AI(n))}function AI(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new dn(ir.fromString(e)),i=n.za.next();n.Ka.set(i,new yAe(t)),n.$a=n.$a.insert(t,i),Sq(n.remoteStore,new Md(Qu(uI(t.path)),i,"TargetPurposeLimboResolution",hA.ae))}}async function Bx(n,e,t){const i=Nn(n),r=[],s=[],a=[];i.ka.isEmpty()||(i.ka.forEach((o,c)=>{a.push(i.Ha(c,e,t).then(u=>{var d;if((u||t)&&i.isPrimaryClient){const p=u?!u.fromCache:(d=t==null?void 0:t.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){r.push(u);const p=vI.Yi(c.targetId,u);s.push(p)}}))}),await Promise.all(a),i.La.p_(r),await async function(c,u){const d=Nn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>lt.forEach(u,v=>lt.forEach(v.Hi,y=>d.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>lt.forEach(v.Ji,y=>d.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!o0(p))throw p;Qt(yI,"Failed to update sequence numbers: "+p)}for(const p of u){const v=p.targetId;if(!p.fromCache){const y=d.Ts.get(v),_=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(_);d.Ts=d.Ts.insert(v,w)}}}(i.localStore,s))}async function DAe(n,e){const t=Nn(n);if(!t.currentUser.isEqual(e)){Qt(MI,"User change. New user:",e.toKey());const i=await yq(t.localStore,e);t.currentUser=e,function(s,a){s.Ga.forEach(o=>{o.forEach(c=>{c.reject(new Jt(ot.CANCELLED,a))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bx(t,i.Rs)}}function OAe(n,e){const t=Nn(n),i=t.Ka.get(e);if(i&&i.Ba)return si().add(i.key);{let r=si();const s=t.qa.get(e);if(!s)return r;for(const a of s){const o=t.ka.get(a);r=r.unionWith(o.view.ba)}return r}}function Vq(n){const e=Nn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OAe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MAe.bind(null,e),e.La.p_=pAe.bind(null,e.eventManager),e.La.Ja=mAe.bind(null,e.eventManager),e}function NAe(n){const e=Nn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CAe.bind(null,e),e}class KT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bA(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return UMe(this.persistence,new PMe,e.initialUser,this.serializer)}Xa(e){return new vq(gI.ri,this.serializer)}Za(e){return new jMe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}KT.provider={build:()=>new KT};class PAe extends KT{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Li(this.persistence.referenceDelegate instanceof XT);const i=this.persistence.referenceDelegate.garbageCollector;return new yMe(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new vq(i=>XT.ri(i,t),this.serializer)}}class OO{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>b6(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DAe.bind(null,this.syncEngine),await hAe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dAe}()}createDatastore(e){const t=bA(e.databaseInfo.databaseId),i=function(s){return new YMe(s)}(e.databaseInfo);return function(s,a,o,c){return new QMe(s,a,o,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,a,o){return new eAe(i,r,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>b6(this.syncEngine,t,0),function(){return d6.D()?new d6:new GMe}())}createSyncEngine(e,t){return function(r,s,a,o,c,u,d){const p=new bAe(r,s,a,o,c,u);return d&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=Nn(r);Qt(sg,"RemoteStore shutting down."),s.W_.add(5),await Vx(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}OO.provider={build:()=>new OO};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vf("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="FirestoreClient";class IAe{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ua.UNAUTHENTICATED,this.clientId=RG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{Qt(Wd,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Qt(Wd,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=wI(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function OD(n,e){n.asyncQueue.verifyOperationInProgress(),Qt(Wd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await yq(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function x6(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LAe(n);Qt(Wd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>m6(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>m6(e.remoteStore,r)),n._onlineComponents=e}async function LAe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Qt(Wd,"Using user provided OfflineComponentProvider");try{await OD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===ot.FAILED_PRECONDITION||r.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Py("Error using user provided cache. Falling back to memory cache: "+t),await OD(n,new KT)}}else Qt(Wd,"Using default OfflineComponentProvider"),await OD(n,new PAe(void 0));return n._offlineComponents}async function kq(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Qt(Wd,"Using user provided OnlineComponentProvider"),await x6(n,n._uninitializedComponentsProvider._online)):(Qt(Wd,"Using default OnlineComponentProvider"),await x6(n,new OO))),n._onlineComponents}function UAe(n){return kq(n).then(e=>e.syncEngine)}async function Fq(n){const e=await kq(n),t=e.eventManager;return t.onListen=_Ae.bind(null,e.syncEngine),t.onUnlisten=EAe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xAe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wAe.bind(null,e.syncEngine),t}function zAe(n,e,t={}){const i=new uf;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,c,u){const d=new Bq({next:v=>{d.su(),a.enqueueAndForget(()=>Rq(s,p));const y=v.docs.has(o);!y&&v.fromCache?u.reject(new Jt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?u.reject(new Jt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new Dq(uI(o.path),d,{includeMetadataChanges:!0,Ta:!0});return Cq(s,p)}(await Fq(n),n.asyncQueue,e,t,i)),i.promise}function VAe(n,e,t={}){const i=new uf;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,c,u){const d=new Bq({next:v=>{d.su(),a.enqueueAndForget(()=>Rq(s,p)),v.fromCache&&c.source==="server"?u.reject(new Jt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new Dq(o,d,{includeMetadataChanges:!0,Ta:!0});return Cq(s,p)}(await Fq(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(n,e,t){if(!t)throw new Jt(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BAe(n,e,t,i){if(e===!0&&i===!0)throw new Jt(ot.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function E6(n){if(!dn.isDocumentKey(n))throw new Jt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w6(n){if(dn.isDocumentKey(n))throw new Jt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":En()}function ag(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Jt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=SA(n);throw new Jt(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq="firestore.googleapis.com",T6=!0;class M6{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Jt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gq,this.ssl=T6}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:T6;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gMe)throw new Jt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BAe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hq((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Jt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Jt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Jt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class EA{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Jt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M6(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xwe;switch(i.type){case"firstParty":return new Zwe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Jt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=S6.get(t);i&&(Qt("ComponentProvider","Removing Datastore"),S6.delete(t),i.terminate())}(this),Promise.resolve()}}function kAe(n,e,t,i={}){var r;const s=(n=ag(n,EA))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),o=`${e}:${t}`;s.host!==Gq&&s.host!==o&&Py("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:i});if(!zT(c,a)&&(n._setSettings(c),i.mockUserToken)){let u,d;if(typeof i.mockUserToken=="string")u=i.mockUserToken,d=ua.MOCK_USER;else{u=MEe(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Jt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ua(p)}n._authCredentials=new Ywe(new CG(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Sg(this.firestore,e,this._query)}}class Mo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mo(this.firestore,e,this._key)}}class Pd extends Sg{constructor(e,t,i){super(e,t,uI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mo(this.firestore,null,new dn(e))}withConverter(e){return new Pd(this.firestore,e,this._path)}}function FAe(n,e,...t){if(n=Ny(n),jq("collection","path",e),n instanceof EA){const i=ir.fromString(e,...t);return w6(i),new Pd(n,null,i)}{if(!(n instanceof Mo||n instanceof Pd))throw new Jt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ir.fromString(e,...t));return w6(i),new Pd(n.firestore,null,i)}}function qq(n,e,...t){if(n=Ny(n),arguments.length===1&&(e=RG.newId()),jq("doc","path",e),n instanceof EA){const i=ir.fromString(e,...t);return E6(i),new Mo(n,null,new dn(i))}{if(!(n instanceof Mo||n instanceof Pd))throw new Jt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ir.fromString(e,...t));return E6(i),new Mo(n.firestore,n instanceof Pd?n.converter:null,new dn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="AsyncQueue";class C6{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _q(this,"async_queue_retry"),this.bu=()=>{const i=DD();i&&Qt(A6,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=DD();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=DD();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new uf;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!o0(e))throw e;Qt(A6,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(i);throw vf("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=EI.createAndSchedule(this,e,t,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&En()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class wA extends EA{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new C6,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C6(e),this._firestoreClient=void 0,await e}}}function HAe(n,e){const t=typeof n=="object"?n:Uwe(),i=typeof n=="string"?n:FT,r=Owe(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=wEe("firestore");s&&kAe(r,...s)}return r}function CI(n){if(n._terminated)throw new Jt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jAe(n),n._firestoreClient}function jAe(n){var e,t,i;const r=n._freezeSettings(),s=function(o,c,u,d){return new hTe(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Hq(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new IAe(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this._byteString=e}static fromBase64String(e){try{return new By(Ws.fromBase64String(e))}catch(t){throw new Jt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new By(Ws.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Jt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new js(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Jt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Jt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ui(this._lat,e._lat)||ui(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GAe=/^__.*__$/;class qAe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _g(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ux(e,this.data,t,this.fieldTransforms)}}function Xq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class NI{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new NI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $T(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Xq(this.Lu)&&GAe.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class WAe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||bA(e)}ju(e,t,i,r=!1){return new NI({Lu:e,methodName:t,zu:i,path:js.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yq(n){const e=n._freezeSettings(),t=bA(n._databaseId);return new WAe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XAe(n,e,t,i,r,s={}){const a=n.ju(s.merge||s.mergeFields?2:0,e,t,r);Zq("Data must be an object, but it was:",a,i);const o=Kq(i,a);let c,u;if(s.merge)c=new Ac(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const v=KAe(e,p,t);if(!a.contains(v))throw new Jt(ot.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ZAe(d,v)||d.push(v)}c=new Ac(d),u=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=a.fieldTransforms;return new qAe(new Pl(o),c,u)}function YAe(n,e,t,i=!1){return PI(t,n.ju(i?4:3,e))}function PI(n,e){if($q(n=Ny(n)))return Zq("Unsupported field value:",e,n),Kq(n,e);if(n instanceof Wq)return function(i,r){if(!Xq(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const o of i){let c=PI(o,r.Uu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Ny(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ITe(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=cs.fromDate(i);return{timestampValue:WT(r.serializer,s)}}if(i instanceof cs){const s=new cs(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:WT(r.serializer,s)}}if(i instanceof DI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof By)return{bytesValue:cq(r.serializer,i._byteString)};if(i instanceof Mo){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof OI)return function(a,o){return{mapValue:{fields:{[zG]:{stringValue:VG},[HT]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Wu("VectorValues must only contain numeric values.");return hI(o.serializer,u)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${SA(i)}`)}(n,e)}function Kq(n,e){const t={};return OG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yg(n,(i,r)=>{const s=PI(r,e.qu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function $q(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof cs||n instanceof DI||n instanceof By||n instanceof Mo||n instanceof Wq||n instanceof OI)}function Zq(n,e,t){if(!$q(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=SA(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function KAe(n,e,t){if((e=Ny(e))instanceof RI)return e._internalPath;if(typeof e=="string")return Qq(n,e);throw $T("Field path arguments must be of type string or ",n,!1,void 0,t)}const $Ae=new RegExp("[~\\*/\\[\\]]");function Qq(n,e,t){if(e.search($Ae)>=0)throw $T(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new RI(...e.split("."))._internalPath}catch{throw $T(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $T(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new Jt(ot.INVALID_ARGUMENT,o+n+c)}function ZAe(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QAe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QAe extends Jq{data(){return super.data()}}function TA(n,e){return typeof e=="string"?Qq(n,e):e instanceof RI?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JAe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Jt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class II{}class eW extends II{}function eCe(n,e,...t){let i=[];e instanceof II&&i.push(e),i=i.concat(t),function(s){const a=s.filter(c=>c instanceof LI).length,o=s.filter(c=>c instanceof MA).length;if(a>1||a>0&&o>0)throw new Jt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class MA extends eW{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new MA(e,t,i)}_apply(e){const t=this._parse(e);return tW(e._query,t),new Sg(e.firestore,e.converter,xO(e._query,t))}_parse(e){const t=Yq(e.firestore);return function(s,a,o,c,u,d,p){let v;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Jt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){D6(p,d);const _=[];for(const w of p)_.push(R6(c,s,w));v={arrayValue:{values:_}}}else v=R6(c,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||D6(p,d),v=YAe(o,a,p,d==="in"||d==="not-in");return ts.create(u,d,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tCe(n,e,t){const i=e,r=TA("where",n);return MA._create(r,i,t)}class LI extends II{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new LI(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Uc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let a=r;const o=s.getFlattenedFilters();for(const c of o)tW(a,c),a=xO(a,c)}(e._query,t),new Sg(e.firestore,e.converter,xO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UI extends eW{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UI(e,t)}_apply(e){const t=function(r,s,a){if(r.startAt!==null)throw new Jt(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Jt(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ix(s,a)}(e._query,this._field,this._direction);return new Sg(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new l0(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function nCe(n,e="asc"){const t=e,i=TA("orderBy",n);return UI._create(i,t)}function R6(n,e,t){if(typeof(t=Ny(t))=="string"){if(t==="")throw new Jt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WG(e)&&t.indexOf("/")!==-1)throw new Jt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ir.fromString(t));if(!dn.isDocumentKey(i))throw new Jt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qB(n,new dn(i))}if(t instanceof Mo)return qB(n,t._key);throw new Jt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${SA(t)}.`)}function D6(n,e){if(!Array.isArray(n)||n.length===0)throw new Jt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tW(n,e){const t=function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Jt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Jt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class iCe{convertValue(e,t="none"){switch(Gd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw En()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return yg(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[HT].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Gr(a.doubleValue));return new OI(s)}convertGeoPoint(e){return new DI(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=dA(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ex(e));default:return null}}convertTimestamp(e){const t=Hd(e);return new cs(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ir.fromString(e);Li(mq(i));const r=new tx(i.get(1),i.get(3)),s=new dn(i.popFirst(5));return r.isEqual(t)||vf(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rCe(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nW extends Jq{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(TA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class bw extends nW{data(e={}){return super.data(e)}}class sCe{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qb(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new bw(this._firestore,this._userDataWriter,i.key,i,new qb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Jt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(o=>{const c=new bw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qb(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const c=new bw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qb(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:aCe(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aCe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oCe(n){n=ag(n,Mo);const e=ag(n.firestore,wA);return zAe(CI(e),n._key).then(t=>hCe(e,n,t))}class iW extends iCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new By(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mo(this.firestore,null,t)}}function lCe(n){n=ag(n,Sg);const e=ag(n.firestore,wA),t=CI(e),i=new iW(e);return JAe(n._query),VAe(t,n._query).then(r=>new sCe(e,i,n,r))}function cCe(n,e,t){n=ag(n,Mo);const i=ag(n.firestore,wA),r=rCe(n.converter,e);return uCe(i,[XAe(Yq(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,hf.none())])}function uCe(n,e){return function(i,r){const s=new uf;return i.asyncQueue.enqueueAndForget(async()=>TAe(await UAe(i),r,s)),s.promise}(CI(n),e)}function hCe(n,e,t){const i=t.docs.get(e._key),r=new iW(n);return new nW(n,r,e._key,i,new qb(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){s0=r})(Lwe),BT(new Z_("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new wA(new Kwe(i.getProvider("auth-internal")),new Qwe(a,i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Jt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tx(u.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),py(IB,LB,e),py(IB,LB,"esm2017")})();var fCe="firebase",dCe="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */py(fCe,dCe,"app");const pCe={apiKey:"AIzaSyAU3E-qkmaAFhNKlANqzcHC8uZyFCZZLas",authDomain:"ai-trip-planner-98ad0.firebaseapp.com",projectId:"ai-trip-planner-98ad0",storageBucket:"ai-trip-planner-98ad0.firebasestorage.app",messagingSenderId:"841975157248",appId:"1:841975157248:web:48e167bb301b012ea4fee5",measurementId:"G-M5H3826KE7"},mCe=bG(pCe),zI=HAe(mCe);function gCe(n){return Ta({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"},child:[]}]})(n)}function O6(n){return Ta({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 336v-40L288 192V79.2c0-17.7-14.8-31.2-32-31.2s-32 13.5-32 31.2V192L64 296v40l160-48v113.6l-48 31.2V464l80-16 80 16v-31.2l-48-31.2V288l160 48z"},child:[]}]})(n)}function vCe(n){return Ta({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.445 11.688V6.354h-.633A13 13 0 0 0 4.5 7.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61zm1.188-1.305c.047.64.594 1.406 1.703 1.406 1.258 0 2-1.066 2-2.871 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82zm2.953-2.317c0 .696-.559 1.18-1.184 1.18-.601 0-1.144-.383-1.144-1.2 0-.823.582-1.21 1.168-1.21.633 0 1.16.398 1.16 1.23"},child:[]},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},child:[]}]})(n)}function yCe(n){return Ta({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"},child:[]}]})(n)}function bCe(n){return Ta({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"},child:[]}]})(n)}const _Ce={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},xCe={initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.4,0,.2,1]}},exit:{opacity:0,y:-20,scale:.95,transition:{duration:.3}}},N6={hover:{scale:1.05,boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},tap:{scale:.95},disabled:{opacity:.5,scale:1,boxShadow:"none"}},P6=n=>{const e=new Date;return e.setDate(e.getDate()+n),e.toLocaleDateString("en-US",{month:"short",day:"numeric"})};function SCe(){const[n,e]=B.useState(),[t,i]=B.useState({}),[r,s]=B.useState(!1),[a,o]=B.useState(!1),[c,u]=B.useState(0),d=fk(),p=nH(),v=[{id:"destination",title:"Where would you like to go?",icon:U.jsx(O6,{className:"text-2xl"}),component:U.jsxs(ye.div,{variants:_Ce,initial:"hidden",animate:"visible",className:"space-y-8",children:[U.jsxs(ye.div,{className:"relative p-1 rounded-2xl",animate:{boxShadow:["0 0 20px rgba(6, 182, 212, 0.2)","0 0 40px rgba(6, 182, 212, 0.4)","0 0 20px rgba(6, 182, 212, 0.2)"]},transition:{duration:2,repeat:1/0},children:[U.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 opacity-20"}),U.jsx(Kbe,{apiKey:"AIzaSyAGTeIUvFhK-Yp0924geYJnIN0WFCI85SA",selectProps:{value:n,onChange:A=>{e(A),y("location",A),p.start({scale:[1,1.02,1],transition:{duration:.3}})},placeholder:"Enter your dream destination...",className:"w-full",classNames:{control:A=>`
        p-4 rounded-xl bg-white backdrop-blur-xl
        border-2 border-cyan-500/30
        hover:border-cyan-500/50 
        transition-all duration-300
        ${A.isFocused?"shadow-lg shadow-cyan-500/20":""}
      `,input:()=>"text-gray-900 text-lg placeholder:text-gray-500",option:()=>"p-4 text-gray-900 hover:bg-cyan-50 cursor-pointer transition-colors",menu:()=>"mt-2 rounded-xl bg-white backdrop-blur-xl border-2 border-cyan-500/30 shadow-xl",singleValue:()=>"text-gray-900 text-lg",placeholder:()=>"text-gray-500 text-lg"},styles:{option:(A,R)=>({...A,backgroundColor:R.isFocused?"rgba(6, 182, 212, 0.1)":"white",color:"rgb(17, 24, 39)"})},components:{DropdownIndicator:()=>U.jsx(ye.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"text-cyan-500 px-3",children:U.jsx(O6,{size:24})})}}})]}),(t==null?void 0:t.location)&&U.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center text-cyan-400 font-medium",children:["Great choice! Let's plan your adventure to ",t.location.label]})]})},{id:"duration",title:"How long is your adventure?",icon:U.jsx(vCe,{className:"text-2xl"}),component:U.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[U.jsxs(ye.div,{className:"relative rounded-2xl overflow-hidden bg-white/5  p-8",children:[U.jsxs(ye.div,{className:"text-center mb-8",animate:{scale:t.noOfDays?[1,1.1,1]:1},transition:{duration:.3},children:[U.jsx(ye.div,{className:"text-8xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:t.noOfDays||"0"}),U.jsx("div",{className:"text-gray-400 mt-2",children:"Days of Adventure"})]}),U.jsxs("div",{className:"space-y-6",children:[U.jsxs(ye.div,{className:"relative",children:[U.jsx("input",{type:"range",min:"1",max:"30",value:t.noOfDays||1,onChange:A=>y("noOfDays",A.target.value),className:"w-full h-2 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg appearance-none cursor-pointer",style:{WebkitAppearance:"none",appearance:"none"}}),U.jsx("div",{className:"flex justify-between px-2 mt-2",children:[1,7,14,21,30].map(A=>U.jsxs(ye.div,{className:`flex flex-col items-center ${t.noOfDays>=A?"text-cyan-400":"text-gray-500"}`,animate:{scale:t.noOfDays===A?1.2:1,y:t.noOfDays===A?-4:0},children:[U.jsx("div",{className:"w-1 h-1 rounded-full bg-current mb-1"}),U.jsxs("span",{className:"text-sm",children:[A,"d"]})]},A))})]}),U.jsx("div",{className:"grid grid-cols-4 gap-2",children:[7,14,21,30].map(A=>U.jsxs(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y("noOfDays",A),className:`p-3 rounded-lg transition-all ${t.noOfDays===A?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white":"bg-white/5 hover:bg-white/10"}`,children:[A," Days"]},A))}),U.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[{days:3,label:"Weekend"},{days:7,label:"Week"},{days:14,label:"2 Weeks"}].map(({days:A,label:R})=>U.jsx(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y("noOfDays",A),className:`p-2 rounded-lg transition-all ${t.noOfDays===A?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white":"bg-white/5 hover:bg-white/10"}`,children:R},A))})]}),U.jsx(Ub,{children:t.noOfDays>30&&U.jsx(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute bottom-4 left-0 right-0 text-center",children:U.jsxs("div",{className:"inline-flex items-center bg-red-500/10 text-red-400 px-4 py-2 rounded-full",children:[U.jsx(ye.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0},className:"mr-2",children:""}),"Maximum 30 days allowed"]})})})]}),U.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:[...Array(Math.min(Number(t.noOfDays||1),8))].map((A,R)=>U.jsx(ye.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{delay:R*.1},className:"relative group",children:U.jsxs(ye.div,{className:`bg-white/5 backdrop-blur-xl rounded-xl p-3 border border-white/10\r
                   hover:border-cyan-500/50 transition-all cursor-pointer`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[U.jsx("div",{className:"text-3xl mb-1 flex align-center justify-center",children:R===7?"...":U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:[U.jsx("path",{fill:"currentColor",d:"M7.75 2.5a.75.75 0 0 0-1.5 0v1.58c-1.44.115-2.384.397-3.078 1.092c-.695.694-.977 1.639-1.093 3.078h19.842c-.116-1.44-.398-2.384-1.093-3.078c-.694-.695-1.639-.977-3.078-1.093V2.5a.75.75 0 0 0-1.5 0v1.513C15.585 4 14.839 4 14 4h-4c-.839 0-1.585 0-2.25.013z"}),U.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M22 12v2c0 3.771 0 5.657-1.172 6.828S17.771 22 14 22h-4c-3.771 0-5.657 0-6.828-1.172S2 17.771 2 14v-2c0-.839 0-1.585.013-2.25h19.974C22 10.415 22 11.161 22 12m-6 1.25a.75.75 0 0 1 .75.75v1.25H18a.75.75 0 0 1 0 1.5h-1.25V18a.75.75 0 0 1-1.5 0v-1.25H14a.75.75 0 0 1 0-1.5h1.25V14a.75.75 0 0 1 .75-.75",clipRule:"evenodd"})]})}),U.jsxs("div",{className:"text-center",children:[U.jsx(ye.div,{className:"text-sm font-medium text-cyan-400",initial:{opacity:0},animate:{opacity:1},transition:{delay:R*.1+.2},children:R===7?"...":P6(R)}),U.jsx(ye.div,{className:"text-xs text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{delay:R*.1+.3},children:R===7?"":`Day ${R+1}`})]})]})},R))}),t.noOfDays>0&&U.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-gray-400 mt-4",children:t.noOfDays>8?`Your journey continues for ${t.noOfDays} days until ${P6(t.noOfDays-1)}`:""})]})},{id:"budget",title:"What's your budget range?",icon:U.jsx(yCe,{className:"text-2xl"}),component:U.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[U.jsx(ye.div,{className:"grid grid-cols-3 gap-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:mye.map((A,R)=>U.jsx(ye.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:U.jsxs(ye.div,{whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.95},onClick:()=>y("budget",A.title),className:`relative overflow-hidden rounded-2xl backdrop-blur-xl cursor-pointer
                    transition-all duration-300 border-2
                    ${(t==null?void 0:t.budget)===A.title?"border-cyan-500 bg-cyan-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[U.jsx(ye.div,{className:"absolute inset-0 opacity-30",animate:{background:["radial-gradient(circle at 0% 0%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)"]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),U.jsxs("div",{className:"relative p-6 space-y-4",children:[U.jsx(ye.div,{animate:{rotateY:(t==null?void 0:t.budget)===A.title?[0,360]:0,scale:(t==null?void 0:t.budget)===A.title?[1,1.2,1]:1},transition:{duration:.5},className:`text-5xl mb-4 bg-gradient-to-r from-cyan-400 to-blue-500 \r
                        p-4 rounded-xl inline-block`,children:A.icon}),U.jsx("h3",{className:`text-2xl font-bold bg-gradient-to-r from-white to-cyan-300 \r
                      bg-clip-text text-transparent`,children:A.title}),U.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:A.desc}),(t==null?void 0:t.budget)===A.title&&U.jsx(ye.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-4 right-4",children:U.jsx("div",{className:"bg-cyan-500 text-white p-2 rounded-full w-10 h-10 text-center",children:U.jsx(ye.div,{children:""})})})]})]})},R))}),U.jsx(Ub,{children:(t==null?void 0:t.budget)&&U.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center text-cyan-400 font-medium",children:U.jsxs(ye.div,{animate:{scale:[1,1.1,1]},transition:{duration:.3},children:["Perfect! You've selected a ",t.budget.toLowerCase()," budget for your journey"]})})})]})},{id:"travelers",title:"Who's joining your journey?",icon:U.jsx(bCe,{className:"text-2xl"}),component:U.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[U.jsx(ye.div,{className:"grid grid-cols-3 gap-6",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:pye.map((A,R)=>U.jsx(ye.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:U.jsxs(ye.div,{whileHover:{scale:1.05,boxShadow:"0 0 30px rgba(6, 182, 212, 0.3)"},whileTap:{scale:.95},onClick:()=>y("traveler",A.people),className:`relative overflow-hidden rounded-2xl backdrop-blur-xl cursor-pointer
                    transition-all duration-300 border-2
                    ${(t==null?void 0:t.traveler)===A.people?"border-cyan-500 bg-cyan-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[U.jsx(ye.div,{className:"absolute inset-0 opacity-30",animate:{background:["radial-gradient(circle at 0% 0%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)"]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),U.jsxs("div",{className:"relative p-6 space-y-4",children:[U.jsx(ye.div,{animate:{rotateY:(t==null?void 0:t.traveler)===A.people?[0,360]:0,scale:(t==null?void 0:t.traveler)===A.people?[1,1.2,1]:1},transition:{duration:.5},className:`text-5xl mb-4 bg-gradient-to-r from-cyan-400 to-blue-500 \r
                        p-4 rounded-xl inline-block`,children:A.icon}),U.jsx("h3",{className:`text-2xl font-bold bg-gradient-to-r from-white to-cyan-300 \r
                      bg-clip-text text-transparent`,children:A.title}),U.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:A.desc}),(t==null?void 0:t.traveler)===A.people&&U.jsx(ye.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-4 right-4",children:U.jsx("div",{className:"bg-cyan-500 text-white p-2 rounded-full w-10 h-10 flex items-center justify-center",children:U.jsx(ye.div,{children:""})})}),(t==null?void 0:t.traveler)===A.people&&U.jsx(ye.div,{className:"absolute inset-0 pointer-events-none",children:[...Array(3)].map((D,k)=>U.jsx(ye.div,{className:"absolute w-2 h-2 bg-cyan-500 rounded-full",animate:{x:[0,Math.random()*100-50],y:[0,Math.random()*-100],scale:[1,0],opacity:[1,0]},transition:{duration:1,repeat:1/0,delay:k*.2,ease:"easeOut"}},k))})]})]})},R))}),U.jsx(Ub,{children:(t==null?void 0:t.traveler)&&U.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center text-cyan-400 font-medium",children:U.jsxs(ye.div,{animate:{scale:[1,1.1,1]},transition:{duration:.3},children:["Perfect! Your journey will be shared with ",t.traveler.toLowerCase()]})})})]})}],y=(A,R)=>{if(A=="noOfDays"&&R>30){console.log("Please enter Trip Days less than 30");return}i({...t,[A]:R})};B.useEffect(()=>{console.log(t)},[t]);const _=Fj({onSuccess:A=>GetUserProfile(A),onError:A=>console.log(A)}),w=()=>{switch(c){case 0:return t==null?void 0:t.location;case 1:return(t==null?void 0:t.noOfDays)&&(t==null?void 0:t.noOfDays)<=30;case 2:return t==null?void 0:t.budget;case 3:return t==null?void 0:t.traveler;default:return!1}},S=async A=>{let R;try{o(!0);const D=JSON.parse(localStorage.getItem("user"));if(!(D!=null&&D.email)){$h.error("Please sign in first");return}if(!t||!A){$h.error("Missing trip data");return}R=Date.now().toString();const k={userSelection:t,tripData:JSON.parse(A),userEmail:D.email,id:R,createdAt:new Date().toISOString(),userId:D.id||D.email};await cCe(qq(zI,"AITrips",R),k),$h.success("Trip saved successfully!"),d("/view-trip/"+R)}catch(D){console.error("Error saving trip:",D),$h.error("Failed to save trip: "+D.message)}finally{o(!1)}},E=async()=>{var R,D;if(!localStorage.getItem("user")){s(!0);return}if((t==null?void 0:t.noOfDays)>5&&(!(t!=null&&t.location)||!(t!=null&&t.budget)||!(t!=null&&t.traveler))){$h("Please fill all required fields");return}try{o(!0);const k=gye.replace("{location}",(R=t==null?void 0:t.location)==null?void 0:R.label).replace("{totalDays}",t==null?void 0:t.noOfDays).replace("{traveler}",t==null?void 0:t.traveler).replace("{budget}",t==null?void 0:t.budget),N=await Zye.sendMessage(k),z=await((D=N==null?void 0:N.response)==null?void 0:D.text());console.log("AI Raw Response:",z);const V=z.match(/\{.*\}/s);if(!V){console.error("No JSON found in response:",z),$h.error("Invalid AI response. Please try again.");return}const I=V[0];try{const L=JSON.parse(I);S(JSON.stringify(L))}catch(L){console.error("JSON parsing error:",L),console.log("Raw response:",z),$h.error("Invalid response format from AI. Please try again.")}}catch(k){console.error("Error generating trip:",k),$h.error("Failed to generate trip. Please try again.")}finally{o(!1)}};return U.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1b] to-[#1a1a3a] text-white",children:U.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 paddingTop",children:[U.jsxs("div",{className:"mb-16",children:[U.jsx("div",{className:"flex justify-between mb-4",children:v.map((A,R)=>U.jsxs(ye.div,{initial:!1,animate:{scale:c===R?1.2:1,color:c>=R?"rgb(6, 182, 212)":"rgb(156, 163, 175)"},className:"flex flex-col items-center",children:[U.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2
                  ${c>=R?"bg-cyan-500/20":"bg-gray-700/20"}`,children:A.icon}),U.jsx("div",{className:"text-sm",children:A.title})]},R))}),U.jsx("div",{className:"h-2 bg-gray-700/30 rounded-full",children:U.jsx(ye.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full",animate:{width:`${c/(v.length-1)*100}%`}})})]}),U.jsx(Ub,{mode:"wait",children:U.jsxs(ye.div,{variants:xCe,initial:"initial",animate:"animate",exit:"exit",className:"w-full",children:[U.jsxs(ye.div,{className:"glassmorphism  rounded-2xl relative",transition:{duration:2,repeat:1/0},children:[U.jsx(ye.div,{className:"absolute inset-0 -z-10",transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),U.jsx(ye.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold mb-6 bg-gradient-to-r from-white to-cyan-300 bg-clip-text text-transparent",children:v[c].title}),v[c].component]}),U.jsxs("div",{className:"flex justify-between mt-8 gap-4",children:[U.jsx(ye.div,{variants:N6,whileHover:"hover",whileTap:"tap",animate:c===0?"disabled":"",children:U.jsxs(Tc,{onClick:()=>u(A=>A-1),disabled:c===0,className:`group flex items-center gap-3 px-6 py-3 rounded-xl \r
                     bg-gradient-to-r from-gray-800/50 to-gray-900/50\r
                     hover:from-gray-800 hover:to-gray-900\r
                     border border-white/10 backdrop-blur-xl \r
                     transition-all duration-300`,children:[U.jsx(ye.span,{animate:{x:[-3,0,-3]},transition:{duration:1.5,repeat:1/0},className:"text-xl",children:""}),"Previous Step"]})}),U.jsx(ye.div,{variants:N6,whileHover:"hover",whileTap:"tap",animate:w()?"":"disabled",children:U.jsx(Tc,{onClick:()=>{c===v.length-1?E():u(A=>A+1)},disabled:!w(),className:`group flex items-center gap-3 px-6 py-3 rounded-xl \r
                     bg-gradient-to-r from-cyan-500 to-blue-500\r
                     hover:from-cyan-400 hover:to-blue-400\r
                     border border-white/10 backdrop-blur-xl \r
                     transition-all duration-300`,children:c===v.length-1?a?U.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:U.jsx(D_e,{className:"text-xl"})}):U.jsxs(U.Fragment,{children:["Generate Your Trip",U.jsx(ye.span,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:""})]}):U.jsxs(U.Fragment,{children:["Next Step",U.jsx(ye.span,{animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0},className:"text-xl",children:""})]})})})]})]},c)}),U.jsx(Ij,{open:r,children:U.jsxs(Lj,{className:"glassmorphism",children:[U.jsx(Vj,{children:U.jsx(P1e,{children:"Trip Details"})}),U.jsx(Uj,{children:U.jsx(zj,{children:U.jsxs("div",{className:"text-center space-y-6",children:[U.jsx("img",{src:"/logo.svg",alt:"",className:"mx-auto"}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("h3",{className:"text-2xl font-bold text-white",children:"Sign In Required"}),U.jsx("p",{className:"text-gray-400",children:"Please sign in with Google to generate your personalized trip"})]}),U.jsxs(Tc,{onClick:_,className:"w-full glassmorphism-button-primary flex items-center justify-center gap-3",children:[U.jsx(Bj,{className:"text-2xl"}),"Continue with Google"]})]})})})]})})]})})}const ECe=["top","right","bottom","left"],Xd=Math.min,Qo=Math.max,ZT=Math.round,DE=Math.floor,eh=n=>({x:n,y:n}),wCe={left:"right",right:"left",bottom:"top",top:"bottom"},TCe={start:"end",end:"start"};function NO(n,e,t){return Qo(n,Xd(e,t))}function bf(n,e){return typeof n=="function"?n(e):n}function _f(n){return n.split("-")[0]}function u0(n){return n.split("-")[1]}function VI(n){return n==="x"?"y":"x"}function BI(n){return n==="y"?"height":"width"}function Yd(n){return["top","bottom"].includes(_f(n))?"y":"x"}function kI(n){return VI(Yd(n))}function MCe(n,e,t){t===void 0&&(t=!1);const i=u0(n),r=kI(n),s=BI(r);let a=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=QT(a)),[a,QT(a)]}function ACe(n){const e=QT(n);return[PO(n),e,PO(e)]}function PO(n){return n.replace(/start|end/g,e=>TCe[e])}function CCe(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:a;default:return[]}}function RCe(n,e,t,i){const r=u0(n);let s=CCe(_f(n),t==="start",i);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(PO)))),s}function QT(n){return n.replace(/left|right|bottom|top/g,e=>wCe[e])}function DCe(n){return{top:0,right:0,bottom:0,left:0,...n}}function rW(n){return typeof n!="number"?DCe(n):{top:n,right:n,bottom:n,left:n}}function JT(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function I6(n,e,t){let{reference:i,floating:r}=n;const s=Yd(e),a=kI(e),o=BI(a),c=_f(e),u=s==="y",d=i.x+i.width/2-r.width/2,p=i.y+i.height/2-r.height/2,v=i[o]/2-r[o]/2;let y;switch(c){case"top":y={x:d,y:i.y-r.height};break;case"bottom":y={x:d,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:p};break;case"left":y={x:i.x-r.width,y:p};break;default:y={x:i.x,y:i.y}}switch(u0(e)){case"start":y[a]-=v*(t&&u?-1:1);break;case"end":y[a]+=v*(t&&u?-1:1);break}return y}const OCe=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:p}=I6(u,i,c),v=i,y={},_=0;for(let w=0;w<o.length;w++){const{name:S,fn:E}=o[w],{x:A,y:R,data:D,reset:k}=await E({x:d,y:p,initialPlacement:i,placement:v,strategy:r,middlewareData:y,rects:u,platform:a,elements:{reference:n,floating:e}});d=A??d,p=R??p,y={...y,[S]:{...y[S],...D}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:r}):k.rects),{x:d,y:p}=I6(u,v,c)),w=-1)}return{x:d,y:p,placement:v,strategy:r,middlewareData:y}};async function ax(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:o,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=bf(e,n),_=rW(y),S=o[v?p==="floating"?"reference":"floating":p],E=JT(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(S)))==null||t?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),A=p==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),D=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},k=JT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:A,offsetParent:R,strategy:c}):A);return{top:(E.top-k.top+_.top)/D.y,bottom:(k.bottom-E.bottom+_.bottom)/D.y,left:(E.left-k.left+_.left)/D.x,right:(k.right-E.right+_.right)/D.x}}const NCe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=bf(n,e)||{};if(u==null)return{};const p=rW(d),v={x:t,y:i},y=kI(r),_=BI(y),w=await a.getDimensions(u),S=y==="y",E=S?"top":"left",A=S?"bottom":"right",R=S?"clientHeight":"clientWidth",D=s.reference[_]+s.reference[y]-v[y]-s.floating[_],k=v[y]-s.reference[y],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let z=N?N[R]:0;(!z||!await(a.isElement==null?void 0:a.isElement(N)))&&(z=o.floating[R]||s.floating[_]);const V=D/2-k/2,I=z/2-w[_]/2-1,L=Xd(p[E],I),j=Xd(p[A],I),X=L,G=z-w[_]-j,re=z/2-w[_]/2+V,de=NO(X,re,G),K=!c.arrow&&u0(r)!=null&&re!==de&&s.reference[_]/2-(re<X?L:j)-w[_]/2<0,ue=K?re<X?re-X:re-G:0;return{[y]:v[y]+ue,data:{[y]:de,centerOffset:re-de-ue,...K&&{alignmentOffset:ue}},reset:K}}}),PCe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...S}=bf(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const E=_f(r),A=Yd(o),R=_f(o)===o,D=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=v||(R||!w?[QT(o)]:ACe(o)),N=_!=="none";!v&&N&&k.push(...RCe(o,w,_,D));const z=[o,...k],V=await ax(e,S),I=[];let L=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&I.push(V[E]),p){const re=MCe(r,a,D);I.push(V[re[0]],V[re[1]])}if(L=[...L,{placement:r,overflows:I}],!I.every(re=>re<=0)){var j,X;const re=(((j=s.flip)==null?void 0:j.index)||0)+1,de=z[re];if(de)return{data:{index:re,overflows:L},reset:{placement:de}};let K=(X=L.filter(ue=>ue.overflows[0]<=0).sort((ue,ne)=>ue.overflows[1]-ne.overflows[1])[0])==null?void 0:X.placement;if(!K)switch(y){case"bestFit":{var G;const ue=(G=L.filter(ne=>{if(N){const ve=Yd(ne.placement);return ve===A||ve==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(ve=>ve>0).reduce((ve,Z)=>ve+Z,0)]).sort((ne,ve)=>ne[1]-ve[1])[0])==null?void 0:G[0];ue&&(K=ue);break}case"initialPlacement":K=o;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function L6(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function U6(n){return ECe.some(e=>n[e]>=0)}const ICe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=bf(n,e);switch(i){case"referenceHidden":{const s=await ax(e,{...r,elementContext:"reference"}),a=L6(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:U6(a)}}}case"escaped":{const s=await ax(e,{...r,altBoundary:!0}),a=L6(s,t.floating);return{data:{escapedOffsets:a,escaped:U6(a)}}}default:return{}}}}};async function LCe(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=_f(t),o=u0(t),c=Yd(t)==="y",u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,p=bf(e,n);let{mainAxis:v,crossAxis:y,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof _=="number"&&(y=o==="end"?_*-1:_),c?{x:y*d,y:v*u}:{x:v*u,y:y*d}}const UCe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:a,middlewareData:o}=e,c=await LCe(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:a}}}}},zCe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:S=>{let{x:E,y:A}=S;return{x:E,y:A}}},...c}=bf(n,e),u={x:t,y:i},d=await ax(e,c),p=Yd(_f(r)),v=VI(p);let y=u[v],_=u[p];if(s){const S=v==="y"?"top":"left",E=v==="y"?"bottom":"right",A=y+d[S],R=y-d[E];y=NO(A,y,R)}if(a){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",A=_+d[S],R=_-d[E];_=NO(A,_,R)}const w=o.fn({...e,[v]:y,[p]:_});return{...w,data:{x:w.x-t,y:w.y-i,enabled:{[v]:s,[p]:a}}}}}},VCe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=bf(n,e),d={x:t,y:i},p=Yd(r),v=VI(p);let y=d[v],_=d[p];const w=bf(o,e),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const R=v==="y"?"height":"width",D=s.reference[v]-s.floating[R]+S.mainAxis,k=s.reference[v]+s.reference[R]-S.mainAxis;y<D?y=D:y>k&&(y=k)}if(u){var E,A;const R=v==="y"?"width":"height",D=["top","left"].includes(_f(r)),k=s.reference[p]-s.floating[R]+(D&&((E=a.offset)==null?void 0:E[p])||0)+(D?0:S.crossAxis),N=s.reference[p]+s.reference[R]+(D?0:((A=a.offset)==null?void 0:A[p])||0)-(D?S.crossAxis:0);_<k?_=k:_>N&&(_=N)}return{[v]:y,[p]:_}}}},BCe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=bf(n,e),d=await ax(e,u),p=_f(r),v=u0(r),y=Yd(r)==="y",{width:_,height:w}=s.floating;let S,E;p==="top"||p==="bottom"?(S=p,E=v===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(E=p,S=v==="end"?"top":"bottom");const A=w-d.top-d.bottom,R=_-d.left-d.right,D=Xd(w-d[S],A),k=Xd(_-d[E],R),N=!e.middlewareData.shift;let z=D,V=k;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(V=R),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(z=A),N&&!v){const L=Qo(d.left,0),j=Qo(d.right,0),X=Qo(d.top,0),G=Qo(d.bottom,0);y?V=_-2*(L!==0||j!==0?L+j:Qo(d.left,d.right)):z=w-2*(X!==0||G!==0?X+G:Qo(d.top,d.bottom))}await c({...e,availableWidth:V,availableHeight:z});const I=await a.getDimensions(o.floating);return _!==I.width||w!==I.height?{reset:{rects:!0}}:{}}}};function AA(){return typeof window<"u"}function h0(n){return sW(n)?(n.nodeName||"").toLowerCase():"#document"}function sl(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function uh(n){var e;return(e=(sW(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function sW(n){return AA()?n instanceof Node||n instanceof sl(n).Node:!1}function zc(n){return AA()?n instanceof Element||n instanceof sl(n).Element:!1}function ih(n){return AA()?n instanceof HTMLElement||n instanceof sl(n).HTMLElement:!1}function z6(n){return!AA()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof sl(n).ShadowRoot}function kx(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Vc(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function kCe(n){return["table","td","th"].includes(h0(n))}function CA(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function FI(n){const e=HI(),t=zc(n)?Vc(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function FCe(n){let e=Kd(n);for(;ih(e)&&!ky(e);){if(FI(e))return e;if(CA(e))return null;e=Kd(e)}return null}function HI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ky(n){return["html","body","#document"].includes(h0(n))}function Vc(n){return sl(n).getComputedStyle(n)}function RA(n){return zc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Kd(n){if(h0(n)==="html")return n;const e=n.assignedSlot||n.parentNode||z6(n)&&n.host||uh(n);return z6(e)?e.host:e}function aW(n){const e=Kd(n);return ky(e)?n.ownerDocument?n.ownerDocument.body:n.body:ih(e)&&kx(e)?e:aW(e)}function ox(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=aW(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),a=sl(r);if(s){const o=IO(a);return e.concat(a,a.visualViewport||[],kx(r)?r:[],o&&t?ox(o):[])}return e.concat(r,ox(r,[],t))}function IO(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function oW(n){const e=Vc(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ih(n),s=r?n.offsetWidth:t,a=r?n.offsetHeight:i,o=ZT(t)!==s||ZT(i)!==a;return o&&(t=s,i=a),{width:t,height:i,$:o}}function jI(n){return zc(n)?n:n.contextElement}function gy(n){const e=jI(n);if(!ih(e))return eh(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=oW(e);let a=(s?ZT(t.width):t.width)/i,o=(s?ZT(t.height):t.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const HCe=eh(0);function lW(n){const e=sl(n);return!HI()||!e.visualViewport?HCe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jCe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==sl(n)?!1:e}function og(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=jI(n);let a=eh(1);e&&(i?zc(i)&&(a=gy(i)):a=gy(n));const o=jCe(s,t,i)?lW(s):eh(0);let c=(r.left+o.x)/a.x,u=(r.top+o.y)/a.y,d=r.width/a.x,p=r.height/a.y;if(s){const v=sl(s),y=i&&zc(i)?sl(i):i;let _=v,w=IO(_);for(;w&&i&&y!==_;){const S=gy(w),E=w.getBoundingClientRect(),A=Vc(w),R=E.left+(w.clientLeft+parseFloat(A.paddingLeft))*S.x,D=E.top+(w.clientTop+parseFloat(A.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,p*=S.y,c+=R,u+=D,_=sl(w),w=IO(_)}}return JT({width:d,height:p,x:c,y:u})}function GI(n,e){const t=RA(n).scrollLeft;return e?e.left+t:og(uh(n)).left+t}function cW(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=i.left+e.scrollLeft-(t?0:GI(n,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function GCe(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",a=uh(i),o=e?CA(e.floating):!1;if(i===a||o&&s)return t;let c={scrollLeft:0,scrollTop:0},u=eh(1);const d=eh(0),p=ih(i);if((p||!p&&!s)&&((h0(i)!=="body"||kx(a))&&(c=RA(i)),ih(i))){const y=og(i);u=gy(i),d.x=y.x+i.clientLeft,d.y=y.y+i.clientTop}const v=a&&!p&&!s?cW(a,c,!0):eh(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+v.x,y:t.y*u.y-c.scrollTop*u.y+d.y+v.y}}function qCe(n){return Array.from(n.getClientRects())}function WCe(n){const e=uh(n),t=RA(n),i=n.ownerDocument.body,r=Qo(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Qo(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-t.scrollLeft+GI(n);const o=-t.scrollTop;return Vc(i).direction==="rtl"&&(a+=Qo(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}function XCe(n,e){const t=sl(n),i=uh(n),r=t.visualViewport;let s=i.clientWidth,a=i.clientHeight,o=0,c=0;if(r){s=r.width,a=r.height;const u=HI();(!u||u&&e==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:o,y:c}}function YCe(n,e){const t=og(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=ih(n)?gy(n):eh(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,c=r*s.x,u=i*s.y;return{width:a,height:o,x:c,y:u}}function V6(n,e,t){let i;if(e==="viewport")i=XCe(n,t);else if(e==="document")i=WCe(uh(n));else if(zc(e))i=YCe(e,t);else{const r=lW(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return JT(i)}function uW(n,e){const t=Kd(n);return t===e||!zc(t)||ky(t)?!1:Vc(t).position==="fixed"||uW(t,e)}function KCe(n,e){const t=e.get(n);if(t)return t;let i=ox(n,[],!1).filter(o=>zc(o)&&h0(o)!=="body"),r=null;const s=Vc(n).position==="fixed";let a=s?Kd(n):n;for(;zc(a)&&!ky(a);){const o=Vc(a),c=FI(a);!c&&o.position==="fixed"&&(r=null),(s?!c&&!r:!c&&o.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||kx(a)&&!c&&uW(n,a))?i=i.filter(d=>d!==a):r=o,a=Kd(a)}return e.set(n,i),i}function $Ce(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const a=[...t==="clippingAncestors"?CA(e)?[]:KCe(e,this._c):[].concat(t),i],o=a[0],c=a.reduce((u,d)=>{const p=V6(e,d,r);return u.top=Qo(p.top,u.top),u.right=Xd(p.right,u.right),u.bottom=Xd(p.bottom,u.bottom),u.left=Qo(p.left,u.left),u},V6(e,o,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZCe(n){const{width:e,height:t}=oW(n);return{width:e,height:t}}function QCe(n,e,t){const i=ih(e),r=uh(e),s=t==="fixed",a=og(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=eh(0);if(i||!i&&!s)if((h0(e)!=="body"||kx(r))&&(o=RA(e)),i){const v=og(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else r&&(c.x=GI(r));const u=r&&!i&&!s?cW(r,o):eh(0),d=a.left+o.scrollLeft-c.x-u.x,p=a.top+o.scrollTop-c.y-u.y;return{x:d,y:p,width:a.width,height:a.height}}function ND(n){return Vc(n).position==="static"}function B6(n,e){if(!ih(n)||Vc(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return uh(n)===t&&(t=t.ownerDocument.body),t}function hW(n,e){const t=sl(n);if(CA(n))return t;if(!ih(n)){let r=Kd(n);for(;r&&!ky(r);){if(zc(r)&&!ND(r))return r;r=Kd(r)}return t}let i=B6(n,e);for(;i&&kCe(i)&&ND(i);)i=B6(i,e);return i&&ky(i)&&ND(i)&&!FI(i)?t:i||FCe(n)||t}const JCe=async function(n){const e=this.getOffsetParent||hW,t=this.getDimensions,i=await t(n.floating);return{reference:QCe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function eRe(n){return Vc(n).direction==="rtl"}const tRe={convertOffsetParentRelativeRectToViewportRelativeRect:GCe,getDocumentElement:uh,getClippingRect:$Ce,getOffsetParent:hW,getElementRects:JCe,getClientRects:qCe,getDimensions:ZCe,getScale:gy,isElement:zc,isRTL:eRe};function fW(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function nRe(n,e){let t=null,i;const r=uh(n);function s(){var o;clearTimeout(i),(o=t)==null||o.disconnect(),t=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=n.getBoundingClientRect(),{left:d,top:p,width:v,height:y}=u;if(o||e(),!v||!y)return;const _=DE(p),w=DE(r.clientWidth-(d+v)),S=DE(r.clientHeight-(p+y)),E=DE(d),R={rootMargin:-_+"px "+-w+"px "+-S+"px "+-E+"px",threshold:Qo(0,Xd(1,c))||1};let D=!0;function k(N){const z=N[0].intersectionRatio;if(z!==c){if(!D)return a();z?a(!1,z):i=setTimeout(()=>{a(!1,1e-7)},1e3)}z===1&&!fW(u,n.getBoundingClientRect())&&a(),D=!1}try{t=new IntersectionObserver(k,{...R,root:r.ownerDocument})}catch{t=new IntersectionObserver(k,R)}t.observe(n)}return a(!0),s}function iRe(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,u=jI(n),d=r||s?[...u?ox(u):[],...ox(e)]:[];d.forEach(E=>{r&&E.addEventListener("scroll",t,{passive:!0}),s&&E.addEventListener("resize",t)});const p=u&&o?nRe(u,t):null;let v=-1,y=null;a&&(y=new ResizeObserver(E=>{let[A]=E;A&&A.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(e)})),t()}),u&&!c&&y.observe(u),y.observe(e));let _,w=c?og(n):null;c&&S();function S(){const E=og(n);w&&!fW(w,E)&&t(),w=E,_=requestAnimationFrame(S)}return t(),()=>{var E;d.forEach(A=>{r&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),p==null||p(),(E=y)==null||E.disconnect(),y=null,c&&cancelAnimationFrame(_)}}const rRe=UCe,sRe=zCe,aRe=PCe,oRe=BCe,lRe=ICe,k6=NCe,cRe=VCe,uRe=(n,e,t)=>{const i=new Map,r={platform:tRe,...t},s={...r.platform,_c:i};return OCe(n,e,{...r,platform:s})};var _w=typeof document<"u"?B.useLayoutEffect:B.useEffect;function eM(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!eM(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!eM(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function dW(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function F6(n,e){const t=dW(n);return Math.round(e*t)/t}function PD(n){const e=B.useRef(n);return _w(()=>{e.current=n}),e}function hRe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=n,[d,p]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=B.useState(i);eM(v,i)||y(i);const[_,w]=B.useState(null),[S,E]=B.useState(null),A=B.useCallback(ne=>{ne!==N.current&&(N.current=ne,w(ne))},[]),R=B.useCallback(ne=>{ne!==z.current&&(z.current=ne,E(ne))},[]),D=s||_,k=a||S,N=B.useRef(null),z=B.useRef(null),V=B.useRef(d),I=c!=null,L=PD(c),j=PD(r),X=PD(u),G=B.useCallback(()=>{if(!N.current||!z.current)return;const ne={placement:e,strategy:t,middleware:v};j.current&&(ne.platform=j.current),uRe(N.current,z.current,ne).then(ve=>{const Z={...ve,isPositioned:X.current!==!1};re.current&&!eM(V.current,Z)&&(V.current=Z,fx.flushSync(()=>{p(Z)}))})},[v,e,t,j,X]);_w(()=>{u===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,p(ne=>({...ne,isPositioned:!1})))},[u]);const re=B.useRef(!1);_w(()=>(re.current=!0,()=>{re.current=!1}),[]),_w(()=>{if(D&&(N.current=D),k&&(z.current=k),D&&k){if(L.current)return L.current(D,k,G);G()}},[D,k,G,L,I]);const de=B.useMemo(()=>({reference:N,floating:z,setReference:A,setFloating:R}),[A,R]),K=B.useMemo(()=>({reference:D,floating:k}),[D,k]),ue=B.useMemo(()=>{const ne={position:t,left:0,top:0};if(!K.floating)return ne;const ve=F6(K.floating,d.x),Z=F6(K.floating,d.y);return o?{...ne,transform:"translate("+ve+"px, "+Z+"px)",...dW(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ve,top:Z}},[t,o,K.floating,d.x,d.y]);return B.useMemo(()=>({...d,update:G,refs:de,elements:K,floatingStyles:ue}),[d,G,de,K,ue])}const fRe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?k6({element:i.current,padding:r}).fn(t):{}:i?k6({element:i,padding:r}).fn(t):{}}}},dRe=(n,e)=>({...rRe(n),options:[n,e]}),pRe=(n,e)=>({...sRe(n),options:[n,e]}),mRe=(n,e)=>({...cRe(n),options:[n,e]}),gRe=(n,e)=>({...aRe(n),options:[n,e]}),vRe=(n,e)=>({...oRe(n),options:[n,e]}),yRe=(n,e)=>({...lRe(n),options:[n,e]}),bRe=(n,e)=>({...fRe(n),options:[n,e]});var _Re="Arrow",pW=B.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return U.jsx(Ka.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:U.jsx("polygon",{points:"0,0 30,0 15,10"})})});pW.displayName=_Re;var xRe=pW;function SRe(n){const[e,t]=B.useState(void 0);return tg(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var qI="Popper",[mW,gW]=GP(qI),[ERe,vW]=mW(qI),yW=n=>{const{__scopePopper:e,children:t}=n,[i,r]=B.useState(null);return U.jsx(ERe,{scope:e,anchor:i,onAnchorChange:r,children:t})};yW.displayName=qI;var bW="PopperAnchor",_W=B.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=vW(bW,t),a=B.useRef(null),o=Bc(e,a);return B.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:U.jsx(Ka.div,{...r,ref:o})});_W.displayName=bW;var WI="PopperContent",[wRe,TRe]=mW(WI),xW=B.forwardRef((n,e)=>{var je,tt,wt,Qe,qt,Ge;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:_,...w}=n,S=vW(WI,t),[E,A]=B.useState(null),R=Bc(e,Ye=>A(Ye)),[D,k]=B.useState(null),N=SRe(D),z=(N==null?void 0:N.width)??0,V=(N==null?void 0:N.height)??0,I=i+(s!=="center"?"-"+s:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],X=j.length>0,G={padding:L,boundary:j.filter(ARe),altBoundary:X},{refs:re,floatingStyles:de,placement:K,isPositioned:ue,middlewareData:ne}=hRe({strategy:"fixed",placement:I,whileElementsMounted:(...Ye)=>iRe(...Ye,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[dRe({mainAxis:r+V,alignmentAxis:a}),c&&pRe({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?mRe():void 0,...G}),c&&gRe({...G}),vRe({...G,apply:({elements:Ye,rects:se,availableWidth:bt,availableHeight:Je})=>{const{width:dt,height:pt}=se.reference,It=Ye.floating.style;It.setProperty("--radix-popper-available-width",`${bt}px`),It.setProperty("--radix-popper-available-height",`${Je}px`),It.setProperty("--radix-popper-anchor-width",`${dt}px`),It.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),D&&bRe({element:D,padding:o}),CRe({arrowWidth:z,arrowHeight:V}),v&&yRe({strategy:"referenceHidden",...G})]}),[ve,Z]=wW(K),le=kd(_);tg(()=>{ue&&(le==null||le())},[ue,le]);const Ae=(je=ne.arrow)==null?void 0:je.x,De=(tt=ne.arrow)==null?void 0:tt.y,oe=((wt=ne.arrow)==null?void 0:wt.centerOffset)!==0,[Oe,Ie]=B.useState();return tg(()=>{E&&Ie(window.getComputedStyle(E).zIndex)},[E]),U.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:ue?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Qe=ne.transformOrigin)==null?void 0:Qe.x,(qt=ne.transformOrigin)==null?void 0:qt.y].join(" "),...((Ge=ne.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:U.jsx(wRe,{scope:t,placedSide:ve,onArrowChange:k,arrowX:Ae,arrowY:De,shouldHideArrow:oe,children:U.jsx(Ka.div,{"data-side":ve,"data-align":Z,...w,ref:R,style:{...w.style,animation:ue?void 0:"none"}})})})});xW.displayName=WI;var SW="PopperArrow",MRe={top:"bottom",right:"left",bottom:"top",left:"right"},EW=B.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=TRe(SW,i),a=MRe[s.placedSide];return U.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:U.jsx(xRe,{...r,ref:t,style:{...r.style,display:"block"}})})});EW.displayName=SW;function ARe(n){return n!==null}var CRe=n=>({name:"transformOrigin",options:n,fn(e){var S,E,A;const{placement:t,rects:i,middlewareData:r}=e,a=((S=r.arrow)==null?void 0:S.centerOffset)!==0,o=a?0:n.arrowWidth,c=a?0:n.arrowHeight,[u,d]=wW(t),p={start:"0%",center:"50%",end:"100%"}[d],v=(((E=r.arrow)==null?void 0:E.x)??0)+o/2,y=(((A=r.arrow)==null?void 0:A.y)??0)+c/2;let _="",w="";return u==="bottom"?(_=a?p:`${v}px`,w=`${-c}px`):u==="top"?(_=a?p:`${v}px`,w=`${i.floating.height+c}px`):u==="right"?(_=`${-c}px`,w=a?p:`${y}px`):u==="left"&&(_=`${i.floating.width+c}px`,w=a?p:`${y}px`),{data:{x:_,y:w}}}});function wW(n){const[e,t="center"]=n.split("-");return[e,t]}var RRe=yW,TW=_W,DRe=xW,ORe=EW,XI="Popover",[MW,r3e]=GP(XI,[gW]),Fx=gW(),[NRe,ip]=MW(XI),AW=n=>{const{__scopePopover:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:a=!1}=n,o=Fx(e),c=B.useRef(null),[u,d]=B.useState(!1),[p=!1,v]=nj({prop:i,defaultProp:r,onChange:s});return U.jsx(RRe,{...o,children:U.jsx(NRe,{scope:e,contentId:lw(),triggerRef:c,open:p,onOpenChange:v,onOpenToggle:B.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:u,onCustomAnchorAdd:B.useCallback(()=>d(!0),[]),onCustomAnchorRemove:B.useCallback(()=>d(!1),[]),modal:a,children:t})})};AW.displayName=XI;var CW="PopoverAnchor",PRe=B.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=ip(CW,t),s=Fx(t),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=r;return B.useEffect(()=>(a(),()=>o()),[a,o]),U.jsx(TW,{...s,...i,ref:e})});PRe.displayName=CW;var RW="PopoverTrigger",DW=B.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=ip(RW,t),s=Fx(t),a=Bc(e,r.triggerRef),o=U.jsx(Ka.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":LW(r.open),...i,ref:a,onClick:il(n.onClick,r.onOpenToggle)});return r.hasCustomAnchor?o:U.jsx(TW,{asChild:!0,...s,children:o})});DW.displayName=RW;var YI="PopoverPortal",[IRe,LRe]=MW(YI,{forceMount:void 0}),OW=n=>{const{__scopePopover:e,forceMount:t,children:i,container:r}=n,s=ip(YI,e);return U.jsx(IRe,{scope:e,forceMount:t,children:U.jsx(t0,{present:t||s.open,children:U.jsx(XP,{asChild:!0,container:r,children:i})})})};OW.displayName=YI;var Fy="PopoverContent",NW=B.forwardRef((n,e)=>{const t=LRe(Fy,n.__scopePopover),{forceMount:i=t.forceMount,...r}=n,s=ip(Fy,n.__scopePopover);return U.jsx(t0,{present:i||s.open,children:s.modal?U.jsx(URe,{...r,ref:e}):U.jsx(zRe,{...r,ref:e})})});NW.displayName=Fy;var URe=B.forwardRef((n,e)=>{const t=ip(Fy,n.__scopePopover),i=B.useRef(null),r=Bc(e,i),s=B.useRef(!1);return B.useEffect(()=>{const a=i.current;if(a)return mj(a)},[]),U.jsx(YP,{as:lx,allowPinchZoom:!0,children:U.jsx(PW,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:il(n.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:il(n.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:il(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),zRe=B.forwardRef((n,e)=>{const t=ip(Fy,n.__scopePopover),i=B.useRef(!1),r=B.useRef(!1);return U.jsx(PW,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(i.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var c,u;(c=n.onInteractOutside)==null||c.call(n,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),PW=B.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...p}=n,v=ip(Fy,t),y=Fx(t);return aj(),U.jsx(WP,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:U.jsx(qP,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>v.onOpenChange(!1),children:U.jsx(DRe,{"data-state":LW(v.open),role:"dialog",id:v.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),IW="PopoverClose",VRe=B.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=ip(IW,t);return U.jsx(Ka.button,{type:"button",...i,ref:e,onClick:il(n.onClick,()=>r.onOpenChange(!1))})});VRe.displayName=IW;var BRe="PopoverArrow",kRe=B.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,r=Fx(t);return U.jsx(ORe,{...r,...i,ref:e})});kRe.displayName=BRe;function LW(n){return n?"open":"closed"}var FRe=AW,HRe=DW,jRe=OW,GRe=NW;function qRe({...n}){return U.jsx(FRe,{"data-slot":"popover",...n})}function WRe({...n}){return U.jsx(HRe,{"data-slot":"popover-trigger",...n})}function XRe({className:n,align:e="center",sideOffset:t=4,...i}){return U.jsx(jRe,{children:U.jsx(GRe,{"data-slot":"popover-content",align:e,sideOffset:t,className:lg("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",n),...i})})}function YRe(){const n=JSON.parse(localStorage.getItem("user")),[e,t]=B.useState(!1),[i,r]=B.useState(!1),[s,a]=B.useState(!1),{scrollY:o}=DN();B.useEffect(()=>{console.log(n);const d=()=>{a(window.scrollY>20)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const c=Fj({onSuccess:d=>u(d),onError:d=>console.log(d)}),u=d=>{Er.get(`https://www.googleapis.com/oauth2/v1/userinfo?acess_token=${d==null?void 0:d.access_token}`,{headers:{Authorization:`Bearer ${d==null?void 0:d.access_token}`,Accept:"Application/json"}}).then(p=>{console.log(p),localStorage.setItem("user",JSON.stringify(p.data)),t(!1),window.location.reload()})};return U.jsxs(ye.div,{className:`mainMenu fixed top-4 mx-4 z-50 transition-all duration-500 ${s?"top-2":"top-4"}`,children:[U.jsxs(ye.div,{className:`flex items-center justify-between rounded-full border border-white/10 
                    ${s?"bg-black/40 backdrop-blur-lg shadow-lg":"bg-[#0a1125]/60 backdrop-blur-md"}`,children:[U.jsx(ye.a,{href:"/",className:"p-2 pl-4",whileHover:{scale:1.05},children:U.jsx("img",{src:"/AI-TRIP-PLANNER/logo.svg",alt:"",className:"h-8 w-auto"})}),U.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[U.jsxs(ye.a,{href:"/AI-TRIP-PLANNER/destinations",className:"relative group px-4 py-2",whileHover:{y:-2},children:[U.jsx("span",{className:"relative z-10 text-gray-300 group-hover:text-[#00f3ff] transition-colors",children:"Destinations"}),U.jsx(ye.div,{className:"absolute inset-0 bg-white/5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",layoutId:"navHover"})]}),U.jsxs(ye.a,{href:"/AI-TRIP-PLANNER/about",className:"relative group px-4 py-2",whileHover:{y:-2},children:[U.jsx("span",{className:"relative z-10 text-gray-300 group-hover:text-[#00f3ff] transition-colors",children:"About Us"}),U.jsx(ye.div,{className:"absolute inset-0 bg-white/5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",layoutId:"navHover"})]}),U.jsxs(ye.a,{href:"/AI-TRIP-PLANNER/contact",className:"relative group px-4 py-2",whileHover:{y:-2},children:[U.jsx("span",{className:"relative z-10 text-gray-300 group-hover:text-[#00f3ff] transition-colors",children:"Contact"}),U.jsx(ye.div,{className:"absolute inset-0 bg-white/5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",layoutId:"navHover"})]}),U.jsxs(ye.a,{href:"/AI-TRIP-PLANNER/pricing",className:"relative group px-4 py-2",whileHover:{y:-2},children:[U.jsx("span",{className:"relative z-10 text-gray-300 group-hover:text-[#00f3ff] transition-colors",children:"Pricing"}),U.jsx(ye.div,{className:"absolute inset-0 bg-white/5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",layoutId:"navHover"})]})]}),U.jsx("div",{className:"flex items-center gap-2 p-2",children:n?U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsxs(ye.div,{whileHover:{scale:1.02},className:"hidden sm:flex gap-2",children:[U.jsx(Tc,{variant:"outline",href:"/AI-TRIP-PLANNER/create-trip",className:"bg-white/5 border-white/10 rounded-full px-4 hover:bg-white/10 hover:border-[#00f3ff] transition-all text-white",children:"+ Trip"}),U.jsx(Tc,{variant:"outline",href:"/AI-TRIP-PLANNER/my-trips",className:"bg-white/5 border-white/10 rounded-full px-4 hover:bg-white/10 hover:border-[#00f3ff] transition-all text-white",children:"My Trips"})]}),U.jsxs(qRe,{children:[U.jsx(WRe,{children:U.jsx(ye.div,{whileHover:{scale:1.1},className:"relative p-0.5 rounded-full bg-gradient-to-r from-[#00f3ff] to-[#7d4fff]",children:U.jsx("img",{src:n==null?void 0:n.picture,alt:"",className:"h-8 w-8 rounded-full ring-2 ring-black"})})}),U.jsx(XRe,{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-xl p-1 mr-2",children:U.jsx(ye.button,{whileHover:{x:5},onClick:()=>{V1e(),localStorage.clear(),window.location.reload()},className:"w-full text-left px-4 py-2 text-white hover:bg-white/10 rounded-lg transition-all",children:"Logout"})})]})]}):U.jsx(ye.div,{whileHover:{scale:1.05},children:U.jsx(Tc,{onClick:()=>t(!0),className:"bg-gradient-to-r from-[#00f3ff] to-[#7d4fff] rounded-full px-6",children:"Sign in"})})})]}),U.jsx(Ij,{open:e,children:U.jsx(Lj,{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-xl",children:U.jsx(Uj,{children:U.jsx(zj,{children:U.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[U.jsx("img",{src:"/AI-TRIP-PLANNER/logo.svg",alt:"",className:"h-8 mx-auto"}),U.jsxs("div",{className:"space-y-2 text-center",children:[U.jsx("h3",{className:"text-xl font-bold text-white",children:"Welcome Back"}),U.jsx("p",{className:"text-gray-400 text-sm",children:"Continue with Google to start planning"})]}),U.jsxs(Tc,{onClick:c,className:"text-white w-full bg-white/5 hover:bg-white/10 border border-white/10 hover:border-[#00f3ff] rounded-full transition-all duration-300",children:[U.jsx(Bj,{className:"mr-2 h-5 w-5"}),"Sign in with Google"]})]})})})})})]})}var KRe=(n,e,t,i,r,s,a,o)=>{let c=document.documentElement,u=["light","dark"];function d(y){(Array.isArray(n)?n:[n]).forEach(_=>{let w=_==="class",S=w&&s?r.map(E=>s[E]||E):r;w?(c.classList.remove(...S),c.classList.add(y)):c.setAttribute(_,y)}),p(y)}function p(y){o&&u.includes(y)&&(c.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)d(i);else try{let y=localStorage.getItem(e)||t,_=a&&y==="system"?v():y;d(_)}catch{}},$Re=B.createContext(void 0),ZRe={setTheme:n=>{},themes:[]},QRe=()=>{var n;return(n=B.useContext($Re))!=null?n:ZRe};B.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:a,themes:o,nonce:c,scriptProps:u})=>{let d=JSON.stringify([t,e,s,n,o,a,i,r]).slice(1,-1);return B.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${KRe.toString()})(${d})`}})});const JRe=({...n})=>{const{theme:e="system"}=QRe();return U.jsx(S_e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground font-medium",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground font-medium"}},...n})},KI=async n=>{var e;try{const t="AIzaSyAGTeIUvFhK-Yp0924geYJnIN0WFCI85SA",i="6550e98b1b8ed4501";if(!n||!t||!i)return"/placeholder.jpg";const r=`${n} famous landmark scenic view photography 4k`,a=((e=(await Er.get("https://www.googleapis.com/customsearch/v1",{params:{key:t,cx:i,q:r,searchType:"image",imgType:"photo",imgSize:"xlarge",fileType:"jpg",num:5}})).data)==null?void 0:e.items)||[];return a.length?a[0].link:"/AI-TRIP-PLANNER/placeholder.jpg"}catch(t){return console.error("Image fetch error:",t),"/AI-TRIP-PLANNER/placeholder.jpg"}};function eDe({trip:n}){var a,o,c,u,d,p,v;const[e,t]=B.useState(null),[i,r]=B.useState(!1),s=B.useCallback(async()=>{var y,_;if((_=(y=n==null?void 0:n.userSelection)==null?void 0:y.location)!=null&&_.label)try{const w=await KI(n.userSelection.location.label);t(w)}catch(w){console.error("Error fetching photo:",w),t("/AI-TRIP-PLANNER/placeholder.jpg")}},[n]);return B.useEffect(()=>{s()},[s]),U.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:U.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[U.jsx(ye.div,{className:"absolute inset-0 z-0",animate:{background:["linear-gradient(0deg, rgba(6, 182, 212, 0.3) 0%, transparent 100%)","linear-gradient(180deg, rgba(6, 182, 212, 0.3) 0%, transparent 100%)","linear-gradient(0deg, rgba(6, 182, 212, 0.3) 0%, transparent 100%)"]},transition:{duration:5,repeat:1/0,ease:"linear"}}),U.jsx(ye.img,{src:e,alt:((o=(a=n==null?void 0:n.userSelection)==null?void 0:a.location)==null?void 0:o.label)||"Location",loading:"lazy",className:"w-full h-[500px] object-cover rounded-2xl relative z-10",initial:{scale:1.1,opacity:0},animate:{scale:i?1:1.1,opacity:i?1:0},transition:{duration:.5},onLoad:()=>r(!0),onError:y=>{y.target.src="/AI-TRIP-PLANNER/placeholder.jpg",console.error("Image failed to load")}}),U.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white/10 backdrop-blur-xl p-6 z-20",children:U.jsxs(ye.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"flex justify-between items-center",children:[U.jsxs("div",{className:"space-y-4",children:[U.jsx(ye.h1,{className:"text-4xl font-bold bg-gradient-to-r from-white to-cyan-300 bg-clip-text text-transparent",children:(u=(c=n==null?void 0:n.userSelection)==null?void 0:c.location)==null?void 0:u.label}),U.jsx("div",{className:"flex gap-4",children:[{icon:"",text:`${(d=n.userSelection)==null?void 0:d.noOfDays} Days`},{icon:"",text:(p=n.userSelection)==null?void 0:p.budget},{icon:"",text:`${(v=n.userSelection)==null?void 0:v.traveler} Travelers`}].map((y,_)=>U.jsxs(ye.div,{initial:{scale:0},animate:{scale:1},transition:{delay:_*.1},className:"relative group",children:[U.jsx("div",{className:"absolute inset-0 bg-cyan-500 rounded-full blur-sm opacity-25 group-hover:opacity-40 transition-opacity"}),U.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl px-4 py-2 rounded-full border border-white/20 flex items-center gap-2",children:[U.jsx("span",{children:y.icon}),U.jsx("span",{className:"text-white",children:y.text})]})]},_))})]}),U.jsx(ye.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:U.jsx(Tc,{className:"bg-cyan-500 text-white p-4 rounded-full hover:bg-cyan-400 transition-colors",children:U.jsx(ye.div,{children:U.jsx(gCe,{size:24})})})})]})})]})})}function tDe({hotel:n}){const[e,t]=B.useState();B.useEffect(()=>{n&&r()},[n]);const i=[{icon:U.jsx(C1e,{className:"w-4 h-4"}),label:"Free WiFi"},{icon:U.jsx(d1e,{className:"w-4 h-4"}),label:"Breakfast"},{icon:U.jsx(w1e,{className:"w-4 h-4"}),label:"Smart TV"}],r=async()=>{const s="AIzaSyAGTeIUvFhK-Yp0924geYJnIN0WFCI85SA",a="6550e98b1b8ed4501";if(!(n!=null&&n.hotelName))return;const c=`https://www.googleapis.com/customsearch/v1?q=${`${n.hotelName} luxury hotel exterior`}&searchType=image&imgType=photo&fileType=jpg&key=${s}&cx=${a}`;try{const u=await Er.get(c);if(u.data.items&&u.data.items.length>0){const d=u.data.items[0].link;t(d)}}catch{}};return U.jsxs(ye.div,{whileHover:{y:-8},className:"group relative bg-gradient-to-br from-white/[0.07] to-transparent rounded-2xl overflow-hidden border border-white/[0.05] backdrop-blur-sm h-[28rem]",children:[U.jsxs("div",{className:"relative h-48 overflow-hidden",children:[U.jsx(ye.div,{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent z-10",initial:{opacity:0},animate:{opacity:1}}),U.jsx(ye.img,{src:e||"/AI-TRIP-PLANNER/placeholder.jpg",alt:n.name,className:"w-full h-full object-cover transition-transform group-hover:scale-110 duration-500",initial:{scale:1.2},animate:{scale:1}}),U.jsx("div",{className:"absolute top-4 right-4 z-20 bg-white/10 backdrop-blur-md px-3 py-1 rounded-full border border-white/20",children:U.jsxs("span",{className:"text-[#00f3ff] font-semibold",children:[n.price,"/night"]})})]}),U.jsxs("div",{className:"p-5 space-y-4",children:[U.jsxs("div",{className:"space-y-1",children:[U.jsx("h3",{className:"font-semibold text-lg text-white group-hover:text-[#00f3ff] transition-colors",children:n.hotelName}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"flex",children:[...Array(5)].map((s,a)=>{const o=a+1,c=Math.floor(n.rating)>=o,u=!c&&n.rating>a+.3;return U.jsx(_1e,{className:`w-4 h-4 ${c?"fill-[#00f3ff] text-[#00f3ff]":u?"fill-[#00f3ff]/50 text-[#00f3ff]":"text-gray-500"}`},a)})}),U.jsxs("span",{className:"text-sm text-gray-400",children:["(",n.rating," reviews)"]})]})]}),U.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[U.jsx(Pj,{className:"w-4 h-4"}),U.jsx("span",{className:"text-sm truncate",children:n.hotelAddress})]}),U.jsx("div",{className:"flex gap-3",children:i.map((s,a)=>U.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"flex items-center gap-1 text-gray-400 text-sm",children:[s.icon,U.jsx("span",{className:"hidden sm:inline",children:s.label})]},a))})]}),U.jsx(ye.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100 bg-gradient-to-t from-[#00f3ff]/10 to-transparent pointer-events-none transition-opacity",initial:!1}),U.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-5 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:U.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query="+(n==null?void 0:n.hotelName)+","+(n==null?void 0:n.hotelAddress),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 flex-1 bg-[#00f3ff] text-black font-semibold py-2 rounded-lg hover:bg-[#00f3ff]/90 transition-colors",children:["Book Now",U.jsx(m1e,{className:"w-4 h-4"})]})})]})}function nDe({trip:n}){var t;const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};return U.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[U.jsxs("div",{className:"relative mt-10",children:[U.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col gap-2",children:[U.jsx("h2",{className:"text-3xl font-bold text-white",children:"Hotel Recommendations"}),U.jsx("p",{className:"text-gray-400",children:"Curated accommodations based on your preferences"})]}),U.jsx(ye.div,{className:"absolute -z-10 top-0 left-0 w-32 h-32 bg-[#00f3ff] rounded-full filter blur-[80px] opacity-20",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0}})]}),U.jsx(ye.div,{variants:e,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:((t=n==null?void 0:n.tripData)==null?void 0:t.hotelOptions)===void 0?[...Array(5)].map((i,r)=>U.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:r*.1},className:"h-[280px] rounded-2xl bg-gradient-to-r from-white/5 to-white/10 animate-pulse"},r)):n.tripData.hotelOptions.length>0?n.tripData.hotelOptions.map((i,r)=>U.jsx(ye.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:U.jsx(tDe,{hotel:i})},r)):U.jsx(ye.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12 col-span-full",children:U.jsxs("div",{className:"relative",children:[U.jsx(ye.div,{className:"absolute inset-0 rounded-3xl opacity-20",animate:{background:["radial-gradient(circle at 0% 0%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, rgba(6, 182, 212, 0.4) 0%, transparent 50%)"]},transition:{duration:5,repeat:1/0,ease:"linear"}}),U.jsxs("div",{className:"relative bg-white/5 backdrop-blur-xl p-8 rounded-3xl border border-white/10",children:[U.jsx(ye.div,{className:"text-6xl mb-4",animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},children:""}),U.jsx("h3",{className:"text-xl font-semibold text-cyan-400 mb-2",children:"No Hotels Found"}),U.jsx("p",{className:"text-gray-400",children:"We're still searching for the perfect accommodations for your trip."})]})]})})})]})}function iDe({place:n}){return U.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:n.places&&n.places.map((e,t)=>U.jsx(rDe,{placeItem:e},t))})}function rDe({placeItem:n}){const[e,t]=B.useState(),[i,r]=B.useState(!1);B.useEffect(()=>{n!=null&&n.placeName&&s()},[n]);const s=async()=>{try{const a=await KI(n.placeName);t(a)}catch(a){console.error("Error fetching photo:",a),t("/AI-TRIP-PLANNER/placeholder.jpg")}};return U.jsx(qy,{to:"https://www.google.com/maps/search/?api=1&query="+(n==null?void 0:n.placeName),target:"_blank",className:"block",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:U.jsxs(ye.div,{whileHover:{y:-8},className:"group relative bg-gradient-to-br from-white/[0.07] to-transparent rounded-2xl overflow-hidden border border-white/10 backdrop-blur-sm",children:[U.jsxs("div",{className:"relative h-48 overflow-hidden",children:[U.jsx(ye.div,{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent z-10",initial:{opacity:0},animate:{opacity:1}}),U.jsx(ye.img,{src:e||"/AI-TRIP-PLANNER/placeholder.jpg",alt:n.placeName,className:"w-full h-full object-cover transition-transform group-hover:scale-110 duration-500",initial:{scale:1.2},animate:{scale:1},onError:a=>{a.target.src="/AI-TRIP-PLANNER/placeholder.jpg"}})]}),U.jsxs("div",{className:"p-6 space-y-4",children:[U.jsx(ye.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-xl font-semibold text-white group-hover:text-[#00f3ff] transition-colors",children:n.placeName}),U.jsx(ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-gray-400 text-sm line-clamp-2",children:n.placeDetails}),U.jsxs("div",{className:"space-y-2",children:[U.jsxs(ye.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex items-center gap-2 text-gray-400",children:[U.jsx(Nj,{className:"w-4 h-4 text-[#00f3ff]"}),U.jsx("span",{className:"text-sm",children:n.timeTravel})]}),U.jsxs(ye.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center gap-2 text-gray-400",children:[U.jsx(S1e,{className:"w-4 h-4 text-[#00f3ff]"}),U.jsx("span",{className:"text-sm",children:n.ticketPricing})]})]})]}),U.jsx(ye.div,{className:"absolute inset-0 opacity-0 group-hover:opacity-100 bg-gradient-to-t from-[#00f3ff]/10 to-transparent pointer-events-none transition-opacity",initial:!1})]})})}function sDe({trip:n}){const{scrollY:e}=DN(),t=o3(e,[0,200],[1,0]),i=o3(e,[0,200],[1,.95]),r=Mt.useMemo(()=>{var a;const s=((a=n==null?void 0:n.tripData)==null?void 0:a.itinerary)||{};return Object.entries(s).sort(([o],[c])=>{const u=parseInt(o.replace("day","")),d=parseInt(c.replace("day",""));return u-d})},[n]);return U.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},className:"relative py-12",children:[U.jsx(ye.div,{style:{opacity:t,scale:i},className:"sticky top-0 z-30 backdrop-blur-xl bg-gradient-to-b from-[#0a0a1b]/80 to-transparent pb-6 pt-4",children:U.jsxs("div",{className:"relative",children:[U.jsx(ye.span,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"absolute -left-6 -top-2",children:U.jsx(y1e,{className:"w-5 h-5 text-[#00f3ff]"})}),U.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-[#00f3ff] via-white to-[#7d4fff] bg-clip-text text-transparent",children:"Places to Visit"})]})}),U.jsxs("div",{className:"relative mt-8",children:[U.jsx(ye.div,{initial:{height:0},animate:{height:"100%"},transition:{duration:1},className:"absolute left-[15px] top-0 bottom-0 w-0.5 bg-gradient-to-b from-[#00f3ff] via-[#7d4fff] to-transparent"}),U.jsx("div",{className:"space-y-12",children:r.map(([s,a],o)=>U.jsxs(ye.div,{className:"relative pl-12",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{}},children:[U.jsxs(ye.div,{className:"absolute left-0 w-8 h-8 rounded-full bg-gradient-to-br from-[#00f3ff] to-[#7d4fff] flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{delay:o*.2,duration:.5},whileHover:{scale:1.2},children:[U.jsx(ye.div,{className:"absolute w-full h-full rounded-full bg-[#00f3ff]",animate:{opacity:[.5,.2,.5],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"linear"}}),U.jsx("span",{className:"relative z-10 text-sm font-bold text-white",children:s.replace("day","")})]}),U.jsxs(ye.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:o*.4,duration:.5},children:[U.jsxs("div",{className:"flex flex-col gap-2",children:[U.jsx(ye.h2,{className:"text-2xl font-bold text-white group-hover:text-[#00f3ff] transition-colors",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.5,duration:.5},children:a.theme}),U.jsxs(ye.div,{className:"flex items-center gap-2 text-gray-400",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.6,duration:.5},children:[U.jsx(Nj,{className:"w-4 h-4 text-[#00f3ff]"}),U.jsxs("span",{className:"text-sm group-hover:text-white transition-colors",children:["Best Time: ",a.bestTimeToVisit]})]})]}),U.jsx(iDe,{place:a})]})]},s))})]}),U.jsx(ye.div,{animate:{opacity:[.3,.5,.3],scale:[1,1.2,1]},transition:{duration:4,repeat:1/0},className:"absolute top-0 right-0 w-1/3 h-1/3 bg-gradient-to-br from-[#00f3ff]/5 to-[#7d4fff]/5 blur-[120px] rounded-full"}),U.jsx(ye.div,{animate:{opacity:[.3,.5,.3],scale:[1.2,1,1.2]},transition:{duration:4,repeat:1/0},className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-gradient-to-tr from-[#7d4fff]/5 to-[#00f3ff]/5 blur-[120px] rounded-full"})]})}function aDe(){return U.jsx("div",{className:"my-7",children:U.jsx("h2",{className:"text-center text-gray-400",children:"Created by Stojan Malev @ 2025"})})}function oDe(){const{tripId:n}=gK(),[e,t]=B.useState([]);B.useEffect(()=>{n&&i()},[n]);const i=async()=>{const r=qq(zI,"AITrips",n),s=await oCe(r);s.exists()?(console.log("Document:",s.data()),t(s.data())):(console.log("No such document"),$h("No such document found"))};return U.jsxs("div",{className:"smallPaddingTop p-10 md:px-20 lg:px-44 xl:px-56 min-h-screen bg-gradient-to-b from-[#0a0a1b] to-[#1a1a3a] text-white",children:[U.jsx(eDe,{trip:e}),U.jsx(nDe,{trip:e}),U.jsx(sDe,{trip:e}),U.jsx(aDe,{trip:e})]})}function lDe(){return U.jsx("div",{className:"relative h-[280px] rounded-2xl overflow-hidden bg-gradient-to-br from-white/10 to-white/5",children:U.jsxs("div",{className:"animate-pulse h-full w-full",children:[U.jsx("div",{className:"absolute inset-0 bg-white/5"}),U.jsxs("div",{className:"relative z-20 p-6 h-full flex flex-col justify-between",children:[U.jsx("div",{children:U.jsx("div",{className:"w-32 h-8 bg-white/10 rounded-full"})}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"flex gap-4",children:[U.jsx("div",{className:"w-20 h-6 bg-white/10 rounded-md"}),U.jsx("div",{className:"w-20 h-6 bg-white/10 rounded-md"})]}),U.jsx("div",{className:"w-24 h-8 bg-white/10 rounded-md"})]})]}),U.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite]",children:U.jsx("div",{className:"h-full w-full bg-gradient-to-r from-transparent via-white/10 to-transparent"})})]})})}function cDe({trip:n}){const[e,t]=B.useState(),[i,r]=B.useState(!0);B.useEffect(()=>{n&&s()},[n]);const s=async()=>{var a,o;r(!0);try{const c=await KI((o=(a=n==null?void 0:n.userSelection)==null?void 0:a.location)==null?void 0:o.label);t(c)}catch(c){console.error("Error fetching photo:",c),t("/AI-TRIP-PLANNER/placeholder.jpg")}finally{r(!1)}};return i?U.jsx(lDe,{}):U.jsx(qy,{to:`/view-trip/${n.docId}`,children:U.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},className:"group relative h-[280px] rounded-2xl overflow-hidden bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-sm border border-white/10 hover:border-[#00f3ff]/50 transition-all",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent z-10"}),U.jsx(ye.img,{initial:{scale:1.1},animate:{scale:1},transition:{duration:.4},src:e,alt:n.userSelection.location.label,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),U.jsxs(ye.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"relative z-20 p-6 h-full flex flex-col justify-between",children:[U.jsx("div",{children:U.jsxs("div",{className:"inline-flex items-center gap-1 bg-white/10 backdrop-blur-md px-3 py-1 rounded-full mb-4",children:[U.jsx(Pj,{className:"w-4 h-4 text-[#00f3ff]"}),U.jsx("span",{className:"text-sm text-white",children:n.userSelection.location.label})]})}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"flex gap-4 text-sm text-gray-300",children:[U.jsxs("div",{className:"flex items-center gap-1",children:[U.jsx(l1e,{className:"w-4 h-4"}),U.jsxs("span",{children:[n.userSelection.noOfDays," Days"]})]}),U.jsxs("div",{className:"flex items-center gap-1",children:[U.jsx(M1e,{className:"w-4 h-4"}),U.jsx("span",{children:n.userSelection.traveler})]})]}),U.jsxs("div",{className:"font-semibold text-lg text-[#00f3ff]",children:["$",n.userSelection.budget]})]})]}),U.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 bg-gradient-to-r from-[#00f3ff]/10 to-[#7d4fff]/10 transition-opacity z-10"})]})})}function uDe(){const n=MK(),[e,t]=B.useState([]);B.useEffect(()=>{i()},[]);const i=async()=>{const r=JSON.parse(localStorage.getItem("user"));if(!r){n("/");return}try{const s=eCe(FAe(zI,"AITrips"),tCe("userEmail","==",r==null?void 0:r.email),nCe("createdAt","desc")),a=await lCe(s),o=[];a.forEach(c=>{o.push({...c.data(),docId:c.id})}),t(o)}catch(s){console.error("Error fetching trips:",s)}};return U.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1b] to-[#1a1a3a]",children:[U.jsx("div",{className:"relative overflow-hidden",children:U.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto px-6 pt-24 pb-12",children:[U.jsx("h1",{className:"text-4xl md:text-5xl font-bold  text-white mb-4",children:"Your Adventures"}),U.jsx("p",{className:"text-gray-400 text-lg max-w-2xl",children:"Explore your personalized AI-crafted travel experiences and upcoming journeys."})]})}),U.jsx("div",{className:"max-w-7xl mx-auto px-6 pb-24",children:U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[U.jsx(qy,{to:"/create-trip",children:U.jsxs(ye.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"h-[280px] rounded-2xl border border-dashed border-gray-500/30 flex flex-col items-center justify-center gap-4 bg-white/5 backdrop-blur-sm hover:bg-white/10 transition-all cursor-pointer group",children:[U.jsx(u1e,{className:"w-12 h-12 text-[#00f3ff] group-hover:scale-110 transition-transform"}),U.jsx("p",{className:"text-gray-400 group-hover:text-white transition-colors",children:"Create New Trip"})]})}),(e==null?void 0:e.length)>0?e.map((r,s)=>U.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},children:U.jsx(cDe,{trip:r})},r.id||s)):[...Array(5)].map((r,s)=>U.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:s*.1},className:"h-[280px] rounded-2xl bg-gradient-to-r from-white/5 to-white/10 animate-pulse"},s))]})})]})}function hDe(){const n=async i=>await pM(i),e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},t=()=>U.jsx(Ox,{args:[1,64,64],children:U.jsx("meshPhongMaterial",{color:"#00f3ff",wireframe:!0,opacity:.8,transparent:!0})});return U.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1b] to-[#1a1a3a] relative overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 z-0",children:U.jsx(fM,{init:n,options:{particles:{number:{value:150},move:{enable:!0,speed:.3,outModes:"bounce"},opacity:{value:.4},size:{value:1.5},color:{value:["#00f3ff","#7d4fff","#66ff99"]},links:{enable:!0,distance:150,color:"#00f3ff",opacity:.2,width:1}}}})}),U.jsx(ye.div,{className:"absolute top-1/3 right-20 w-96 h-96 opacity-20 mix-blend-lighten",animate:{y:[0,20,0],rotate:[0,360]},transition:{duration:15,repeat:1/0,ease:"linear"},children:U.jsxs($M,{camera:{position:[0,0,3]},children:[U.jsx("ambientLight",{intensity:.5}),U.jsx("pointLight",{position:[10,10,10]}),U.jsx(t,{}),U.jsx(ZM,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.8})]})}),U.jsx("div",{className:"relative overflow-hidden",children:U.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto px-6 pt-24 pb-12 relative z-10",children:[U.jsx(ye.h1,{className:"mt-20 text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600 mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"About Our AI Travel Architect"}),U.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[U.jsxs(ye.div,{className:"space-y-6",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},initial:"hidden",animate:"visible",children:[U.jsxs(ye.div,{className:"p-8 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-cyan-400/30 transition-all",variants:e,children:[U.jsx("h2",{className:"text-2xl font-bold text-cyan-400 mb-4",children:" Neural Itinerary Engine"}),U.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Our AI analyzes millions of data points including weather patterns, local events, and cultural trends to craft your perfect journey using advanced machine learning algorithms."})]}),U.jsxs(ye.div,{className:"p-8 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-purple-400/30 transition-all",variants:e,children:[U.jsx("h2",{className:"text-2xl font-bold text-purple-400 mb-4",children:" Global Intelligence Network"}),U.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Integrated with real-time data from 50+ travel services and local experts worldwide, ensuring your plans stay updated with the latest information."})]})]}),U.jsxs(ye.div,{className:"relative h-96 rounded-2xl overflow-hidden",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.5},children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-purple-600/10"}),U.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[U.jsx("div",{className:"w-64 h-64 border-2 border-cyan-400/30 rounded-full animate-pulse"}),U.jsx("div",{className:"absolute w-48 h-48 border-2 border-purple-400/30 rounded-full animate-pulse"}),U.jsxs("div",{className:"absolute flex flex-col items-center text-center",children:[U.jsx("div",{className:"text-6xl mb-4",children:""}),U.jsx("h3",{className:"text-xl font-bold text-cyan-400",children:"2025"}),U.jsx("p",{className:"text-gray-300",children:"Founded"})]})]})]})]}),U.jsx(ye.div,{className:"mt-24 grid md:grid-cols-3 gap-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:["AI Experts","Travel Gurus","Tech Wizards"].map((i,r)=>U.jsxs(ye.div,{className:"p-8 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-cyan-400/30 transition-all group",whileHover:{y:-10},children:[U.jsx("div",{className:"text-6xl mb-4 group-hover:text-cyan-400 transition-colors",children:["","",""][r]}),U.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:i}),U.jsx("p",{className:"text-gray-300",children:["Deep learning specialists crafting intelligent travel algorithms","Global explorers curating authentic local experiences","Software engineers building the future of travel tech"][r]})]},r))})]})}),U.jsx("div",{className:"absolute top-1/4 left-20 w-48 h-48 bg-cyan-500/20 rounded-full blur-3xl animate-float"}),U.jsx("div",{className:"absolute bottom-20 right-32 w-48 h-48 bg-purple-500/20 rounded-full blur-3xl animate-float-delayed"})]})}function fDe(n){return Ta({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(n)}function dDe(n){return Ta({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(n)}function H6(n){return Ta({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}function pDe(n){return Ta({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function mDe(n){return Ta({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(n)}function gDe(n){return Ta({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(n)}function vDe(){const[n,e]=B.useState(!1),t=async a=>await pM(a),i={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},r=()=>U.jsx(Ox,{args:[1,64,64],children:U.jsx("meshPhongMaterial",{color:"#00f3ff",wireframe:!0,opacity:.8,transparent:!0})}),s=a=>{a.preventDefault(),e(!0),setTimeout(()=>e(!1),3e4)};return U.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1b] to-[#1a1a3a] relative overflow-hidden",children:[U.jsx(Ub,{children:n&&U.jsx(ye.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:U.jsxs(ye.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"bg-white p-8 rounded-xl shadow-2xl text-center",children:[U.jsx(ye.div,{initial:{rotate:0},className:"mb-4 text-cyan-500 text-4xl",children:U.jsx("img",{src:"/success.gif",alt:""})}),U.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Message Sent!"}),U.jsx("p",{className:"text-gray-600",children:"Thank you for reaching out. We will get back to you shortly."})]})})}),U.jsx("div",{className:"absolute inset-0 z-0",children:U.jsx(fM,{init:t,options:{particles:{number:{value:200},move:{enable:!0,speed:.5,outModes:"bounce"},opacity:{value:.4},size:{value:1.5},color:{value:["#00f3ff","#7d4fff"]},links:{enable:!0,distance:150,color:"#00f3ff",opacity:.2,width:1}}}})}),U.jsx(ye.div,{className:"absolute top-1/4 right-20 w-96 h-96 opacity-20 mix-blend-lighten",animate:{y:[0,20,0],rotate:[0,360]},transition:{duration:15,repeat:1/0,ease:"linear"},children:U.jsxs($M,{camera:{position:[0,0,3]},children:[U.jsx("ambientLight",{intensity:.5}),U.jsx("pointLight",{position:[10,10,10]}),U.jsx(r,{}),U.jsx(ZM,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.8})]})}),U.jsx("div",{className:"relative overflow-hidden",children:U.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto px-6 pt-24 pb-12 relative z-10",children:[U.jsx(ye.h1,{className:"mt-20 text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600 mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Connect with Our Neural Network"}),U.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[U.jsx(ye.div,{className:"p-8 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-cyan-400/30 transition-all",variants:i,initial:"hidden",animate:"visible",children:U.jsxs("form",{onSubmit:s,className:"space-y-8",children:[U.jsxs(ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[U.jsx("label",{className:"block text-lg mb-3 text-white",children:"Your Name"}),U.jsx("input",{type:"text",className:"text-white w-full bg-[#0a0f1f] border border-gray-700 rounded-lg px-4 py-3 text-lg focus:ring-2 focus:ring-cyan-500 transition-all",placeholder:"Enter your name"})]}),U.jsxs(ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},children:[U.jsx("label",{className:"block text-white text-lg mb-3",children:"E-mail"}),U.jsx("input",{type:"email",className:"text-white w-full bg-[#0a0f1f] border border-gray-700 rounded-lg px-4 py-3 text-lg focus:ring-2 focus:ring-cyan-500 transition-all",placeholder:"Enter your email"})]}),U.jsxs(ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8},children:[U.jsx("label",{className:"block text-cyan-400 text-lg mb-3",children:"Message"}),U.jsx("textarea",{rows:"5",className:"text-white w-full bg-[#0a0f1f] border border-gray-700 rounded-lg px-4 py-3 text-lg focus:ring-2 focus:ring-cyan-500 transition-all",placeholder:"Type your message across dimensions..."})]}),U.jsxs(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-white w-full flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-xl text-lg font-semibold transition-all",children:[U.jsx(mDe,{className:"text-xl"}),"Send Message"]})]})}),U.jsxs("div",{className:"space-y-10",children:[U.jsxs(ye.div,{className:"p-8 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-purple-400/30 transition-all group",whileHover:{y:-10},children:[U.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[U.jsx("div",{className:"p-4 bg-cyan-500/10 rounded-xl",children:U.jsx(H6,{className:"text-3xl text-cyan-400"})}),U.jsx("h3",{className:"text-2xl font-bold text-white",children:"Direct Neural Link"})]}),U.jsx("p",{className:"text-gray-300",children:"contact@neuraltravel.ai"})]}),U.jsxs(ye.div,{className:"p-8 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-purple-400/30 transition-all group",whileHover:{y:-10},children:[U.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[U.jsx("div",{className:"p-4 bg-purple-500/10 rounded-xl",children:U.jsx(gDe,{className:"text-3xl text-purple-400"})}),U.jsx("h3",{className:"text-2xl font-bold text-white",children:"Quantum Communication"})]}),U.jsx("p",{className:"text-gray-300",children:"+1 (555) 867-5309"})]}),U.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{icon:U.jsx(dDe,{}),color:"#0A66C2"},{icon:U.jsx(fDe,{}),color:"#333"},{icon:U.jsx(H6,{}),color:"#EA4335"}].map((a,o)=>U.jsx(ye.a,{href:"#",className:"p-6 flex items-center justify-center rounded-xl bg-white/5 backdrop-blur-lg border border-white/10 hover:border-cyan-400/30 transition-all",whileHover:{scale:1.05},style:{color:a.color},children:U.jsx("span",{className:"text-2xl",children:a.icon})},o))})]})]}),U.jsx(ye.div,{className:"relative bottom-0 left-0 w-full text-center mt-20 mb-20",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:U.jsxs("p",{className:"text-gray-400",children:['"Travel is the only thing you buy that makes you richer"',U.jsx("span",{className:"block mt-2 text-cyan-400",children:"-  AI Trip Planner"})]})})]})}),U.jsx("div",{className:"absolute top-1/3 left-20 w-48 h-48 bg-cyan-500/20 rounded-full blur-3xl animate-float"}),U.jsx("div",{className:"absolute bottom-20 right-32 w-48 h-48 bg-purple-500/20 rounded-full blur-3xl animate-float-delayed"})]})}function yDe(){const n=async r=>await pM(r),e={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},t=()=>U.jsx(Ox,{args:[1,64,64],children:U.jsx("meshPhongMaterial",{color:"#00f3ff",wireframe:!0,opacity:.8,transparent:!0})}),i=[{name:"Starter",price:"29",features:["Basic AI Itinerary","3 Destination Options","Email Support","5 Trip Storage"],color:"#00f3ff"},{name:"Explorer",price:"99",features:["Advanced AI Planning","Unlimited Destinations","Priority Support","Custom Preferences","50 Trip Storage","Collaboration"],color:"#7d4fff",featured:!0},{name:"Enterprise",price:"Custom",features:["Dedicated AI Engineer","API Access","SSO & SAML","Custom Workflows","Unlimited Storage","24/7 Support"],color:"#ff66cc"}];return U.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1b] to-[#1a1a3a] relative overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 z-0",children:U.jsx(fM,{init:n,options:{particles:{number:{value:150},move:{enable:!0,speed:.3,outModes:"bounce"},opacity:{value:.4},size:{value:1.5},color:{value:["#00f3ff","#7d4fff"]},links:{enable:!0,distance:150,color:"#00f3ff",opacity:.2,width:1}}}})}),U.jsx(ye.div,{className:"absolute top-1/3 left-20 w-96 h-96 opacity-20 mix-blend-lighten",animate:{y:[0,40,0],rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:U.jsxs($M,{camera:{position:[0,0,5]},children:[U.jsx("ambientLight",{intensity:.5}),U.jsx("pointLight",{position:[10,10,10]}),U.jsx(t,{}),U.jsx(ZM,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.8})]})}),U.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-24 relative z-10",children:[U.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-20",children:[U.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600 mb-4",children:"AI-Powered Pricing Matrix"}),U.jsx("p",{className:"text-gray-300 text-xl",children:"Choose your level of intelligence augmentation"})]}),U.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:i.map((r,s)=>U.jsxs(ye.div,{variants:e,initial:"hidden",animate:"visible",transition:{delay:s*.2},className:`p-8 relative overflow-hidden rounded-2xl backdrop-blur-lg border ${r.featured?"border-cyan-400/30 bg-cyan-500/10 scale-105":"border-white/10 bg-white/5"} hover:border-${r.color.split("#")[1]}/30 transition-all`,children:[r.featured&&U.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 to-purple-600"}),U.jsxs("div",{className:"text-center mb-8",children:[U.jsx("div",{className:`text-4xl mb-4 mx-auto ${r.featured?"text-cyan-400":"text-"+r.color.split("#")[1]}`,children:r.icon}),U.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:r.name}),U.jsxs("div",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 to-purple-600 bg-clip-text text-transparent",children:["$",r.price,r.price==="Custom"||U.jsx("span",{className:"text-xl text-gray-300",children:"/mo"})]})]}),U.jsx("ul",{className:"space-y-4 mb-8",children:r.features.map((a,o)=>U.jsx(ye.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+o*.1},className:"flex items-center gap-3 text-gray-300",children:a},o))}),U.jsx(ye.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-full py-4 rounded-xl font-semibold transition-all ${r.featured?"bg-gradient-to-r from-cyan-500 to-purple-600 text-white":"bg-white/5 border border-white/10 hover:border-cyan-400/30"}`,children:"Initiate Protocol"}),r.featured&&U.jsx(ye.div,{animate:{opacity:[.3,.5,.3],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 -z-10 bg-gradient-to-r from-cyan-500/10 to-purple-600/10"})]},r.name))}),U.jsxs(ye.div,{initial:{opacity:0},whileInView:{opacity:1},className:"mt-16 p-8 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 text-center",children:[U.jsx("h3",{className:"text-2xl font-bold text-cyan-400 mb-4",children:"Need Hyperdrive Features?"}),U.jsx("p",{className:"text-gray-300 mb-6",children:"Contact our AI solutions team for custom enterprise implementations"}),U.jsx(ye.button,{whileHover:{scale:1.05},className:"px-8 py-3 rounded-lg bg-gradient-to-r from-cyan-500 to-purple-600 text-white",children:"Activate Enterprise AI"})]})]}),U.jsx("div",{className:"absolute top-1/4 right-20 w-48 h-48 bg-cyan-500/20 rounded-full blur-3xl animate-float"}),U.jsx("div",{className:"absolute bottom-20 left-32 w-48 h-48 bg-purple-500/20 rounded-full blur-3xl animate-float-delayed"})]})}function bDe(n){return Ta({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.89,17.6c0-0.99,0.31-1.88,0.93-2.65s1.41-1.27,2.38-1.49c0.26-1.17,0.85-2.14,1.78-2.88c0.93-0.75,2-1.12,3.22-1.12
	c1.18,0,2.24,0.36,3.16,1.09c0.93,0.73,1.53,1.66,1.8,2.8h0.27c1.18,0,2.18,0.41,3.01,1.24s1.25,1.83,1.25,3
	c0,1.18-0.42,2.18-1.25,3.01s-1.83,1.25-3.01,1.25H8.16c-0.58,0-1.13-0.11-1.65-0.34S5.52,21,5.14,20.62
	c-0.38-0.38-0.68-0.84-0.91-1.36S3.89,18.17,3.89,17.6z M5.34,17.6c0,0.76,0.28,1.42,0.82,1.96s1.21,0.82,1.99,0.82h9.28
	c0.77,0,1.44-0.27,1.99-0.82c0.55-0.55,0.83-1.2,0.83-1.96c0-0.76-0.27-1.42-0.83-1.96c-0.55-0.54-1.21-0.82-1.99-0.82h-1.39
	c-0.1,0-0.15-0.05-0.15-0.15l-0.07-0.49c-0.1-0.94-0.5-1.73-1.19-2.35s-1.51-0.93-2.45-0.93c-0.94,0-1.76,0.31-2.46,0.94
	c-0.7,0.62-1.09,1.41-1.18,2.34l-0.07,0.42c0,0.1-0.05,0.15-0.16,0.15l-0.45,0.07c-0.72,0.06-1.32,0.36-1.81,0.89
	C5.59,16.24,5.34,16.87,5.34,17.6z M14.19,8.88c-0.1,0.09-0.08,0.16,0.07,0.21c0.43,0.19,0.79,0.37,1.08,0.55
	c0.11,0.03,0.19,0.02,0.22-0.03c0.61-0.57,1.31-0.86,2.12-0.86c0.81,0,1.5,0.27,2.1,0.81c0.59,0.54,0.92,1.21,0.99,2l0.09,0.64h1.42
	c0.65,0,1.21,0.23,1.68,0.7c0.47,0.47,0.7,1.02,0.7,1.66c0,0.6-0.21,1.12-0.62,1.57s-0.92,0.7-1.53,0.77c-0.1,0-0.15,0.05-0.15,0.16
	v1.13c0,0.11,0.05,0.16,0.15,0.16c1.01-0.06,1.86-0.46,2.55-1.19s1.04-1.6,1.04-2.6c0-1.06-0.37-1.96-1.12-2.7
	c-0.75-0.75-1.65-1.12-2.7-1.12h-0.15c-0.26-1-0.81-1.82-1.65-2.47c-0.83-0.65-1.77-0.97-2.8-0.97C16.28,7.29,15.11,7.82,14.19,8.88
	z`},child:[]}]})(n)}function _De(n){return Ta({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`},child:[]}]})(n)}function xDe(n){return Ta({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.02-2.48,2.11-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,0.88-0.21,1.69-0.63,2.44c-0.42,0.75-1,1.35-1.73,1.8c-0.73,0.45-1.53,0.69-2.4,0.71
	c-0.13,0-0.2-0.06-0.2-0.17v-1.33c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.33-1.62-0.98-2.26
	s-1.42-0.96-2.31-0.96h-1.61c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.71
	c-0.82-0.73-1.76-1.09-2.85-1.09c-1.09,0-2.05,0.36-2.85,1.09c-0.81,0.73-1.26,1.63-1.36,2.71l-0.07,0.53c0,0.12-0.07,0.19-0.2,0.19
	l-0.53,0.03c-0.83,0.1-1.53,0.46-2.1,1.07s-0.85,1.33-0.85,2.16c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02
	c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M9.99,23.6
	c0-0.04,0.01-0.11,0.04-0.2l1.63-5.77c0.06-0.19,0.17-0.34,0.32-0.44c0.15-0.1,0.31-0.15,0.46-0.15c0.07,0,0.15,0.01,0.24,0.03
	c0.24,0.04,0.42,0.17,0.54,0.37c0.12,0.2,0.15,0.42,0.08,0.67l-1.63,5.73c-0.12,0.43-0.4,0.64-0.82,0.64
	c-0.04,0-0.07-0.01-0.11-0.02c-0.06-0.02-0.09-0.03-0.1-0.03c-0.22-0.06-0.38-0.17-0.49-0.33C10.04,23.93,9.99,23.77,9.99,23.6z
	 M12.61,26.41l2.44-8.77c0.04-0.19,0.14-0.34,0.3-0.44c0.16-0.1,0.32-0.15,0.49-0.15c0.09,0,0.18,0.01,0.27,0.03
	c0.22,0.06,0.38,0.19,0.49,0.39c0.11,0.2,0.13,0.41,0.07,0.64l-2.43,8.78c-0.04,0.17-0.13,0.31-0.29,0.43
	c-0.16,0.12-0.32,0.18-0.51,0.18c-0.09,0-0.18-0.02-0.25-0.05c-0.2-0.05-0.37-0.18-0.52-0.39C12.56,26.88,12.54,26.67,12.61,26.41z
	 M16.74,23.62c0-0.04,0.01-0.11,0.04-0.23l1.63-5.77c0.06-0.19,0.16-0.34,0.3-0.44c0.15-0.1,0.3-0.15,0.46-0.15
	c0.08,0,0.17,0.01,0.26,0.03c0.21,0.06,0.36,0.16,0.46,0.31c0.1,0.15,0.15,0.31,0.15,0.47c0,0.03-0.01,0.08-0.02,0.14
	s-0.02,0.1-0.02,0.12l-1.63,5.73c-0.04,0.19-0.13,0.35-0.28,0.46s-0.32,0.17-0.51,0.17l-0.24-0.05c-0.2-0.06-0.35-0.16-0.46-0.32
	C16.79,23.94,16.74,23.78,16.74,23.62z`},child:[]}]})(n)}function SDe(){const[n,e]=B.useState(""),t=[{name:"Tokyo",country:"Japan",temp:22,weather:"Sunny"},{name:"Paris",country:"France",temp:15,weather:"Cloudy"},{name:"New York",country:"USA",temp:18,weather:"Rain"},{name:"Dubai",country:"UAE",temp:30,weather:"Sunny"},{name:"Santorini",country:"Greece",temp:25,weather:"Cloudy"},{name:"Bali",country:"Indonesia",temp:28,weather:"Sunny"}],i=[{title:"Skydiving Over Dubai",location:"Dubai, UAE"},{title:"Hot Air Balloon Ride",location:"Cappadocia, Turkey"},{title:"Scuba Diving in Bali",location:"Bali, Indonesia"},{title:"Northern Lights Tour",location:"Reykjavk, Iceland"}],r=s=>{switch(s){case"Sunny":return U.jsx(_De,{className:"text-yellow-400 text-4xl"});case"Cloudy":return U.jsx(bDe,{className:"text-gray-400 text-4xl"});case"Rain":return U.jsx(xDe,{className:"text-blue-400 text-4xl"});default:return null}};return U.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1b] to-[#1a1a3a] relative overflow-hidden flex flex-col items-center",children:[U.jsx("div",{className:"absolute top-[-10%] left-[20%] w-96 h-96 bg-cyan-400 opacity-10 blur-3xl rounded-full"}),U.jsx("div",{className:"absolute bottom-[-10%] right-[10%] w-80 h-80 bg-purple-500 opacity-10 blur-3xl rounded-full"}),U.jsx(ye.p,{className:"text-lg text-white/60 mt-12 tracking-wide uppercase",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:'"AI-powered travel insights, tailored just for you."'}),U.jsx(ye.h1,{className:"mt-20 text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600 mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:"Discover Stunning Destinations"}),U.jsxs("div",{className:"relative mt-8",children:[U.jsx("input",{type:"text",placeholder:"Search destinations...",value:n,onChange:s=>e(s.target.value),className:"w-80 p-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white placeholder-white/50 focus:outline-none focus:border-cyan-400 transition-all"}),U.jsx(pDe,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/50 text-xl"})]}),U.jsx(ye.div,{className:"mt-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 px-6 max-w-6xl",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.2}}},children:t.filter(s=>s.name.toLowerCase().includes(n.toLowerCase())).map((s,a)=>U.jsxs(ye.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05},className:"relative p-6 bg-white/10 backdrop-blur-md rounded-2xl shadow-lg border border-white/10 flex flex-col items-center justify-center transition-all cursor-pointer hover:border-cyan-400 transform hover:scale-105",children:[U.jsx("h3",{className:"text-xl font-semibold text-white",children:s.name}),U.jsx("p",{className:"text-sm text-white/60",children:s.country}),U.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r(s.weather),U.jsxs("span",{className:"text-white/70",children:[s.temp,"C - ",s.weather]})]})]},a))}),U.jsxs("div",{className:"mt-20 w-full max-w-6xl px-6",children:[U.jsx(ye.h2,{className:"text-3xl text-center font-bold text-white mb-6",initial:{opacity:0},animate:{opacity:1},children:"AI-Recommended Experiences"}),U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:i.map((s,a)=>U.jsxs(ye.div,{whileHover:{scale:1.05},className:"p-6 bg-white/10 backdrop-blur-md rounded-2xl shadow-lg border border-white/10 text-center text-white transition-all cursor-pointer hover:border-cyan-400",children:[U.jsx("h3",{className:"text-lg font-semibold",children:s.title}),U.jsx("p",{className:"text-sm text-white/60 mt-2",children:s.location})]},a))})]})]})}const EDe=r$([{path:"/",element:U.jsx(fye,{})},{path:"/create-trip",element:U.jsx(SCe,{})},{path:"/view-trip/:tripId",element:U.jsx(oDe,{})},{path:"/my-trips",element:U.jsx(uDe,{})},{path:"/about",element:U.jsx(hDe,{})},{path:"/contact",element:U.jsx(vDe,{})},{path:"/pricing",element:U.jsx(yDe,{})},{path:"/destinations",element:U.jsx(SDe,{})}],{basename:"/AI-TRIP-PLANNER"});_le.createRoot(document.getElementById("root")).render(U.jsx(Mt.StrictMode,{children:U.jsxs(U1e,{clientId:"300306070211-b0oglignefekdv219bg0qdijo2p5ifmo.apps.googleusercontent.com",children:[U.jsx(YRe,{}),U.jsx(JRe,{}),U.jsx(v$,{router:EDe})]})}));
